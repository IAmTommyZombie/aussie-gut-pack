(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Bp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mf={exports:{}},ll={},gf={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0;function GS(){if(k0)return je;k0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(q){return q===null||typeof q!="object"?null:(q=_&&q[_]||q["@@iterator"],typeof q=="function"?q:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,j={};function N(q,Z,we){this.props=q,this.context=Z,this.refs=j,this.updater=we||b}N.prototype.isReactComponent={},N.prototype.setState=function(q,Z){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Z,"setState")},N.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function O(){}O.prototype=N.prototype;function W(q,Z,we){this.props=q,this.context=Z,this.refs=j,this.updater=we||b}var F=W.prototype=new O;F.constructor=W,A(F,N.prototype),F.isPureReactComponent=!0;var I=Array.isArray,L=Object.prototype.hasOwnProperty,B={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(q,Z,we){var oe,J={},le=null,Te=null;if(Z!=null)for(oe in Z.ref!==void 0&&(Te=Z.ref),Z.key!==void 0&&(le=""+Z.key),Z)L.call(Z,oe)&&!k.hasOwnProperty(oe)&&(J[oe]=Z[oe]);var De=arguments.length-2;if(De===1)J.children=we;else if(1<De){for(var We=Array(De),ct=0;ct<De;ct++)We[ct]=arguments[ct+2];J.children=We}if(q&&q.defaultProps)for(oe in De=q.defaultProps,De)J[oe]===void 0&&(J[oe]=De[oe]);return{$$typeof:t,type:q,key:le,ref:Te,props:J,_owner:B.current}}function R(q,Z){return{$$typeof:t,type:q.type,key:Z,ref:q.ref,props:q.props,_owner:q._owner}}function M(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function U(q){var Z={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(we){return Z[we]})}var H=/\/+/g;function D(q,Z){return typeof q=="object"&&q!==null&&q.key!=null?U(""+q.key):Z.toString(36)}function te(q,Z,we,oe,J){var le=typeof q;(le==="undefined"||le==="boolean")&&(q=null);var Te=!1;if(q===null)Te=!0;else switch(le){case"string":case"number":Te=!0;break;case"object":switch(q.$$typeof){case t:case e:Te=!0}}if(Te)return Te=q,J=J(Te),q=oe===""?"."+D(Te,0):oe,I(J)?(we="",q!=null&&(we=q.replace(H,"$&/")+"/"),te(J,Z,we,"",function(ct){return ct})):J!=null&&(M(J)&&(J=R(J,we+(!J.key||Te&&Te.key===J.key?"":(""+J.key).replace(H,"$&/")+"/")+q)),Z.push(J)),1;if(Te=0,oe=oe===""?".":oe+":",I(q))for(var De=0;De<q.length;De++){le=q[De];var We=oe+D(le,De);Te+=te(le,Z,we,We,J)}else if(We=E(q),typeof We=="function")for(q=We.call(q),De=0;!(le=q.next()).done;)le=le.value,We=oe+D(le,De++),Te+=te(le,Z,we,We,J);else if(le==="object")throw Z=String(q),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Te}function de(q,Z,we){if(q==null)return q;var oe=[],J=0;return te(q,oe,"","",function(le){return Z.call(we,le,J++)}),oe}function Ne(q){if(q._status===-1){var Z=q._result;Z=Z(),Z.then(function(we){(q._status===0||q._status===-1)&&(q._status=1,q._result=we)},function(we){(q._status===0||q._status===-1)&&(q._status=2,q._result=we)}),q._status===-1&&(q._status=0,q._result=Z)}if(q._status===1)return q._result.default;throw q._result}var xe={current:null},ie={transition:null},fe={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:ie,ReactCurrentOwner:B};function he(){throw Error("act(...) is not supported in production builds of React.")}return je.Children={map:de,forEach:function(q,Z,we){de(q,function(){Z.apply(this,arguments)},we)},count:function(q){var Z=0;return de(q,function(){Z++}),Z},toArray:function(q){return de(q,function(Z){return Z})||[]},only:function(q){if(!M(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},je.Component=N,je.Fragment=n,je.Profiler=i,je.PureComponent=W,je.StrictMode=r,je.Suspense=f,je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,je.act=he,je.cloneElement=function(q,Z,we){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var oe=A({},q.props),J=q.key,le=q.ref,Te=q._owner;if(Z!=null){if(Z.ref!==void 0&&(le=Z.ref,Te=B.current),Z.key!==void 0&&(J=""+Z.key),q.type&&q.type.defaultProps)var De=q.type.defaultProps;for(We in Z)L.call(Z,We)&&!k.hasOwnProperty(We)&&(oe[We]=Z[We]===void 0&&De!==void 0?De[We]:Z[We])}var We=arguments.length-2;if(We===1)oe.children=we;else if(1<We){De=Array(We);for(var ct=0;ct<We;ct++)De[ct]=arguments[ct+2];oe.children=De}return{$$typeof:t,type:q.type,key:J,ref:le,props:oe,_owner:Te}},je.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},je.createElement=C,je.createFactory=function(q){var Z=C.bind(null,q);return Z.type=q,Z},je.createRef=function(){return{current:null}},je.forwardRef=function(q){return{$$typeof:d,render:q}},je.isValidElement=M,je.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:Ne}},je.memo=function(q,Z){return{$$typeof:p,type:q,compare:Z===void 0?null:Z}},je.startTransition=function(q){var Z=ie.transition;ie.transition={};try{q()}finally{ie.transition=Z}},je.unstable_act=he,je.useCallback=function(q,Z){return xe.current.useCallback(q,Z)},je.useContext=function(q){return xe.current.useContext(q)},je.useDebugValue=function(){},je.useDeferredValue=function(q){return xe.current.useDeferredValue(q)},je.useEffect=function(q,Z){return xe.current.useEffect(q,Z)},je.useId=function(){return xe.current.useId()},je.useImperativeHandle=function(q,Z,we){return xe.current.useImperativeHandle(q,Z,we)},je.useInsertionEffect=function(q,Z){return xe.current.useInsertionEffect(q,Z)},je.useLayoutEffect=function(q,Z){return xe.current.useLayoutEffect(q,Z)},je.useMemo=function(q,Z){return xe.current.useMemo(q,Z)},je.useReducer=function(q,Z,we){return xe.current.useReducer(q,Z,we)},je.useRef=function(q){return xe.current.useRef(q)},je.useState=function(q){return xe.current.useState(q)},je.useSyncExternalStore=function(q,Z,we){return xe.current.useSyncExternalStore(q,Z,we)},je.useTransition=function(){return xe.current.useTransition()},je.version="18.3.1",je}var N0;function zp(){return N0||(N0=1,gf.exports=GS()),gf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0;function QS(){if(D0)return ll;D0=1;var t=zp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,_={},E=null,b=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(b=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:d,key:E,ref:b,props:_,_owner:i.current}}return ll.Fragment=n,ll.jsx=u,ll.jsxs=u,ll}var V0;function XS(){return V0||(V0=1,mf.exports=QS()),mf.exports}var x=XS(),P=zp();const Bn=Bp(P);var vc={},yf={exports:{}},fn={},vf={exports:{}},xf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function YS(){return j0||(j0=1,function(t){function e(ie,fe){var he=ie.length;ie.push(fe);e:for(;0<he;){var q=he-1>>>1,Z=ie[q];if(0<i(Z,fe))ie[q]=fe,ie[he]=Z,he=q;else break e}}function n(ie){return ie.length===0?null:ie[0]}function r(ie){if(ie.length===0)return null;var fe=ie[0],he=ie.pop();if(he!==fe){ie[0]=he;e:for(var q=0,Z=ie.length,we=Z>>>1;q<we;){var oe=2*(q+1)-1,J=ie[oe],le=oe+1,Te=ie[le];if(0>i(J,he))le<Z&&0>i(Te,J)?(ie[q]=Te,ie[le]=he,q=le):(ie[q]=J,ie[oe]=he,q=oe);else if(le<Z&&0>i(Te,he))ie[q]=Te,ie[le]=he,q=le;else break e}}return fe}function i(ie,fe){var he=ie.sortIndex-fe.sortIndex;return he!==0?he:ie.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,_=null,E=3,b=!1,A=!1,j=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(ie){for(var fe=n(p);fe!==null;){if(fe.callback===null)r(p);else if(fe.startTime<=ie)r(p),fe.sortIndex=fe.expirationTime,e(f,fe);else break;fe=n(p)}}function I(ie){if(j=!1,F(ie),!A)if(n(f)!==null)A=!0,Ne(L);else{var fe=n(p);fe!==null&&xe(I,fe.startTime-ie)}}function L(ie,fe){A=!1,j&&(j=!1,O(C),C=-1),b=!0;var he=E;try{for(F(fe),_=n(f);_!==null&&(!(_.expirationTime>fe)||ie&&!U());){var q=_.callback;if(typeof q=="function"){_.callback=null,E=_.priorityLevel;var Z=q(_.expirationTime<=fe);fe=t.unstable_now(),typeof Z=="function"?_.callback=Z:_===n(f)&&r(f),F(fe)}else r(f);_=n(f)}if(_!==null)var we=!0;else{var oe=n(p);oe!==null&&xe(I,oe.startTime-fe),we=!1}return we}finally{_=null,E=he,b=!1}}var B=!1,k=null,C=-1,R=5,M=-1;function U(){return!(t.unstable_now()-M<R)}function H(){if(k!==null){var ie=t.unstable_now();M=ie;var fe=!0;try{fe=k(!0,ie)}finally{fe?D():(B=!1,k=null)}}else B=!1}var D;if(typeof W=="function")D=function(){W(H)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,de=te.port2;te.port1.onmessage=H,D=function(){de.postMessage(null)}}else D=function(){N(H,0)};function Ne(ie){k=ie,B||(B=!0,D())}function xe(ie,fe){C=N(function(){ie(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ie){ie.callback=null},t.unstable_continueExecution=function(){A||b||(A=!0,Ne(L))},t.unstable_forceFrameRate=function(ie){0>ie||125<ie?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ie?Math.floor(1e3/ie):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(ie){switch(E){case 1:case 2:case 3:var fe=3;break;default:fe=E}var he=E;E=fe;try{return ie()}finally{E=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ie,fe){switch(ie){case 1:case 2:case 3:case 4:case 5:break;default:ie=3}var he=E;E=ie;try{return fe()}finally{E=he}},t.unstable_scheduleCallback=function(ie,fe,he){var q=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?q+he:q):he=q,ie){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=he+Z,ie={id:g++,callback:fe,priorityLevel:ie,startTime:he,expirationTime:Z,sortIndex:-1},he>q?(ie.sortIndex=he,e(p,ie),n(f)===null&&ie===n(p)&&(j?(O(C),C=-1):j=!0,xe(I,he-q))):(ie.sortIndex=Z,e(f,ie),A||b||(A=!0,Ne(L))),ie},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(ie){var fe=E;return function(){var he=E;E=fe;try{return ie.apply(this,arguments)}finally{E=he}}}}(xf)),xf}var M0;function JS(){return M0||(M0=1,vf.exports=YS()),vf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function ZS(){if(L0)return fn;L0=1;var t=zp(),e=JS();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(s){return f.call(_,s)?!0:f.call(g,s)?!1:p.test(s)?_[s]=!0:(g[s]=!0,!1)}function b(s,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,o,l,h){if(o===null||typeof o>"u"||b(s,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function j(s,o,l,h,m,v,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=T}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];N[o]=new j(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function W(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(O,W);N[o]=new j(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(O,W);N[o]=new j(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(O,W);N[o]=new j(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function F(s,o,l,h){var m=N.hasOwnProperty(o)?N[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,l,m,h)&&(l=null),h||m===null?E(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):m.mustUseProperty?s[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?s.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?s.setAttributeNS(h,o,l):s.setAttribute(o,l))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),B=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),M=Symbol.for("react.provider"),U=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),Ne=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),ie=Symbol.iterator;function fe(s){return s===null||typeof s!="object"?null:(s=ie&&s[ie]||s["@@iterator"],typeof s=="function"?s:null)}var he=Object.assign,q;function Z(s){if(q===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);q=o&&o[1]||""}return`
`+q+s}var we=!1;function oe(s,o){if(!s||we)return"";we=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var h=X}Reflect.construct(s,[],o)}else{try{o.call()}catch(X){h=X}s.call(o.prototype)}else{try{throw Error()}catch(X){h=X}s()}}catch(X){if(X&&h&&typeof X.stack=="string"){for(var m=X.stack.split(`
`),v=h.stack.split(`
`),T=m.length-1,V=v.length-1;1<=T&&0<=V&&m[T]!==v[V];)V--;for(;1<=T&&0<=V;T--,V--)if(m[T]!==v[V]){if(T!==1||V!==1)do if(T--,V--,0>V||m[T]!==v[V]){var $=`
`+m[T].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=T&&0<=V);break}}}finally{we=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?Z(s):""}function J(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=oe(s.type,!1),s;case 11:return s=oe(s.type.render,!1),s;case 1:return s=oe(s.type,!0),s;default:return""}}function le(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case B:return"Portal";case R:return"Profiler";case C:return"StrictMode";case D:return"Suspense";case te:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case U:return(s.displayName||"Context")+".Consumer";case M:return(s._context.displayName||"Context")+".Provider";case H:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case de:return o=s.displayName||null,o!==null?o:le(s.type)||"Memo";case Ne:o=s._payload,s=s._init;try{return le(s(o))}catch{}}return null}function Te(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function De(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function We(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ct(s){var o=We(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){h=""+T,v.call(this,T)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Pn(s){s._valueTracker||(s._valueTracker=ct(s))}function Vr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return s&&(h=We(s)?s.checked?"true":"false":s.value),s=h,s!==l?(o.setValue(s),!0):!1}function Rn(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function dr(s,o){var l=o.checked;return he({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function xt(s,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=De(o.value!=null?o.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function jr(s,o){o=o.checked,o!=null&&F(s,"checked",o,!1)}function ma(s,o){jr(s,o);var l=De(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Ki(s,o.type,l):o.hasOwnProperty("defaultValue")&&Ki(s,o.type,De(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function ru(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function Ki(s,o,l){(o!=="number"||Rn(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Mr=Array.isArray;function Lr(s,o,l,h){if(s=s.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=o.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&h&&(s[l].defaultSelected=!0)}else{for(l=""+De(l),o=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function ga(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return he({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Gi(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(n(92));if(Mr(l)){if(1<l.length)throw Error(n(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:De(l)}}function Qi(s,o){var l=De(o.value),h=De(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function ya(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function _t(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?_t(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Or,va=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,l,h,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Or=Or||document.createElement("div"),Or.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Or.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ls(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(s){ti.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),ei[o]=ei[s]})});function xa(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||ei.hasOwnProperty(s)&&ei[s]?(""+o).trim():o+"px"}function _a(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=xa(l,o[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,m):s[l]=m}}var wa=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ea(s,o){if(o){if(wa[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Ta(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ni=null;function Xi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Yi=null,In=null,hr=null;function Ji(s){if(s=Ka(s)){if(typeof Yi!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Du(o),Yi(s.stateNode,s.type,o))}}function fr(s){In?hr?hr.push(s):hr=[s]:In=s}function ba(){if(In){var s=In,o=hr;if(hr=In=null,Ji(s),o)for(s=0;s<o.length;s++)Ji(o[s])}}function ri(s,o){return s(o)}function Sa(){}var Fr=!1;function Ca(s,o,l){if(Fr)return s(o,l);Fr=!0;try{return ri(s,o,l)}finally{Fr=!1,(In!==null||hr!==null)&&(Sa(),ba())}}function dt(s,o){var l=s.stateNode;if(l===null)return null;var h=Du(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var Zi=!1;if(d)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){Zi=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{Zi=!1}function si(s,o,l,h,m,v,T,V,$){var X=Array.prototype.slice.call(arguments,3);try{o.apply(l,X)}catch(re){this.onError(re)}}var ii=!1,eo=null,Hn=!1,Aa=null,Bd={onError:function(s){ii=!0,eo=s}};function to(s,o,l,h,m,v,T,V,$){ii=!1,eo=null,si.apply(Bd,arguments)}function su(s,o,l,h,m,v,T,V,$){if(to.apply(this,arguments),ii){if(ii){var X=eo;ii=!1,eo=null}else throw Error(n(198));Hn||(Hn=!0,Aa=X)}}function qn(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function oi(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Kn(s){if(qn(s)!==s)throw Error(n(188))}function iu(s){var o=s.alternate;if(!o){if(o=qn(s),o===null)throw Error(n(188));return o!==s?null:s}for(var l=s,h=o;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return Kn(m),s;if(v===h)return Kn(m),o;v=v.sibling}throw Error(n(188))}if(l.return!==h.return)l=m,h=v;else{for(var T=!1,V=m.child;V;){if(V===l){T=!0,l=m,h=v;break}if(V===h){T=!0,h=m,l=v;break}V=V.sibling}if(!T){for(V=v.child;V;){if(V===l){T=!0,l=v,h=m;break}if(V===h){T=!0,h=v,l=m;break}V=V.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:o}function Pa(s){return s=iu(s),s!==null?no(s):null}function no(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=no(s);if(o!==null)return o;s=s.sibling}return null}var ro=e.unstable_scheduleCallback,Ra=e.unstable_cancelCallback,ou=e.unstable_shouldYield,zd=e.unstable_requestPaint,Ke=e.unstable_now,au=e.unstable_getCurrentPriorityLevel,ai=e.unstable_ImmediatePriority,us=e.unstable_UserBlockingPriority,kn=e.unstable_NormalPriority,Ia=e.unstable_LowPriority,lu=e.unstable_IdlePriority,li=null,yn=null;function uu(s){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(li,s,void 0,(s.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:du,ka=Math.log,cu=Math.LN2;function du(s){return s>>>=0,s===0?32:31-(ka(s)/cu|0)|0}var so=64,io=4194304;function cs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ui(s,o){var l=s.pendingLanes;if(l===0)return 0;var h=0,m=s.suspendedLanes,v=s.pingedLanes,T=l&268435455;if(T!==0){var V=T&~m;V!==0?h=cs(V):(v&=T,v!==0&&(h=cs(v)))}else T=l&~m,T!==0?h=cs(T):v!==0&&(h=cs(v));if(h===0)return 0;if(o!==0&&o!==h&&!(o&m)&&(m=h&-h,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(h&4&&(h|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)l=31-Zt(o),m=1<<l,h|=s[l],o&=~m;return h}function Wd(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(s,o){for(var l=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var T=31-Zt(v),V=1<<T,$=m[T];$===-1?(!(V&l)||V&h)&&(m[T]=Wd(V,o)):$<=o&&(s.expiredLanes|=V),v&=~V}}function vn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ci(){var s=so;return so<<=1,!(so&4194240)&&(so=64),s}function ds(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function hs(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Zt(o),s[o]=l}function qe(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var m=31-Zt(l),v=1<<m;o[m]=0,h[m]=-1,s[m]=-1,l&=~v}}function fs(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var h=31-Zt(l),m=1<<h;m&o|s[h]&o&&(s[h]|=o),l&=~m}}var Le=0;function ps(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var hu,oo,fu,pu,mu,Na=!1,pr=[],Vt=null,Gn=null,Qn=null,ms=new Map,Nn=new Map,mr=[],Hd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gu(s,o){switch(s){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Gn=null;break;case"mouseover":case"mouseout":Qn=null;break;case"pointerover":case"pointerout":ms.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nn.delete(o.pointerId)}}function on(s,o,l,h,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Ka(o),o!==null&&oo(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function qd(s,o,l,h,m){switch(o){case"focusin":return Vt=on(Vt,s,o,l,h,m),!0;case"dragenter":return Gn=on(Gn,s,o,l,h,m),!0;case"mouseover":return Qn=on(Qn,s,o,l,h,m),!0;case"pointerover":var v=m.pointerId;return ms.set(v,on(ms.get(v)||null,s,o,l,h,m)),!0;case"gotpointercapture":return v=m.pointerId,Nn.set(v,on(Nn.get(v)||null,s,o,l,h,m)),!0}return!1}function yu(s){var o=mi(s.target);if(o!==null){var l=qn(o);if(l!==null){if(o=l.tag,o===13){if(o=oi(l),o!==null){s.blockedOn=o,mu(s.priority,function(){fu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ur(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=ao(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);ni=h,l.target.dispatchEvent(h),ni=null}else return o=Ka(l),o!==null&&oo(o),s.blockedOn=l,!1;o.shift()}return!0}function di(s,o,l){Ur(s)&&l.delete(o)}function vu(){Na=!1,Vt!==null&&Ur(Vt)&&(Vt=null),Gn!==null&&Ur(Gn)&&(Gn=null),Qn!==null&&Ur(Qn)&&(Qn=null),ms.forEach(di),Nn.forEach(di)}function Xn(s,o){s.blockedOn===o&&(s.blockedOn=null,Na||(Na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vu)))}function Yn(s){function o(m){return Xn(m,s)}if(0<pr.length){Xn(pr[0],s);for(var l=1;l<pr.length;l++){var h=pr[l];h.blockedOn===s&&(h.blockedOn=null)}}for(Vt!==null&&Xn(Vt,s),Gn!==null&&Xn(Gn,s),Qn!==null&&Xn(Qn,s),ms.forEach(o),Nn.forEach(o),l=0;l<mr.length;l++)h=mr[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<mr.length&&(l=mr[0],l.blockedOn===null);)yu(l),l.blockedOn===null&&mr.shift()}var Br=I.ReactCurrentBatchConfig,gs=!0;function Je(s,o,l,h){var m=Le,v=Br.transition;Br.transition=null;try{Le=1,Da(s,o,l,h)}finally{Le=m,Br.transition=v}}function Kd(s,o,l,h){var m=Le,v=Br.transition;Br.transition=null;try{Le=4,Da(s,o,l,h)}finally{Le=m,Br.transition=v}}function Da(s,o,l,h){if(gs){var m=ao(s,o,l,h);if(m===null)sh(s,o,h,hi,l),gu(s,h);else if(qd(m,s,o,l,h))h.stopPropagation();else if(gu(s,h),o&4&&-1<Hd.indexOf(s)){for(;m!==null;){var v=Ka(m);if(v!==null&&hu(v),v=ao(s,o,l,h),v===null&&sh(s,o,h,hi,l),v===m)break;m=v}m!==null&&h.stopPropagation()}else sh(s,o,h,null,l)}}var hi=null;function ao(s,o,l,h){if(hi=null,s=Xi(h),s=mi(s),s!==null)if(o=qn(s),o===null)s=null;else if(l=o.tag,l===13){if(s=oi(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return hi=s,null}function Va(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(au()){case ai:return 1;case us:return 4;case kn:case Ia:return 16;case lu:return 536870912;default:return 16}default:return 16}}var xn=null,lo=null,an=null;function ja(){if(an)return an;var s,o=lo,l=o.length,h,m="value"in xn?xn.value:xn.textContent,v=m.length;for(s=0;s<l&&o[s]===m[s];s++);var T=l-s;for(h=1;h<=T&&o[l-h]===m[v-h];h++);return an=m.slice(s,1<h?1-h:void 0)}function uo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function gr(){return!0}function Ma(){return!1}function jt(s){function o(l,h,m,v,T){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var V in s)s.hasOwnProperty(V)&&(l=s[V],this[V]=l?l(v):v[V]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?gr:Ma,this.isPropagationStopped=Ma,this}return he(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=gr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=gr)},persist:function(){},isPersistent:gr}),o}var Jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=jt(Jn),yr=he({},Jn,{view:0,detail:0}),Gd=jt(yr),ho,zr,ys,fi=he({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ys&&(ys&&s.type==="mousemove"?(ho=s.screenX-ys.screenX,zr=s.screenY-ys.screenY):zr=ho=0,ys=s),ho)},movementY:function(s){return"movementY"in s?s.movementY:zr}}),fo=jt(fi),La=he({},fi,{dataTransfer:0}),xu=jt(La),po=he({},yr,{relatedTarget:0}),mo=jt(po),_u=he({},Jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wr=jt(_u),wu=he({},Jn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Eu=jt(wu),Tu=he({},Jn,{data:0}),Oa=jt(Tu),go={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},en={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=bu[s])?!!o[s]:!1}function vr(){return Su}var c=he({},yr,{key:function(s){if(s.key){var o=go[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=uo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?en[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vr,charCode:function(s){return s.type==="keypress"?uo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?uo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=jt(c),w=he({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=jt(w),K=he({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vr}),Y=jt(K),ce=he({},Jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),He=jt(ce),Et=he({},fi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Oe=jt(Et),Pt=[9,13,27,32],gt=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var _n=d&&"TextEvent"in window&&!Dn,pi=d&&(!gt||Dn&&8<Dn&&11>=Dn),yo=" ",Sg=!1;function Cg(s,o){switch(s){case"keyup":return Pt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ag(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var vo=!1;function Hb(s,o){switch(s){case"compositionend":return Ag(o);case"keypress":return o.which!==32?null:(Sg=!0,yo);case"textInput":return s=o.data,s===yo&&Sg?null:s;default:return null}}function qb(s,o){if(vo)return s==="compositionend"||!gt&&Cg(s,o)?(s=ja(),an=lo=xn=null,vo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return pi&&o.locale!=="ko"?null:o.data;default:return null}}var Kb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pg(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!Kb[s.type]:o==="textarea"}function Rg(s,o,l,h){fr(h),o=Iu(o,"onChange"),0<o.length&&(l=new co("onChange","change",null,l,h),s.push({event:l,listeners:o}))}var Fa=null,$a=null;function Gb(s){Kg(s,0)}function Cu(s){var o=To(s);if(Vr(o))return s}function Qb(s,o){if(s==="change")return o}var Ig=!1;if(d){var Qd;if(d){var Xd="oninput"in document;if(!Xd){var kg=document.createElement("div");kg.setAttribute("oninput","return;"),Xd=typeof kg.oninput=="function"}Qd=Xd}else Qd=!1;Ig=Qd&&(!document.documentMode||9<document.documentMode)}function Ng(){Fa&&(Fa.detachEvent("onpropertychange",Dg),$a=Fa=null)}function Dg(s){if(s.propertyName==="value"&&Cu($a)){var o=[];Rg(o,$a,s,Xi(s)),Ca(Gb,o)}}function Xb(s,o,l){s==="focusin"?(Ng(),Fa=o,$a=l,Fa.attachEvent("onpropertychange",Dg)):s==="focusout"&&Ng()}function Yb(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Cu($a)}function Jb(s,o){if(s==="click")return Cu(o)}function Zb(s,o){if(s==="input"||s==="change")return Cu(o)}function eS(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Zn=typeof Object.is=="function"?Object.is:eS;function Ua(s,o){if(Zn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(o,m)||!Zn(s[m],o[m]))return!1}return!0}function Vg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function jg(s,o){var l=Vg(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=o&&h>=o)return{node:l,offset:o-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Vg(l)}}function Mg(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Mg(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Lg(){for(var s=window,o=Rn();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=Rn(s.document)}return o}function Yd(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function tS(s){var o=Lg(),l=s.focusedElem,h=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&Mg(l.ownerDocument.documentElement,l)){if(h!==null&&Yd(l)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=l.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!s.extend&&v>h&&(m=h,h=v,v=m),m=jg(l,v);var T=jg(l,h);m&&T&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>h?(s.addRange(o),s.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var nS=d&&"documentMode"in document&&11>=document.documentMode,xo=null,Jd=null,Ba=null,Zd=!1;function Og(s,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Zd||xo==null||xo!==Rn(h)||(h=xo,"selectionStart"in h&&Yd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ba&&Ua(Ba,h)||(Ba=h,h=Iu(Jd,"onSelect"),0<h.length&&(o=new co("onSelect","select",null,o,l),s.push({event:o,listeners:h}),o.target=xo)))}function Au(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var _o={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},eh={},Fg={};d&&(Fg=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function Pu(s){if(eh[s])return eh[s];if(!_o[s])return s;var o=_o[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Fg)return eh[s]=o[l];return s}var $g=Pu("animationend"),Ug=Pu("animationiteration"),Bg=Pu("animationstart"),zg=Pu("transitionend"),Wg=new Map,Hg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(s,o){Wg.set(s,o),a(o,[s])}for(var th=0;th<Hg.length;th++){var nh=Hg[th],rS=nh.toLowerCase(),sS=nh[0].toUpperCase()+nh.slice(1);vs(rS,"on"+sS)}vs($g,"onAnimationEnd"),vs(Ug,"onAnimationIteration"),vs(Bg,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(zg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iS=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function qg(s,o,l){var h=s.type||"unknown-event";s.currentTarget=l,su(h,o,void 0,s),s.currentTarget=null}function Kg(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],m=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var T=h.length-1;0<=T;T--){var V=h[T],$=V.instance,X=V.currentTarget;if(V=V.listener,$!==v&&m.isPropagationStopped())break e;qg(m,V,X),v=$}else for(T=0;T<h.length;T++){if(V=h[T],$=V.instance,X=V.currentTarget,V=V.listener,$!==v&&m.isPropagationStopped())break e;qg(m,V,X),v=$}}}if(Hn)throw s=Aa,Hn=!1,Aa=null,s}function Xe(s,o){var l=o[ch];l===void 0&&(l=o[ch]=new Set);var h=s+"__bubble";l.has(h)||(Gg(o,s,2,!1),l.add(h))}function rh(s,o,l){var h=0;o&&(h|=4),Gg(l,s,h,o)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function Wa(s){if(!s[Ru]){s[Ru]=!0,r.forEach(function(l){l!=="selectionchange"&&(iS.has(l)||rh(l,!1,s),rh(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ru]||(o[Ru]=!0,rh("selectionchange",!1,o))}}function Gg(s,o,l,h){switch(Va(o)){case 1:var m=Je;break;case 4:m=Kd;break;default:m=Da}l=m.bind(null,o,l,s),m=void 0,!Zi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,l,{capture:!0,passive:m}):s.addEventListener(o,l,!0):m!==void 0?s.addEventListener(o,l,{passive:m}):s.addEventListener(o,l,!1)}function sh(s,o,l,h,m){var v=h;if(!(o&1)&&!(o&2)&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var V=h.stateNode.containerInfo;if(V===m||V.nodeType===8&&V.parentNode===m)break;if(T===4)for(T=h.return;T!==null;){var $=T.tag;if(($===3||$===4)&&($=T.stateNode.containerInfo,$===m||$.nodeType===8&&$.parentNode===m))return;T=T.return}for(;V!==null;){if(T=mi(V),T===null)return;if($=T.tag,$===5||$===6){h=v=T;continue e}V=V.parentNode}}h=h.return}Ca(function(){var X=v,re=Xi(l),ae=[];e:{var ne=Wg.get(s);if(ne!==void 0){var pe=co,ye=s;switch(s){case"keypress":if(uo(l)===0)break e;case"keydown":case"keyup":pe=y;break;case"focusin":ye="focus",pe=mo;break;case"focusout":ye="blur",pe=mo;break;case"beforeblur":case"afterblur":pe=mo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=fo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=Y;break;case $g:case Ug:case Bg:pe=Wr;break;case zg:pe=He;break;case"scroll":pe=Gd;break;case"wheel":pe=Oe;break;case"copy":case"cut":case"paste":pe=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=S}var ve=(o&4)!==0,ht=!ve&&s==="scroll",G=ve?ne!==null?ne+"Capture":null:ne;ve=[];for(var z=X,Q;z!==null;){Q=z;var ue=Q.stateNode;if(Q.tag===5&&ue!==null&&(Q=ue,G!==null&&(ue=dt(z,G),ue!=null&&ve.push(Ha(z,ue,Q)))),ht)break;z=z.return}0<ve.length&&(ne=new pe(ne,ye,null,l,re),ae.push({event:ne,listeners:ve}))}}if(!(o&7)){e:{if(ne=s==="mouseover"||s==="pointerover",pe=s==="mouseout"||s==="pointerout",ne&&l!==ni&&(ye=l.relatedTarget||l.fromElement)&&(mi(ye)||ye[Hr]))break e;if((pe||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,pe?(ye=l.relatedTarget||l.toElement,pe=X,ye=ye?mi(ye):null,ye!==null&&(ht=qn(ye),ye!==ht||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(pe=null,ye=X),pe!==ye)){if(ve=fo,ue="onMouseLeave",G="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(ve=S,ue="onPointerLeave",G="onPointerEnter",z="pointer"),ht=pe==null?ne:To(pe),Q=ye==null?ne:To(ye),ne=new ve(ue,z+"leave",pe,l,re),ne.target=ht,ne.relatedTarget=Q,ue=null,mi(re)===X&&(ve=new ve(G,z+"enter",ye,l,re),ve.target=Q,ve.relatedTarget=ht,ue=ve),ht=ue,pe&&ye)t:{for(ve=pe,G=ye,z=0,Q=ve;Q;Q=wo(Q))z++;for(Q=0,ue=G;ue;ue=wo(ue))Q++;for(;0<z-Q;)ve=wo(ve),z--;for(;0<Q-z;)G=wo(G),Q--;for(;z--;){if(ve===G||G!==null&&ve===G.alternate)break t;ve=wo(ve),G=wo(G)}ve=null}else ve=null;pe!==null&&Qg(ae,ne,pe,ve,!1),ye!==null&&ht!==null&&Qg(ae,ht,ye,ve,!0)}}e:{if(ne=X?To(X):window,pe=ne.nodeName&&ne.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ne.type==="file")var _e=Qb;else if(Pg(ne))if(Ig)_e=Zb;else{_e=Yb;var be=Xb}else(pe=ne.nodeName)&&pe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(_e=Jb);if(_e&&(_e=_e(s,X))){Rg(ae,_e,l,re);break e}be&&be(s,ne,X),s==="focusout"&&(be=ne._wrapperState)&&be.controlled&&ne.type==="number"&&Ki(ne,"number",ne.value)}switch(be=X?To(X):window,s){case"focusin":(Pg(be)||be.contentEditable==="true")&&(xo=be,Jd=X,Ba=null);break;case"focusout":Ba=Jd=xo=null;break;case"mousedown":Zd=!0;break;case"contextmenu":case"mouseup":case"dragend":Zd=!1,Og(ae,l,re);break;case"selectionchange":if(nS)break;case"keydown":case"keyup":Og(ae,l,re)}var Se;if(gt)e:{switch(s){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else vo?Cg(s,l)&&(Re="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Re="onCompositionStart");Re&&(pi&&l.locale!=="ko"&&(vo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&vo&&(Se=ja()):(xn=re,lo="value"in xn?xn.value:xn.textContent,vo=!0)),be=Iu(X,Re),0<be.length&&(Re=new Oa(Re,s,null,l,re),ae.push({event:Re,listeners:be}),Se?Re.data=Se:(Se=Ag(l),Se!==null&&(Re.data=Se)))),(Se=_n?Hb(s,l):qb(s,l))&&(X=Iu(X,"onBeforeInput"),0<X.length&&(re=new Oa("onBeforeInput","beforeinput",null,l,re),ae.push({event:re,listeners:X}),re.data=Se))}Kg(ae,o)})}function Ha(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Iu(s,o){for(var l=o+"Capture",h=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=dt(s,l),v!=null&&h.unshift(Ha(s,v,m)),v=dt(s,o),v!=null&&h.push(Ha(s,v,m))),s=s.return}return h}function wo(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Qg(s,o,l,h,m){for(var v=o._reactName,T=[];l!==null&&l!==h;){var V=l,$=V.alternate,X=V.stateNode;if($!==null&&$===h)break;V.tag===5&&X!==null&&(V=X,m?($=dt(l,v),$!=null&&T.unshift(Ha(l,$,V))):m||($=dt(l,v),$!=null&&T.push(Ha(l,$,V)))),l=l.return}T.length!==0&&s.push({event:o,listeners:T})}var oS=/\r\n?/g,aS=/\u0000|\uFFFD/g;function Xg(s){return(typeof s=="string"?s:""+s).replace(oS,`
`).replace(aS,"")}function ku(s,o,l){if(o=Xg(o),Xg(s)!==o&&l)throw Error(n(425))}function Nu(){}var ih=null,oh=null;function ah(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var lh=typeof setTimeout=="function"?setTimeout:void 0,lS=typeof clearTimeout=="function"?clearTimeout:void 0,Yg=typeof Promise=="function"?Promise:void 0,uS=typeof queueMicrotask=="function"?queueMicrotask:typeof Yg<"u"?function(s){return Yg.resolve(null).then(s).catch(cS)}:lh;function cS(s){setTimeout(function(){throw s})}function uh(s,o){var l=o,h=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){s.removeChild(m),Yn(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Yn(o)}function xs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Jg(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),xr="__reactFiber$"+Eo,qa="__reactProps$"+Eo,Hr="__reactContainer$"+Eo,ch="__reactEvents$"+Eo,dS="__reactListeners$"+Eo,hS="__reactHandles$"+Eo;function mi(s){var o=s[xr];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Hr]||l[xr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=Jg(s);s!==null;){if(l=s[xr])return l;s=Jg(s)}return o}s=l,l=s.parentNode}return null}function Ka(s){return s=s[xr]||s[Hr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function To(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Du(s){return s[qa]||null}var dh=[],bo=-1;function _s(s){return{current:s}}function Ye(s){0>bo||(s.current=dh[bo],dh[bo]=null,bo--)}function Ge(s,o){bo++,dh[bo]=s.current,s.current=o}var ws={},Wt=_s(ws),ln=_s(!1),gi=ws;function So(s,o){var l=s.type.contextTypes;if(!l)return ws;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=o[v];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function un(s){return s=s.childContextTypes,s!=null}function Vu(){Ye(ln),Ye(Wt)}function Zg(s,o,l){if(Wt.current!==ws)throw Error(n(168));Ge(Wt,o),Ge(ln,l)}function ey(s,o,l){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(n(108,Te(s)||"Unknown",m));return he({},l,h)}function ju(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ws,gi=Wt.current,Ge(Wt,s),Ge(ln,ln.current),!0}function ty(s,o,l){var h=s.stateNode;if(!h)throw Error(n(169));l?(s=ey(s,o,gi),h.__reactInternalMemoizedMergedChildContext=s,Ye(ln),Ye(Wt),Ge(Wt,s)):Ye(ln),Ge(ln,l)}var qr=null,Mu=!1,hh=!1;function ny(s){qr===null?qr=[s]:qr.push(s)}function fS(s){Mu=!0,ny(s)}function Es(){if(!hh&&qr!==null){hh=!0;var s=0,o=Le;try{var l=qr;for(Le=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}qr=null,Mu=!1}catch(m){throw qr!==null&&(qr=qr.slice(s+1)),ro(ai,Es),m}finally{Le=o,hh=!1}}return null}var Co=[],Ao=0,Lu=null,Ou=0,Vn=[],jn=0,yi=null,Kr=1,Gr="";function vi(s,o){Co[Ao++]=Ou,Co[Ao++]=Lu,Lu=s,Ou=o}function ry(s,o,l){Vn[jn++]=Kr,Vn[jn++]=Gr,Vn[jn++]=yi,yi=s;var h=Kr;s=Gr;var m=32-Zt(h)-1;h&=~(1<<m),l+=1;var v=32-Zt(o)+m;if(30<v){var T=m-m%5;v=(h&(1<<T)-1).toString(32),h>>=T,m-=T,Kr=1<<32-Zt(o)+m|l<<m|h,Gr=v+s}else Kr=1<<v|l<<m|h,Gr=s}function fh(s){s.return!==null&&(vi(s,1),ry(s,1,0))}function ph(s){for(;s===Lu;)Lu=Co[--Ao],Co[Ao]=null,Ou=Co[--Ao],Co[Ao]=null;for(;s===yi;)yi=Vn[--jn],Vn[jn]=null,Gr=Vn[--jn],Vn[jn]=null,Kr=Vn[--jn],Vn[jn]=null}var wn=null,En=null,Ze=!1,er=null;function sy(s,o){var l=Fn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function iy(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,wn=s,En=xs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,wn=s,En=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=yi!==null?{id:Kr,overflow:Gr}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=Fn(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,wn=s,En=null,!0):!1;default:return!1}}function mh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function gh(s){if(Ze){var o=En;if(o){var l=o;if(!iy(s,o)){if(mh(s))throw Error(n(418));o=xs(l.nextSibling);var h=wn;o&&iy(s,o)?sy(h,l):(s.flags=s.flags&-4097|2,Ze=!1,wn=s)}}else{if(mh(s))throw Error(n(418));s.flags=s.flags&-4097|2,Ze=!1,wn=s}}}function oy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;wn=s}function Fu(s){if(s!==wn)return!1;if(!Ze)return oy(s),Ze=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!ah(s.type,s.memoizedProps)),o&&(o=En)){if(mh(s))throw ay(),Error(n(418));for(;o;)sy(s,o),o=xs(o.nextSibling)}if(oy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){En=xs(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}En=null}}else En=wn?xs(s.stateNode.nextSibling):null;return!0}function ay(){for(var s=En;s;)s=xs(s.nextSibling)}function Po(){En=wn=null,Ze=!1}function yh(s){er===null?er=[s]:er.push(s)}var pS=I.ReactCurrentBatchConfig;function Ga(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,s));var m=h,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(T){var V=m.refs;T===null?delete V[v]:V[v]=T},o._stringRef=v,o)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function $u(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function ly(s){var o=s._init;return o(s._payload)}function uy(s){function o(G,z){if(s){var Q=G.deletions;Q===null?(G.deletions=[z],G.flags|=16):Q.push(z)}}function l(G,z){if(!s)return null;for(;z!==null;)o(G,z),z=z.sibling;return null}function h(G,z){for(G=new Map;z!==null;)z.key!==null?G.set(z.key,z):G.set(z.index,z),z=z.sibling;return G}function m(G,z){return G=Is(G,z),G.index=0,G.sibling=null,G}function v(G,z,Q){return G.index=Q,s?(Q=G.alternate,Q!==null?(Q=Q.index,Q<z?(G.flags|=2,z):Q):(G.flags|=2,z)):(G.flags|=1048576,z)}function T(G){return s&&G.alternate===null&&(G.flags|=2),G}function V(G,z,Q,ue){return z===null||z.tag!==6?(z=uf(Q,G.mode,ue),z.return=G,z):(z=m(z,Q),z.return=G,z)}function $(G,z,Q,ue){var _e=Q.type;return _e===k?re(G,z,Q.props.children,ue,Q.key):z!==null&&(z.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Ne&&ly(_e)===z.type)?(ue=m(z,Q.props),ue.ref=Ga(G,z,Q),ue.return=G,ue):(ue=cc(Q.type,Q.key,Q.props,null,G.mode,ue),ue.ref=Ga(G,z,Q),ue.return=G,ue)}function X(G,z,Q,ue){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=cf(Q,G.mode,ue),z.return=G,z):(z=m(z,Q.children||[]),z.return=G,z)}function re(G,z,Q,ue,_e){return z===null||z.tag!==7?(z=Ci(Q,G.mode,ue,_e),z.return=G,z):(z=m(z,Q),z.return=G,z)}function ae(G,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=uf(""+z,G.mode,Q),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case L:return Q=cc(z.type,z.key,z.props,null,G.mode,Q),Q.ref=Ga(G,null,z),Q.return=G,Q;case B:return z=cf(z,G.mode,Q),z.return=G,z;case Ne:var ue=z._init;return ae(G,ue(z._payload),Q)}if(Mr(z)||fe(z))return z=Ci(z,G.mode,Q,null),z.return=G,z;$u(G,z)}return null}function ne(G,z,Q,ue){var _e=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return _e!==null?null:V(G,z,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case L:return Q.key===_e?$(G,z,Q,ue):null;case B:return Q.key===_e?X(G,z,Q,ue):null;case Ne:return _e=Q._init,ne(G,z,_e(Q._payload),ue)}if(Mr(Q)||fe(Q))return _e!==null?null:re(G,z,Q,ue,null);$u(G,Q)}return null}function pe(G,z,Q,ue,_e){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return G=G.get(Q)||null,V(z,G,""+ue,_e);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case L:return G=G.get(ue.key===null?Q:ue.key)||null,$(z,G,ue,_e);case B:return G=G.get(ue.key===null?Q:ue.key)||null,X(z,G,ue,_e);case Ne:var be=ue._init;return pe(G,z,Q,be(ue._payload),_e)}if(Mr(ue)||fe(ue))return G=G.get(Q)||null,re(z,G,ue,_e,null);$u(z,ue)}return null}function ye(G,z,Q,ue){for(var _e=null,be=null,Se=z,Re=z=0,kt=null;Se!==null&&Re<Q.length;Re++){Se.index>Re?(kt=Se,Se=null):kt=Se.sibling;var Be=ne(G,Se,Q[Re],ue);if(Be===null){Se===null&&(Se=kt);break}s&&Se&&Be.alternate===null&&o(G,Se),z=v(Be,z,Re),be===null?_e=Be:be.sibling=Be,be=Be,Se=kt}if(Re===Q.length)return l(G,Se),Ze&&vi(G,Re),_e;if(Se===null){for(;Re<Q.length;Re++)Se=ae(G,Q[Re],ue),Se!==null&&(z=v(Se,z,Re),be===null?_e=Se:be.sibling=Se,be=Se);return Ze&&vi(G,Re),_e}for(Se=h(G,Se);Re<Q.length;Re++)kt=pe(Se,G,Re,Q[Re],ue),kt!==null&&(s&&kt.alternate!==null&&Se.delete(kt.key===null?Re:kt.key),z=v(kt,z,Re),be===null?_e=kt:be.sibling=kt,be=kt);return s&&Se.forEach(function(ks){return o(G,ks)}),Ze&&vi(G,Re),_e}function ve(G,z,Q,ue){var _e=fe(Q);if(typeof _e!="function")throw Error(n(150));if(Q=_e.call(Q),Q==null)throw Error(n(151));for(var be=_e=null,Se=z,Re=z=0,kt=null,Be=Q.next();Se!==null&&!Be.done;Re++,Be=Q.next()){Se.index>Re?(kt=Se,Se=null):kt=Se.sibling;var ks=ne(G,Se,Be.value,ue);if(ks===null){Se===null&&(Se=kt);break}s&&Se&&ks.alternate===null&&o(G,Se),z=v(ks,z,Re),be===null?_e=ks:be.sibling=ks,be=ks,Se=kt}if(Be.done)return l(G,Se),Ze&&vi(G,Re),_e;if(Se===null){for(;!Be.done;Re++,Be=Q.next())Be=ae(G,Be.value,ue),Be!==null&&(z=v(Be,z,Re),be===null?_e=Be:be.sibling=Be,be=Be);return Ze&&vi(G,Re),_e}for(Se=h(G,Se);!Be.done;Re++,Be=Q.next())Be=pe(Se,G,Re,Be.value,ue),Be!==null&&(s&&Be.alternate!==null&&Se.delete(Be.key===null?Re:Be.key),z=v(Be,z,Re),be===null?_e=Be:be.sibling=Be,be=Be);return s&&Se.forEach(function(KS){return o(G,KS)}),Ze&&vi(G,Re),_e}function ht(G,z,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case L:e:{for(var _e=Q.key,be=z;be!==null;){if(be.key===_e){if(_e=Q.type,_e===k){if(be.tag===7){l(G,be.sibling),z=m(be,Q.props.children),z.return=G,G=z;break e}}else if(be.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===Ne&&ly(_e)===be.type){l(G,be.sibling),z=m(be,Q.props),z.ref=Ga(G,be,Q),z.return=G,G=z;break e}l(G,be);break}else o(G,be);be=be.sibling}Q.type===k?(z=Ci(Q.props.children,G.mode,ue,Q.key),z.return=G,G=z):(ue=cc(Q.type,Q.key,Q.props,null,G.mode,ue),ue.ref=Ga(G,z,Q),ue.return=G,G=ue)}return T(G);case B:e:{for(be=Q.key;z!==null;){if(z.key===be)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){l(G,z.sibling),z=m(z,Q.children||[]),z.return=G,G=z;break e}else{l(G,z);break}else o(G,z);z=z.sibling}z=cf(Q,G.mode,ue),z.return=G,G=z}return T(G);case Ne:return be=Q._init,ht(G,z,be(Q._payload),ue)}if(Mr(Q))return ye(G,z,Q,ue);if(fe(Q))return ve(G,z,Q,ue);$u(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,z!==null&&z.tag===6?(l(G,z.sibling),z=m(z,Q),z.return=G,G=z):(l(G,z),z=uf(Q,G.mode,ue),z.return=G,G=z),T(G)):l(G,z)}return ht}var Ro=uy(!0),cy=uy(!1),Uu=_s(null),Bu=null,Io=null,vh=null;function xh(){vh=Io=Bu=null}function _h(s){var o=Uu.current;Ye(Uu),s._currentValue=o}function wh(s,o,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===l)break;s=s.return}}function ko(s,o){Bu=s,vh=Io=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(cn=!0),s.firstContext=null)}function Mn(s){var o=s._currentValue;if(vh!==s)if(s={context:s,memoizedValue:o,next:null},Io===null){if(Bu===null)throw Error(n(308));Io=s,Bu.dependencies={lanes:0,firstContext:s}}else Io=Io.next=s;return o}var xi=null;function Eh(s){xi===null?xi=[s]:xi.push(s)}function dy(s,o,l,h){var m=o.interleaved;return m===null?(l.next=l,Eh(o)):(l.next=m.next,m.next=l),o.interleaved=l,Qr(s,h)}function Qr(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Ts=!1;function Th(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hy(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Xr(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function bs(s,o,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,Ue&2){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Qr(s,l)}return m=h.interleaved,m===null?(o.next=o,Eh(h)):(o.next=m.next,m.next=o),h.interleaved=o,Qr(s,l)}function zu(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,l|=h,o.lanes=l,fs(s,l)}}function fy(s,o){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?m=v=o:v=v.next=o}else m=v=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function Wu(s,o,l,h){var m=s.updateQueue;Ts=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,V=m.shared.pending;if(V!==null){m.shared.pending=null;var $=V,X=$.next;$.next=null,T===null?v=X:T.next=X,T=$;var re=s.alternate;re!==null&&(re=re.updateQueue,V=re.lastBaseUpdate,V!==T&&(V===null?re.firstBaseUpdate=X:V.next=X,re.lastBaseUpdate=$))}if(v!==null){var ae=m.baseState;T=0,re=X=$=null,V=v;do{var ne=V.lane,pe=V.eventTime;if((h&ne)===ne){re!==null&&(re=re.next={eventTime:pe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var ye=s,ve=V;switch(ne=o,pe=l,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){ae=ye.call(pe,ae,ne);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,ne=typeof ye=="function"?ye.call(pe,ae,ne):ye,ne==null)break e;ae=he({},ae,ne);break e;case 2:Ts=!0}}V.callback!==null&&V.lane!==0&&(s.flags|=64,ne=m.effects,ne===null?m.effects=[V]:ne.push(V))}else pe={eventTime:pe,lane:ne,tag:V.tag,payload:V.payload,callback:V.callback,next:null},re===null?(X=re=pe,$=ae):re=re.next=pe,T|=ne;if(V=V.next,V===null){if(V=m.shared.pending,V===null)break;ne=V,V=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);if(re===null&&($=ae),m.baseState=$,m.firstBaseUpdate=X,m.lastBaseUpdate=re,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Ei|=T,s.lanes=T,s.memoizedState=ae}}function py(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(n(191,m));m.call(h)}}}var Qa={},_r=_s(Qa),Xa=_s(Qa),Ya=_s(Qa);function _i(s){if(s===Qa)throw Error(n(174));return s}function bh(s,o){switch(Ge(Ya,o),Ge(Xa,s),Ge(_r,Qa),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:wt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=wt(o,s)}Ye(_r),Ge(_r,o)}function No(){Ye(_r),Ye(Xa),Ye(Ya)}function my(s){_i(Ya.current);var o=_i(_r.current),l=wt(o,s.type);o!==l&&(Ge(Xa,s),Ge(_r,l))}function Sh(s){Xa.current===s&&(Ye(_r),Ye(Xa))}var tt=_s(0);function Hu(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ch=[];function Ah(){for(var s=0;s<Ch.length;s++)Ch[s]._workInProgressVersionPrimary=null;Ch.length=0}var qu=I.ReactCurrentDispatcher,Ph=I.ReactCurrentBatchConfig,wi=0,nt=null,Tt=null,Rt=null,Ku=!1,Ja=!1,Za=0,mS=0;function Ht(){throw Error(n(321))}function Rh(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!Zn(s[l],o[l]))return!1;return!0}function Ih(s,o,l,h,m,v){if(wi=v,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,qu.current=s===null||s.memoizedState===null?xS:_S,s=l(h,m),Ja){v=0;do{if(Ja=!1,Za=0,25<=v)throw Error(n(301));v+=1,Rt=Tt=null,o.updateQueue=null,qu.current=wS,s=l(h,m)}while(Ja)}if(qu.current=Xu,o=Tt!==null&&Tt.next!==null,wi=0,Rt=Tt=nt=null,Ku=!1,o)throw Error(n(300));return s}function kh(){var s=Za!==0;return Za=0,s}function wr(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?nt.memoizedState=Rt=s:Rt=Rt.next=s,Rt}function Ln(){if(Tt===null){var s=nt.alternate;s=s!==null?s.memoizedState:null}else s=Tt.next;var o=Rt===null?nt.memoizedState:Rt.next;if(o!==null)Rt=o,Tt=s;else{if(s===null)throw Error(n(310));Tt=s,s={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Rt===null?nt.memoizedState=Rt=s:Rt=Rt.next=s}return Rt}function el(s,o){return typeof o=="function"?o(s):o}function Nh(s){var o=Ln(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var h=Tt,m=h.baseQueue,v=l.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}h.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,h=h.baseState;var V=T=null,$=null,X=v;do{var re=X.lane;if((wi&re)===re)$!==null&&($=$.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),h=X.hasEagerState?X.eagerState:s(h,X.action);else{var ae={lane:re,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};$===null?(V=$=ae,T=h):$=$.next=ae,nt.lanes|=re,Ei|=re}X=X.next}while(X!==null&&X!==v);$===null?T=h:$.next=V,Zn(h,o.memoizedState)||(cn=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=$,l.lastRenderedState=h}if(s=l.interleaved,s!==null){m=s;do v=m.lane,nt.lanes|=v,Ei|=v,m=m.next;while(m!==s)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function Dh(s){var o=Ln(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var h=l.dispatch,m=l.pending,v=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do v=s(v,T.action),T=T.next;while(T!==m);Zn(v,o.memoizedState)||(cn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,h]}function gy(){}function yy(s,o){var l=nt,h=Ln(),m=o(),v=!Zn(h.memoizedState,m);if(v&&(h.memoizedState=m,cn=!0),h=h.queue,Vh(_y.bind(null,l,h,s),[s]),h.getSnapshot!==o||v||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,tl(9,xy.bind(null,l,h,m,o),void 0,null),It===null)throw Error(n(349));wi&30||vy(l,o,m)}return m}function vy(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=nt.updateQueue,o===null?(o={lastEffect:null,stores:null},nt.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function xy(s,o,l,h){o.value=l,o.getSnapshot=h,wy(o)&&Ey(s)}function _y(s,o,l){return l(function(){wy(o)&&Ey(s)})}function wy(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!Zn(s,l)}catch{return!0}}function Ey(s){var o=Qr(s,1);o!==null&&sr(o,s,1,-1)}function Ty(s){var o=wr();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:s},o.queue=s,s=s.dispatch=vS.bind(null,nt,s),[o.memoizedState,s]}function tl(s,o,l,h){return s={tag:s,create:o,destroy:l,deps:h,next:null},o=nt.updateQueue,o===null?(o={lastEffect:null,stores:null},nt.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,o.lastEffect=s)),s}function by(){return Ln().memoizedState}function Gu(s,o,l,h){var m=wr();nt.flags|=s,m.memoizedState=tl(1|o,l,void 0,h===void 0?null:h)}function Qu(s,o,l,h){var m=Ln();h=h===void 0?null:h;var v=void 0;if(Tt!==null){var T=Tt.memoizedState;if(v=T.destroy,h!==null&&Rh(h,T.deps)){m.memoizedState=tl(o,l,v,h);return}}nt.flags|=s,m.memoizedState=tl(1|o,l,v,h)}function Sy(s,o){return Gu(8390656,8,s,o)}function Vh(s,o){return Qu(2048,8,s,o)}function Cy(s,o){return Qu(4,2,s,o)}function Ay(s,o){return Qu(4,4,s,o)}function Py(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Ry(s,o,l){return l=l!=null?l.concat([s]):null,Qu(4,4,Py.bind(null,o,s),l)}function jh(){}function Iy(s,o){var l=Ln();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Rh(o,h[1])?h[0]:(l.memoizedState=[s,o],s)}function ky(s,o){var l=Ln();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Rh(o,h[1])?h[0]:(s=s(),l.memoizedState=[s,o],s)}function Ny(s,o,l){return wi&21?(Zn(l,o)||(l=ci(),nt.lanes|=l,Ei|=l,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,cn=!0),s.memoizedState=l)}function gS(s,o){var l=Le;Le=l!==0&&4>l?l:4,s(!0);var h=Ph.transition;Ph.transition={};try{s(!1),o()}finally{Le=l,Ph.transition=h}}function Dy(){return Ln().memoizedState}function yS(s,o,l){var h=Ps(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Vy(s))jy(o,l);else if(l=dy(s,o,l,h),l!==null){var m=nn();sr(l,s,h,m),My(l,o,h)}}function vS(s,o,l){var h=Ps(s),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Vy(s))jy(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,V=v(T,l);if(m.hasEagerState=!0,m.eagerState=V,Zn(V,T)){var $=o.interleaved;$===null?(m.next=m,Eh(o)):(m.next=$.next,$.next=m),o.interleaved=m;return}}catch{}finally{}l=dy(s,o,m,h),l!==null&&(m=nn(),sr(l,s,h,m),My(l,o,h))}}function Vy(s){var o=s.alternate;return s===nt||o!==null&&o===nt}function jy(s,o){Ja=Ku=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function My(s,o,l){if(l&4194240){var h=o.lanes;h&=s.pendingLanes,l|=h,o.lanes=l,fs(s,l)}}var Xu={readContext:Mn,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},xS={readContext:Mn,useCallback:function(s,o){return wr().memoizedState=[s,o===void 0?null:o],s},useContext:Mn,useEffect:Sy,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,Gu(4194308,4,Py.bind(null,o,s),l)},useLayoutEffect:function(s,o){return Gu(4194308,4,s,o)},useInsertionEffect:function(s,o){return Gu(4,2,s,o)},useMemo:function(s,o){var l=wr();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var h=wr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=yS.bind(null,nt,s),[h.memoizedState,s]},useRef:function(s){var o=wr();return s={current:s},o.memoizedState=s},useState:Ty,useDebugValue:jh,useDeferredValue:function(s){return wr().memoizedState=s},useTransition:function(){var s=Ty(!1),o=s[0];return s=gS.bind(null,s[1]),wr().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var h=nt,m=wr();if(Ze){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),It===null)throw Error(n(349));wi&30||vy(h,o,l)}m.memoizedState=l;var v={value:l,getSnapshot:o};return m.queue=v,Sy(_y.bind(null,h,v,s),[s]),h.flags|=2048,tl(9,xy.bind(null,h,v,l,o),void 0,null),l},useId:function(){var s=wr(),o=It.identifierPrefix;if(Ze){var l=Gr,h=Kr;l=(h&~(1<<32-Zt(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=Za++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=mS++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},_S={readContext:Mn,useCallback:Iy,useContext:Mn,useEffect:Vh,useImperativeHandle:Ry,useInsertionEffect:Cy,useLayoutEffect:Ay,useMemo:ky,useReducer:Nh,useRef:by,useState:function(){return Nh(el)},useDebugValue:jh,useDeferredValue:function(s){var o=Ln();return Ny(o,Tt.memoizedState,s)},useTransition:function(){var s=Nh(el)[0],o=Ln().memoizedState;return[s,o]},useMutableSource:gy,useSyncExternalStore:yy,useId:Dy,unstable_isNewReconciler:!1},wS={readContext:Mn,useCallback:Iy,useContext:Mn,useEffect:Vh,useImperativeHandle:Ry,useInsertionEffect:Cy,useLayoutEffect:Ay,useMemo:ky,useReducer:Dh,useRef:by,useState:function(){return Dh(el)},useDebugValue:jh,useDeferredValue:function(s){var o=Ln();return Tt===null?o.memoizedState=s:Ny(o,Tt.memoizedState,s)},useTransition:function(){var s=Dh(el)[0],o=Ln().memoizedState;return[s,o]},useMutableSource:gy,useSyncExternalStore:yy,useId:Dy,unstable_isNewReconciler:!1};function tr(s,o){if(s&&s.defaultProps){o=he({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function Mh(s,o,l,h){o=s.memoizedState,l=l(h,o),l=l==null?o:he({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Yu={isMounted:function(s){return(s=s._reactInternals)?qn(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var h=nn(),m=Ps(s),v=Xr(h,m);v.payload=o,l!=null&&(v.callback=l),o=bs(s,v,m),o!==null&&(sr(o,s,m,h),zu(o,s,m))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var h=nn(),m=Ps(s),v=Xr(h,m);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=bs(s,v,m),o!==null&&(sr(o,s,m,h),zu(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=nn(),h=Ps(s),m=Xr(l,h);m.tag=2,o!=null&&(m.callback=o),o=bs(s,m,h),o!==null&&(sr(o,s,h,l),zu(o,s,h))}};function Ly(s,o,l,h,m,v,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,v,T):o.prototype&&o.prototype.isPureReactComponent?!Ua(l,h)||!Ua(m,v):!0}function Oy(s,o,l){var h=!1,m=ws,v=o.contextType;return typeof v=="object"&&v!==null?v=Mn(v):(m=un(o)?gi:Wt.current,h=o.contextTypes,v=(h=h!=null)?So(s,m):ws),o=new o(l,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Yu,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function Fy(s,o,l,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==s&&Yu.enqueueReplaceState(o,o.state,null)}function Lh(s,o,l,h){var m=s.stateNode;m.props=l,m.state=s.memoizedState,m.refs={},Th(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Mn(v):(v=un(o)?gi:Wt.current,m.context=So(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Mh(s,o,v,l),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Yu.enqueueReplaceState(m,m.state,null),Wu(s,l,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function Do(s,o){try{var l="",h=o;do l+=J(h),h=h.return;while(h);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function Oh(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function Fh(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var ES=typeof WeakMap=="function"?WeakMap:Map;function $y(s,o,l){l=Xr(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){sc||(sc=!0,ef=h),Fh(s,o)},l}function Uy(s,o,l){l=Xr(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){Fh(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Fh(s,o),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function By(s,o,l){var h=s.pingCache;if(h===null){h=s.pingCache=new ES;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),s=MS.bind(null,s,o,l),o.then(s,s))}function zy(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function Wy(s,o,l,h,m){return s.mode&1?(s.flags|=65536,s.lanes=m,s):(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Xr(-1,1),o.tag=2,bs(l,o,1))),l.lanes|=1),s)}var TS=I.ReactCurrentOwner,cn=!1;function tn(s,o,l,h){o.child=s===null?cy(o,null,l,h):Ro(o,s.child,l,h)}function Hy(s,o,l,h,m){l=l.render;var v=o.ref;return ko(o,m),h=Ih(s,o,l,h,v,m),l=kh(),s!==null&&!cn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Yr(s,o,m)):(Ze&&l&&fh(o),o.flags|=1,tn(s,o,h,m),o.child)}function qy(s,o,l,h,m){if(s===null){var v=l.type;return typeof v=="function"&&!lf(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,Ky(s,o,v,h,m)):(s=cc(l.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,!(s.lanes&m)){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ua,l(T,h)&&s.ref===o.ref)return Yr(s,o,m)}return o.flags|=1,s=Is(v,h),s.ref=o.ref,s.return=o,o.child=s}function Ky(s,o,l,h,m){if(s!==null){var v=s.memoizedProps;if(Ua(v,h)&&s.ref===o.ref)if(cn=!1,o.pendingProps=h=v,(s.lanes&m)!==0)s.flags&131072&&(cn=!0);else return o.lanes=s.lanes,Yr(s,o,m)}return $h(s,o,l,h,m)}function Gy(s,o,l){var h=o.pendingProps,m=h.children,v=s!==null?s.memoizedState:null;if(h.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(jo,Tn),Tn|=l;else{if(!(l&1073741824))return s=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,Ge(jo,Tn),Tn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,Ge(jo,Tn),Tn|=h}else v!==null?(h=v.baseLanes|l,o.memoizedState=null):h=l,Ge(jo,Tn),Tn|=h;return tn(s,o,m,l),o.child}function Qy(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function $h(s,o,l,h,m){var v=un(l)?gi:Wt.current;return v=So(o,v),ko(o,m),l=Ih(s,o,l,h,v,m),h=kh(),s!==null&&!cn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Yr(s,o,m)):(Ze&&h&&fh(o),o.flags|=1,tn(s,o,l,m),o.child)}function Xy(s,o,l,h,m){if(un(l)){var v=!0;ju(o)}else v=!1;if(ko(o,m),o.stateNode===null)Zu(s,o),Oy(o,l,h),Lh(o,l,h,m),h=!0;else if(s===null){var T=o.stateNode,V=o.memoizedProps;T.props=V;var $=T.context,X=l.contextType;typeof X=="object"&&X!==null?X=Mn(X):(X=un(l)?gi:Wt.current,X=So(o,X));var re=l.getDerivedStateFromProps,ae=typeof re=="function"||typeof T.getSnapshotBeforeUpdate=="function";ae||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==h||$!==X)&&Fy(o,T,h,X),Ts=!1;var ne=o.memoizedState;T.state=ne,Wu(o,h,T,m),$=o.memoizedState,V!==h||ne!==$||ln.current||Ts?(typeof re=="function"&&(Mh(o,l,re,h),$=o.memoizedState),(V=Ts||Ly(o,l,V,h,ne,$,X))?(ae||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=$),T.props=h,T.state=$,T.context=X,h=V):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,hy(s,o),V=o.memoizedProps,X=o.type===o.elementType?V:tr(o.type,V),T.props=X,ae=o.pendingProps,ne=T.context,$=l.contextType,typeof $=="object"&&$!==null?$=Mn($):($=un(l)?gi:Wt.current,$=So(o,$));var pe=l.getDerivedStateFromProps;(re=typeof pe=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(V!==ae||ne!==$)&&Fy(o,T,h,$),Ts=!1,ne=o.memoizedState,T.state=ne,Wu(o,h,T,m);var ye=o.memoizedState;V!==ae||ne!==ye||ln.current||Ts?(typeof pe=="function"&&(Mh(o,l,pe,h),ye=o.memoizedState),(X=Ts||Ly(o,l,X,h,ne,ye,$)||!1)?(re||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,ye,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,ye,$)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||V===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=ye),T.props=h,T.state=ye,T.context=$,h=X):(typeof T.componentDidUpdate!="function"||V===s.memoizedProps&&ne===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||V===s.memoizedProps&&ne===s.memoizedState||(o.flags|=1024),h=!1)}return Uh(s,o,l,h,v,m)}function Uh(s,o,l,h,m,v){Qy(s,o);var T=(o.flags&128)!==0;if(!h&&!T)return m&&ty(o,l,!1),Yr(s,o,v);h=o.stateNode,TS.current=o;var V=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&T?(o.child=Ro(o,s.child,null,v),o.child=Ro(o,null,V,v)):tn(s,o,V,v),o.memoizedState=h.state,m&&ty(o,l,!0),o.child}function Yy(s){var o=s.stateNode;o.pendingContext?Zg(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Zg(s,o.context,!1),bh(s,o.containerInfo)}function Jy(s,o,l,h,m){return Po(),yh(m),o.flags|=256,tn(s,o,l,h),o.child}var Bh={dehydrated:null,treeContext:null,retryLane:0};function zh(s){return{baseLanes:s,cachePool:null,transitions:null}}function Zy(s,o,l){var h=o.pendingProps,m=tt.current,v=!1,T=(o.flags&128)!==0,V;if((V=T)||(V=s!==null&&s.memoizedState===null?!1:(m&2)!==0),V?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),Ge(tt,m&1),s===null)return gh(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(T=h.children,s=h.fallback,v?(h=o.mode,v=o.child,T={mode:"hidden",children:T},!(h&1)&&v!==null?(v.childLanes=0,v.pendingProps=T):v=dc(T,h,0,null),s=Ci(s,h,l,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=zh(l),o.memoizedState=Bh,s):Wh(o,T));if(m=s.memoizedState,m!==null&&(V=m.dehydrated,V!==null))return bS(s,o,T,h,V,m,l);if(v){v=h.fallback,T=o.mode,m=s.child,V=m.sibling;var $={mode:"hidden",children:h.children};return!(T&1)&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=$,o.deletions=null):(h=Is(m,$),h.subtreeFlags=m.subtreeFlags&14680064),V!==null?v=Is(V,v):(v=Ci(v,T,l,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,T=s.child.memoizedState,T=T===null?zh(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=s.childLanes&~l,o.memoizedState=Bh,h}return v=s.child,s=v.sibling,h=Is(v,{mode:"visible",children:h.children}),!(o.mode&1)&&(h.lanes=l),h.return=o,h.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=h,o.memoizedState=null,h}function Wh(s,o){return o=dc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Ju(s,o,l,h){return h!==null&&yh(h),Ro(o,s.child,null,l),s=Wh(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function bS(s,o,l,h,m,v,T){if(l)return o.flags&256?(o.flags&=-257,h=Oh(Error(n(422))),Ju(s,o,T,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=h.fallback,m=o.mode,h=dc({mode:"visible",children:h.children},m,0,null),v=Ci(v,m,T,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,o.mode&1&&Ro(o,s.child,null,T),o.child.memoizedState=zh(T),o.memoizedState=Bh,v);if(!(o.mode&1))return Ju(s,o,T,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var V=h.dgst;return h=V,v=Error(n(419)),h=Oh(v,h,void 0),Ju(s,o,T,h)}if(V=(T&s.childLanes)!==0,cn||V){if(h=It,h!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(h.suspendedLanes|T)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Qr(s,m),sr(h,s,m,-1))}return af(),h=Oh(Error(n(421))),Ju(s,o,T,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=LS.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,En=xs(m.nextSibling),wn=o,Ze=!0,er=null,s!==null&&(Vn[jn++]=Kr,Vn[jn++]=Gr,Vn[jn++]=yi,Kr=s.id,Gr=s.overflow,yi=o),o=Wh(o,h.children),o.flags|=4096,o)}function e0(s,o,l){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),wh(s.return,o,l)}function Hh(s,o,l,h,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=m)}function t0(s,o,l){var h=o.pendingProps,m=h.revealOrder,v=h.tail;if(tn(s,o,h.children,l),h=tt.current,h&2)h=h&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&e0(s,l,o);else if(s.tag===19)e0(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(Ge(tt,h),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)s=l.alternate,s!==null&&Hu(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Hh(o,!1,m,l,v);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Hu(s)===null){o.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Hh(o,!0,l,null,v);break;case"together":Hh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Zu(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Yr(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),Ei|=o.lanes,!(l&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,l=Is(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=Is(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function SS(s,o,l){switch(o.tag){case 3:Yy(o),Po();break;case 5:my(o);break;case 1:un(o.type)&&ju(o);break;case 4:bh(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;Ge(Uu,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Ge(tt,tt.current&1),o.flags|=128,null):l&o.child.childLanes?Zy(s,o,l):(Ge(tt,tt.current&1),s=Yr(s,o,l),s!==null?s.sibling:null);Ge(tt,tt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,s.flags&128){if(h)return t0(s,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ge(tt,tt.current),h)break;return null;case 22:case 23:return o.lanes=0,Gy(s,o,l)}return Yr(s,o,l)}var n0,qh,r0,s0;n0=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},qh=function(){},r0=function(s,o,l,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,_i(_r.current);var v=null;switch(l){case"input":m=dr(s,m),h=dr(s,h),v=[];break;case"select":m=he({},m,{value:void 0}),h=he({},h,{value:void 0}),v=[];break;case"textarea":m=ga(s,m),h=ga(s,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Nu)}Ea(l,h);var T;l=null;for(X in m)if(!h.hasOwnProperty(X)&&m.hasOwnProperty(X)&&m[X]!=null)if(X==="style"){var V=m[X];for(T in V)V.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?v||(v=[]):(v=v||[]).push(X,null));for(X in h){var $=h[X];if(V=m!=null?m[X]:void 0,h.hasOwnProperty(X)&&$!==V&&($!=null||V!=null))if(X==="style")if(V){for(T in V)!V.hasOwnProperty(T)||$&&$.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in $)$.hasOwnProperty(T)&&V[T]!==$[T]&&(l||(l={}),l[T]=$[T])}else l||(v||(v=[]),v.push(X,l)),l=$;else X==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,V=V?V.__html:void 0,$!=null&&V!==$&&(v=v||[]).push(X,$)):X==="children"?typeof $!="string"&&typeof $!="number"||(v=v||[]).push(X,""+$):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?($!=null&&X==="onScroll"&&Xe("scroll",s),v||V===$||(v=[])):(v=v||[]).push(X,$))}l&&(v=v||[]).push("style",l);var X=v;(o.updateQueue=X)&&(o.flags|=4)}},s0=function(s,o,l,h){l!==h&&(o.flags|=4)};function nl(s,o){if(!Ze)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function qt(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(o)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=l,o}function CS(s,o,l){var h=o.pendingProps;switch(ph(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(o),null;case 1:return un(o.type)&&Vu(),qt(o),null;case 3:return h=o.stateNode,No(),Ye(ln),Ye(Wt),Ah(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Fu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,er!==null&&(rf(er),er=null))),qh(s,o),qt(o),null;case 5:Sh(o);var m=_i(Ya.current);if(l=o.type,s!==null&&o.stateNode!=null)r0(s,o,l,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return qt(o),null}if(s=_i(_r.current),Fu(o)){h=o.stateNode,l=o.type;var v=o.memoizedProps;switch(h[xr]=o,h[qa]=v,s=(o.mode&1)!==0,l){case"dialog":Xe("cancel",h),Xe("close",h);break;case"iframe":case"object":case"embed":Xe("load",h);break;case"video":case"audio":for(m=0;m<za.length;m++)Xe(za[m],h);break;case"source":Xe("error",h);break;case"img":case"image":case"link":Xe("error",h),Xe("load",h);break;case"details":Xe("toggle",h);break;case"input":xt(h,v),Xe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Xe("invalid",h);break;case"textarea":Gi(h,v),Xe("invalid",h)}Ea(l,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var V=v[T];T==="children"?typeof V=="string"?h.textContent!==V&&(v.suppressHydrationWarning!==!0&&ku(h.textContent,V,s),m=["children",V]):typeof V=="number"&&h.textContent!==""+V&&(v.suppressHydrationWarning!==!0&&ku(h.textContent,V,s),m=["children",""+V]):i.hasOwnProperty(T)&&V!=null&&T==="onScroll"&&Xe("scroll",h)}switch(l){case"input":Pn(h),ru(h,v,!0);break;case"textarea":Pn(h),ya(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Nu)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=_t(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=T.createElement(l,{is:h.is}):(s=T.createElement(l),l==="select"&&(T=s,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):s=T.createElementNS(s,l),s[xr]=o,s[qa]=h,n0(s,o,!1,!1),o.stateNode=s;e:{switch(T=Ta(l,h),l){case"dialog":Xe("cancel",s),Xe("close",s),m=h;break;case"iframe":case"object":case"embed":Xe("load",s),m=h;break;case"video":case"audio":for(m=0;m<za.length;m++)Xe(za[m],s);m=h;break;case"source":Xe("error",s),m=h;break;case"img":case"image":case"link":Xe("error",s),Xe("load",s),m=h;break;case"details":Xe("toggle",s),m=h;break;case"input":xt(s,h),m=dr(s,h),Xe("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=he({},h,{value:void 0}),Xe("invalid",s);break;case"textarea":Gi(s,h),m=ga(s,h),Xe("invalid",s);break;default:m=h}Ea(l,m),V=m;for(v in V)if(V.hasOwnProperty(v)){var $=V[v];v==="style"?_a(s,$):v==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&va(s,$)):v==="children"?typeof $=="string"?(l!=="textarea"||$!=="")&&ls(s,$):typeof $=="number"&&ls(s,""+$):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?$!=null&&v==="onScroll"&&Xe("scroll",s):$!=null&&F(s,v,$,T))}switch(l){case"input":Pn(s),ru(s,h,!1);break;case"textarea":Pn(s),ya(s);break;case"option":h.value!=null&&s.setAttribute("value",""+De(h.value));break;case"select":s.multiple=!!h.multiple,v=h.value,v!=null?Lr(s,!!h.multiple,v,!1):h.defaultValue!=null&&Lr(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Nu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return qt(o),null;case 6:if(s&&o.stateNode!=null)s0(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(l=_i(Ya.current),_i(_r.current),Fu(o)){if(h=o.stateNode,l=o.memoizedProps,h[xr]=o,(v=h.nodeValue!==l)&&(s=wn,s!==null))switch(s.tag){case 3:ku(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ku(h.nodeValue,l,(s.mode&1)!==0)}v&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[xr]=o,o.stateNode=h}return qt(o),null;case 13:if(Ye(tt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Ze&&En!==null&&o.mode&1&&!(o.flags&128))ay(),Po(),o.flags|=98560,v=!1;else if(v=Fu(o),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[xr]=o}else Po(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;qt(o),v=!1}else er!==null&&(rf(er),er=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,o.mode&1&&(s===null||tt.current&1?bt===0&&(bt=3):af())),o.updateQueue!==null&&(o.flags|=4),qt(o),null);case 4:return No(),qh(s,o),s===null&&Wa(o.stateNode.containerInfo),qt(o),null;case 10:return _h(o.type._context),qt(o),null;case 17:return un(o.type)&&Vu(),qt(o),null;case 19:if(Ye(tt),v=o.memoizedState,v===null)return qt(o),null;if(h=(o.flags&128)!==0,T=v.rendering,T===null)if(h)nl(v,!1);else{if(bt!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(T=Hu(s),T!==null){for(o.flags|=128,nl(v,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)v=l,s=h,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,s=T.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return Ge(tt,tt.current&1|2),o.child}s=s.sibling}v.tail!==null&&Ke()>Mo&&(o.flags|=128,h=!0,nl(v,!1),o.lanes=4194304)}else{if(!h)if(s=Hu(T),s!==null){if(o.flags|=128,h=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),nl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!Ze)return qt(o),null}else 2*Ke()-v.renderingStartTime>Mo&&l!==1073741824&&(o.flags|=128,h=!0,nl(v,!1),o.lanes=4194304);v.isBackwards?(T.sibling=o.child,o.child=T):(l=v.last,l!==null?l.sibling=T:o.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Ke(),o.sibling=null,l=tt.current,Ge(tt,h?l&1|2:l&1),o):(qt(o),null);case 22:case 23:return of(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&o.mode&1?Tn&1073741824&&(qt(o),o.subtreeFlags&6&&(o.flags|=8192)):qt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function AS(s,o){switch(ph(o),o.tag){case 1:return un(o.type)&&Vu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return No(),Ye(ln),Ye(Wt),Ah(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return Sh(o),null;case 13:if(Ye(tt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Po()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Ye(tt),null;case 4:return No(),null;case 10:return _h(o.type._context),null;case 22:case 23:return of(),null;case 24:return null;default:return null}}var ec=!1,Kt=!1,PS=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Vo(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ot(s,o,h)}else l.current=null}function Kh(s,o,l){try{l()}catch(h){ot(s,o,h)}}var i0=!1;function RS(s,o){if(ih=gs,s=Lg(),Yd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,V=-1,$=-1,X=0,re=0,ae=s,ne=null;t:for(;;){for(var pe;ae!==l||m!==0&&ae.nodeType!==3||(V=T+m),ae!==v||h!==0&&ae.nodeType!==3||($=T+h),ae.nodeType===3&&(T+=ae.nodeValue.length),(pe=ae.firstChild)!==null;)ne=ae,ae=pe;for(;;){if(ae===s)break t;if(ne===l&&++X===m&&(V=T),ne===v&&++re===h&&($=T),(pe=ae.nextSibling)!==null)break;ae=ne,ne=ae.parentNode}ae=pe}l=V===-1||$===-1?null:{start:V,end:$}}else l=null}l=l||{start:0,end:0}}else l=null;for(oh={focusedElem:s,selectionRange:l},gs=!1,ge=o;ge!==null;)if(o=ge,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,ge=s;else for(;ge!==null;){o=ge;try{var ye=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,ht=ye.memoizedState,G=o.stateNode,z=G.getSnapshotBeforeUpdate(o.elementType===o.type?ve:tr(o.type,ve),ht);G.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){ot(o,o.return,ue)}if(s=o.sibling,s!==null){s.return=o.return,ge=s;break}ge=o.return}return ye=i0,i0=!1,ye}function rl(s,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&Kh(o,l,v)}m=m.next}while(m!==h)}}function tc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function Gh(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function o0(s){var o=s.alternate;o!==null&&(s.alternate=null,o0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[xr],delete o[qa],delete o[ch],delete o[dS],delete o[hS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function a0(s){return s.tag===5||s.tag===3||s.tag===4}function l0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||a0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Qh(s,o,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Nu));else if(h!==4&&(s=s.child,s!==null))for(Qh(s,o,l),s=s.sibling;s!==null;)Qh(s,o,l),s=s.sibling}function Xh(s,o,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Xh(s,o,l),s=s.sibling;s!==null;)Xh(s,o,l),s=s.sibling}var Mt=null,nr=!1;function Ss(s,o,l){for(l=l.child;l!==null;)u0(s,o,l),l=l.sibling}function u0(s,o,l){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(li,l)}catch{}switch(l.tag){case 5:Kt||Vo(l,o);case 6:var h=Mt,m=nr;Mt=null,Ss(s,o,l),Mt=h,nr=m,Mt!==null&&(nr?(s=Mt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Mt.removeChild(l.stateNode));break;case 18:Mt!==null&&(nr?(s=Mt,l=l.stateNode,s.nodeType===8?uh(s.parentNode,l):s.nodeType===1&&uh(s,l),Yn(s)):uh(Mt,l.stateNode));break;case 4:h=Mt,m=nr,Mt=l.stateNode.containerInfo,nr=!0,Ss(s,o,l),Mt=h,nr=m;break;case 0:case 11:case 14:case 15:if(!Kt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&(v&2||v&4)&&Kh(l,o,T),m=m.next}while(m!==h)}Ss(s,o,l);break;case 1:if(!Kt&&(Vo(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(V){ot(l,o,V)}Ss(s,o,l);break;case 21:Ss(s,o,l);break;case 22:l.mode&1?(Kt=(h=Kt)||l.memoizedState!==null,Ss(s,o,l),Kt=h):Ss(s,o,l);break;default:Ss(s,o,l)}}function c0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new PS),o.forEach(function(h){var m=OS.bind(null,s,h);l.has(h)||(l.add(h),h.then(m,m))})}}function rr(s,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var v=s,T=o,V=T;e:for(;V!==null;){switch(V.tag){case 5:Mt=V.stateNode,nr=!1;break e;case 3:Mt=V.stateNode.containerInfo,nr=!0;break e;case 4:Mt=V.stateNode.containerInfo,nr=!0;break e}V=V.return}if(Mt===null)throw Error(n(160));u0(v,T,m),Mt=null,nr=!1;var $=m.alternate;$!==null&&($.return=null),m.return=null}catch(X){ot(m,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)d0(o,s),o=o.sibling}function d0(s,o){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(rr(o,s),Er(s),h&4){try{rl(3,s,s.return),tc(3,s)}catch(ve){ot(s,s.return,ve)}try{rl(5,s,s.return)}catch(ve){ot(s,s.return,ve)}}break;case 1:rr(o,s),Er(s),h&512&&l!==null&&Vo(l,l.return);break;case 5:if(rr(o,s),Er(s),h&512&&l!==null&&Vo(l,l.return),s.flags&32){var m=s.stateNode;try{ls(m,"")}catch(ve){ot(s,s.return,ve)}}if(h&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,T=l!==null?l.memoizedProps:v,V=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{V==="input"&&v.type==="radio"&&v.name!=null&&jr(m,v),Ta(V,T);var X=Ta(V,v);for(T=0;T<$.length;T+=2){var re=$[T],ae=$[T+1];re==="style"?_a(m,ae):re==="dangerouslySetInnerHTML"?va(m,ae):re==="children"?ls(m,ae):F(m,re,ae,X)}switch(V){case"input":ma(m,v);break;case"textarea":Qi(m,v);break;case"select":var ne=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var pe=v.value;pe!=null?Lr(m,!!v.multiple,pe,!1):ne!==!!v.multiple&&(v.defaultValue!=null?Lr(m,!!v.multiple,v.defaultValue,!0):Lr(m,!!v.multiple,v.multiple?[]:"",!1))}m[qa]=v}catch(ve){ot(s,s.return,ve)}}break;case 6:if(rr(o,s),Er(s),h&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(ve){ot(s,s.return,ve)}}break;case 3:if(rr(o,s),Er(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Yn(o.containerInfo)}catch(ve){ot(s,s.return,ve)}break;case 4:rr(o,s),Er(s);break;case 13:rr(o,s),Er(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Zh=Ke())),h&4&&c0(s);break;case 22:if(re=l!==null&&l.memoizedState!==null,s.mode&1?(Kt=(X=Kt)||re,rr(o,s),Kt=X):rr(o,s),Er(s),h&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!re&&s.mode&1)for(ge=s,re=s.child;re!==null;){for(ae=ge=re;ge!==null;){switch(ne=ge,pe=ne.child,ne.tag){case 0:case 11:case 14:case 15:rl(4,ne,ne.return);break;case 1:Vo(ne,ne.return);var ye=ne.stateNode;if(typeof ye.componentWillUnmount=="function"){h=ne,l=ne.return;try{o=h,ye.props=o.memoizedProps,ye.state=o.memoizedState,ye.componentWillUnmount()}catch(ve){ot(h,l,ve)}}break;case 5:Vo(ne,ne.return);break;case 22:if(ne.memoizedState!==null){p0(ae);continue}}pe!==null?(pe.return=ne,ge=pe):p0(ae)}re=re.sibling}e:for(re=null,ae=s;;){if(ae.tag===5){if(re===null){re=ae;try{m=ae.stateNode,X?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(V=ae.stateNode,$=ae.memoizedProps.style,T=$!=null&&$.hasOwnProperty("display")?$.display:null,V.style.display=xa("display",T))}catch(ve){ot(s,s.return,ve)}}}else if(ae.tag===6){if(re===null)try{ae.stateNode.nodeValue=X?"":ae.memoizedProps}catch(ve){ot(s,s.return,ve)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===s)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===s)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===s)break e;re===ae&&(re=null),ae=ae.return}re===ae&&(re=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:rr(o,s),Er(s),h&4&&c0(s);break;case 21:break;default:rr(o,s),Er(s)}}function Er(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(a0(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(ls(m,""),h.flags&=-33);var v=l0(s);Xh(s,v,m);break;case 3:case 4:var T=h.stateNode.containerInfo,V=l0(s);Qh(s,V,T);break;default:throw Error(n(161))}}catch($){ot(s,s.return,$)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function IS(s,o,l){ge=s,h0(s)}function h0(s,o,l){for(var h=(s.mode&1)!==0;ge!==null;){var m=ge,v=m.child;if(m.tag===22&&h){var T=m.memoizedState!==null||ec;if(!T){var V=m.alternate,$=V!==null&&V.memoizedState!==null||Kt;V=ec;var X=Kt;if(ec=T,(Kt=$)&&!X)for(ge=m;ge!==null;)T=ge,$=T.child,T.tag===22&&T.memoizedState!==null?m0(m):$!==null?($.return=T,ge=$):m0(m);for(;v!==null;)ge=v,h0(v),v=v.sibling;ge=m,ec=V,Kt=X}f0(s)}else m.subtreeFlags&8772&&v!==null?(v.return=m,ge=v):f0(s)}}function f0(s){for(;ge!==null;){var o=ge;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Kt||tc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Kt)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:tr(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&py(o,v,h);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}py(o,T,l)}break;case 5:var V=o.stateNode;if(l===null&&o.flags&4){l=V;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&l.focus();break;case"img":$.src&&(l.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var re=X.memoizedState;if(re!==null){var ae=re.dehydrated;ae!==null&&Yn(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Kt||o.flags&512&&Gh(o)}catch(ne){ot(o,o.return,ne)}}if(o===s){ge=null;break}if(l=o.sibling,l!==null){l.return=o.return,ge=l;break}ge=o.return}}function p0(s){for(;ge!==null;){var o=ge;if(o===s){ge=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ge=l;break}ge=o.return}}function m0(s){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{tc(4,o)}catch($){ot(o,l,$)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch($){ot(o,m,$)}}var v=o.return;try{Gh(o)}catch($){ot(o,v,$)}break;case 5:var T=o.return;try{Gh(o)}catch($){ot(o,T,$)}}}catch($){ot(o,o.return,$)}if(o===s){ge=null;break}var V=o.sibling;if(V!==null){V.return=o.return,ge=V;break}ge=o.return}}var kS=Math.ceil,nc=I.ReactCurrentDispatcher,Yh=I.ReactCurrentOwner,On=I.ReactCurrentBatchConfig,Ue=0,It=null,yt=null,Lt=0,Tn=0,jo=_s(0),bt=0,sl=null,Ei=0,rc=0,Jh=0,il=null,dn=null,Zh=0,Mo=1/0,Jr=null,sc=!1,ef=null,Cs=null,ic=!1,As=null,oc=0,ol=0,tf=null,ac=-1,lc=0;function nn(){return Ue&6?Ke():ac!==-1?ac:ac=Ke()}function Ps(s){return s.mode&1?Ue&2&&Lt!==0?Lt&-Lt:pS.transition!==null?(lc===0&&(lc=ci()),lc):(s=Le,s!==0||(s=window.event,s=s===void 0?16:Va(s.type)),s):1}function sr(s,o,l,h){if(50<ol)throw ol=0,tf=null,Error(n(185));hs(s,l,h),(!(Ue&2)||s!==It)&&(s===It&&(!(Ue&2)&&(rc|=l),bt===4&&Rs(s,Lt)),hn(s,h),l===1&&Ue===0&&!(o.mode&1)&&(Mo=Ke()+500,Mu&&Es()))}function hn(s,o){var l=s.callbackNode;$r(s,o);var h=ui(s,s===It?Lt:0);if(h===0)l!==null&&Ra(l),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(l!=null&&Ra(l),o===1)s.tag===0?fS(y0.bind(null,s)):ny(y0.bind(null,s)),uS(function(){!(Ue&6)&&Es()}),l=null;else{switch(ps(h)){case 1:l=ai;break;case 4:l=us;break;case 16:l=kn;break;case 536870912:l=lu;break;default:l=kn}l=S0(l,g0.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function g0(s,o){if(ac=-1,lc=0,Ue&6)throw Error(n(327));var l=s.callbackNode;if(Lo()&&s.callbackNode!==l)return null;var h=ui(s,s===It?Lt:0);if(h===0)return null;if(h&30||h&s.expiredLanes||o)o=uc(s,h);else{o=h;var m=Ue;Ue|=2;var v=x0();(It!==s||Lt!==o)&&(Jr=null,Mo=Ke()+500,bi(s,o));do try{VS();break}catch(V){v0(s,V)}while(!0);xh(),nc.current=v,Ue=m,yt!==null?o=0:(It=null,Lt=0,o=bt)}if(o!==0){if(o===2&&(m=vn(s),m!==0&&(h=m,o=nf(s,m))),o===1)throw l=sl,bi(s,0),Rs(s,h),hn(s,Ke()),l;if(o===6)Rs(s,h);else{if(m=s.current.alternate,!(h&30)&&!NS(m)&&(o=uc(s,h),o===2&&(v=vn(s),v!==0&&(h=v,o=nf(s,v))),o===1))throw l=sl,bi(s,0),Rs(s,h),hn(s,Ke()),l;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:Si(s,dn,Jr);break;case 3:if(Rs(s,h),(h&130023424)===h&&(o=Zh+500-Ke(),10<o)){if(ui(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){nn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=lh(Si.bind(null,s,dn,Jr),o);break}Si(s,dn,Jr);break;case 4:if(Rs(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var T=31-Zt(h);v=1<<T,T=o[T],T>m&&(m=T),h&=~v}if(h=m,h=Ke()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*kS(h/1960))-h,10<h){s.timeoutHandle=lh(Si.bind(null,s,dn,Jr),h);break}Si(s,dn,Jr);break;case 5:Si(s,dn,Jr);break;default:throw Error(n(329))}}}return hn(s,Ke()),s.callbackNode===l?g0.bind(null,s):null}function nf(s,o){var l=il;return s.current.memoizedState.isDehydrated&&(bi(s,o).flags|=256),s=uc(s,o),s!==2&&(o=dn,dn=l,o!==null&&rf(o)),s}function rf(s){dn===null?dn=s:dn.push.apply(dn,s)}function NS(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],v=m.getSnapshot;m=m.value;try{if(!Zn(v(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Rs(s,o){for(o&=~Jh,o&=~rc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-Zt(o),h=1<<l;s[l]=-1,o&=~h}}function y0(s){if(Ue&6)throw Error(n(327));Lo();var o=ui(s,0);if(!(o&1))return hn(s,Ke()),null;var l=uc(s,o);if(s.tag!==0&&l===2){var h=vn(s);h!==0&&(o=h,l=nf(s,h))}if(l===1)throw l=sl,bi(s,0),Rs(s,o),hn(s,Ke()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,Si(s,dn,Jr),hn(s,Ke()),null}function sf(s,o){var l=Ue;Ue|=1;try{return s(o)}finally{Ue=l,Ue===0&&(Mo=Ke()+500,Mu&&Es())}}function Ti(s){As!==null&&As.tag===0&&!(Ue&6)&&Lo();var o=Ue;Ue|=1;var l=On.transition,h=Le;try{if(On.transition=null,Le=1,s)return s()}finally{Le=h,On.transition=l,Ue=o,!(Ue&6)&&Es()}}function of(){Tn=jo.current,Ye(jo)}function bi(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,lS(l)),yt!==null)for(l=yt.return;l!==null;){var h=l;switch(ph(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Vu();break;case 3:No(),Ye(ln),Ye(Wt),Ah();break;case 5:Sh(h);break;case 4:No();break;case 13:Ye(tt);break;case 19:Ye(tt);break;case 10:_h(h.type._context);break;case 22:case 23:of()}l=l.return}if(It=s,yt=s=Is(s.current,null),Lt=Tn=o,bt=0,sl=null,Jh=rc=Ei=0,dn=il=null,xi!==null){for(o=0;o<xi.length;o++)if(l=xi[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,v=l.pending;if(v!==null){var T=v.next;v.next=m,h.next=T}l.pending=h}xi=null}return s}function v0(s,o){do{var l=yt;try{if(xh(),qu.current=Xu,Ku){for(var h=nt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Ku=!1}if(wi=0,Rt=Tt=nt=null,Ja=!1,Za=0,Yh.current=null,l===null||l.return===null){bt=1,sl=o,yt=null;break}e:{var v=s,T=l.return,V=l,$=o;if(o=Lt,V.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var X=$,re=V,ae=re.tag;if(!(re.mode&1)&&(ae===0||ae===11||ae===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var pe=zy(T);if(pe!==null){pe.flags&=-257,Wy(pe,T,V,v,o),pe.mode&1&&By(v,X,o),o=pe,$=X;var ye=o.updateQueue;if(ye===null){var ve=new Set;ve.add($),o.updateQueue=ve}else ye.add($);break e}else{if(!(o&1)){By(v,X,o),af();break e}$=Error(n(426))}}else if(Ze&&V.mode&1){var ht=zy(T);if(ht!==null){!(ht.flags&65536)&&(ht.flags|=256),Wy(ht,T,V,v,o),yh(Do($,V));break e}}v=$=Do($,V),bt!==4&&(bt=2),il===null?il=[v]:il.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var G=$y(v,$,o);fy(v,G);break e;case 1:V=$;var z=v.type,Q=v.stateNode;if(!(v.flags&128)&&(typeof z.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Cs===null||!Cs.has(Q)))){v.flags|=65536,o&=-o,v.lanes|=o;var ue=Uy(v,V,o);fy(v,ue);break e}}v=v.return}while(v!==null)}w0(l)}catch(_e){o=_e,yt===l&&l!==null&&(yt=l=l.return);continue}break}while(!0)}function x0(){var s=nc.current;return nc.current=Xu,s===null?Xu:s}function af(){(bt===0||bt===3||bt===2)&&(bt=4),It===null||!(Ei&268435455)&&!(rc&268435455)||Rs(It,Lt)}function uc(s,o){var l=Ue;Ue|=2;var h=x0();(It!==s||Lt!==o)&&(Jr=null,bi(s,o));do try{DS();break}catch(m){v0(s,m)}while(!0);if(xh(),Ue=l,nc.current=h,yt!==null)throw Error(n(261));return It=null,Lt=0,bt}function DS(){for(;yt!==null;)_0(yt)}function VS(){for(;yt!==null&&!ou();)_0(yt)}function _0(s){var o=b0(s.alternate,s,Tn);s.memoizedProps=s.pendingProps,o===null?w0(s):yt=o,Yh.current=null}function w0(s){var o=s;do{var l=o.alternate;if(s=o.return,o.flags&32768){if(l=AS(l,o),l!==null){l.flags&=32767,yt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{bt=6,yt=null;return}}else if(l=CS(l,o,Tn),l!==null){yt=l;return}if(o=o.sibling,o!==null){yt=o;return}yt=o=s}while(o!==null);bt===0&&(bt=5)}function Si(s,o,l){var h=Le,m=On.transition;try{On.transition=null,Le=1,jS(s,o,l,h)}finally{On.transition=m,Le=h}return null}function jS(s,o,l,h){do Lo();while(As!==null);if(Ue&6)throw Error(n(327));l=s.finishedWork;var m=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var v=l.lanes|l.childLanes;if(qe(s,v),s===It&&(yt=It=null,Lt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||ic||(ic=!0,S0(kn,function(){return Lo(),null})),v=(l.flags&15990)!==0,l.subtreeFlags&15990||v){v=On.transition,On.transition=null;var T=Le;Le=1;var V=Ue;Ue|=4,Yh.current=null,RS(s,l),d0(l,s),tS(oh),gs=!!ih,oh=ih=null,s.current=l,IS(l),zd(),Ue=V,Le=T,On.transition=v}else s.current=l;if(ic&&(ic=!1,As=s,oc=m),v=s.pendingLanes,v===0&&(Cs=null),uu(l.stateNode),hn(s,Ke()),o!==null)for(h=s.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(sc)throw sc=!1,s=ef,ef=null,s;return oc&1&&s.tag!==0&&Lo(),v=s.pendingLanes,v&1?s===tf?ol++:(ol=0,tf=s):ol=0,Es(),null}function Lo(){if(As!==null){var s=ps(oc),o=On.transition,l=Le;try{if(On.transition=null,Le=16>s?16:s,As===null)var h=!1;else{if(s=As,As=null,oc=0,Ue&6)throw Error(n(331));var m=Ue;for(Ue|=4,ge=s.current;ge!==null;){var v=ge,T=v.child;if(ge.flags&16){var V=v.deletions;if(V!==null){for(var $=0;$<V.length;$++){var X=V[$];for(ge=X;ge!==null;){var re=ge;switch(re.tag){case 0:case 11:case 15:rl(8,re,v)}var ae=re.child;if(ae!==null)ae.return=re,ge=ae;else for(;ge!==null;){re=ge;var ne=re.sibling,pe=re.return;if(o0(re),re===X){ge=null;break}if(ne!==null){ne.return=pe,ge=ne;break}ge=pe}}}var ye=v.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var ht=ve.sibling;ve.sibling=null,ve=ht}while(ve!==null)}}ge=v}}if(v.subtreeFlags&2064&&T!==null)T.return=v,ge=T;else e:for(;ge!==null;){if(v=ge,v.flags&2048)switch(v.tag){case 0:case 11:case 15:rl(9,v,v.return)}var G=v.sibling;if(G!==null){G.return=v.return,ge=G;break e}ge=v.return}}var z=s.current;for(ge=z;ge!==null;){T=ge;var Q=T.child;if(T.subtreeFlags&2064&&Q!==null)Q.return=T,ge=Q;else e:for(T=z;ge!==null;){if(V=ge,V.flags&2048)try{switch(V.tag){case 0:case 11:case 15:tc(9,V)}}catch(_e){ot(V,V.return,_e)}if(V===T){ge=null;break e}var ue=V.sibling;if(ue!==null){ue.return=V.return,ge=ue;break e}ge=V.return}}if(Ue=m,Es(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(li,s)}catch{}h=!0}return h}finally{Le=l,On.transition=o}}return!1}function E0(s,o,l){o=Do(l,o),o=$y(s,o,1),s=bs(s,o,1),o=nn(),s!==null&&(hs(s,1,o),hn(s,o))}function ot(s,o,l){if(s.tag===3)E0(s,s,l);else for(;o!==null;){if(o.tag===3){E0(o,s,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Cs===null||!Cs.has(h))){s=Do(l,s),s=Uy(o,s,1),o=bs(o,s,1),s=nn(),o!==null&&(hs(o,1,s),hn(o,s));break}}o=o.return}}function MS(s,o,l){var h=s.pingCache;h!==null&&h.delete(o),o=nn(),s.pingedLanes|=s.suspendedLanes&l,It===s&&(Lt&l)===l&&(bt===4||bt===3&&(Lt&130023424)===Lt&&500>Ke()-Zh?bi(s,0):Jh|=l),hn(s,o)}function T0(s,o){o===0&&(s.mode&1?(o=io,io<<=1,!(io&130023424)&&(io=4194304)):o=1);var l=nn();s=Qr(s,o),s!==null&&(hs(s,o,l),hn(s,l))}function LS(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),T0(s,l)}function OS(s,o){var l=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),T0(s,l)}var b0;b0=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||ln.current)cn=!0;else{if(!(s.lanes&l)&&!(o.flags&128))return cn=!1,SS(s,o,l);cn=!!(s.flags&131072)}else cn=!1,Ze&&o.flags&1048576&&ry(o,Ou,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Zu(s,o),s=o.pendingProps;var m=So(o,Wt.current);ko(o,l),m=Ih(null,o,h,s,m,l);var v=kh();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,un(h)?(v=!0,ju(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Th(o),m.updater=Yu,o.stateNode=m,m._reactInternals=o,Lh(o,h,s,l),o=Uh(null,o,h,!0,v,l)):(o.tag=0,Ze&&v&&fh(o),tn(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Zu(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=$S(h),s=tr(h,s),m){case 0:o=$h(null,o,h,s,l);break e;case 1:o=Xy(null,o,h,s,l);break e;case 11:o=Hy(null,o,h,s,l);break e;case 14:o=qy(null,o,h,tr(h.type,s),l);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:tr(h,m),$h(s,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:tr(h,m),Xy(s,o,h,m,l);case 3:e:{if(Yy(o),s===null)throw Error(n(387));h=o.pendingProps,v=o.memoizedState,m=v.element,hy(s,o),Wu(o,h,null,l);var T=o.memoizedState;if(h=T.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=Do(Error(n(423)),o),o=Jy(s,o,h,l,m);break e}else if(h!==m){m=Do(Error(n(424)),o),o=Jy(s,o,h,l,m);break e}else for(En=xs(o.stateNode.containerInfo.firstChild),wn=o,Ze=!0,er=null,l=cy(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Po(),h===m){o=Yr(s,o,l);break e}tn(s,o,h,l)}o=o.child}return o;case 5:return my(o),s===null&&gh(o),h=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,T=m.children,ah(h,m)?T=null:v!==null&&ah(h,v)&&(o.flags|=32),Qy(s,o),tn(s,o,T,l),o.child;case 6:return s===null&&gh(o),null;case 13:return Zy(s,o,l);case 4:return bh(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=Ro(o,null,h,l):tn(s,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:tr(h,m),Hy(s,o,h,m,l);case 7:return tn(s,o,o.pendingProps,l),o.child;case 8:return tn(s,o,o.pendingProps.children,l),o.child;case 12:return tn(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,v=o.memoizedProps,T=m.value,Ge(Uu,h._currentValue),h._currentValue=T,v!==null)if(Zn(v.value,T)){if(v.children===m.children&&!ln.current){o=Yr(s,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var V=v.dependencies;if(V!==null){T=v.child;for(var $=V.firstContext;$!==null;){if($.context===h){if(v.tag===1){$=Xr(-1,l&-l),$.tag=2;var X=v.updateQueue;if(X!==null){X=X.shared;var re=X.pending;re===null?$.next=$:($.next=re.next,re.next=$),X.pending=$}}v.lanes|=l,$=v.alternate,$!==null&&($.lanes|=l),wh(v.return,l,o),V.lanes|=l;break}$=$.next}}else if(v.tag===10)T=v.type===o.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=l,V=T.alternate,V!==null&&(V.lanes|=l),wh(T,l,o),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}tn(s,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,ko(o,l),m=Mn(m),h=h(m),o.flags|=1,tn(s,o,h,l),o.child;case 14:return h=o.type,m=tr(h,o.pendingProps),m=tr(h.type,m),qy(s,o,h,m,l);case 15:return Ky(s,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:tr(h,m),Zu(s,o),o.tag=1,un(h)?(s=!0,ju(o)):s=!1,ko(o,l),Oy(o,h,m),Lh(o,h,m,l),Uh(null,o,h,!0,s,l);case 19:return t0(s,o,l);case 22:return Gy(s,o,l)}throw Error(n(156,o.tag))};function S0(s,o){return ro(s,o)}function FS(s,o,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(s,o,l,h){return new FS(s,o,l,h)}function lf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function $S(s){if(typeof s=="function")return lf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===H)return 11;if(s===de)return 14}return 2}function Is(s,o){var l=s.alternate;return l===null?(l=Fn(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function cc(s,o,l,h,m,v){var T=2;if(h=s,typeof s=="function")lf(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case k:return Ci(l.children,m,v,o);case C:T=8,m|=8;break;case R:return s=Fn(12,l,o,m|2),s.elementType=R,s.lanes=v,s;case D:return s=Fn(13,l,o,m),s.elementType=D,s.lanes=v,s;case te:return s=Fn(19,l,o,m),s.elementType=te,s.lanes=v,s;case xe:return dc(l,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case M:T=10;break e;case U:T=9;break e;case H:T=11;break e;case de:T=14;break e;case Ne:T=16,h=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=Fn(T,l,o,m),o.elementType=s,o.type=h,o.lanes=v,o}function Ci(s,o,l,h){return s=Fn(7,s,h,o),s.lanes=l,s}function dc(s,o,l,h){return s=Fn(22,s,h,o),s.elementType=xe,s.lanes=l,s.stateNode={isHidden:!1},s}function uf(s,o,l){return s=Fn(6,s,null,o),s.lanes=l,s}function cf(s,o,l){return o=Fn(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function US(s,o,l,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ds(0),this.expirationTimes=ds(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function df(s,o,l,h,m,v,T,V,$){return s=new US(s,o,l,V,$),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Fn(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Th(v),s}function BS(s,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:h==null?null:""+h,children:s,containerInfo:o,implementation:l}}function C0(s){if(!s)return ws;s=s._reactInternals;e:{if(qn(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(un(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(un(l))return ey(s,l,o)}return o}function A0(s,o,l,h,m,v,T,V,$){return s=df(l,h,!0,s,m,v,T,V,$),s.context=C0(null),l=s.current,h=nn(),m=Ps(l),v=Xr(h,m),v.callback=o??null,bs(l,v,m),s.current.lanes=m,hs(s,m,h),hn(s,h),s}function hc(s,o,l,h){var m=o.current,v=nn(),T=Ps(m);return l=C0(l),o.context===null?o.context=l:o.pendingContext=l,o=Xr(v,T),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=bs(m,o,T),s!==null&&(sr(s,m,T,v),zu(s,m,T)),T}function fc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function P0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function hf(s,o){P0(s,o),(s=s.alternate)&&P0(s,o)}function zS(){return null}var R0=typeof reportError=="function"?reportError:function(s){console.error(s)};function ff(s){this._internalRoot=s}pc.prototype.render=ff.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));hc(s,o,null,null)},pc.prototype.unmount=ff.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Ti(function(){hc(null,s,null,null)}),o[Hr]=null}};function pc(s){this._internalRoot=s}pc.prototype.unstable_scheduleHydration=function(s){if(s){var o=pu();s={blockedOn:null,target:s,priority:o};for(var l=0;l<mr.length&&o!==0&&o<mr[l].priority;l++);mr.splice(l,0,s),l===0&&yu(s)}};function pf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function mc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function I0(){}function WS(s,o,l,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var X=fc(T);v.call(X)}}var T=A0(o,h,s,0,null,!1,!1,"",I0);return s._reactRootContainer=T,s[Hr]=T.current,Wa(s.nodeType===8?s.parentNode:s),Ti(),T}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var V=h;h=function(){var X=fc($);V.call(X)}}var $=df(s,0,!1,null,null,!1,!1,"",I0);return s._reactRootContainer=$,s[Hr]=$.current,Wa(s.nodeType===8?s.parentNode:s),Ti(function(){hc(o,$,l,h)}),$}function gc(s,o,l,h,m){var v=l._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var V=m;m=function(){var $=fc(T);V.call($)}}hc(o,T,s,m)}else T=WS(l,o,s,m,h);return fc(T)}hu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=cs(o.pendingLanes);l!==0&&(fs(o,l|1),hn(o,Ke()),!(Ue&6)&&(Mo=Ke()+500,Es()))}break;case 13:Ti(function(){var h=Qr(s,1);if(h!==null){var m=nn();sr(h,s,1,m)}}),hf(s,1)}},oo=function(s){if(s.tag===13){var o=Qr(s,134217728);if(o!==null){var l=nn();sr(o,s,134217728,l)}hf(s,134217728)}},fu=function(s){if(s.tag===13){var o=Ps(s),l=Qr(s,o);if(l!==null){var h=nn();sr(l,s,o,h)}hf(s,o)}},pu=function(){return Le},mu=function(s,o){var l=Le;try{return Le=s,o()}finally{Le=l}},Yi=function(s,o,l){switch(o){case"input":if(ma(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==s&&h.form===s.form){var m=Du(h);if(!m)throw Error(n(90));Vr(h),ma(h,m)}}}break;case"textarea":Qi(s,l);break;case"select":o=l.value,o!=null&&Lr(s,!!l.multiple,o,!1)}},ri=sf,Sa=Ti;var HS={usingClientEntryPoint:!1,Events:[Ka,To,Du,fr,ba,sf]},al={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qS={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Pa(s),s===null?null:s.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||zS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{li=yc.inject(qS),yn=yc}catch{}}return fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HS,fn.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pf(o))throw Error(n(200));return BS(s,o,null,l)},fn.createRoot=function(s,o){if(!pf(s))throw Error(n(299));var l=!1,h="",m=R0;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=df(s,1,!1,null,null,l,!1,h,m),s[Hr]=o.current,Wa(s.nodeType===8?s.parentNode:s),new ff(o)},fn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Pa(o),s=s===null?null:s.stateNode,s},fn.flushSync=function(s){return Ti(s)},fn.hydrate=function(s,o,l){if(!mc(o))throw Error(n(200));return gc(null,s,o,!0,l)},fn.hydrateRoot=function(s,o,l){if(!pf(s))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,m=!1,v="",T=R0;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=A0(o,null,s,1,l??null,m,!1,v,T),s[Hr]=o.current,Wa(s),h)for(s=0;s<h.length;s++)l=h[s],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new pc(o)},fn.render=function(s,o,l){if(!mc(o))throw Error(n(200));return gc(null,s,o,!1,l)},fn.unmountComponentAtNode=function(s){if(!mc(s))throw Error(n(40));return s._reactRootContainer?(Ti(function(){gc(null,null,s,!1,function(){s._reactRootContainer=null,s[Hr]=null})}),!0):!1},fn.unstable_batchedUpdates=sf,fn.unstable_renderSubtreeIntoContainer=function(s,o,l,h){if(!mc(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return gc(s,o,l,!1,h)},fn.version="18.3.1-next-f1338f8080-20240426",fn}var O0;function R_(){if(O0)return yf.exports;O0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),yf.exports=ZS(),yf.exports}var F0;function eC(){if(F0)return vc;F0=1;var t=R_();return vc.createRoot=t.createRoot,vc.hydrateRoot=t.hydrateRoot,vc}var tC=eC();const nC=Bp(tC);var ul={},$0;function rC(){if($0)return ul;$0=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.parse=u,ul.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,b){const A=new a,j=E.length;if(j<2)return A;const N=(b==null?void 0:b.decode)||g;let O=0;do{const W=E.indexOf("=",O);if(W===-1)break;const F=E.indexOf(";",O),I=F===-1?j:F;if(W>I){O=E.lastIndexOf(";",W-1)+1;continue}const L=d(E,O,W),B=f(E,W,L),k=E.slice(L,B);if(A[k]===void 0){let C=d(E,W+1,I),R=f(E,I,C);const M=N(E.slice(C,R));A[k]=M}O=I+1}while(O<j);return A}function d(E,b,A){do{const j=E.charCodeAt(b);if(j!==32&&j!==9)return b}while(++b<A);return A}function f(E,b,A){for(;b>A;){const j=E.charCodeAt(--b);if(j!==32&&j!==9)return b+1}return A}function p(E,b,A){const j=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const N=j(b);if(!e.test(N))throw new TypeError(`argument val is invalid: ${b}`);let O=E+"="+N;if(!A)return O;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);O+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);O+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);O+="; Path="+A.path}if(A.expires){if(!_(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);O+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(O+="; HttpOnly"),A.secure&&(O+="; Secure"),A.partitioned&&(O+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return O}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function _(E){return i.call(E)==="[object Date]"}return ul}rC();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var U0="popstate";function sC(t={}){function e(r,i){let{pathname:a,search:u,hash:d}=r.location;return Kf("",{pathname:a,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rl(i)}return oC(e,n,null,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ir(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iC(){return Math.random().toString(36).substring(2,10)}function B0(t,e){return{usr:t.state,key:t.key,idx:e}}function Kf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?aa(e):e,state:n,key:e&&e.key||r||iC()}}function Rl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function aa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function oC(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,d="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function _(){d="POP";let N=g(),O=N==null?null:N-p;p=N,f&&f({action:d,location:j.location,delta:O})}function E(N,O){d="PUSH";let W=Kf(j.location,N,O);p=g()+1;let F=B0(W,p),I=j.createHref(W);try{u.pushState(F,"",I)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(I)}a&&f&&f({action:d,location:j.location,delta:1})}function b(N,O){d="REPLACE";let W=Kf(j.location,N,O);p=g();let F=B0(W,p),I=j.createHref(W);u.replaceState(F,"",I),a&&f&&f({action:d,location:j.location,delta:0})}function A(N){let O=i.location.origin!=="null"?i.location.origin:i.location.href,W=typeof N=="string"?N:Rl(N);return W=W.replace(/ $/,"%20"),st(O,`No window.location.(origin|href) available to create URL for href: ${W}`),new URL(W,O)}let j={get action(){return d},get location(){return t(i,u)},listen(N){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(U0,_),f=N,()=>{i.removeEventListener(U0,_),f=null}},createHref(N){return e(i,N)},createURL:A,encodeLocation(N){let O=A(N);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:E,replace:b,go(N){return u.go(N)}};return j}function I_(t,e,n="/"){return aC(t,e,n,!1)}function aC(t,e,n,r){let i=typeof e=="string"?aa(e):e,a=$s(i.pathname||"/",n);if(a==null)return null;let u=k_(t);lC(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=xC(a);d=yC(u[f],p,r)}return d}function k_(t,e=[],n=[],r=""){let i=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(st(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Zr([r,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(st(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),k_(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:mC(p,a.index),routesMeta:g})};return t.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))i(a,u);else for(let f of N_(a.path))i(a,u,f)}),e}function N_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=N_(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),i&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function lC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var uC=/^:[\w-]+$/,cC=3,dC=2,hC=1,fC=10,pC=-2,z0=t=>t==="*";function mC(t,e){let n=t.split("/"),r=n.length;return n.some(z0)&&(r+=pC),e&&(r+=dC),n.filter(i=>!z0(i)).reduce((i,a)=>i+(uC.test(a)?cC:a===""?hC:fC),r)}function gC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function yC(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=Wc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!_&&p&&n&&!r[r.length-1].route.index&&(_=Wc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(i,_.params),u.push({params:i,pathname:Zr([a,_.pathname]),pathnameBase:TC(Zr([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=Zr([a,_.pathnameBase]))}return u}function Wc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},E)=>{if(g==="*"){let A=d[E]||"";u=a.slice(0,a.length-A.length).replace(/(.)\/+$/,"$1")}const b=d[E];return _&&!b?p[g]=void 0:p[g]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function vC(t,e=!1,n=!0){Ir(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function xC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ir(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function $s(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _C(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?aa(t):t;return{pathname:n?n.startsWith("/")?n:wC(n,e):e,search:bC(r),hash:SC(i)}}function wC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function _f(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function D_(t){let e=EC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function V_(t,e,n,r=!1){let i;typeof t=="string"?i=aa(t):(i={...t},st(!i.pathname||!i.pathname.includes("?"),_f("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),_f("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),_f("#","search","hash",i)));let a=t===""||i.pathname==="",u=a?"/":i.pathname,d;if(u==null)d=n;else{let _=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;i.pathname=E.join("/")}d=_>=0?e[_]:"/"}let f=_C(i,d),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var Zr=t=>t.join("/").replace(/\/\/+/g,"/"),TC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var j_=["POST","PUT","PATCH","DELETE"];new Set(j_);var AC=["GET",...j_];new Set(AC);var la=P.createContext(null);la.displayName="DataRouter";var pd=P.createContext(null);pd.displayName="DataRouterState";var M_=P.createContext({isTransitioning:!1});M_.displayName="ViewTransition";var PC=P.createContext(new Map);PC.displayName="Fetchers";var RC=P.createContext(null);RC.displayName="Await";var Dr=P.createContext(null);Dr.displayName="Navigation";var Hl=P.createContext(null);Hl.displayName="Location";var cr=P.createContext({outlet:null,matches:[],isDataRoute:!1});cr.displayName="Route";var Wp=P.createContext(null);Wp.displayName="RouteError";function IC(t,{relative:e}={}){st(ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(Dr),{hash:i,pathname:a,search:u}=Kl(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:Zr([n,a])),r.createHref({pathname:d,search:u,hash:i})}function ql(){return P.useContext(Hl)!=null}function Xs(){return st(ql(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Hl).location}var L_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O_(t){P.useContext(Dr).static||P.useLayoutEffect(t)}function Ui(){let{isDataRoute:t}=P.useContext(cr);return t?HC():kC()}function kC(){st(ql(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(la),{basename:e,navigator:n}=P.useContext(Dr),{matches:r}=P.useContext(cr),{pathname:i}=Xs(),a=JSON.stringify(D_(r)),u=P.useRef(!1);return O_(()=>{u.current=!0}),P.useCallback((f,p={})=>{if(Ir(u.current,L_),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=V_(f,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Zr([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,i,t])}var NC=P.createContext(null);function DC(t){let e=P.useContext(cr).outlet;return e&&P.createElement(NC.Provider,{value:t},e)}function F_(){let{matches:t}=P.useContext(cr),e=t[t.length-1];return e?e.params:{}}function Kl(t,{relative:e}={}){let{matches:n}=P.useContext(cr),{pathname:r}=Xs(),i=JSON.stringify(D_(n));return P.useMemo(()=>V_(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function VC(t,e){return $_(t,e)}function $_(t,e,n,r){var W;st(ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=P.useContext(Dr),{matches:u}=P.useContext(cr),d=u[u.length-1],f=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",_=d&&d.route;{let F=_&&_.path||"";U_(p,!_||F.endsWith("*")||F.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${F}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${F}"> to <Route path="${F==="/"?"*":`${F}/*`}">.`)}let E=Xs(),b;if(e){let F=typeof e=="string"?aa(e):e;st(g==="/"||((W=F.pathname)==null?void 0:W.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${F.pathname}" was given in the \`location\` prop.`),b=F}else b=E;let A=b.pathname||"/",j=A;if(g!=="/"){let F=g.replace(/^\//,"").split("/");j="/"+A.replace(/^\//,"").split("/").slice(F.length).join("/")}let N=!a&&n&&n.matches&&n.matches.length>0?n.matches:I_(t,{pathname:j});Ir(_||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ir(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=FC(N&&N.map(F=>Object.assign({},F,{params:Object.assign({},f,F.params),pathname:Zr([g,i.encodeLocation?i.encodeLocation(F.pathname).pathname:F.pathname]),pathnameBase:F.pathnameBase==="/"?g:Zr([g,i.encodeLocation?i.encodeLocation(F.pathnameBase).pathname:F.pathnameBase])})),u,n,r);return e&&O?P.createElement(Hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},O):O}function jC(){let t=WC(),e=CC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:a},"ErrorBoundary")," or"," ",P.createElement("code",{style:a},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:i},n):null,u)}var MC=P.createElement(jC,null),LC=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?P.createElement(cr.Provider,{value:this.props.routeContext},P.createElement(Wp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OC({routeContext:t,match:e,children:n}){let r=P.useContext(la);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(cr.Provider,{value:t},n)}function FC(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let f=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);st(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:_}=n,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||E){u=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((f,p,g)=>{let _,E=!1,b=null,A=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,b=p.route.errorElement||MC,u&&(d<0&&g===0?(U_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,A=null):d===g&&(E=!0,A=p.route.hydrateFallbackElement||null)));let j=e.concat(i.slice(0,g+1)),N=()=>{let O;return _?O=b:E?O=A:p.route.Component?O=P.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=f,P.createElement(OC,{match:p,routeContext:{outlet:f,matches:j,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?P.createElement(LC,{location:n.location,revalidation:n.revalidation,component:b,error:_,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):N()},null)}function Hp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $C(t){let e=P.useContext(la);return st(e,Hp(t)),e}function UC(t){let e=P.useContext(pd);return st(e,Hp(t)),e}function BC(t){let e=P.useContext(cr);return st(e,Hp(t)),e}function qp(t){let e=BC(t),n=e.matches[e.matches.length-1];return st(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function zC(){return qp("useRouteId")}function WC(){var r;let t=P.useContext(Wp),e=UC("useRouteError"),n=qp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function HC(){let{router:t}=$C("useNavigate"),e=qp("useNavigate"),n=P.useRef(!1);return O_(()=>{n.current=!0}),P.useCallback(async(i,a={})=>{Ir(n.current,L_),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var W0={};function U_(t,e,n){!e&&!W0[t]&&(W0[t]=!0,Ir(!1,n))}P.memo(qC);function qC({routes:t,future:e,state:n}){return $_(t,void 0,n,e)}function KC(t){return DC(t.context)}function Ot(t){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){st(!ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:u,navigator:i,static:a,future:{}}),[u,i,a]);typeof n=="string"&&(n=aa(n));let{pathname:f="/",search:p="",hash:g="",state:_=null,key:E="default"}=n,b=P.useMemo(()=>{let A=$s(f,u);return A==null?null:{location:{pathname:A,search:p,hash:g,state:_,key:E},navigationType:r}},[u,f,p,g,_,E,r]);return Ir(b!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:P.createElement(Dr.Provider,{value:d},P.createElement(Hl.Provider,{children:e,value:b}))}function QC({children:t,location:e}){return VC(Gf(t),e)}function Gf(t,e=[]){let n=[];return P.Children.forEach(t,(r,i)=>{if(!P.isValidElement(r))return;let a=[...e,i];if(r.type===P.Fragment){n.push.apply(n,Gf(r.props.children,a));return}st(r.type===Ot,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Gf(r.props.children,a)),n.push(u)}),n}var Nc="get",Dc="application/x-www-form-urlencoded";function md(t){return t!=null&&typeof t.tagName=="string"}function XC(t){return md(t)&&t.tagName.toLowerCase()==="button"}function YC(t){return md(t)&&t.tagName.toLowerCase()==="form"}function JC(t){return md(t)&&t.tagName.toLowerCase()==="input"}function ZC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eA(t,e){return t.button===0&&(!e||e==="_self")&&!ZC(t)}var xc=null;function tA(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var nA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function wf(t){return t!=null&&!nA.has(t)?(Ir(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dc}"`),null):t}function rA(t,e){let n,r,i,a,u;if(YC(t)){let d=t.getAttribute("action");r=d?$s(d,e):null,n=t.getAttribute("method")||Nc,i=wf(t.getAttribute("enctype"))||Dc,a=new FormData(t)}else if(XC(t)||JC(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?$s(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Nc,i=wf(t.getAttribute("formenctype"))||wf(d.getAttribute("enctype"))||Dc,a=new FormData(d,t),!tA()){let{name:p,type:g,value:_}=t;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if(md(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nc,r=null,i=Dc,u=t}return a&&i==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:u}}function Kp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function sA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oA(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let u=await sA(a,n);return u.links?u.links():[]}return[]}));return cA(r.flat(1).filter(iA).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function H0(t,e,n,r,i,a){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var g;return n[p].pathname!==f.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{var _;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function aA(t,e){return lA(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function lA(t){return[...new Set(t)]}function uA(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function cA(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(uA(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function dA(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function hA(){let t=P.useContext(la);return Kp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fA(){let t=P.useContext(pd);return Kp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Gp=P.createContext(void 0);Gp.displayName="FrameworkContext";function B_(){let t=P.useContext(Gp);return Kp(t,"You must render this element inside a <HydratedRouter> element"),t}function pA(t,e){let n=P.useContext(Gp),[r,i]=P.useState(!1),[a,u]=P.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,E=P.useRef(null);P.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let j=O=>{O.forEach(W=>{u(W.isIntersecting)})},N=new IntersectionObserver(j,{threshold:.5});return E.current&&N.observe(E.current),()=>{N.disconnect()}}},[t]),P.useEffect(()=>{if(r){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[r]);let b=()=>{i(!0)},A=()=>{i(!1),u(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:cl(d,b),onBlur:cl(f,A),onMouseEnter:cl(p,b),onMouseLeave:cl(g,A),onTouchStart:cl(_,b)}]:[!1,E,{}]}function cl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mA({page:t,...e}){let{router:n}=hA(),r=P.useMemo(()=>I_(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(yA,{page:t,matches:r,...e}):null}function gA(t){let{manifest:e,routeModules:n}=B_(),[r,i]=P.useState([]);return P.useEffect(()=>{let a=!1;return oA(t,e,n).then(u=>{a||i(u)}),()=>{a=!0}},[t,e,n]),r}function yA({page:t,matches:e,...n}){let r=Xs(),{manifest:i,routeModules:a}=B_(),{loaderData:u,matches:d}=fA(),f=P.useMemo(()=>H0(t,e,d,i,r,"data"),[t,e,d,i,r]),p=P.useMemo(()=>H0(t,e,d,i,r,"assets"),[t,e,d,i,r]),g=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let b=new Set,A=!1;if(e.forEach(N=>{var W;let O=i.routes[N.route.id];!O||!O.hasLoader||(!f.some(F=>F.route.id===N.route.id)&&N.route.id in u&&((W=a[N.route.id])!=null&&W.shouldRevalidate)||O.hasClientLoader?A=!0:b.add(N.route.id))}),b.size===0)return[];let j=dA(t);return A&&b.size>0&&j.searchParams.set("_routes",e.filter(N=>b.has(N.route.id)).map(N=>N.route.id).join(",")),[j.pathname+j.search]},[u,r,i,f,e,t,a]),_=P.useMemo(()=>aA(p,i),[p,i]),E=gA(p);return P.createElement(P.Fragment,null,g.map(b=>P.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...n})),_.map(b=>P.createElement("link",{key:b,rel:"modulepreload",href:b,...n})),E.map(({key:b,link:A})=>P.createElement("link",{key:b,...A})))}function vA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var z_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z_&&(window.__reactRouterVersion="7.1.5")}catch{}function xA({basename:t,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=sC({window:n,v5Compat:!0}));let i=r.current,[a,u]=P.useState({action:i.action,location:i.location}),d=P.useCallback(f=>{P.startTransition(()=>u(f))},[u]);return P.useLayoutEffect(()=>i.listen(d),[i,d]),P.createElement(GC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var W_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Sr=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:_,...E},b){let{basename:A}=P.useContext(Dr),j=typeof p=="string"&&W_.test(p),N,O=!1;if(typeof p=="string"&&j&&(N=p,z_))try{let R=new URL(window.location.href),M=p.startsWith("//")?new URL(R.protocol+p):new URL(p),U=$s(M.pathname,A);M.origin===R.origin&&U!=null?p=U+M.search+M.hash:O=!0}catch{Ir(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=IC(p,{relative:i}),[F,I,L]=pA(r,E),B=TA(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:i,viewTransition:_});function k(R){e&&e(R),R.defaultPrevented||B(R)}let C=P.createElement("a",{...E,...L,href:N||W,onClick:O||a?e:k,ref:vA(b,I),target:f,"data-discover":!j&&n==="render"?"true":void 0});return F&&!j?P.createElement(P.Fragment,null,C,P.createElement(mA,{page:W})):C});Sr.displayName="Link";var _A=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:u,viewTransition:d,children:f,...p},g){let _=Kl(u,{relative:p.relative}),E=Xs(),b=P.useContext(pd),{navigator:A,basename:j}=P.useContext(Dr),N=b!=null&&PA(_)&&d===!0,O=A.encodeLocation?A.encodeLocation(_).pathname:_.pathname,W=E.pathname,F=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(W=W.toLowerCase(),F=F?F.toLowerCase():null,O=O.toLowerCase()),F&&j&&(F=$s(F,j)||F);const I=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let L=W===O||!i&&W.startsWith(O)&&W.charAt(I)==="/",B=F!=null&&(F===O||!i&&F.startsWith(O)&&F.charAt(O.length)==="/"),k={isActive:L,isPending:B,isTransitioning:N},C=L?e:void 0,R;typeof r=="function"?R=r(k):R=[r,L?"active":null,B?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let M=typeof a=="function"?a(k):a;return P.createElement(Sr,{...p,"aria-current":C,className:R,ref:g,style:M,to:u,viewTransition:d},typeof f=="function"?f(k):f)});_A.displayName="NavLink";var wA=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:u=Nc,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:_,...E},b)=>{let A=CA(),j=AA(d,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&W_.test(d),W=F=>{if(f&&f(F),F.defaultPrevented)return;F.preventDefault();let I=F.nativeEvent.submitter,L=(I==null?void 0:I.getAttribute("formmethod"))||u;A(I||F.currentTarget,{fetcherKey:e,method:L,navigate:n,replace:i,state:a,relative:p,preventScrollReset:g,viewTransition:_})};return P.createElement("form",{ref:b,method:N,action:j,onSubmit:r?f:W,...E,"data-discover":!O&&t==="render"?"true":void 0})});wA.displayName="Form";function EA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H_(t){let e=P.useContext(la);return st(e,EA(t)),e}function TA(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:u}={}){let d=Ui(),f=Xs(),p=Kl(t,{relative:a});return P.useCallback(g=>{if(eA(g,e)){g.preventDefault();let _=n!==void 0?n:Rl(f)===Rl(p);d(t,{replace:_,state:r,preventScrollReset:i,relative:a,viewTransition:u})}},[f,d,p,n,r,e,t,i,a,u])}var bA=0,SA=()=>`__${String(++bA)}__`;function CA(){let{router:t}=H_("useSubmit"),{basename:e}=P.useContext(Dr),n=zC();return P.useCallback(async(r,i={})=>{let{action:a,method:u,encType:d,formData:f,body:p}=rA(r,e);if(i.navigate===!1){let g=i.fetcherKey||SA();await t.fetch(g,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||u,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||u,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function AA(t,{relative:e}={}){let{basename:n}=P.useContext(Dr),r=P.useContext(cr);st(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Kl(t||".",{relative:e})},u=Xs();if(t==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(_=>_).forEach(_=>d.append("index",_));let g=d.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Zr([n,a.pathname])),Rl(a)}function PA(t,e={}){let n=P.useContext(M_);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=H_("useViewTransitionState"),i=Kl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=$s(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=$s(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wc(i.pathname,u)!=null||Wc(i.pathname,a)!=null}new TextEncoder;var RA=R_();const _c=Bp(RA);function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(null,arguments)}function Qp(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Qf(t,e){return Qf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Qf(t,e)}function Xp(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Qf(t,e)}function IA(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function kA(t,e){t.classList?t.classList.add(e):IA(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function q0(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function NA(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=q0(t.className,e):t.setAttribute("class",q0(t.className&&t.className.baseVal||"",e))}const K0={disabled:!1},qc=Bn.createContext(null);var q_=function(e){return e.scrollTop},fl="unmounted",Pi="exited",Ri="entering",Fo="entered",Xf="exiting",as=function(t){Xp(e,t);function e(r,i){var a;a=t.call(this,r,i)||this;var u=i,d=u&&!u.isMounting?r.enter:r.appear,f;return a.appearStatus=null,r.in?d?(f=Pi,a.appearStatus=Ri):f=Fo:r.unmountOnExit||r.mountOnEnter?f=fl:f=Pi,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var u=i.in;return u&&a.status===fl?{status:Pi}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var u=this.state.status;this.props.in?u!==Ri&&u!==Fo&&(a=Ri):(u===Ri||u===Fo)&&(a=Xf)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a,u,d;return a=u=d=i,i!=null&&typeof i!="number"&&(a=i.exit,u=i.enter,d=i.appear!==void 0?i.appear:u),{exit:a,enter:u,appear:d}},n.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===Ri){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:_c.findDOMNode(this);u&&q_(u)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Pi&&this.setState({status:fl})},n.performEnter=function(i){var a=this,u=this.props.enter,d=this.context?this.context.isMounting:i,f=this.props.nodeRef?[d]:[_c.findDOMNode(this),d],p=f[0],g=f[1],_=this.getTimeouts(),E=d?_.appear:_.enter;if(!i&&!u||K0.disabled){this.safeSetState({status:Fo},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:Ri},function(){a.props.onEntering(p,g),a.onTransitionEnd(E,function(){a.safeSetState({status:Fo},function(){a.props.onEntered(p,g)})})})},n.performExit=function(){var i=this,a=this.props.exit,u=this.getTimeouts(),d=this.props.nodeRef?void 0:_c.findDOMNode(this);if(!a||K0.disabled){this.safeSetState({status:Pi},function(){i.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Xf},function(){i.props.onExiting(d),i.onTransitionEnd(u.exit,function(){i.safeSetState({status:Pi},function(){i.props.onExited(d)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,u=!0;return this.nextCallback=function(d){u&&(u=!1,a.nextCallback=null,i(d))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:_c.findDOMNode(this),d=i==null&&!this.props.addEndListener;if(!u||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],p=f[0],g=f[1];this.props.addEndListener(p,g)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===fl)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var d=Qp(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Bn.createElement(qc.Provider,{value:null},typeof u=="function"?u(i,d):Bn.cloneElement(Bn.Children.only(u),d))},e}(Bn.Component);as.contextType=qc;as.propTypes={};function Oo(){}as.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Oo,onEntering:Oo,onEntered:Oo,onExit:Oo,onExiting:Oo,onExited:Oo};as.UNMOUNTED=fl;as.EXITED=Pi;as.ENTERING=Ri;as.ENTERED=Fo;as.EXITING=Xf;var DA=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return kA(e,r)})},Ef=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return NA(e,r)})},gd=function(t){Xp(e,t);function e(){for(var r,i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=t.call.apply(t,[this].concat(a))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(d,f){var p=r.resolveArguments(d,f),g=p[0],_=p[1];r.removeClasses(g,"exit"),r.addClass(g,_?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(d,f)},r.onEntering=function(d,f){var p=r.resolveArguments(d,f),g=p[0],_=p[1],E=_?"appear":"enter";r.addClass(g,E,"active"),r.props.onEntering&&r.props.onEntering(d,f)},r.onEntered=function(d,f){var p=r.resolveArguments(d,f),g=p[0],_=p[1],E=_?"appear":"enter";r.removeClasses(g,E),r.addClass(g,E,"done"),r.props.onEntered&&r.props.onEntered(d,f)},r.onExit=function(d){var f=r.resolveArguments(d),p=f[0];r.removeClasses(p,"appear"),r.removeClasses(p,"enter"),r.addClass(p,"exit","base"),r.props.onExit&&r.props.onExit(d)},r.onExiting=function(d){var f=r.resolveArguments(d),p=f[0];r.addClass(p,"exit","active"),r.props.onExiting&&r.props.onExiting(d)},r.onExited=function(d){var f=r.resolveArguments(d),p=f[0];r.removeClasses(p,"exit"),r.addClass(p,"exit","done"),r.props.onExited&&r.props.onExited(d)},r.resolveArguments=function(d,f){return r.props.nodeRef?[r.props.nodeRef.current,d]:[d,f]},r.getClassNames=function(d){var f=r.props.classNames,p=typeof f=="string",g=p&&f?f+"-":"",_=p?""+g+d:f[d],E=p?_+"-active":f[d+"Active"],b=p?_+"-done":f[d+"Done"];return{baseClassName:_,activeClassName:E,doneClassName:b}},r}var n=e.prototype;return n.addClass=function(i,a,u){var d=this.getClassNames(a)[u+"ClassName"],f=this.getClassNames("enter"),p=f.doneClassName;a==="appear"&&u==="done"&&p&&(d+=" "+p),u==="active"&&i&&q_(i),d&&(this.appliedClasses[a][u]=d,DA(i,d))},n.removeClasses=function(i,a){var u=this.appliedClasses[a],d=u.base,f=u.active,p=u.done;this.appliedClasses[a]={},d&&Ef(i,d),f&&Ef(i,f),p&&Ef(i,p)},n.render=function(){var i=this.props;i.classNames;var a=Qp(i,["classNames"]);return Bn.createElement(as,Hc({},a,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Bn.Component);gd.defaultProps={classNames:""};gd.propTypes={};function VA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yp(t,e){var n=function(a){return e&&P.isValidElement(a)?e(a):a},r=Object.create(null);return t&&P.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function jA(t,e){t=t||{},e=e||{};function n(g){return g in e?e[g]:t[g]}var r=Object.create(null),i=[];for(var a in t)a in e?i.length&&(r[a]=i,i=[]):i.push(a);var u,d={};for(var f in e){if(r[f])for(u=0;u<r[f].length;u++){var p=r[f][u];d[r[f][u]]=n(p)}d[f]=n(f)}for(u=0;u<i.length;u++)d[i[u]]=n(i[u]);return d}function Ni(t,e,n){return n[e]!=null?n[e]:t.props[e]}function MA(t,e){return Yp(t.children,function(n){return P.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ni(n,"appear",t),enter:Ni(n,"enter",t),exit:Ni(n,"exit",t)})})}function LA(t,e,n){var r=Yp(t.children),i=jA(e,r);return Object.keys(i).forEach(function(a){var u=i[a];if(P.isValidElement(u)){var d=a in e,f=a in r,p=e[a],g=P.isValidElement(p)&&!p.props.in;f&&(!d||g)?i[a]=P.cloneElement(u,{onExited:n.bind(null,u),in:!0,exit:Ni(u,"exit",t),enter:Ni(u,"enter",t)}):!f&&d&&!g?i[a]=P.cloneElement(u,{in:!1}):f&&d&&P.isValidElement(p)&&(i[a]=P.cloneElement(u,{onExited:n.bind(null,u),in:p.props.in,exit:Ni(u,"exit",t),enter:Ni(u,"enter",t)}))}}),i}var OA=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},FA={component:"div",childFactory:function(e){return e}},yd=function(t){Xp(e,t);function e(r,i){var a;a=t.call(this,r,i)||this;var u=a.handleExited.bind(VA(a));return a.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,a){var u=a.children,d=a.handleExited,f=a.firstRender;return{children:f?MA(i,d):LA(i,u,d),firstRender:!1}},n.handleExited=function(i,a){var u=Yp(this.props.children);i.key in u||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(d){var f=Hc({},d.children);return delete f[i.key],{children:f}}))},n.render=function(){var i=this.props,a=i.component,u=i.childFactory,d=Qp(i,["component","childFactory"]),f=this.state.contextValue,p=OA(this.state.children).map(u);return delete d.appear,delete d.enter,delete d.exit,a===null?Bn.createElement(qc.Provider,{value:f},p):Bn.createElement(qc.Provider,{value:f},Bn.createElement(a,d,p))},e}(Bn.Component);yd.propTypes={};yd.defaultProps=FA;/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K_=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:u,...d},f)=>P.createElement("svg",{ref:f,...UA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:K_("lucide",i),...d},[...u.map(([p,g])=>P.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=(t,e)=>{const n=P.forwardRef(({className:r,...i},a)=>P.createElement(BA,{ref:a,iconNode:e,className:K_(`lucide-${$A(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],HA=zA("Dog",WA);function qA(){const t=Xs(),[e,n]=P.useState(!1),{isDarkMode:r,toggleTheme:i}=P.useContext(Dt),a=[{name:"Home",href:"/"},{name:"Blog",href:"/blog"},{name:"Products",href:"/products"},{name:"Contact",href:"/contact"}],u=()=>n(!e);return x.jsxs("nav",{className:`fixed top-0 left-0 w-full z-20 shadow-md transition-colors duration-300 ease-in-out ${r?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:[x.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center",children:[x.jsx("div",{className:"md:hidden mr-4",children:x.jsxs("button",{onClick:u,className:"focus:outline-none","aria-label":"Toggle menu",children:[x.jsx("span",{className:`block w-6 h-1 mb-1.5 transition-all duration-300 ${r?"bg-stone-400":"bg-red-800"} ${e?"rotate-45 translate-y-2.5":""}`}),x.jsx("span",{className:`block w-6 h-1 mb-1.5 transition-all duration-300 ${r?"bg-stone-400":"bg-red-800"} ${e?"opacity-0":""}`}),x.jsx("span",{className:`block w-6 h-1 transition-all duration-300 ${r?"bg-stone-400":"bg-red-800"} ${e?"-rotate-45 -translate-y-2.5":""}`})]})}),x.jsx("div",{className:"flex items-center",children:x.jsxs(Sr,{to:"/",className:"flex items-center space-x-2",onClick:()=>n(!1),children:[x.jsx(HA,{className:`w-6 h-6 ${r?"text-stone-400":"text-red-800"}`}),x.jsx("span",{className:"text-xl font-bold",children:"Aussie Gut Pack"})]})}),x.jsx("div",{className:"flex-grow"}),x.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[a.map(d=>x.jsx(Sr,{to:d.href,className:`px-3 py-2 rounded-md transition-colors duration-200 ${t.pathname===d.href?r?"bg-red-800 text-white":"bg-red-100 text-red-800":r?"hover:bg-red-900":"hover:bg-red-200"}`,children:d.name},d.href)),x.jsx("button",{onClick:i,className:"px-3 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:r?"Light":"Dark"})]}),x.jsx("div",{className:"md:hidden",children:x.jsx("button",{onClick:i,className:"px-3 py-1 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:r?"L":"D"})})]}),e&&x.jsx("div",{className:`md:hidden flex flex-col space-y-2 py-4 px-6 transition-colors duration-300 ease-in-out ${r?"bg-stone-900 text-stone-400":"bg-white text-red-800"}`,children:a.map(d=>x.jsx(Sr,{to:d.href,className:`px-3 py-2 rounded-md transition-colors duration-200 ${t.pathname===d.href?r?"bg-red-800 text-white":"bg-red-100 text-red-800":r?"hover:bg-red-900":"hover:bg-red-200"}`,onClick:()=>n(!1),children:d.name},d.href))})]})}function KA(){const{isDarkMode:t}=P.useContext(Dt),e=[{name:"Facebook",icon:"fab fa-facebook-f",url:"https://facebook.com"},{name:"Twitter/X",icon:"fab fa-x-twitter",url:"https://x.com"},{name:"Instagram",icon:"fab fa-instagram",url:"https://instagram.com"},{name:"LinkedIn",icon:"fab fa-linkedin-in",url:"https://linkedin.com"},{name:"YouTube",icon:"fab fa-youtube",url:"https://youtube.com"},{name:"Pinterest",icon:"fab fa-pinterest-p",url:"https://pinterest.com"},{name:"TikTok",icon:"fab fa-tiktok",url:"https://tiktok.com"},{name:"GitHub",icon:"fab fa-github",url:"https://github.com"}];return x.jsxs("div",{className:`relative min-h-screen ${t?"bg-stone-900":"bg-white"}`,children:[x.jsx(qA,{}),x.jsx("main",{className:"container mx-auto px-4 py-8 md:pt-16",children:x.jsx(KC,{})}),x.jsxs("footer",{className:`py-4 text-center text-sm backdrop-blur-sm ${t?"bg-stone-900/80 text-white":"bg-white/80 text-stone-600"}`,children:[x.jsx("div",{className:"mb-2",children:"© 2025 Aussie Gut Pack - Your Gut Health Companion"}),x.jsx("div",{className:"flex justify-center space-x-4",children:e.map(n=>x.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:`text-lg transition-colors duration-300 ${t?"text-stone-400 hover:text-stone-200":"text-stone-600 hover:text-red-800"}`,"aria-label":`Follow us on ${n.name}`,children:x.jsx("i",{className:n.icon})},n.name))})]})]})}function or({to:t,children:e,variant:n,className:r,...i}){const a="px-4 py-2 rounded transition-colors duration-300 ease-in-out",u=n==="primary"?"bg-red-800 text-white hover:bg-red-900":"bg-stone-200 text-red-600 hover:bg-stone-300";return t?x.jsx(Sr,{to:t,className:`${a} ${u} ${r}`,...i,children:e}):x.jsx("button",{className:`${a} ${u} ${r}`,...i,children:e})}const GA="/aussie-gut-pack/assets/aussie-BleX4DhZ.png",QA="/aussie-gut-pack/assets/goggins-BJp9afAd.png",G0=[GA,QA],XA=()=>{const[t,e]=P.useState(0);return P.useEffect(()=>{const n=setInterval(()=>{e(r=>(r+1)%G0.length)},5e3);return()=>clearInterval(n)},[]),x.jsx("div",{className:"absolute inset-0 w-full h-full overflow-hidden bg-gray-900",children:G0.map((n,r)=>x.jsx("div",{className:`absolute inset-0 w-[120%] h-full bg-cover bg-center transition-opacity duration-1000 ease-in-out ${r===t?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${n})`}},r))})},Jp=P.createContext({});function Zp(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const em=typeof window<"u",G_=em?P.useLayoutEffect:P.useEffect,vd=P.createContext(null),tm=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class YA extends P.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function JA({children:t,isPresent:e,anchorX:n}){const r=P.useId(),i=P.useRef(null),a=P.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=P.useContext(tm);return P.useInsertionEffect(()=>{const{width:d,height:f,top:p,left:g,right:_}=a.current;if(e||!i.current||!d||!f)return;const E=n==="left"?`left: ${g}`:`right: ${_}`;i.current.dataset.motionPopId=r;const b=document.createElement("style");return u&&(b.nonce=u),document.head.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(b)}},[e]),x.jsx(YA,{isPresent:e,childRef:i,sizeRef:a,children:P.cloneElement(t,{ref:i})})}const ZA=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:u,anchorX:d})=>{const f=Zp(e1),p=P.useId(),g=P.useCallback(E=>{f.set(E,!0);for(const b of f.values())if(!b)return;r&&r()},[f,r]),_=P.useMemo(()=>({id:p,initial:e,isPresent:n,custom:i,onExitComplete:g,register:E=>(f.set(E,!1),()=>f.delete(E))}),a?[Math.random(),g]:[n,g]);return P.useMemo(()=>{f.forEach((E,b)=>f.set(b,!1))},[n]),P.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),u==="popLayout"&&(t=x.jsx(JA,{isPresent:n,anchorX:d,children:t})),x.jsx(vd.Provider,{value:_,children:t})};function e1(){return new Map}function Q_(t=!0){const e=P.useContext(vd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=P.useId();P.useEffect(()=>{if(t)return i(a)},[t]);const u=P.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,u]:[!0]}const wc=t=>t.key||"";function Q0(t){const e=[];return P.Children.forEach(t,n=>{P.isValidElement(n)&&e.push(n)}),e}const X0=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:u=!1,anchorX:d="left"})=>{const[f,p]=Q_(u),g=P.useMemo(()=>Q0(t),[t]),_=u&&!f?[]:g.map(wc),E=P.useRef(!0),b=P.useRef(g),A=Zp(()=>new Map),[j,N]=P.useState(g),[O,W]=P.useState(g);G_(()=>{E.current=!1,b.current=g;for(let L=0;L<O.length;L++){const B=wc(O[L]);_.includes(B)?A.delete(B):A.get(B)!==!0&&A.set(B,!1)}},[O,_.length,_.join("-")]);const F=[];if(g!==j){let L=[...g];for(let B=0;B<O.length;B++){const k=O[B],C=wc(k);_.includes(C)||(L.splice(B,0,k),F.push(k))}return a==="wait"&&F.length&&(L=F),W(Q0(L)),N(g),null}const{forceRender:I}=P.useContext(Jp);return x.jsx(x.Fragment,{children:O.map(L=>{const B=wc(L),k=u&&!f?!1:g===O||_.includes(B),C=()=>{if(A.has(B))A.set(B,!0);else return;let R=!0;A.forEach(M=>{M||(R=!1)}),R&&(I==null||I(),W(b.current),u&&(p==null||p()),r&&r())};return x.jsx(ZA,{isPresent:k,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,onExitComplete:k?void 0:C,anchorX:d,children:L},B)})})};function nm(t,e){t.indexOf(e)===-1&&t.push(e)}function rm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Cn=t=>t;let X_=Cn;const t1={useManualTiming:!1};function sm(t){let e;return()=>(e===void 0&&(e=t()),e)}const Xo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class im{constructor(){this.subscriptions=[]}add(e){return nm(this.subscriptions,e),()=>rm(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const u=this.subscriptions[a];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const es=t=>t*1e3,ts=t=>t/1e3;function Y_(t,e){return e?t*(1e3/e):0}const n1=sm(()=>window.ScrollTimeline!==void 0);class r1{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(n1()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class s1 extends r1{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function om(t,e){return t?t[e]||t.default||t:void 0}const Yf=2e4;function J_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Yf;)e+=n,r=t.next(e);return e>=Yf?1/0:e}function am(t){return typeof t=="function"}function Y0(t,e){t.timeline=e,t.onfinish=null}const lm=t=>Array.isArray(t)&&typeof t[0]=="number",i1={linearEasing:void 0};function o1(t,e){const n=sm(t);return()=>{var r;return(r=i1[e])!==null&&r!==void 0?r:n()}}const Kc=o1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Z_=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(Xo(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function ew(t){return!!(typeof t=="function"&&Kc()||!t||typeof t=="string"&&(t in Jf||Kc())||lm(t)||Array.isArray(t)&&t.every(ew))}const pl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Jf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pl([0,.65,.55,1]),circOut:pl([.55,0,1,.45]),backIn:pl([.31,.01,.66,-.59]),backOut:pl([.33,1.53,.69,.99])};function tw(t,e){if(t)return typeof t=="function"&&Kc()?Z_(t,e):lm(t)?pl(t):Array.isArray(t)?t.map(n=>tw(n,e)||Jf.easeOut):Jf[t]}const Ec=["read","resolveKeyframes","update","preRender","render","postRender"],J0={value:null};function a1(t,e){let n=new Set,r=new Set,i=!1,a=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},f=0;function p(_){u.has(_)&&(g.schedule(_),t()),f++,_(d)}const g={schedule:(_,E=!1,b=!1)=>{const j=b&&i?n:r;return E&&u.add(_),j.has(_)||j.add(_),_},cancel:_=>{r.delete(_),u.delete(_)},process:_=>{if(d=_,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(p),e&&J0.value&&J0.value.frameloop[e].push(f),f=0,n.clear(),i=!1,a&&(a=!1,g.process(_))}};return g}const l1=40;function nw(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=Ec.reduce((O,W)=>(O[W]=a1(a,e?W:void 0),O),{}),{read:d,resolveKeyframes:f,update:p,preRender:g,render:_,postRender:E}=u,b=()=>{const O=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(O-i.timestamp,l1),1),i.timestamp=O,i.isProcessing=!0,d.process(i),f.process(i),p.process(i),g.process(i),_.process(i),E.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(b))},A=()=>{n=!0,r=!0,i.isProcessing||t(b)};return{schedule:Ec.reduce((O,W)=>{const F=u[W];return O[W]=(I,L=!1,B=!1)=>(n||A(),F.schedule(I,L,B)),O},{}),cancel:O=>{for(let W=0;W<Ec.length;W++)u[Ec[W]].cancel(O)},state:i,steps:u}}const{schedule:Qe,cancel:Us,state:Ft,steps:Tf}=nw(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cn,!0),{schedule:um}=nw(queueMicrotask,!1);let Vc;function u1(){Vc=void 0}const Cr={now:()=>(Vc===void 0&&Cr.set(Ft.isProcessing||t1.useManualTiming?Ft.timestamp:performance.now()),Vc),set:t=>{Vc=t,queueMicrotask(u1)}},ir={x:!1,y:!1};function rw(){return ir.x||ir.y}function c1(t){return t==="x"||t==="y"?ir[t]?null:(ir[t]=!0,()=>{ir[t]=!1}):ir.x||ir.y?null:(ir.x=ir.y=!0,()=>{ir.x=ir.y=!1})}function d1(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function sw(t,e){const n=d1(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Z0(t){return!(t.pointerType==="touch"||rw())}function h1(t,e,n={}){const[r,i,a]=sw(t,n),u=d=>{if(!Z0(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const g=_=>{Z0(_)&&(p(_),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,i)};return r.forEach(d=>{d.addEventListener("pointerenter",u,i)}),a}function ev(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const iw=(t,e)=>e?t===e?!0:iw(t,e.parentElement):!1,cm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,f1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function p1(t){return f1.has(t.tagName)||t.tabIndex!==-1}const ml=new WeakSet;function tv(t){return e=>{e.key==="Enter"&&t(e)}}function bf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const m1=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=tv(()=>{if(ml.has(n))return;bf(n,"down");const i=tv(()=>{bf(n,"up")}),a=()=>bf(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function nv(t){return cm(t)&&!rw()}function g1(t,e,n={}){const[r,i,a]=sw(t,n),u=d=>{const f=d.currentTarget;if(!f||!nv(d)||ml.has(f))return;ml.add(f),ev(d,"set");const p=e(f,d),g=(b,A)=>{f.removeEventListener("pointerup",_),f.removeEventListener("pointercancel",E),ev(b,"release"),!(!nv(b)||!ml.has(f))&&(ml.delete(f),typeof p=="function"&&p(b,{success:A}))},_=b=>{(b.isTrusted?y1(b,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(b,!1):g(b,!(f instanceof Element)||iw(f,b.target))},E=b=>{g(b,!1)};f.addEventListener("pointerup",_,i),f.addEventListener("pointercancel",E,i),f.addEventListener("lostpointercapture",E,i)};return r.forEach(d=>{d=n.useGlobalTarget?window:d;let f=!1;d instanceof HTMLElement&&(f=!0,!p1(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0)),d.addEventListener("pointerdown",u,i),f&&d.addEventListener("focus",p=>m1(p,i),i)}),a}function y1(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const rv=30,v1=t=>!isNaN(parseFloat(t));class x1{constructor(e,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Cr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=v1(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new im);const r=this.events[e].add(n);return e==="change"?()=>{r(),Qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>rv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,rv);return Y_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Il(t,e){return new x1(t,e)}const ow=P.createContext({strict:!1}),sv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Yo={};for(const t in sv)Yo[t]={isEnabled:e=>sv[t].some(n=>!!e[n])};function _1(t){for(const e in t)Yo[e]={...Yo[e],...t[e]}}const w1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||w1.has(t)}let aw=t=>!Gc(t);function E1(t){t&&(aw=e=>e.startsWith("on")?!Gc(e):t(e))}try{E1(require("@emotion/is-prop-valid").default)}catch{}function T1(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(aw(i)||n===!0&&Gc(i)||!e&&!Gc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function b1(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const xd=P.createContext({});function _d(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function kl(t){return typeof t=="string"||Array.isArray(t)}const dm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hm=["initial",...dm];function wd(t){return _d(t.animate)||hm.some(e=>kl(t[e]))}function lw(t){return!!(wd(t)||t.variants)}function S1(t,e){if(wd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||kl(n)?n:void 0,animate:kl(r)?r:void 0}}return t.inherit!==!1?e:{}}function C1(t){const{initial:e,animate:n}=S1(t,P.useContext(xd));return P.useMemo(()=>({initial:e,animate:n}),[iv(e),iv(n)])}function iv(t){return Array.isArray(t)?t.join(" "):t}const A1=Symbol.for("motionComponentSymbol");function Wo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function P1(t,e,n){return P.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Wo(n)&&(n.current=r))},[e])}const fm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R1="framerAppearId",uw="data-"+fm(R1),cw=P.createContext({});function I1(t,e,n,r,i){var a,u;const{visualElement:d}=P.useContext(xd),f=P.useContext(ow),p=P.useContext(vd),g=P.useContext(tm).reducedMotion,_=P.useRef(null);r=r||f.renderer,!_.current&&r&&(_.current=r(t,{visualState:e,parent:d,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const E=_.current,b=P.useContext(cw);E&&!E.projection&&i&&(E.type==="html"||E.type==="svg")&&k1(_.current,n,i,b);const A=P.useRef(!1);P.useInsertionEffect(()=>{E&&A.current&&E.update(n,p)});const j=n[uw],N=P.useRef(!!j&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,j))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,j)));return G_(()=>{E&&(A.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),um.render(E.render),N.current&&E.animationState&&E.animationState.animateChanges())}),P.useEffect(()=>{E&&(!N.current&&E.animationState&&E.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,j)}),N.current=!1))}),E}function k1(t,e,n,r){const{layoutId:i,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:dw(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!u||d&&Wo(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function dw(t){if(t)return t.options.allowProjection!==!1?t.projection:dw(t.parent)}function N1({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,u;t&&_1(t);function d(p,g){let _;const E={...P.useContext(tm),...p,layoutId:D1(p)},{isStatic:b}=E,A=C1(p),j=r(p,b);if(!b&&em){V1();const N=j1(E);_=N.MeasureLayout,A.visualElement=I1(i,j,E,e,N.ProjectionNode)}return x.jsxs(xd.Provider,{value:A,children:[_&&A.visualElement?x.jsx(_,{visualElement:A.visualElement,...E}):null,n(i,p,P1(j,A.visualElement,g),j,b,A.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(u=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&u!==void 0?u:""})`}`;const f=P.forwardRef(d);return f[A1]=i,f}function D1({layoutId:t}){const e=P.useContext(Jp).id;return e&&t!==void 0?e+"-"+t:t}function V1(t,e){P.useContext(ow).strict}function j1(t){const{drag:e,layout:n}=Yo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const hw=t=>e=>typeof e=="string"&&e.startsWith(t),pm=hw("--"),M1=hw("var(--"),mm=t=>M1(t)?L1.test(t.split("/*")[0].trim()):!1,L1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nl={};function O1(t){for(const e in t)Nl[e]=t[e],pm(e)&&(Nl[e].isCSSVariable=!0)}const ua=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Bi=new Set(ua);function fw(t,{layout:e,layoutId:n}){return Bi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Nl[t]||t==="opacity")}const Jt=t=>!!(t&&t.getVelocity),pw=(t,e)=>e&&typeof t=="number"?e.transform(t):t,rs=(t,e,n)=>n>e?e:n<t?t:n,ca={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Dl={...ca,transform:t=>rs(0,1,t)},Tc={...ca,default:1},Gl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ns=Gl("deg"),Ar=Gl("%"),Ae=Gl("px"),F1=Gl("vh"),$1=Gl("vw"),ov={...Ar,parse:t=>Ar.parse(t)/100,transform:t=>Ar.transform(t*100)},U1={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae},B1={rotate:Ns,rotateX:Ns,rotateY:Ns,rotateZ:Ns,scale:Tc,scaleX:Tc,scaleY:Tc,scaleZ:Tc,skew:Ns,skewX:Ns,skewY:Ns,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:Dl,originX:ov,originY:ov,originZ:Ae},av={...ca,transform:Math.round},gm={...U1,...B1,zIndex:av,size:Ae,fillOpacity:Dl,strokeOpacity:Dl,numOctaves:av},z1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},W1=ua.length;function H1(t,e,n){let r="",i=!0;for(let a=0;a<W1;a++){const u=ua[a],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=pw(d,gm[u]);if(!f){i=!1;const g=z1[u]||u;r+=`${g}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function ym(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let u=!1,d=!1;for(const f in e){const p=e[f];if(Bi.has(f)){u=!0;continue}else if(pm(f)){i[f]=p;continue}else{const g=pw(p,gm[f]);f.startsWith("origin")?(d=!0,a[f]=g):r[f]=g}}if(e.transform||(u||n?r.transform=H1(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const vm=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mw(t,e,n){for(const r in e)!Jt(e[r])&&!fw(r,n)&&(t[r]=e[r])}function q1({transformTemplate:t},e){return P.useMemo(()=>{const n=vm();return ym(n,e,t),Object.assign({},n.vars,n.style)},[e])}function K1(t,e){const n=t.style||{},r={};return mw(r,n,t),Object.assign(r,q1(t,e)),r}function G1(t,e){const n={},r=K1(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Q1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xm(t){return typeof t!="string"||t.includes("-")?!1:!!(Q1.indexOf(t)>-1||/[A-Z]/u.test(t))}const X1={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y1={offset:"strokeDashoffset",array:"strokeDasharray"};function J1(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?X1:Y1;t[a.offset]=Ae.transform(-r);const u=Ae.transform(e),d=Ae.transform(n);t[a.array]=`${u} ${d}`}function lv(t,e,n){return typeof t=="string"?t:Ae.transform(e+n*t)}function Z1(t,e,n){const r=lv(e,t.x,t.width),i=lv(n,t.y,t.height);return`${r} ${i}`}function _m(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...p},g,_){if(ym(t,p,_),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:b,dimensions:A}=t;E.transform&&(A&&(b.transform=E.transform),delete E.transform),A&&(i!==void 0||a!==void 0||b.transform)&&(b.transformOrigin=Z1(A,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),u!==void 0&&J1(E,u,d,f,!1)}const gw=()=>({...vm(),attrs:{}}),wm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function eP(t,e,n,r){const i=P.useMemo(()=>{const a=gw();return _m(a,e,wm(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};mw(a,t.style,t),i.style={...a,...i.style}}return i}function tP(t=!1){return(n,r,i,{latestValues:a},u)=>{const f=(xm(n)?eP:G1)(r,a,u,n),p=T1(r,typeof n=="string",t),g=n!==P.Fragment?{...p,...f,ref:i}:{},{children:_}=r,E=P.useMemo(()=>Jt(_)?_.get():_,[_]);return P.createElement(n,{...g,children:E})}}function uv(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Em(t,e,n,r){if(typeof e=="function"){const[i,a]=uv(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=uv(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const Zf=t=>Array.isArray(t),nP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),rP=t=>Zf(t)?t[t.length-1]||0:t;function jc(t){const e=Jt(t)?t.get():t;return nP(e)?e.toValue():e}function sP({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const u={latestValues:iP(r,i,a,t),renderState:e()};return n&&(u.onMount=d=>n({props:r,current:d,...u}),u.onUpdate=d=>n(d)),u}const yw=t=>(e,n)=>{const r=P.useContext(xd),i=P.useContext(vd),a=()=>sP(t,e,r,i);return n?a():Zp(a)};function iP(t,e,n,r){const i={},a=r(t,{});for(const E in a)i[E]=jc(a[E]);let{initial:u,animate:d}=t;const f=wd(t),p=lw(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const _=g?d:u;if(_&&typeof _!="boolean"&&!_d(_)){const E=Array.isArray(_)?_:[_];for(let b=0;b<E.length;b++){const A=Em(t,E[b]);if(A){const{transitionEnd:j,transition:N,...O}=A;for(const W in O){let F=O[W];if(Array.isArray(F)){const I=g?F.length-1:0;F=F[I]}F!==null&&(i[W]=F)}for(const W in j)i[W]=j[W]}}}return i}function Tm(t,e,n){var r;const{style:i}=t,a={};for(const u in i)(Jt(i[u])||e.style&&Jt(e.style[u])||fw(u,t)||((r=n==null?void 0:n.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[u]=i[u]);return a}const oP={useVisualState:yw({scrapeMotionValuesFromProps:Tm,createRenderState:vm})};function vw(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function xw(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const _w=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ww(t,e,n,r){xw(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(_w.has(i)?i:fm(i),e.attrs[i])}function Ew(t,e,n){const r=Tm(t,e,n);for(const i in t)if(Jt(t[i])||Jt(e[i])){const a=ua.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const cv=["x","y","width","height","cx","cy","r"],aP={useVisualState:yw({scrapeMotionValuesFromProps:Ew,createRenderState:gw,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const d in i)if(Bi.has(d)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let d=0;d<cv.length;d++){const f=cv[d];t[f]!==e[f]&&(u=!0)}u&&Qe.read(()=>{vw(n,r),Qe.render(()=>{_m(r,i,wm(n.tagName),t.transformTemplate),ww(n,r)})})}})};function lP(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const u={...xm(r)?aP:oP,preloadedFeatures:t,useRender:tP(i),createVisualElement:e,Component:r};return N1(u)}}function Vl(t,e,n){const r=t.getProps();return Em(r,e,n!==void 0?n:r.custom,t)}const Tw=new Set(["width","height","top","left","right","bottom",...ua]);function uP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Il(n))}function cP(t,e){const n=Vl(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const u in a){const d=rP(a[u]);uP(t,u,d)}}function dP(t){return!!(Jt(t)&&t.add)}function ep(t,e){const n=t.getValue("willChange");if(dP(n))return n.add(e)}function bw(t){return t.props[uw]}const Sw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,hP=1e-7,fP=12;function pP(t,e,n,r,i){let a,u,d=0;do u=e+(n-e)/2,a=Sw(u,r,i)-t,a>0?n=u:e=u;while(Math.abs(a)>hP&&++d<fP);return u}function Ql(t,e,n,r){if(t===e&&n===r)return Cn;const i=a=>pP(a,0,1,t,n);return a=>a===0||a===1?a:Sw(i(a),e,r)}const Cw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Aw=t=>e=>1-t(1-e),Pw=Ql(.33,1.53,.69,.99),bm=Aw(Pw),Rw=Cw(bm),Iw=t=>(t*=2)<1?.5*bm(t):.5*(2-Math.pow(2,-10*(t-1))),Sm=t=>1-Math.sin(Math.acos(t)),kw=Aw(Sm),Nw=Cw(Sm),Dw=t=>/^0[^.\s]+$/u.test(t);function mP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Dw(t):!0}const _l=t=>Math.round(t*1e5)/1e5,Cm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gP(t){return t==null}const yP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Am=(t,e)=>n=>!!(typeof n=="string"&&yP.test(n)&&n.startsWith(t)||e&&!gP(n)&&Object.prototype.hasOwnProperty.call(n,e)),Vw=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,u,d]=r.match(Cm);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},vP=t=>rs(0,255,t),Sf={...ca,transform:t=>Math.round(vP(t))},Di={test:Am("rgb","red"),parse:Vw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Sf.transform(t)+", "+Sf.transform(e)+", "+Sf.transform(n)+", "+_l(Dl.transform(r))+")"};function xP(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const tp={test:Am("#"),parse:xP,transform:Di.transform},Ho={test:Am("hsl","hue"),parse:Vw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ar.transform(_l(e))+", "+Ar.transform(_l(n))+", "+_l(Dl.transform(r))+")"},Qt={test:t=>Di.test(t)||tp.test(t)||Ho.test(t),parse:t=>Di.test(t)?Di.parse(t):Ho.test(t)?Ho.parse(t):tp.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Di.transform(t):Ho.transform(t)},_P=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Cm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(_P))===null||n===void 0?void 0:n.length)||0)>0}const jw="number",Mw="color",EP="var",TP="var(",dv="${}",bP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function jl(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const d=e.replace(bP,f=>(Qt.test(f)?(r.color.push(a),i.push(Mw),n.push(Qt.parse(f))):f.startsWith(TP)?(r.var.push(a),i.push(EP),n.push(f)):(r.number.push(a),i.push(jw),n.push(parseFloat(f))),++a,dv)).split(dv);return{values:n,split:d,indexes:r,types:i}}function Lw(t){return jl(t).values}function Ow(t){const{split:e,types:n}=jl(t),r=e.length;return i=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],i[u]!==void 0){const d=n[u];d===jw?a+=_l(i[u]):d===Mw?a+=Qt.transform(i[u]):a+=i[u]}return a}}const SP=t=>typeof t=="number"?0:t;function CP(t){const e=Lw(t);return Ow(t)(e.map(SP))}const Bs={test:wP,parse:Lw,createTransformer:Ow,getAnimatableNone:CP},AP=new Set(["brightness","contrast","saturate","opacity"]);function PP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Cm)||[];if(!r)return t;const i=n.replace(r,"");let a=AP.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const RP=/\b([a-z-]*)\(.*?\)/gu,np={...Bs,getAnimatableNone:t=>{const e=t.match(RP);return e?e.map(PP).join(" "):t}},IP={...gm,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:np,WebkitFilter:np},Fw=t=>IP[t];function $w(t,e){let n=Fw(t);return n!==np&&(n=Bs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kP=new Set(["auto","none","0"]);function NP(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!kP.has(a)&&jl(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=$w(n,i)}const Vi=t=>t*180/Math.PI,rp=t=>{const e=Vi(Math.atan2(t[1],t[0]));return sp(e)},DP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:rp,rotateZ:rp,skewX:t=>Vi(Math.atan(t[1])),skewY:t=>Vi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},sp=t=>(t=t%360,t<0&&(t+=360),t),hv=rp,fv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),VP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:fv,scaleY:pv,scale:t=>(fv(t)+pv(t))/2,rotateX:t=>sp(Vi(Math.atan2(t[6],t[5]))),rotateY:t=>sp(Vi(Math.atan2(-t[2],t[0]))),rotateZ:hv,rotate:hv,skewX:t=>Vi(Math.atan(t[4])),skewY:t=>Vi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function mv(t){return t.includes("scale")?1:0}function ip(t,e){if(!t||t==="none")return mv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=VP,i=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=DP,i=d}if(!i)return mv(e);const a=r[e],u=i[1].split(",").map(MP);return typeof a=="function"?a(u):u[a]}const jP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return ip(n,e)};function MP(t){return parseFloat(t.trim())}const gv=t=>t===ca||t===Ae,LP=new Set(["x","y","z"]),OP=ua.filter(t=>!LP.has(t));function FP(t){const e=[];return OP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Jo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>ip(e,"x"),y:(t,{transform:e})=>ip(e,"y")};Jo.translateX=Jo.x;Jo.translateY=Jo.y;const Mi=new Set;let op=!1,ap=!1;function Uw(){if(ap){const t=Array.from(Mi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=FP(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,u])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ap=!1,op=!1,Mi.forEach(t=>t.complete()),Mi.clear()}function Bw(){Mi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ap=!0)})}function $P(){Bw(),Uw()}class Pm{constructor(e,n,r,i,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Mi.add(this),op||(op=!0,Qe.read(Bw),Qe.resolveKeyframes(Uw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=i==null?void 0:i.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const f=r.readValue(n,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),i&&u===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Mi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Mi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const zw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),UP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BP(t){const e=UP.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Ww(t,e,n=1){const[r,i]=BP(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return zw(u)?parseFloat(u):u}return mm(i)?Ww(i,e,n+1):i}const Hw=t=>e=>e.test(t),zP={test:t=>t==="auto",parse:t=>t},qw=[ca,Ae,Ar,Ns,$1,F1,zP],yv=t=>qw.find(Hw(t));class Kw extends Pm{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),mm(p))){const g=Ww(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Tw.has(r)||e.length!==2)return;const[i,a]=e,u=yv(i),d=yv(a);if(u!==d)if(gv(u)&&gv(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)mP(e[i])&&r.push(i);r.length&&NP(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const u=i.length-1,d=i[u];i[u]=Jo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const vv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Bs.test(t)||t==="0")&&!t.startsWith("url("));function WP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function HP(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=vv(i,e),d=vv(a,e);return!u||!d?!1:WP(t)||(n==="spring"||am(n))&&r}const qP=t=>t!==null;function Ed(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(qP),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const KP=40;class Gw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Cr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>KP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$P(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Cr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:u,onComplete:d,onUpdate:f,isGenerator:p}=this.options;if(!p&&!HP(e,r,i,a))if(u)this.options.duration=0;else{f&&f(Ed(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const rt=(t,e,n)=>t+(e-t)*n;function Cf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,u=0;if(!e)i=a=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;i=Cf(f,d,t+1/3),a=Cf(f,d,t),u=Cf(f,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function Qc(t,e){return n=>n>0?e:t}const Af=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},QP=[tp,Di,Ho],XP=t=>QP.find(e=>e.test(t));function xv(t){const e=XP(t);if(!e)return!1;let n=e.parse(t);return e===Ho&&(n=GP(n)),n}const _v=(t,e)=>{const n=xv(t),r=xv(e);if(!n||!r)return Qc(t,e);const i={...n};return a=>(i.red=Af(n.red,r.red,a),i.green=Af(n.green,r.green,a),i.blue=Af(n.blue,r.blue,a),i.alpha=rt(n.alpha,r.alpha,a),Di.transform(i))},YP=(t,e)=>n=>e(t(n)),Xl=(...t)=>t.reduce(YP),lp=new Set(["none","hidden"]);function JP(t,e){return lp.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ZP(t,e){return n=>rt(t,e,n)}function Rm(t){return typeof t=="number"?ZP:typeof t=="string"?mm(t)?Qc:Qt.test(t)?_v:nR:Array.isArray(t)?Qw:typeof t=="object"?Qt.test(t)?_v:eR:Qc}function Qw(t,e){const n=[...t],r=n.length,i=t.map((a,u)=>Rm(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)n[u]=i[u](a);return n}}function eR(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Rm(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function tR(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],d=t.indexes[u][i[u]],f=(n=t.values[d])!==null&&n!==void 0?n:0;r[a]=f,i[u]++}return r}const nR=(t,e)=>{const n=Bs.createTransformer(e),r=jl(t),i=jl(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?lp.has(t)&&!i.values.length||lp.has(e)&&!r.values.length?JP(t,e):Xl(Qw(tR(r,i),i.values),n):Qc(t,e)};function Xw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?rt(t,e,n):Rm(t)(t,e)}const rR=5;function Yw(t,e,n){const r=Math.max(e-rR,0);return Y_(n-t(r),e-r)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wv=.001;function sR({duration:t=at.duration,bounce:e=at.bounce,velocity:n=at.velocity,mass:r=at.mass}){let i,a,u=1-e;u=rs(at.minDamping,at.maxDamping,u),t=rs(at.minDuration,at.maxDuration,ts(t)),u<1?(i=p=>{const g=p*u,_=g*t,E=g-n,b=up(p,u),A=Math.exp(-_);return wv-E/b*A},a=p=>{const _=p*u*t,E=_*n+n,b=Math.pow(u,2)*Math.pow(p,2)*t,A=Math.exp(-_),j=up(Math.pow(p,2),u);return(-i(p)+wv>0?-1:1)*((E-b)*A)/j}):(i=p=>{const g=Math.exp(-p*t),_=(p-n)*t+1;return-.001+g*_},a=p=>{const g=Math.exp(-p*t),_=(n-p)*(t*t);return g*_});const d=5/t,f=oR(i,a,d);if(t=es(t),isNaN(f))return{stiffness:at.stiffness,damping:at.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const iR=12;function oR(t,e,n){let r=n;for(let i=1;i<iR;i++)r=r-t(r)/e(r);return r}function up(t,e){return t*Math.sqrt(1-e*e)}const aR=["duration","bounce"],lR=["stiffness","damping","mass"];function Ev(t,e){return e.some(n=>t[n]!==void 0)}function uR(t){let e={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...t};if(!Ev(t,lR)&&Ev(t,aR))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*rs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:at.mass,stiffness:i,damping:a}}else{const n=sR(t);e={...e,...n,mass:at.mass},e.isResolvedFromDuration=!0}return e}function Jw(t=at.visualDuration,e=at.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:_,velocity:E,isResolvedFromDuration:b}=uR({...n,velocity:-ts(n.velocity||0)}),A=E||0,j=p/(2*Math.sqrt(f*g)),N=u-a,O=ts(Math.sqrt(f/g)),W=Math.abs(N)<5;r||(r=W?at.restSpeed.granular:at.restSpeed.default),i||(i=W?at.restDelta.granular:at.restDelta.default);let F;if(j<1){const L=up(O,j);F=B=>{const k=Math.exp(-j*O*B);return u-k*((A+j*O*N)/L*Math.sin(L*B)+N*Math.cos(L*B))}}else if(j===1)F=L=>u-Math.exp(-O*L)*(N+(A+O*N)*L);else{const L=O*Math.sqrt(j*j-1);F=B=>{const k=Math.exp(-j*O*B),C=Math.min(L*B,300);return u-k*((A+j*O*N)*Math.sinh(C)+L*N*Math.cosh(C))/L}}const I={calculatedDuration:b&&_||null,next:L=>{const B=F(L);if(b)d.done=L>=_;else{let k=0;j<1&&(k=L===0?es(A):Yw(F,L,B));const C=Math.abs(k)<=r,R=Math.abs(u-B)<=i;d.done=C&&R}return d.value=d.done?u:B,d},toString:()=>{const L=Math.min(J_(I),Yf),B=Z_(k=>I.next(L*k).value,L,30);return L+"ms "+B}};return I}function Tv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:g}){const _=t[0],E={done:!1,value:_},b=C=>d!==void 0&&C<d||f!==void 0&&C>f,A=C=>d===void 0?f:f===void 0||Math.abs(d-C)<Math.abs(f-C)?d:f;let j=n*e;const N=_+j,O=u===void 0?N:u(N);O!==N&&(j=O-_);const W=C=>-j*Math.exp(-C/r),F=C=>O+W(C),I=C=>{const R=W(C),M=F(C);E.done=Math.abs(R)<=p,E.value=E.done?O:M};let L,B;const k=C=>{b(E.value)&&(L=C,B=Jw({keyframes:[E.value,A(E.value)],velocity:Yw(F,C,E.value),damping:i,stiffness:a,restDelta:p,restSpeed:g}))};return k(0),{calculatedDuration:null,next:C=>{let R=!1;return!B&&L===void 0&&(R=!0,I(C),k(C)),L!==void 0&&C>=L?B.next(C-L):(!R&&I(C),E)}}}const cR=Ql(.42,0,1,1),dR=Ql(0,0,.58,1),Zw=Ql(.42,0,.58,1),hR=t=>Array.isArray(t)&&typeof t[0]!="number",fR={linear:Cn,easeIn:cR,easeInOut:Zw,easeOut:dR,circIn:Sm,circInOut:Nw,circOut:kw,backIn:bm,backInOut:Rw,backOut:Pw,anticipate:Iw},bv=t=>{if(lm(t)){X_(t.length===4);const[e,n,r,i]=t;return Ql(e,n,r,i)}else if(typeof t=="string")return fR[t];return t};function pR(t,e,n){const r=[],i=n||Xw,a=t.length-1;for(let u=0;u<a;u++){let d=i(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||Cn:e;d=Xl(f,d)}r.push(d)}return r}function mR(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(X_(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=pR(e,r,i),f=d.length,p=g=>{if(u&&g<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(g<t[_+1]);_++);const E=Xo(t[_],t[_+1],g);return d[_](E)};return n?g=>p(rs(t[0],t[a-1],g)):p}function gR(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Xo(0,e,r);t.push(rt(n,1,i))}}function yR(t){const e=[0];return gR(e,t.length-1),e}function vR(t,e){return t.map(n=>n*e)}function xR(t,e){return t.map(()=>e||Zw).splice(0,t.length-1)}function Xc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=hR(r)?r.map(bv):bv(r),a={done:!1,value:e[0]},u=vR(n&&n.length===e.length?n:yR(e),t),d=mR(u,e,{ease:Array.isArray(i)?i:xR(e,i)});return{calculatedDuration:t,next:f=>(a.value=d(f),a.done=f>=t,a)}}const _R=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Qe.update(e,!0),stop:()=>Us(e),now:()=>Ft.isProcessing?Ft.timestamp:Cr.now()}},wR={decay:Tv,inertia:Tv,tween:Xc,keyframes:Xc,spring:Jw},ER=t=>t/100;class Im extends Gw{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,u=(i==null?void 0:i.KeyframeResolver)||Pm,d=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new u(a,d,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:u=0}=this.options,d=am(n)?n:wR[n]||Xc;let f,p;d!==Xc&&typeof e[0]!="number"&&(f=Xl(ER,Xw(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});a==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=J_(g));const{calculatedDuration:_}=g,E=_+i,b=E*(r+1)-i;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:E,totalDuration:b}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:b,repeatType:A,repeatDelay:j,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-E*(this.speed>=0?1:-1),W=this.speed>=0?O<0:O>g;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let F=this.currentTime,I=a;if(b){const C=Math.min(this.currentTime,g)/_;let R=Math.floor(C),M=C%1;!M&&C>=1&&(M=1),M===1&&R--,R=Math.min(R,b+1),!!(R%2)&&(A==="reverse"?(M=1-M,j&&(M-=j/_)):A==="mirror"&&(I=u)),F=rs(0,1,M)*_}const L=W?{done:!1,value:f[0]}:I.next(F);d&&(L.value=d(L.value));let{done:B}=L;!W&&p!==null&&(B=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return k&&i!==void 0&&(L.value=Ed(f,this.options,i)),N&&N(L.value),k&&this.finish(),L}get duration(){const{resolved:e}=this;return e?ts(e.calculatedDuration):0}get time(){return ts(this.currentTime)}set time(e){e=es(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ts(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=_R,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const TR=new Set(["opacity","clipPath","filter","transform"]);function bR(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const g=tw(d,i);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const SR=sm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Yc=10,CR=2e4;function AR(t){return am(t.type)||t.type==="spring"||!ew(t.ease)}function PR(t,e){const n=new Im({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<CR;)r=n.sample(a),i.push(r.value),a+=Yc;return{times:void 0,keyframes:i,duration:a-Yc,ease:"linear"}}const eE={anticipate:Iw,backInOut:Rw,circInOut:Nw};function RR(t){return t in eE}class Sv extends Gw{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new Kw(a,(u,d)=>this.onKeyframesResolved(u,d),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:u,motionValue:d,name:f,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&Kc()&&RR(a)&&(a=eE[a]),AR(this.options)){const{onComplete:_,onUpdate:E,motionValue:b,element:A,...j}=this.options,N=PR(e,j);e=N.keyframes,e.length===1&&(e[1]=e[0]),r=N.duration,i=N.times,a=N.ease,u="keyframes"}const g=bR(d.owner.current,f,e,{...this.options,duration:r,times:i,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(Y0(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;d.set(Ed(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:i,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ts(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ts(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=es(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Cn;const{animation:r}=n;Y0(r,e)}return Cn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:u,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:E,...b}=this.options,A=new Im({...b,keyframes:r,duration:i,type:a,ease:u,times:d,isGenerator:!0}),j=es(this.time);p.setWithVelocity(A.sample(j-Yc).value,A.sample(j).value,Yc)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:u,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return SR()&&r&&TR.has(r)&&!f&&!p&&!i&&a!=="mirror"&&u!==0&&d!=="inertia"}}const IR={type:"spring",stiffness:500,damping:25,restSpeed:10},kR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),NR={type:"keyframes",duration:.8},DR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},VR=(t,{keyframes:e})=>e.length>2?NR:Bi.has(t)?t.startsWith("scale")?kR(e[1]):IR:DR;function jR({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const km=(t,e,n,r={},i,a)=>u=>{const d=om(r,t)||{},f=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-es(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:i};jR(d)||(g={...g,...VR(t,g)}),g.duration&&(g.duration=es(g.duration)),g.repeatDelay&&(g.repeatDelay=es(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),g.allowFlatten=!d.type&&!d.ease,_&&!a&&e.get()!==void 0){const E=Ed(g.keyframes,d);if(E!==void 0)return Qe.update(()=>{g.onUpdate(E),g.onComplete()}),new s1([])}return!a&&Sv.supports(g)?new Sv(g):new Im(g)};function MR({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function tE(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:u=t.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(u=r);const p=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const _ in f){const E=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),b=f[_];if(b===void 0||g&&MR(g,_))continue;const A={delay:n,...om(u||{},_)};let j=!1;if(window.MotionHandoffAnimation){const O=bw(t);if(O){const W=window.MotionHandoffAnimation(O,_,Qe);W!==null&&(A.startTime=W,j=!0)}}ep(t,_),E.start(km(_,E,b,t.shouldReduceMotion&&Tw.has(_)?{type:!1}:A,t,j));const N=E.animation;N&&p.push(N)}return d&&Promise.all(p).then(()=>{Qe.update(()=>{d&&cP(t,d)})}),p}function cp(t,e,n={}){var r;const i=Vl(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const u=i?()=>Promise.all(tE(t,i,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=a;return LR(t,e,g+p,_,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,g]=f==="beforeChildren"?[u,d]:[d,u];return p().then(()=>g())}else return Promise.all([u(),d(n.delay)])}function LR(t,e,n=0,r=0,i=1,a){const u=[],d=(t.variantChildren.size-1)*r,f=i===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(t.variantChildren).sort(OR).forEach((p,g)=>{p.notify("AnimationStart",e),u.push(cp(p,e,{...a,delay:n+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function OR(t,e){return t.sortNodePosition(e)}function FR(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>cp(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=cp(t,e,n);else{const i=typeof e=="function"?Vl(t,e,n.custom):e;r=Promise.all(tE(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function nE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const $R=hm.length;function rE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?rE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$R;n++){const r=hm[n],i=t.props[r];(kl(i)||i===!1)&&(e[r]=i)}return e}const UR=[...dm].reverse(),BR=dm.length;function zR(t){return e=>Promise.all(e.map(({animation:n,options:r})=>FR(t,n,r)))}function WR(t){let e=zR(t),n=Cv(),r=!0;const i=f=>(p,g)=>{var _;const E=Vl(t,g,f==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(E){const{transition:b,transitionEnd:A,...j}=E;p={...p,...j,...A}}return p};function a(f){e=f(t)}function u(f){const{props:p}=t,g=rE(t.parent)||{},_=[],E=new Set;let b={},A=1/0;for(let N=0;N<BR;N++){const O=UR[N],W=n[O],F=p[O]!==void 0?p[O]:g[O],I=kl(F),L=O===f?W.isActive:null;L===!1&&(A=N);let B=F===g[O]&&F!==p[O]&&I;if(B&&r&&t.manuallyAnimateOnMount&&(B=!1),W.protectedKeys={...b},!W.isActive&&L===null||!F&&!W.prevProp||_d(F)||typeof F=="boolean")continue;const k=HR(W.prevProp,F);let C=k||O===f&&W.isActive&&!B&&I||N>A&&I,R=!1;const M=Array.isArray(F)?F:[F];let U=M.reduce(i(O),{});L===!1&&(U={});const{prevResolvedValues:H={}}=W,D={...H,...U},te=xe=>{C=!0,E.has(xe)&&(R=!0,E.delete(xe)),W.needsAnimating[xe]=!0;const ie=t.getValue(xe);ie&&(ie.liveStyle=!1)};for(const xe in D){const ie=U[xe],fe=H[xe];if(b.hasOwnProperty(xe))continue;let he=!1;Zf(ie)&&Zf(fe)?he=!nE(ie,fe):he=ie!==fe,he?ie!=null?te(xe):E.add(xe):ie!==void 0&&E.has(xe)?te(xe):W.protectedKeys[xe]=!0}W.prevProp=F,W.prevResolvedValues=U,W.isActive&&(b={...b,...U}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(B&&k)||R)&&_.push(...M.map(xe=>({animation:xe,options:{type:O}})))}if(E.size){const N={};if(typeof p.initial!="boolean"){const O=Vl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(N.transition=O.transition)}E.forEach(O=>{const W=t.getBaseTarget(O),F=t.getValue(O);F&&(F.liveStyle=!0),N[O]=W??null}),_.push({animation:N})}let j=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(j=!1),r=!1,j?e(_):Promise.resolve()}function d(f,p){var g;if(n[f].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(E=>{var b;return(b=E.animationState)===null||b===void 0?void 0:b.setActive(f,p)}),n[f].isActive=p;const _=u(f);for(const E in n)n[E].protectedKeys={};return _}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Cv(),r=!0}}}function HR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!nE(e,t):!1}function Ai(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Cv(){return{animate:Ai(!0),whileInView:Ai(),whileHover:Ai(),whileTap:Ai(),whileDrag:Ai(),whileFocus:Ai(),exit:Ai()}}class Ys{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qR extends Ys{constructor(e){super(e),e.animationState||(e.animationState=WR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();_d(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let KR=0;class GR extends Ys{constructor(){super(...arguments),this.id=KR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const QR={animation:{Feature:qR},exit:{Feature:GR}};function Ml(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Yl(t){return{point:{x:t.pageX,y:t.pageY}}}const XR=t=>e=>cm(e)&&t(e,Yl(e));function wl(t,e,n,r){return Ml(t,e,XR(n),r)}function sE({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function YR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function JR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const iE=1e-4,ZR=1-iE,eI=1+iE,oE=.01,tI=0-oE,nI=0+oE;function sn(t){return t.max-t.min}function rI(t,e,n){return Math.abs(t-e)<=n}function Av(t,e,n,r=.5){t.origin=r,t.originPoint=rt(e.min,e.max,t.origin),t.scale=sn(n)/sn(e),t.translate=rt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ZR&&t.scale<=eI||isNaN(t.scale))&&(t.scale=1),(t.translate>=tI&&t.translate<=nI||isNaN(t.translate))&&(t.translate=0)}function El(t,e,n,r){Av(t.x,e.x,n.x,r?r.originX:void 0),Av(t.y,e.y,n.y,r?r.originY:void 0)}function Pv(t,e,n){t.min=n.min+e.min,t.max=t.min+sn(e)}function sI(t,e,n){Pv(t.x,e.x,n.x),Pv(t.y,e.y,n.y)}function Rv(t,e,n){t.min=e.min-n.min,t.max=t.min+sn(e)}function Tl(t,e,n){Rv(t.x,e.x,n.x),Rv(t.y,e.y,n.y)}const Iv=()=>({translate:0,scale:1,origin:0,originPoint:0}),qo=()=>({x:Iv(),y:Iv()}),kv=()=>({min:0,max:0}),ft=()=>({x:kv(),y:kv()});function Un(t){return[t("x"),t("y")]}function Pf(t){return t===void 0||t===1}function dp({scale:t,scaleX:e,scaleY:n}){return!Pf(t)||!Pf(e)||!Pf(n)}function Ii(t){return dp(t)||aE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function aE(t){return Nv(t.x)||Nv(t.y)}function Nv(t){return t&&t!=="0%"}function Jc(t,e,n){const r=t-n,i=e*r;return n+i}function Dv(t,e,n,r,i){return i!==void 0&&(t=Jc(t,i,r)),Jc(t,n,r)+e}function hp(t,e=0,n=1,r,i){t.min=Dv(t.min,e,n,r,i),t.max=Dv(t.max,e,n,r,i)}function lE(t,{x:e,y:n}){hp(t.x,e.translate,e.scale,e.originPoint),hp(t.y,n.translate,n.scale,n.originPoint)}const Vv=.999999999999,jv=1.0000000000001;function iI(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,u;for(let d=0;d<i;d++){a=n[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Go(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,lE(t,u)),r&&Ii(a.latestValues)&&Go(t,a.latestValues))}e.x<jv&&e.x>Vv&&(e.x=1),e.y<jv&&e.y>Vv&&(e.y=1)}function Ko(t,e){t.min=t.min+e,t.max=t.max+e}function Mv(t,e,n,r,i=.5){const a=rt(t.min,t.max,i);hp(t,e,n,a,r)}function Go(t,e){Mv(t.x,e.x,e.scaleX,e.scale,e.originX),Mv(t.y,e.y,e.scaleY,e.scale,e.originY)}function uE(t,e){return sE(JR(t.getBoundingClientRect(),e))}function oI(t,e,n){const r=uE(t,n),{scroll:i}=e;return i&&(Ko(r.x,i.offset.x),Ko(r.y,i.offset.y)),r}const cE=({current:t})=>t?t.ownerDocument.defaultView:null,Lv=(t,e)=>Math.abs(t-e);function aI(t,e){const n=Lv(t.x,e.x),r=Lv(t.y,e.y);return Math.sqrt(n**2+r**2)}class dE{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=If(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,b=aI(_.offset,{x:0,y:0})>=3;if(!E&&!b)return;const{point:A}=_,{timestamp:j}=Ft;this.history.push({...A,timestamp:j});const{onStart:N,onMove:O}=this.handlers;E||(N&&N(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=Rf(E,this.transformPagePoint),Qe.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:b,onSessionEnd:A,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=If(_.type==="pointercancel"?this.lastMoveEventInfo:Rf(E,this.transformPagePoint),this.history);this.startEvent&&b&&b(_,N),A&&A(_,N)},!cm(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const u=Yl(e),d=Rf(u,this.transformPagePoint),{point:f}=d,{timestamp:p}=Ft;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,If(d,this.history)),this.removeListeners=Xl(wl(this.contextWindow,"pointermove",this.handlePointerMove),wl(this.contextWindow,"pointerup",this.handlePointerUp),wl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Us(this.updatePoint)}}function Rf(t,e){return e?{point:e(t.point)}:t}function Ov(t,e){return{x:t.x-e.x,y:t.y-e.y}}function If({point:t},e){return{point:t,delta:Ov(t,hE(e)),offset:Ov(t,lI(e)),velocity:uI(e,.1)}}function lI(t){return t[0]}function hE(t){return t[t.length-1]}function uI(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=hE(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>es(e)));)n--;if(!r)return{x:0,y:0};const a=ts(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function cI(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?rt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?rt(n,t,r.max):Math.min(t,n)),t}function Fv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function dI(t,{top:e,left:n,bottom:r,right:i}){return{x:Fv(t.x,n,i),y:Fv(t.y,e,r)}}function $v(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function hI(t,e){return{x:$v(t.x,e.x),y:$v(t.y,e.y)}}function fI(t,e){let n=.5;const r=sn(t),i=sn(e);return i>r?n=Xo(e.min,e.max-r,t.min):r>i&&(n=Xo(t.min,t.max-i,e.min)),rs(0,1,n)}function pI(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const fp=.35;function mI(t=fp){return t===!1?t=0:t===!0&&(t=fp),{x:Uv(t,"left","right"),y:Uv(t,"top","bottom")}}function Uv(t,e,n){return{min:Bv(t,e),max:Bv(t,n)}}function Bv(t,e){return typeof t=="number"?t:t[e]||0}const gI=new WeakMap;class yI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yl(g).point)},a=(g,_)=>{const{drag:E,dragPropagation:b,onDragStart:A}=this.getProps();if(E&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=c1(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Un(N=>{let O=this.getAxisMotionValue(N).get()||0;if(Ar.test(O)){const{projection:W}=this.visualElement;if(W&&W.layout){const F=W.layout.layoutBox[N];F&&(O=sn(F)*(parseFloat(O)/100))}}this.originPoint[N]=O}),A&&Qe.postRender(()=>A(g,_)),ep(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},u=(g,_)=>{const{dragPropagation:E,dragDirectionLock:b,onDirectionLock:A,onDrag:j}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:N}=_;if(b&&this.currentDirection===null){this.currentDirection=vI(N),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",_.point,N),this.updateAxis("y",_.point,N),this.visualElement.render(),j&&j(g,_)},d=(g,_)=>this.stop(g,_),f=()=>Un(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new dE(e,{onSessionStart:i,onStart:a,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:cE(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Qe.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!bc(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=cI(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Wo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=dI(i.layoutBox,n):this.constraints=!1,this.elastic=mI(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Un(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=pI(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Wo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=oI(r,i.root,this.visualElement.getTransformPagePoint());let u=hI(i.layout.layoutBox,a);if(n){const d=n(YR(u));this.hasMutatedConstraints=!!d,d&&(u=sE(d))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=Un(g=>{if(!bc(g,n,this.currentDirection))return;let _=f&&f[g]||{};u&&(_={min:0,max:0});const E=i?200:1e6,b=i?40:1e7,A={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,A)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ep(this.visualElement,e),r.start(km(e,r,0,n,this.visualElement,!1))}stopAnimation(){Un(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Un(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Un(n=>{const{drag:r}=this.getProps();if(!bc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:u,max:d}=i.layout.layoutBox[n];a.set(e[n]-rt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Un(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();i[u]=fI({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Un(u=>{if(!bc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(rt(f,p,i[u]))})}addListeners(){if(!this.visualElement.current)return;gI.set(this.visualElement,this);const e=this.visualElement.current,n=wl(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Wo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Qe.read(r);const u=Ml(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Un(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:u=fp,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function bc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function vI(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xI extends Ys{constructor(e){super(e),this.removeGroupControls=Cn,this.removeListeners=Cn,this.controls=new yI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const zv=t=>(e,n)=>{t&&Qe.postRender(()=>t(e,n))};class _I extends Ys{constructor(){super(...arguments),this.removePointerDownListener=Cn}onPointerDown(e){this.session=new dE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:zv(e),onStart:zv(n),onMove:r,onEnd:(a,u)=>{delete this.session,i&&Qe.postRender(()=>i(a,u))}}}mount(){this.removePointerDownListener=wl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Mc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Wv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=Wv(t,e.target.x),r=Wv(t,e.target.y);return`${n}% ${r}%`}},wI={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Bs.parse(t);if(i.length>5)return r;const a=Bs.createTransformer(t),u=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;i[0+u]/=d,i[1+u]/=f;const p=rt(d,f,.5);return typeof i[2+u]=="number"&&(i[2+u]/=p),typeof i[3+u]=="number"&&(i[3+u]/=p),a(i)}};class EI extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;O1(TI),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Mc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||Qe.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),um.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fE(t){const[e,n]=Q_(),r=P.useContext(Jp);return x.jsx(EI,{...t,layoutGroup:r,switchLayoutGroup:P.useContext(cw),isPresent:e,safeToRemove:n})}const TI={borderRadius:{...dl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dl,borderTopRightRadius:dl,borderBottomLeftRadius:dl,borderBottomRightRadius:dl,boxShadow:wI};function bI(t,e,n){const r=Jt(t)?t:Il(t);return r.start(km("",r,e,n)),r.animation}function SI(t){return t instanceof SVGElement&&t.tagName!=="svg"}const CI=(t,e)=>t.depth-e.depth;class AI{constructor(){this.children=[],this.isDirty=!1}add(e){nm(this.children,e),this.isDirty=!0}remove(e){rm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(CI),this.isDirty=!1,this.children.forEach(e)}}function PI(t,e){const n=Cr.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Us(r),t(a-e))};return Qe.read(r,!0),()=>Us(r)}const pE=["TopLeft","TopRight","BottomLeft","BottomRight"],RI=pE.length,Hv=t=>typeof t=="string"?parseFloat(t):t,qv=t=>typeof t=="number"||Ae.test(t);function II(t,e,n,r,i,a){i?(t.opacity=rt(0,n.opacity!==void 0?n.opacity:1,kI(r)),t.opacityExit=rt(e.opacity!==void 0?e.opacity:1,0,NI(r))):a&&(t.opacity=rt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let u=0;u<RI;u++){const d=`border${pE[u]}Radius`;let f=Kv(e,d),p=Kv(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||qv(f)===qv(p)?(t[d]=Math.max(rt(Hv(f),Hv(p),r),0),(Ar.test(p)||Ar.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=rt(e.rotate||0,n.rotate||0,r))}function Kv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kI=mE(0,.5,kw),NI=mE(.5,.95,Cn);function mE(t,e,n){return r=>r<t?0:r>e?1:n(Xo(t,e,r))}function Gv(t,e){t.min=e.min,t.max=e.max}function $n(t,e){Gv(t.x,e.x),Gv(t.y,e.y)}function Qv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Xv(t,e,n,r,i){return t-=e,t=Jc(t,1/n,r),i!==void 0&&(t=Jc(t,1/i,r)),t}function DI(t,e=0,n=1,r=.5,i,a=t,u=t){if(Ar.test(e)&&(e=parseFloat(e),e=rt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=rt(a.min,a.max,r);t===a&&(d-=e),t.min=Xv(t.min,e,n,d,i),t.max=Xv(t.max,e,n,d,i)}function Yv(t,e,[n,r,i],a,u){DI(t,e[n],e[r],e[i],e.scale,a,u)}const VI=["x","scaleX","originX"],jI=["y","scaleY","originY"];function Jv(t,e,n,r){Yv(t.x,e,VI,n?n.x:void 0,r?r.x:void 0),Yv(t.y,e,jI,n?n.y:void 0,r?r.y:void 0)}function Zv(t){return t.translate===0&&t.scale===1}function gE(t){return Zv(t.x)&&Zv(t.y)}function ex(t,e){return t.min===e.min&&t.max===e.max}function MI(t,e){return ex(t.x,e.x)&&ex(t.y,e.y)}function tx(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function yE(t,e){return tx(t.x,e.x)&&tx(t.y,e.y)}function nx(t){return sn(t.x)/sn(t.y)}function rx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class LI{constructor(){this.members=[]}add(e){nm(this.members,e),e.scheduleRender()}remove(e){if(rm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OI(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((i||a||u)&&(r=`translate3d(${i}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:E,skewX:b,skewY:A}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),b&&(r+=`skewX(${b}deg) `),A&&(r+=`skewY(${A}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const kf=["","X","Y","Z"],FI={visibility:"hidden"},sx=1e3;let $I=0;function Nf(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function vE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Qe,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&vE(r)}function xE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(u={},d=e==null?void 0:e()){this.id=$I++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zI),this.nodes.forEach(GI),this.nodes.forEach(QI),this.nodes.forEach(WI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new AI)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new im),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=SI(u),this.instance=u;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||f)&&(this.isLayoutDirty=!0),t){let _;const E=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=PI(E,250),Mc.hasAnimatedSinceResize&&(Mc.hasAnimatedSinceResize=!1,this.nodes.forEach(ox))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeLayoutChanged:b,layout:A})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||g.getDefaultTransition()||ek,{onLayoutAnimationStart:N,onLayoutAnimationComplete:O}=g.getProps(),W=!this.targetLayout||!yE(this.targetLayout,A),F=!E&&b;if(this.options.layoutRoot||this.resumeFrom||F||E&&(W||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,F);const I={...om(j,"layout"),onPlay:N,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else E||ox(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=A})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Us(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XI),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ix);return}this.isUpdating||this.nodes.forEach(qI),this.isUpdating=!1,this.nodes.forEach(KI),this.nodes.forEach(UI),this.nodes.forEach(BI),this.clearAllSnapshots();const d=Cr.now();Ft.delta=rs(0,1e3/60,d-Ft.timestamp),Ft.timestamp=d,Ft.isProcessing=!0,Tf.update.process(Ft),Tf.preRender.process(Ft),Tf.render.process(Ft),Ft.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,um.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HI),this.sharedNodes.forEach(YI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sn(this.snapshot.measuredBox.x)&&!sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!gE(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&(d||Ii(this.latestValues)||g)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),tk(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return ft();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(nk))){const{scroll:g}=this.root;g&&(Ko(f.x,g.offset.x),Ko(f.y,g.offset.y))}return f}removeElementScroll(u){var d;const f=ft();if($n(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&$n(f,u),Ko(f.x,_.offset.x),Ko(f.y,_.offset.y))}return f}applyTransform(u,d=!1){const f=ft();$n(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Go(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ii(g.latestValues)&&Go(f,g.latestValues)}return Ii(this.latestValues)&&Go(f,this.latestValues),f}removeTransform(u){const d=ft();$n(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ii(p.latestValues))continue;dp(p.latestValues)&&p.updateSnapshot();const g=ft(),_=p.measurePageBox();$n(g,_),Jv(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ii(this.latestValues)&&Jv(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ft.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!(!this.layout||!(_||E))){if(this.resolvedRelativeTargetAt=Ft.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Tl(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),lE(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Tl(this.relativeTargetOrigin,this.target,b.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dp(this.parent.latestValues)||aE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ft.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;$n(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,b=this.treeScale.y;iI(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ft());const{target:A}=d;if(!A){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Qv(this.prevProjectionDelta.x,this.projectionDelta.x),Qv(this.prevProjectionDelta.y,this.projectionDelta.y)),El(this.projectionDelta,this.layoutCorrected,A,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==b||!rx(this.projectionDelta.x,this.prevProjectionDelta.x)||!rx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",A))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=qo(),this.projectionDelta=qo(),this.projectionDeltaWithTransform=qo()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=ft(),b=f?f.source:void 0,A=this.layout?this.layout.source:void 0,j=b!==A,N=this.getStack(),O=!N||N.members.length<=1,W=!!(j&&!O&&this.options.crossfade===!0&&!this.path.some(ZI));this.animationProgress=0;let F;this.mixTargetDelta=I=>{const L=I/1e3;ax(_.x,u.x,L),ax(_.y,u.y,L),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JI(this.relativeTarget,this.relativeTargetOrigin,E,L),F&&MI(this.relativeTarget,F)&&(this.isProjectionDirty=!1),F||(F=ft()),$n(F,this.relativeTarget)),j&&(this.animationValues=g,II(g,p,this.latestValues,L,W,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=L},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Us(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qe.update(()=>{Mc.hasAnimatedSinceResize=!0,this.currentAnimation=bI(0,sx,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(sx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:g}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&_E(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ft();const _=sn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+_;const E=sn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}$n(d,f),Go(d,g),El(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new LI),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&Nf("z",u,p,this.animationValues);for(let g=0;g<kf.length;g++)Nf(`rotate${kf[g]}`,u,p,this.animationValues),Nf(`skew${kf[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return FI;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=jc(u==null?void 0:u.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const j={};return this.options.layoutId&&(j.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,j.pointerEvents=jc(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Ii(this.latestValues)&&(j.transform=g?g({},""):"none",this.hasProjected=!1),j}const E=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=OI(this.projectionDeltaWithTransform,this.treeScale,E),g&&(p.transform=g(E,p.transform));const{x:b,y:A}=this.projectionDelta;p.transformOrigin=`${b.origin*100}% ${A.origin*100}% 0`,_.animationValues?p.opacity=_===this?(f=(d=E.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const j in Nl){if(E[j]===void 0)continue;const{correct:N,applyTo:O,isCSSVariable:W}=Nl[j],F=p.transform==="none"?E[j]:N(E[j],_);if(O){const I=O.length;for(let L=0;L<I;L++)p[O[L]]=F}else W?this.options.visualElement.renderState.vars[j]=F:p[j]=F}return this.options.layoutId&&(p.pointerEvents=_===this?jc(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(ix),this.root.sharedNodes.clear()}}}function UI(t){t.updateLayout()}function BI(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,u=n.source!==t.layout.source;a==="size"?Un(_=>{const E=u?n.measuredBox[_]:n.layoutBox[_],b=sn(E);E.min=r[_].min,E.max=E.min+b}):_E(a,n.layoutBox,r)&&Un(_=>{const E=u?n.measuredBox[_]:n.layoutBox[_],b=sn(r[_]);E.max=E.min+b,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+b)});const d=qo();El(d,r,n.layoutBox);const f=qo();u?El(f,t.applyTransform(i,!0),n.measuredBox):El(f,r,n.layoutBox);const p=!gE(d);let g=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:b}=_;if(E&&b){const A=ft();Tl(A,n.layoutBox,E.layoutBox);const j=ft();Tl(j,r,b.layoutBox),yE(A,j)||(g=!0),_.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=A,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function zI(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function WI(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function HI(t){t.clearSnapshot()}function ix(t){t.clearMeasurements()}function qI(t){t.isLayoutDirty=!1}function KI(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ox(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GI(t){t.resolveTargetDelta()}function QI(t){t.calcProjection()}function XI(t){t.resetSkewAndRotation()}function YI(t){t.removeLeadSnapshot()}function ax(t,e,n){t.translate=rt(e.translate,0,n),t.scale=rt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function lx(t,e,n,r){t.min=rt(e.min,n.min,r),t.max=rt(e.max,n.max,r)}function JI(t,e,n,r){lx(t.x,e.x,n.x,r),lx(t.y,e.y,n.y,r)}function ZI(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ek={duration:.45,ease:[.4,0,.1,1]},ux=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cx=ux("applewebkit/")&&!ux("chrome/")?Math.round:Cn;function dx(t){t.min=cx(t.min),t.max=cx(t.max)}function tk(t){dx(t.x),dx(t.y)}function _E(t,e,n){return t==="position"||t==="preserve-aspect"&&!rI(nx(e),nx(n),.2)}function nk(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const rk=xE({attachResizeListener:(t,e)=>Ml(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Df={current:void 0},wE=xE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Df.current){const t=new rk({});t.mount(window),t.setOptions({layoutScroll:!0}),Df.current=t}return Df.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sk={pan:{Feature:_I},drag:{Feature:xI,ProjectionNode:wE,MeasureLayout:fE}};function hx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Qe.postRender(()=>a(e,Yl(e)))}class ik extends Ys{mount(){const{current:e}=this.node;e&&(this.unmount=h1(e,(n,r)=>(hx(this.node,r,"Start"),i=>hx(this.node,i,"End"))))}unmount(){}}class ok extends Ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xl(Ml(this.node.current,"focus",()=>this.onFocus()),Ml(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function fx(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Qe.postRender(()=>a(e,Yl(e)))}class ak extends Ys{mount(){const{current:e}=this.node;e&&(this.unmount=g1(e,(n,r)=>(fx(this.node,r,"Start"),(i,{success:a})=>fx(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pp=new WeakMap,Vf=new WeakMap,lk=t=>{const e=pp.get(t.target);e&&e(t)},uk=t=>{t.forEach(lk)};function ck({root:t,...e}){const n=t||document;Vf.has(n)||Vf.set(n,{});const r=Vf.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(uk,{root:t,...e})),r[i]}function dk(t,e,n){const r=ck(e);return pp.set(t,n),r.observe(t),()=>{pp.delete(t),r.unobserve(t)}}const hk={some:0,all:1};class fk extends Ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:hk[i]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),E=p?g:_;E&&E(f)};return dk(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pk(e,n))&&this.startObserver()}unmount(){}}function pk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mk={inView:{Feature:fk},tap:{Feature:ak},focus:{Feature:ok},hover:{Feature:ik}},gk={layout:{ProjectionNode:wE,MeasureLayout:fE}},mp={current:null},EE={current:!1};function yk(){if(EE.current=!0,!!em)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>mp.current=t.matches;t.addListener(e),e()}else mp.current=!1}const vk=[...qw,Qt,Bs],xk=t=>vk.find(Hw(t)),_k=new WeakMap;function wk(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Jt(i))t.addValue(r,i);else if(Jt(a))t.addValue(r,Il(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(i):u.hasAnimated||u.set(i)}else{const u=t.getStaticValue(r);t.addValue(r,Il(u!==void 0?u:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const px=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ek{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Pm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Cr.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,Qe.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:g}=u;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=wd(n),this.isVariantNode=lw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const b in E){const A=E[b];f[b]!==void 0&&Jt(A)&&A.set(f[b],!1)}}mount(e){this.current=e,_k.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),EE.current||yk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:mp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Us(this.notifyUpdate),Us(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Bi.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Yo){const n=Yo[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<px.length;r++){const i=px[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,u=e[a];u&&(this.propEventSubscriptions[i]=this.on(i,u))}this.prevMotionValues=wk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Il(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(zw(i)||Dw(i))?i=parseFloat(i):!xk(i)&&Bs.test(n)&&(i=$w(e,n)),this.setBaseTarget(e,Jt(i)?i.get():i)),Jt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const u=Em(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(i=u[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Jt(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new im),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class TE extends Ek{constructor(){super(...arguments),this.KeyframeResolver=Kw}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Tk(t){return window.getComputedStyle(t)}class bk extends TE{constructor(){super(...arguments),this.type="html",this.renderInstance=xw}readValueFromInstance(e,n){if(Bi.has(n))return jP(e,n);{const r=Tk(e),i=(pm(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uE(e,n)}build(e,n,r){ym(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Tm(e,n,r)}}class Sk extends TE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ft,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&vw(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Bi.has(n)){const r=Fw(n);return r&&r.default||0}return n=_w.has(n)?n:fm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Ew(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Qe.postRender(this.updateDimensions)}build(e,n,r){_m(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){ww(e,n,r,i)}mount(e){this.isSVGTag=wm(e.tagName),super.mount(e)}}const Ck=(t,e)=>xm(t)?new Sk(e):new bk(e,{allowProjection:t!==P.Fragment}),Ak=lP({...QR,...mk,...sk,...gk},Ck),mx=b1(Ak),Pk=()=>{};var gx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Rk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],u=t[n++],d=t[n++],f=((i&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},SE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],u=i+1<t.length,d=u?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,g=a>>2,_=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,b=p&63;f||(b=64,u||(E=64)),r.push(n[g],n[_],n[E],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Rk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const _=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||d==null||p==null||_==null)throw new Ik;const E=a<<2|d>>4;if(r.push(E),p!==64){const b=d<<4&240|p>>2;if(r.push(b),_!==64){const A=p<<6&192|_;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ik extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kk=function(t){const e=bE(t);return SE.encodeByteArray(e,!0)},Zc=function(t){return kk(t).replace(/\./g,"")},Nk=function(t){try{return SE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=()=>Dk().__FIREBASE_DEFAULTS__,jk=()=>{if(typeof process>"u"||typeof gx>"u")return;const t=gx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Mk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nk(t[1]);return e&&JSON.parse(e)},Nm=()=>{try{return Pk()||Vk()||jk()||Mk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Lk=t=>{var e,n;return(n=(e=Nm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CE=t=>{const e=Lk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AE=()=>{var t;return(t=Nm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zc(JSON.stringify(n)),Zc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $k(){var t;const e=(t=Nm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uk(){return!$k()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bk(){try{return typeof indexedDB=="object"}catch{return!1}}function zk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="FirebaseError";class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Wk,Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,RE.prototype.create)}}class RE{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?Hk(a,r):"Error",d=`${this.serviceName}: ${u} (${i}).`;return new zi(i,d,r)}}function Hk(t,e){return t.replace(qk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qk=/\{\$([^}]+)}/g;function ed(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],u=e[i];if(yx(a)&&yx(u)){if(!ed(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(t){return t&&t._delegate?t._delegate:t}class Zo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ok;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Qk(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const u=this.instances.get(i);return u&&e(u,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Gk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gk(t){return t===ki?void 0:t}function Qk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Kk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($e||($e={}));const Yk={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},Jk=$e.INFO,Zk={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},eN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Zk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class IE{constructor(e){this.name=e,this._logLevel=Jk,this._logHandler=eN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}const tN=(t,e)=>e.some(n=>t instanceof n);let vx,xx;function nN(){return vx||(vx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rN(){return xx||(xx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kE=new WeakMap,gp=new WeakMap,NE=new WeakMap,jf=new WeakMap,Dm=new WeakMap;function sN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(js(t.result)),i()},u=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&kE.set(n,t)}).catch(()=>{}),Dm.set(e,t),e}function iN(t){if(gp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),i()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});gp.set(t,e)}let yp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oN(t){yp=t(yp)}function aN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Mf(this),e,...n);return NE.set(r,e.sort?e.sort():[e]),js(r)}:rN().includes(t)?function(...e){return t.apply(Mf(this),e),js(kE.get(this))}:function(...e){return js(t.apply(Mf(this),e))}}function lN(t){return typeof t=="function"?aN(t):(t instanceof IDBTransaction&&iN(t),tN(t,nN())?new Proxy(t,yp):t)}function js(t){if(t instanceof IDBRequest)return sN(t);if(jf.has(t))return jf.get(t);const e=lN(t);return e!==t&&(jf.set(t,e),Dm.set(e,t)),e}const Mf=t=>Dm.get(t);function uN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(t,e),d=js(u);return r&&u.addEventListener("upgradeneeded",f=>{r(js(u.result),f.oldVersion,f.newVersion,js(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const cN=["get","getKey","getAll","getAllKeys","count"],dN=["put","add","delete","clear"],Lf=new Map;function _x(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lf.get(e))return Lf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cN.includes(n)))return;const a=async function(u,...d){const f=this.transaction(u,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),i&&f.done]))[0]};return Lf.set(e,a),a}oN(t=>({...t,get:(e,n,r)=>_x(e,n)||t.get(e,n,r),has:(e,n)=>!!_x(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vp="@firebase/app",wx="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new IE("@firebase/app"),pN="@firebase/app-compat",mN="@firebase/analytics-compat",gN="@firebase/analytics",yN="@firebase/app-check-compat",vN="@firebase/app-check",xN="@firebase/auth",_N="@firebase/auth-compat",wN="@firebase/database",EN="@firebase/data-connect",TN="@firebase/database-compat",bN="@firebase/functions",SN="@firebase/functions-compat",CN="@firebase/installations",AN="@firebase/installations-compat",PN="@firebase/messaging",RN="@firebase/messaging-compat",IN="@firebase/performance",kN="@firebase/performance-compat",NN="@firebase/remote-config",DN="@firebase/remote-config-compat",VN="@firebase/storage",jN="@firebase/storage-compat",MN="@firebase/firestore",LN="@firebase/vertexai",ON="@firebase/firestore-compat",FN="firebase",$N="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="[DEFAULT]",UN={[vp]:"fire-core",[pN]:"fire-core-compat",[gN]:"fire-analytics",[mN]:"fire-analytics-compat",[vN]:"fire-app-check",[yN]:"fire-app-check-compat",[xN]:"fire-auth",[_N]:"fire-auth-compat",[wN]:"fire-rtdb",[EN]:"fire-data-connect",[TN]:"fire-rtdb-compat",[bN]:"fire-fn",[SN]:"fire-fn-compat",[CN]:"fire-iid",[AN]:"fire-iid-compat",[PN]:"fire-fcm",[RN]:"fire-fcm-compat",[IN]:"fire-perf",[kN]:"fire-perf-compat",[NN]:"fire-rc",[DN]:"fire-rc-compat",[VN]:"fire-gcs",[jN]:"fire-gcs-compat",[MN]:"fire-fst",[ON]:"fire-fst-compat",[LN]:"fire-vertex","fire-js":"fire-js",[FN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Map,BN=new Map,_p=new Map;function Ex(t,e){try{t.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ll(t){const e=t.name;if(_p.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;_p.set(e,t);for(const n of td.values())Ex(n,t);for(const n of BN.values())Ex(n,t);return!0}function DE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function VE(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ms=new RE("app","Firebase",zN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Zo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE=$N;function Vm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:xp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ms.create("bad-app-name",{appName:String(i)});if(n||(n=AE()),!n)throw Ms.create("no-options");const a=td.get(i);if(a){if(ed(n,a.options)&&ed(r,a.config))return a;throw Ms.create("duplicate-app",{appName:i})}const u=new Xk(i);for(const f of _p.values())u.addComponent(f);const d=new WN(n,r,u);return td.set(i,d),d}function ME(t=xp){const e=td.get(t);if(!e&&t===xp&&AE())return Vm();if(!e)throw Ms.create("no-app",{appName:t});return e}function Ls(t,e,n){var r;let i=(r=UN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${i}" with version "${e}":`];a&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(d.join(" "));return}Ll(new Zo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="firebase-heartbeat-database",qN=1,Ol="firebase-heartbeat-store";let Of=null;function LE(){return Of||(Of=uN(HN,qN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ms.create("idb-open",{originalErrorMessage:t.message})})),Of}async function KN(t){try{const n=(await LE()).transaction(Ol),r=await n.objectStore(Ol).get(OE(t));return await n.done,r}catch(e){if(e instanceof zi)ss.warn(e.message);else{const n=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ss.warn(n.message)}}}async function Tx(t,e){try{const r=(await LE()).transaction(Ol,"readwrite");await r.objectStore(Ol).put(e,OE(t)),await r.done}catch(n){if(n instanceof zi)ss.warn(n.message);else{const r=Ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ss.warn(r.message)}}}function OE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1024,QN=30;class XN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=bx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>QN){const u=ZN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bx(),{heartbeatsToSend:r,unsentEntries:i}=YN(this._heartbeatsCache.heartbeats),a=Zc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ss.warn(n),""}}}function bx(){return new Date().toISOString().substring(0,10)}function YN(t,e=GN){const n=[];let r=t.slice();for(const i of t){const a=n.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),Sx(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bk()?zk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Tx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Tx(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Sx(t){return Zc(JSON.stringify({version:2,heartbeats:t})).length}function ZN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t){Ll(new Zo("platform-logger",e=>new hN(e),"PRIVATE")),Ll(new Zo("heartbeat",e=>new XN(e),"PRIVATE")),Ls(vp,wx,t),Ls(vp,wx,"esm2017"),Ls("fire-js","")}e2("");var t2="firebase",n2="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(t2,n2,"app");var Cx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Os,FE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,C){function R(){}R.prototype=C.prototype,k.D=C.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(M,U,H){for(var D=Array(arguments.length-2),te=2;te<arguments.length;te++)D[te-2]=arguments[te];return C.prototype[U].apply(M,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,C,R){R||(R=0);var M=Array(16);if(typeof C=="string")for(var U=0;16>U;++U)M[U]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(U=0;16>U;++U)M[U]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=k.g[0],R=k.g[1],U=k.g[2];var H=k.g[3],D=C+(H^R&(U^H))+M[0]+3614090360&4294967295;C=R+(D<<7&4294967295|D>>>25),D=H+(U^C&(R^U))+M[1]+3905402710&4294967295,H=C+(D<<12&4294967295|D>>>20),D=U+(R^H&(C^R))+M[2]+606105819&4294967295,U=H+(D<<17&4294967295|D>>>15),D=R+(C^U&(H^C))+M[3]+3250441966&4294967295,R=U+(D<<22&4294967295|D>>>10),D=C+(H^R&(U^H))+M[4]+4118548399&4294967295,C=R+(D<<7&4294967295|D>>>25),D=H+(U^C&(R^U))+M[5]+1200080426&4294967295,H=C+(D<<12&4294967295|D>>>20),D=U+(R^H&(C^R))+M[6]+2821735955&4294967295,U=H+(D<<17&4294967295|D>>>15),D=R+(C^U&(H^C))+M[7]+4249261313&4294967295,R=U+(D<<22&4294967295|D>>>10),D=C+(H^R&(U^H))+M[8]+1770035416&4294967295,C=R+(D<<7&4294967295|D>>>25),D=H+(U^C&(R^U))+M[9]+2336552879&4294967295,H=C+(D<<12&4294967295|D>>>20),D=U+(R^H&(C^R))+M[10]+4294925233&4294967295,U=H+(D<<17&4294967295|D>>>15),D=R+(C^U&(H^C))+M[11]+2304563134&4294967295,R=U+(D<<22&4294967295|D>>>10),D=C+(H^R&(U^H))+M[12]+1804603682&4294967295,C=R+(D<<7&4294967295|D>>>25),D=H+(U^C&(R^U))+M[13]+4254626195&4294967295,H=C+(D<<12&4294967295|D>>>20),D=U+(R^H&(C^R))+M[14]+2792965006&4294967295,U=H+(D<<17&4294967295|D>>>15),D=R+(C^U&(H^C))+M[15]+1236535329&4294967295,R=U+(D<<22&4294967295|D>>>10),D=C+(U^H&(R^U))+M[1]+4129170786&4294967295,C=R+(D<<5&4294967295|D>>>27),D=H+(R^U&(C^R))+M[6]+3225465664&4294967295,H=C+(D<<9&4294967295|D>>>23),D=U+(C^R&(H^C))+M[11]+643717713&4294967295,U=H+(D<<14&4294967295|D>>>18),D=R+(H^C&(U^H))+M[0]+3921069994&4294967295,R=U+(D<<20&4294967295|D>>>12),D=C+(U^H&(R^U))+M[5]+3593408605&4294967295,C=R+(D<<5&4294967295|D>>>27),D=H+(R^U&(C^R))+M[10]+38016083&4294967295,H=C+(D<<9&4294967295|D>>>23),D=U+(C^R&(H^C))+M[15]+3634488961&4294967295,U=H+(D<<14&4294967295|D>>>18),D=R+(H^C&(U^H))+M[4]+3889429448&4294967295,R=U+(D<<20&4294967295|D>>>12),D=C+(U^H&(R^U))+M[9]+568446438&4294967295,C=R+(D<<5&4294967295|D>>>27),D=H+(R^U&(C^R))+M[14]+3275163606&4294967295,H=C+(D<<9&4294967295|D>>>23),D=U+(C^R&(H^C))+M[3]+4107603335&4294967295,U=H+(D<<14&4294967295|D>>>18),D=R+(H^C&(U^H))+M[8]+1163531501&4294967295,R=U+(D<<20&4294967295|D>>>12),D=C+(U^H&(R^U))+M[13]+2850285829&4294967295,C=R+(D<<5&4294967295|D>>>27),D=H+(R^U&(C^R))+M[2]+4243563512&4294967295,H=C+(D<<9&4294967295|D>>>23),D=U+(C^R&(H^C))+M[7]+1735328473&4294967295,U=H+(D<<14&4294967295|D>>>18),D=R+(H^C&(U^H))+M[12]+2368359562&4294967295,R=U+(D<<20&4294967295|D>>>12),D=C+(R^U^H)+M[5]+4294588738&4294967295,C=R+(D<<4&4294967295|D>>>28),D=H+(C^R^U)+M[8]+2272392833&4294967295,H=C+(D<<11&4294967295|D>>>21),D=U+(H^C^R)+M[11]+1839030562&4294967295,U=H+(D<<16&4294967295|D>>>16),D=R+(U^H^C)+M[14]+4259657740&4294967295,R=U+(D<<23&4294967295|D>>>9),D=C+(R^U^H)+M[1]+2763975236&4294967295,C=R+(D<<4&4294967295|D>>>28),D=H+(C^R^U)+M[4]+1272893353&4294967295,H=C+(D<<11&4294967295|D>>>21),D=U+(H^C^R)+M[7]+4139469664&4294967295,U=H+(D<<16&4294967295|D>>>16),D=R+(U^H^C)+M[10]+3200236656&4294967295,R=U+(D<<23&4294967295|D>>>9),D=C+(R^U^H)+M[13]+681279174&4294967295,C=R+(D<<4&4294967295|D>>>28),D=H+(C^R^U)+M[0]+3936430074&4294967295,H=C+(D<<11&4294967295|D>>>21),D=U+(H^C^R)+M[3]+3572445317&4294967295,U=H+(D<<16&4294967295|D>>>16),D=R+(U^H^C)+M[6]+76029189&4294967295,R=U+(D<<23&4294967295|D>>>9),D=C+(R^U^H)+M[9]+3654602809&4294967295,C=R+(D<<4&4294967295|D>>>28),D=H+(C^R^U)+M[12]+3873151461&4294967295,H=C+(D<<11&4294967295|D>>>21),D=U+(H^C^R)+M[15]+530742520&4294967295,U=H+(D<<16&4294967295|D>>>16),D=R+(U^H^C)+M[2]+3299628645&4294967295,R=U+(D<<23&4294967295|D>>>9),D=C+(U^(R|~H))+M[0]+4096336452&4294967295,C=R+(D<<6&4294967295|D>>>26),D=H+(R^(C|~U))+M[7]+1126891415&4294967295,H=C+(D<<10&4294967295|D>>>22),D=U+(C^(H|~R))+M[14]+2878612391&4294967295,U=H+(D<<15&4294967295|D>>>17),D=R+(H^(U|~C))+M[5]+4237533241&4294967295,R=U+(D<<21&4294967295|D>>>11),D=C+(U^(R|~H))+M[12]+1700485571&4294967295,C=R+(D<<6&4294967295|D>>>26),D=H+(R^(C|~U))+M[3]+2399980690&4294967295,H=C+(D<<10&4294967295|D>>>22),D=U+(C^(H|~R))+M[10]+4293915773&4294967295,U=H+(D<<15&4294967295|D>>>17),D=R+(H^(U|~C))+M[1]+2240044497&4294967295,R=U+(D<<21&4294967295|D>>>11),D=C+(U^(R|~H))+M[8]+1873313359&4294967295,C=R+(D<<6&4294967295|D>>>26),D=H+(R^(C|~U))+M[15]+4264355552&4294967295,H=C+(D<<10&4294967295|D>>>22),D=U+(C^(H|~R))+M[6]+2734768916&4294967295,U=H+(D<<15&4294967295|D>>>17),D=R+(H^(U|~C))+M[13]+1309151649&4294967295,R=U+(D<<21&4294967295|D>>>11),D=C+(U^(R|~H))+M[4]+4149444226&4294967295,C=R+(D<<6&4294967295|D>>>26),D=H+(R^(C|~U))+M[11]+3174756917&4294967295,H=C+(D<<10&4294967295|D>>>22),D=U+(C^(H|~R))+M[2]+718787259&4294967295,U=H+(D<<15&4294967295|D>>>17),D=R+(H^(U|~C))+M[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(U+(D<<21&4294967295|D>>>11))&4294967295,k.g[2]=k.g[2]+U&4294967295,k.g[3]=k.g[3]+H&4294967295}r.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var R=C-this.blockSize,M=this.B,U=this.h,H=0;H<C;){if(U==0)for(;H<=R;)i(this,k,H),H+=this.blockSize;if(typeof k=="string"){for(;H<C;)if(M[U++]=k.charCodeAt(H++),U==this.blockSize){i(this,M),U=0;break}}else for(;H<C;)if(M[U++]=k[H++],U==this.blockSize){i(this,M),U=0;break}}this.h=U,this.o+=C},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var R=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=R&255,R/=256;for(this.u(k),k=Array(16),C=R=0;4>C;++C)for(var M=0;32>M;M+=8)k[R++]=this.g[C]>>>M&255;return k};function a(k,C){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=C(k)}function u(k,C){this.h=C;for(var R=[],M=!0,U=k.length-1;0<=U;U--){var H=k[U]|0;M&&H==C||(R[U]=H,M=!1)}this.g=R}var d={};function f(k){return-128<=k&&128>k?a(k,function(C){return new u([C|0],0>C?-1:0)}):new u([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return _;if(0>k)return N(p(-k));for(var C=[],R=1,M=0;k>=R;M++)C[M]=k/R|0,R*=4294967296;return new u(C,0)}function g(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return N(g(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(C,8)),M=_,U=0;U<k.length;U+=8){var H=Math.min(8,k.length-U),D=parseInt(k.substring(U,U+H),C);8>H?(H=p(Math.pow(C,H)),M=M.j(H).add(p(D))):(M=M.j(R),M=M.add(p(D)))}return M}var _=f(0),E=f(1),b=f(16777216);t=u.prototype,t.m=function(){if(j(this))return-N(this).m();for(var k=0,C=1,R=0;R<this.g.length;R++){var M=this.i(R);k+=(0<=M?M:4294967296+M)*C,C*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(A(this))return"0";if(j(this))return"-"+N(this).toString(k);for(var C=p(Math.pow(k,6)),R=this,M="";;){var U=I(R,C).g;R=O(R,U.j(C));var H=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=U,A(R))return H+M;for(;6>H.length;)H="0"+H;M=H+M}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function A(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function j(k){return k.h==-1}t.l=function(k){return k=O(this,k),j(k)?-1:A(k)?0:1};function N(k){for(var C=k.g.length,R=[],M=0;M<C;M++)R[M]=~k.g[M];return new u(R,~k.h).add(E)}t.abs=function(){return j(this)?N(this):this},t.add=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],M=0,U=0;U<=C;U++){var H=M+(this.i(U)&65535)+(k.i(U)&65535),D=(H>>>16)+(this.i(U)>>>16)+(k.i(U)>>>16);M=D>>>16,H&=65535,D&=65535,R[U]=D<<16|H}return new u(R,R[R.length-1]&-2147483648?-1:0)};function O(k,C){return k.add(N(C))}t.j=function(k){if(A(this)||A(k))return _;if(j(this))return j(k)?N(this).j(N(k)):N(N(this).j(k));if(j(k))return N(this.j(N(k)));if(0>this.l(b)&&0>k.l(b))return p(this.m()*k.m());for(var C=this.g.length+k.g.length,R=[],M=0;M<2*C;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var U=0;U<k.g.length;U++){var H=this.i(M)>>>16,D=this.i(M)&65535,te=k.i(U)>>>16,de=k.i(U)&65535;R[2*M+2*U]+=D*de,W(R,2*M+2*U),R[2*M+2*U+1]+=H*de,W(R,2*M+2*U+1),R[2*M+2*U+1]+=D*te,W(R,2*M+2*U+1),R[2*M+2*U+2]+=H*te,W(R,2*M+2*U+2)}for(M=0;M<C;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=C;M<2*C;M++)R[M]=0;return new u(R,0)};function W(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function F(k,C){this.g=k,this.h=C}function I(k,C){if(A(C))throw Error("division by zero");if(A(k))return new F(_,_);if(j(k))return C=I(N(k),C),new F(N(C.g),N(C.h));if(j(C))return C=I(k,N(C)),new F(N(C.g),C.h);if(30<k.g.length){if(j(k)||j(C))throw Error("slowDivide_ only works with positive integers.");for(var R=E,M=C;0>=M.l(k);)R=L(R),M=L(M);var U=B(R,1),H=B(M,1);for(M=B(M,2),R=B(R,2);!A(M);){var D=H.add(M);0>=D.l(k)&&(U=U.add(R),H=D),M=B(M,1),R=B(R,1)}return C=O(k,U.j(C)),new F(U,C)}for(U=_;0<=k.l(C);){for(R=Math.max(1,Math.floor(k.m()/C.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),H=p(R),D=H.j(C);j(D)||0<D.l(k);)R-=M,H=p(R),D=H.j(C);A(H)&&(H=E),U=U.add(H),k=O(k,D)}return new F(U,k)}t.A=function(k){return I(this,k).h},t.and=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],M=0;M<C;M++)R[M]=this.i(M)&k.i(M);return new u(R,this.h&k.h)},t.or=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],M=0;M<C;M++)R[M]=this.i(M)|k.i(M);return new u(R,this.h|k.h)},t.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],M=0;M<C;M++)R[M]=this.i(M)^k.i(M);return new u(R,this.h^k.h)};function L(k){for(var C=k.g.length+1,R=[],M=0;M<C;M++)R[M]=k.i(M)<<1|k.i(M-1)>>>31;return new u(R,k.h)}function B(k,C){var R=C>>5;C%=32;for(var M=k.g.length-R,U=[],H=0;H<M;H++)U[H]=0<C?k.i(H+R)>>>C|k.i(H+R+1)<<32-C:k.i(H+R);return new u(U,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Os=u}).apply(typeof Cx<"u"?Cx:typeof self<"u"?self:typeof window<"u"?window:{});var Sc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $E,gl,UE,Lc,wp,BE,zE,WE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sc=="object"&&Sc];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(c,y){if(y)e:{var w=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var K=c[S];if(!(K in w))break e;w=w[K]}c=c[c.length-1],S=w[c],y=y(S),y!=S&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,S=!1,K={next:function(){if(!S&&w<c.length){var Y=w++;return{value:y(Y,c[Y]),done:!1}}return S=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,w){return c.call.apply(c.bind,arguments)}function _(c,y,w){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,S),c.apply(y,K)}}return function(){return c.apply(y,arguments)}}function E(c,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:_,E.apply(null,arguments)}function b(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(S,K,Y){for(var ce=Array(arguments.length-2),He=2;He<arguments.length;He++)ce[He-2]=arguments[He];return y.prototype[K].apply(S,ce)}}function j(c){const y=c.length;if(0<y){const w=Array(y);for(let S=0;S<y;S++)w[S]=c[S];return w}return[]}function N(c,y){for(let w=1;w<arguments.length;w++){const S=arguments[w];if(f(S)){const K=c.length||0,Y=S.length||0;c.length=K+Y;for(let ce=0;ce<Y;ce++)c[K+ce]=S[ce]}else c.push(S)}}class O{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function F(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function I(c){return I[" "](c),c}I[" "]=function(){};var L=F().indexOf("Gecko")!=-1&&!(F().toLowerCase().indexOf("webkit")!=-1&&F().indexOf("Edge")==-1)&&!(F().indexOf("Trident")!=-1||F().indexOf("MSIE")!=-1)&&F().indexOf("Edge")==-1;function B(c,y,w){for(const S in c)y.call(w,c[S],S,c)}function k(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function C(c){const y={};for(const w in c)y[w]=c[w];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,y){let w,S;for(let K=1;K<arguments.length;K++){S=arguments[K];for(w in S)c[w]=S[w];for(let Y=0;Y<R.length;Y++)w=R[Y],Object.prototype.hasOwnProperty.call(S,w)&&(c[w]=S[w])}}function U(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function H(c){d.setTimeout(()=>{throw c},0)}function D(){var c=fe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,w){const S=de.get();S.set(y,w),this.h?this.h.next=S:this.g=S,this.h=S}}var de=new O(()=>new Ne,c=>c.reset());class Ne{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let xe,ie=!1,fe=new te,he=()=>{const c=d.Promise.resolve(void 0);xe=()=>{c.then(q)}};var q=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(w){H(w)}var y=de;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ie=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function we(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}we.prototype.h=function(){this.defaultPrevented=!0};var oe=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};d.addEventListener("test",w,y),d.removeEventListener("test",w,y)}catch{}return c}();function J(c,y){if(we.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(L){e:{try{I(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:le[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&J.aa.h.call(this)}}A(J,we);var le={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Te="closure_listenable_"+(1e6*Math.random()|0),De=0;function We(c,y,w,S,K){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!S,this.ha=K,this.key=++De,this.da=this.fa=!1}function ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pn(c){this.src=c,this.g={},this.h=0}Pn.prototype.add=function(c,y,w,S,K){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ce=Rn(c,y,S,K);return-1<ce?(y=c[ce],w||(y.fa=!1)):(y=new We(y,this.src,Y,!!S,K),y.fa=w,c.push(y)),y};function Vr(c,y){var w=y.type;if(w in c.g){var S=c.g[w],K=Array.prototype.indexOf.call(S,y,void 0),Y;(Y=0<=K)&&Array.prototype.splice.call(S,K,1),Y&&(ct(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Rn(c,y,w,S){for(var K=0;K<c.length;++K){var Y=c[K];if(!Y.da&&Y.listener==y&&Y.capture==!!w&&Y.ha==S)return K}return-1}var dr="closure_lm_"+(1e6*Math.random()|0),xt={};function jr(c,y,w,S,K){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)jr(c,y[Y],w,S,K);return null}return w=ya(w),c&&c[Te]?c.K(y,w,p(S)?!!S.capture:!1,K):ma(c,y,w,!1,S,K)}function ma(c,y,w,S,K,Y){if(!y)throw Error("Invalid event type");var ce=p(K)?!!K.capture:!!K,He=Gi(c);if(He||(c[dr]=He=new Pn(c)),w=He.add(y,w,S,ce,Y),w.proxy)return w;if(S=ru(),w.proxy=S,S.src=c,S.listener=w,c.addEventListener)oe||(K=ce),K===void 0&&(K=!1),c.addEventListener(y.toString(),S,K);else if(c.attachEvent)c.attachEvent(Lr(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ru(){function c(w){return y.call(c.src,c.listener,w)}const y=ga;return c}function Ki(c,y,w,S,K){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)Ki(c,y[Y],w,S,K);else S=p(S)?!!S.capture:!!S,w=ya(w),c&&c[Te]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],w=Rn(Y,w,S,K),-1<w&&(ct(Y[w]),Array.prototype.splice.call(Y,w,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Gi(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Rn(y,w,S,K)),(w=-1<c?y[c]:null)&&Mr(w))}function Mr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Te])Vr(y.i,c);else{var w=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(w,S,c.capture):y.detachEvent?y.detachEvent(Lr(w),S):y.addListener&&y.removeListener&&y.removeListener(S),(w=Gi(y))?(Vr(w,c),w.h==0&&(w.src=null,y[dr]=null)):ct(c)}}}function Lr(c){return c in xt?xt[c]:xt[c]="on"+c}function ga(c,y){if(c.da)c=!0;else{y=new J(y,this);var w=c.listener,S=c.ha||c.src;c.fa&&Mr(c),c=w.call(S,y)}return c}function Gi(c){return c=c[dr],c instanceof Pn?c:null}var Qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ya(c){return typeof c=="function"?c:(c[Qi]||(c[Qi]=function(y){return c.handleEvent(y)}),c[Qi])}function _t(){Z.call(this),this.i=new Pn(this),this.M=this,this.F=null}A(_t,Z),_t.prototype[Te]=!0,_t.prototype.removeEventListener=function(c,y,w,S){Ki(this,c,y,w,S)};function wt(c,y){var w,S=c.F;if(S)for(w=[];S;S=S.F)w.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new we(y,c);else if(y instanceof we)y.target=y.target||c;else{var K=y;y=new we(S,c),M(y,K)}if(K=!0,w)for(var Y=w.length-1;0<=Y;Y--){var ce=y.g=w[Y];K=Or(ce,S,!0,y)&&K}if(ce=y.g=c,K=Or(ce,S,!0,y)&&K,K=Or(ce,S,!1,y)&&K,w)for(Y=0;Y<w.length;Y++)ce=y.g=w[Y],K=Or(ce,S,!1,y)&&K}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],S=0;S<w.length;S++)ct(w[S]);delete c.g[y],c.h--}}this.F=null},_t.prototype.K=function(c,y,w,S){return this.i.add(String(c),y,!1,w,S)},_t.prototype.L=function(c,y,w,S){return this.i.add(String(c),y,!0,w,S)};function Or(c,y,w,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,Y=0;Y<y.length;++Y){var ce=y[Y];if(ce&&!ce.da&&ce.capture==w){var He=ce.listener,Et=ce.ha||ce.src;ce.fa&&Vr(c.i,ce),K=He.call(Et,S)!==!1&&K}}return K&&!S.defaultPrevented}function va(c,y,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function ls(c){c.g=va(()=>{c.g=null,c.i&&(c.i=!1,ls(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ei extends Z{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ls(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(c){Z.call(this),this.h=c,this.g={}}A(ti,Z);var xa=[];function _a(c){B(c.g,function(y,w){this.g.hasOwnProperty(w)&&Mr(y)},c),c.g={}}ti.prototype.N=function(){ti.aa.N.call(this),_a(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wa=d.JSON.stringify,Ea=d.JSON.parse,Ta=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ni(){}ni.prototype.h=null;function Xi(c){return c.h||(c.h=c.i())}function Yi(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){we.call(this,"d")}A(hr,we);function Ji(){we.call(this,"c")}A(Ji,we);var fr={},ba=null;function ri(){return ba=ba||new _t}fr.La="serverreachability";function Sa(c){we.call(this,fr.La,c)}A(Sa,we);function Fr(c){const y=ri();wt(y,new Sa(y))}fr.STAT_EVENT="statevent";function Ca(c,y){we.call(this,fr.STAT_EVENT,c),this.stat=y}A(Ca,we);function dt(c){const y=ri();wt(y,new Ca(y,c))}fr.Ma="timingevent";function Zi(c,y){we.call(this,fr.Ma,c),this.size=y}A(Zi,we);function Wn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function si(){this.g=!0}si.prototype.xa=function(){this.g=!1};function ii(c,y,w,S,K,Y){c.info(function(){if(c.g)if(Y)for(var ce="",He=Y.split("&"),Et=0;Et<He.length;Et++){var Oe=He[Et].split("=");if(1<Oe.length){var Pt=Oe[0];Oe=Oe[1];var gt=Pt.split("_");ce=2<=gt.length&&gt[1]=="type"?ce+(Pt+"="+Oe+"&"):ce+(Pt+"=redacted&")}}else ce=null;else ce=Y;return"XMLHTTP REQ ("+S+") [attempt "+K+"]: "+y+`
`+w+`
`+ce})}function eo(c,y,w,S,K,Y,ce){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+K+"]: "+y+`
`+w+`
`+Y+" "+ce})}function Hn(c,y,w,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Bd(c,w)+(S?" "+S:"")})}function Aa(c,y){c.info(function(){return"TIMEOUT: "+y})}si.prototype.info=function(){};function Bd(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var S=w[c];if(!(2>S.length)){var K=S[1];if(Array.isArray(K)&&!(1>K.length)){var Y=K[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ce=1;ce<K.length;ce++)K[ce]=""}}}}return wa(w)}catch{return y}}var to={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},su={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function oi(){}A(oi,ni),oi.prototype.g=function(){return new XMLHttpRequest},oi.prototype.i=function(){return{}},qn=new oi;function Kn(c,y,w,S){this.j=c,this.i=y,this.l=w,this.R=S||1,this.U=new ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iu}function iu(){this.i=null,this.g="",this.h=!1}var Pa={},no={};function ro(c,y,w){c.L=1,c.v=fs(vn(y)),c.m=w,c.P=!0,Ra(c,null)}function Ra(c,y){c.F=Date.now(),Ke(c),c.A=vn(c.v);var w=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),ms(w.i,"t",S),c.C=0,w=c.j.J,c.h=new iu,c.g=Tu(c.j,w?y:null,!c.m),0<c.O&&(c.M=new ei(E(c.Y,c,c.g),c.O)),y=c.U,w=c.g,S=c.ca;var K="readystatechange";Array.isArray(K)||(K&&(xa[0]=K.toString()),K=xa);for(var Y=0;Y<K.length;Y++){var ce=jr(w,K[Y],S||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Fr(),ii(c.i,c.u,c.A,c.l,c.R,c.m)}Kn.prototype.ca=function(c){c=c.target;const y=this.M;y&&an(c)==3?y.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const gt=an(this.g);var y=this.g.Ba();const Dn=this.g.Z();if(!(3>gt)&&(gt!=3||this.g&&(this.h.h||this.g.oa()||ja(this.g)))){this.J||gt!=4||y==7||(y==8||0>=Dn?Fr(3):Fr(2)),ai(this);var w=this.g.Z();this.X=w;t:if(ou(this)){var S=ja(this.g);c="";var K=S.length,Y=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kn(this),us(this);var ce="";break t}this.h.i=new d.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(Y&&y==K-1)});S.length=0,this.h.g+=c,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=w==200,eo(this.i,this.u,this.A,this.l,this.R,gt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var He,Et=this.g;if((He=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(He)){var Oe=He;break t}}Oe=null}if(w=Oe)Hn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,w);else{this.o=!1,this.s=3,dt(12),kn(this),us(this);break e}}if(this.P){w=!0;let _n;for(;!this.J&&this.C<ce.length;)if(_n=zd(this,ce),_n==no){gt==4&&(this.s=4,dt(14),w=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Pa){this.s=4,dt(15),Hn(this.i,this.l,ce,"[Invalid Chunk]"),w=!1;break}else Hn(this.i,this.l,_n,null),Ia(this,_n);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),gt!=4||ce.length!=0||this.h.h||(this.s=1,dt(16),w=!1),this.o=this.o&&w,!w)Hn(this.i,this.l,ce,"[Invalid Chunked Response]"),kn(this),us(this);else if(0<ce.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),La(Pt),Pt.M=!0,dt(11))}}else Hn(this.i,this.l,ce,null),Ia(this,ce);gt==4&&kn(this),this.o&&!this.J&&(gt==4?mo(this.j,this):(this.o=!1,Ke(this)))}else uo(this.g),w==400&&0<ce.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),kn(this),us(this)}}}catch{}finally{}};function ou(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zd(c,y){var w=c.C,S=y.indexOf(`
`,w);return S==-1?no:(w=Number(y.substring(w,S)),isNaN(w)?Pa:(S+=1,S+w>y.length?no:(y=y.slice(S,S+w),c.C=S+w,y)))}Kn.prototype.cancel=function(){this.J=!0,kn(this)};function Ke(c){c.S=Date.now()+c.I,au(c,c.I)}function au(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Wn(E(c.ba,c),y)}function ai(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Kn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Aa(this.i,this.A),this.L!=2&&(Fr(),dt(17)),kn(this),this.s=2,us(this)):au(this,this.S-c)};function us(c){c.j.G==0||c.J||mo(c.j,c)}function kn(c){ai(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,_a(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ia(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||Zt(w.h,c))){if(!c.K&&Zt(w.h,c)&&w.G==3){try{var S=w.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var K=S;if(K[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)po(w),Jn(w);else break e;fo(w),dt(18)}}else w.za=K[1],0<w.za-w.T&&37500>K[2]&&w.F&&w.v==0&&!w.C&&(w.C=Wn(E(w.Za,w),6e3));if(1>=uu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Wr(w,11)}else if((c.K||w.g==c)&&po(w),!W(y))for(K=w.Da.g.parse(y),y=0;y<K.length;y++){let Oe=K[y];if(w.T=Oe[0],Oe=Oe[1],w.G==2)if(Oe[0]=="c"){w.K=Oe[1],w.ia=Oe[2];const Pt=Oe[3];Pt!=null&&(w.la=Pt,w.j.info("VER="+w.la));const gt=Oe[4];gt!=null&&(w.Aa=gt,w.j.info("SVER="+w.Aa));const Dn=Oe[5];Dn!=null&&typeof Dn=="number"&&0<Dn&&(S=1.5*Dn,w.L=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const _n=c.g;if(_n){const pi=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var Y=S.h;Y.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ka(Y,Y.h),Y.h=null))}if(S.D){const yo=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;yo&&(S.ya=yo,qe(S.I,S.D,yo))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),S=w;var ce=c;if(S.qa=Eu(S,S.J?S.ia:null,S.W),ce.K){cu(S.h,ce);var He=ce,Et=S.L;Et&&(He.I=Et),He.B&&(ai(He),Ke(He)),S.g=ce}else fi(S);0<w.i.length&&yr(w)}else Oe[0]!="stop"&&Oe[0]!="close"||Wr(w,7);else w.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?Wr(w,7):jt(w):Oe[0]!="noop"&&w.l&&w.l.ta(Oe),w.v=0)}}Fr(4)}catch{}}var lu=class{constructor(c,y){this.g=c,this.map=y}};function li(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function uu(c){return c.h?1:c.g?c.g.size:0}function Zt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ka(c,y){c.g?c.g.add(y):c.h=y}function cu(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}li.prototype.cancel=function(){if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function du(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return j(c.i)}function so(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],w=c.length,S=0;S<w;S++)y.push(c[S]);return y}y=[],w=0;for(S in c)y[w++]=c[S];return y}function io(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const S in c)y[w++]=S;return y}}}function cs(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=io(c),S=so(c),K=S.length,Y=0;Y<K;Y++)y.call(void 0,S[Y],w&&w[Y],c)}var ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wd(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var S=c[w].indexOf("="),K=null;if(0<=S){var Y=c[w].substring(0,S);K=c[w].substring(S+1)}else Y=c[w];y(Y,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function $r(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $r){this.h=c.h,ci(this,c.j),this.o=c.o,this.g=c.g,ds(this,c.s),this.l=c.l;var y=c.i,w=new pr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),hs(this,w),this.m=c.m}else c&&(y=String(c).match(ui))?(this.h=!1,ci(this,y[1]||"",!0),this.o=Le(y[2]||""),this.g=Le(y[3]||"",!0),ds(this,y[4]),this.l=Le(y[5]||"",!0),hs(this,y[6]||"",!0),this.m=Le(y[7]||"")):(this.h=!1,this.i=new pr(null,this.h))}$r.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ps(y,oo,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ps(y,oo,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(ps(w,w.charAt(0)=="/"?pu:fu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",ps(w,Na)),c.join("")};function vn(c){return new $r(c)}function ci(c,y,w){c.j=w?Le(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ds(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function hs(c,y,w){y instanceof pr?(c.i=y,mr(c.i,c.h)):(w||(y=ps(y,mu)),c.i=new pr(y,c.h))}function qe(c,y,w){c.i.set(y,w)}function fs(c){return qe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Le(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ps(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,hu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var oo=/[#\/\?@]/g,fu=/[#\?:]/g,pu=/[#\?]/g,mu=/[#\?@]/g,Na=/#/g;function pr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Vt(c){c.g||(c.g=new Map,c.h=0,c.i&&Wd(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=pr.prototype,t.add=function(c,y){Vt(this),this.i=null,c=Nn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function Gn(c,y){Vt(c),y=Nn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Qn(c,y){return Vt(c),y=Nn(c,y),c.g.has(y)}t.forEach=function(c,y){Vt(this),this.g.forEach(function(w,S){w.forEach(function(K){c.call(y,K,S,this)},this)},this)},t.na=function(){Vt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let S=0;S<y.length;S++){const K=c[S];for(let Y=0;Y<K.length;Y++)w.push(y[S])}return w},t.V=function(c){Vt(this);let y=[];if(typeof c=="string")Qn(this,c)&&(y=y.concat(this.g.get(Nn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},t.set=function(c,y){return Vt(this),this.i=null,c=Nn(this,c),Qn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ms(c,y,w){Gn(c,y),0<w.length&&(c.i=null,c.g.set(Nn(c,y),j(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var S=y[w];const Y=encodeURIComponent(String(S)),ce=this.V(S);for(S=0;S<ce.length;S++){var K=Y;ce[S]!==""&&(K+="="+encodeURIComponent(String(ce[S]))),c.push(K)}}return this.i=c.join("&")};function Nn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function mr(c,y){y&&!c.j&&(Vt(c),c.i=null,c.g.forEach(function(w,S){var K=S.toLowerCase();S!=K&&(Gn(this,S),ms(this,K,w))},c)),c.j=y}function Hd(c,y){const w=new si;if(d.Image){const S=new Image;S.onload=b(on,w,"TestLoadImage: loaded",!0,y,S),S.onerror=b(on,w,"TestLoadImage: error",!1,y,S),S.onabort=b(on,w,"TestLoadImage: abort",!1,y,S),S.ontimeout=b(on,w,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function gu(c,y){const w=new si,S=new AbortController,K=setTimeout(()=>{S.abort(),on(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(Y=>{clearTimeout(K),Y.ok?on(w,"TestPingServer: ok",!0,y):on(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),on(w,"TestPingServer: error",!1,y)})}function on(c,y,w,S,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),S(w)}catch{}}function qd(){this.g=new Ta}function yu(c,y,w){const S=w||"";try{cs(c,function(K,Y){let ce=K;p(K)&&(ce=wa(K)),y.push(S+Y+"="+encodeURIComponent(ce))})}catch(K){throw y.push(S+"type="+encodeURIComponent("_badmap")),K}}function Ur(c){this.l=c.Ub||null,this.j=c.eb||!1}A(Ur,ni),Ur.prototype.g=function(){return new di(this.l,this.j)},Ur.prototype.i=function(c){return function(){return c}}({});function di(c,y){_t.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(di,_t),t=di.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Yn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Xn(this):Yn(this),this.readyState==3&&vu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Xn(this))},t.Qa=function(c){this.g&&(this.response=c,Xn(this))},t.ga=function(){this.g&&Xn(this)};function Xn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Yn(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function Yn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Br(c){let y="";return B(c,function(w,S){y+=S,y+=":",y+=w,y+=`\r
`}),y}function gs(c,y,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=Br(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):qe(c,y,w))}function Je(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Je,_t);var Kd=/^https?$/i,Da=["POST","PUT"];t=Je.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?Xi(this.o):Xi(qn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){hi(this,Y);return}if(c=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var K in S)w.set(K,S[K]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const Y of S.keys())w.set(Y,S.get(Y));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(Y=>Y.toLowerCase()=="content-type"),K=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Da,y,void 0))||S||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ce]of w)this.g.setRequestHeader(Y,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{lo(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){hi(this,Y)}};function hi(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,ao(c),xn(c)}function ao(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),xn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xn(this,!0)),Je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},t.bb=function(){Va(this)};function Va(c){if(c.h&&typeof u<"u"&&(!c.v[1]||an(c)!=4||c.Z()!=2)){if(c.u&&an(c)==4)va(c.Ea,0,c);else if(wt(c,"readystatechange"),an(c)==4){c.h=!1;try{const ce=c.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var S;if(S=ce===0){var K=String(c.D).match(ui)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),S=!Kd.test(K?K.toLowerCase():"")}w=S}if(w)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var Y=2<an(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",ao(c)}}finally{xn(c)}}}}function xn(c,y){if(c.g){lo(c);const w=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||wt(c,"ready");try{w.onreadystatechange=S}catch{}}}function lo(c){c.I&&(d.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function an(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ea(y)}};function ja(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uo(c){const y={};c=(c.g&&2<=an(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(W(c[S]))continue;var w=U(c[S]);const K=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Y=y[K]||[];y[K]=Y,Y.push(w)}k(y,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gr(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function Ma(c){this.Aa=0,this.i=[],this.j=new si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gr("baseRetryDelayMs",5e3,c),this.cb=gr("retryDelaySeedMs",1e4,c),this.Wa=gr("forwardChannelMaxRetries",2,c),this.wa=gr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new li(c&&c.concurrentRequestLimit),this.Da=new qd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ma.prototype,t.la=8,t.G=1,t.connect=function(c,y,w,S){dt(0),this.W=c,this.H=y||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.I=Eu(this,null,this.W),yr(this)};function jt(c){if(co(c),c.G==3){var y=c.U++,w=vn(c.I);if(qe(w,"SID",c.K),qe(w,"RID",y),qe(w,"TYPE","terminate"),zr(c,w),y=new Kn(c,c.j,y),y.L=2,y.v=fs(vn(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=y.v,w=!0),w||(y.g=Tu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ke(y)}wu(c)}function Jn(c){c.g&&(La(c),c.g.cancel(),c.g=null)}function co(c){Jn(c),c.u&&(d.clearTimeout(c.u),c.u=null),po(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function yr(c){if(!yn(c.h)&&!c.s){c.s=!0;var y=c.Ga;xe||he(),ie||(xe(),ie=!0),fe.add(y,c),c.B=0}}function Gd(c,y){return uu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Wn(E(c.Ga,c,y),_u(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const K=new Kn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=C(Y),M(Y,this.S)):Y=this.S),this.m!==null||this.O||(K.H=Y,Y=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=ys(this,K,y),w=vn(this.I),qe(w,"RID",c),qe(w,"CVER",22),this.D&&qe(w,"X-HTTP-Session-Id",this.D),zr(this,w),Y&&(this.O?y="headers="+encodeURIComponent(String(Br(Y)))+"&"+y:this.m&&gs(w,this.m,Y)),ka(this.h,K),this.Ua&&qe(w,"TYPE","init"),this.P?(qe(w,"$req",y),qe(w,"SID","null"),K.T=!0,ro(K,w,null)):ro(K,w,y),this.G=2}}else this.G==3&&(c?ho(this,c):this.i.length==0||yn(this.h)||ho(this))};function ho(c,y){var w;y?w=y.l:w=c.U++;const S=vn(c.I);qe(S,"SID",c.K),qe(S,"RID",w),qe(S,"AID",c.T),zr(c,S),c.m&&c.o&&gs(S,c.m,c.o),w=new Kn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ys(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ka(c.h,w),ro(w,S,y)}function zr(c,y){c.H&&B(c.H,function(w,S){qe(y,S,w)}),c.l&&cs({},function(w,S){qe(y,S,w)})}function ys(c,y,w){w=Math.min(c.i.length,w);var S=c.l?E(c.l.Na,c.l,c):null;e:{var K=c.i;let Y=-1;for(;;){const ce=["count="+w];Y==-1?0<w?(Y=K[0].g,ce.push("ofs="+Y)):Y=0:ce.push("ofs="+Y);let He=!0;for(let Et=0;Et<w;Et++){let Oe=K[Et].g;const Pt=K[Et].map;if(Oe-=Y,0>Oe)Y=Math.max(0,K[Et].g-100),He=!1;else try{yu(Pt,ce,"req"+Oe+"_")}catch{S&&S(Pt)}}if(He){S=ce.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,S}function fi(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;xe||he(),ie||(xe(),ie=!0),fe.add(y,c),c.v=0}}function fo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Wn(E(c.Fa,c),_u(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Wn(E(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Jn(this),xu(this))};function La(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function xu(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=vn(c.qa);qe(y,"RID","rpc"),qe(y,"SID",c.K),qe(y,"AID",c.T),qe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&qe(y,"TO",c.ja),qe(y,"TYPE","xmlhttp"),zr(c,y),c.m&&c.o&&gs(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=fs(vn(y)),w.m=null,w.P=!0,Ra(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Jn(this),fo(this),dt(19))};function po(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function mo(c,y){var w=null;if(c.g==y){po(c),La(c),c.g=null;var S=2}else if(Zt(c.h,y))w=y.D,cu(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var K=c.B;S=ri(),wt(S,new Zi(S,w)),yr(c)}else fi(c);else if(K=y.s,K==3||K==0&&0<y.X||!(S==1&&Gd(c,y)||S==2&&fo(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),K){case 1:Wr(c,5);break;case 4:Wr(c,10);break;case 3:Wr(c,6);break;default:Wr(c,2)}}}function _u(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function Wr(c,y){if(c.j.info("Error code "+y),y==2){var w=E(c.fb,c),S=c.Xa;const K=!S;S=new $r(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ci(S,"https"),fs(S),K?Hd(S.toString(),w):gu(S.toString(),w)}else dt(2);c.G=0,c.l&&c.l.sa(y),wu(c),co(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function wu(c){if(c.G=0,c.ka=[],c.l){const y=du(c.h);(y.length!=0||c.i.length!=0)&&(N(c.ka,y),N(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Eu(c,y,w){var S=w instanceof $r?vn(w):new $r(w);if(S.g!="")y&&(S.g=y+"."+S.g),ds(S,S.s);else{var K=d.location;S=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var Y=new $r(null);S&&ci(Y,S),y&&(Y.g=y),K&&ds(Y,K),w&&(Y.l=w),S=Y}return w=c.D,y=c.ya,w&&y&&qe(S,w,y),qe(S,"VER",c.la),zr(c,S),S}function Tu(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Je(new Ur({eb:w})):new Je(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oa(){}t=Oa.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function go(){}go.prototype.g=function(c,y){return new en(c,y)};function en(c,y){_t.call(this),this.g=new Ma(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new vr(this)}A(en,_t),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){jt(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=wa(c),c=w);y.i.push(new lu(y.Ya++,c)),y.G==3&&yr(y)},en.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,en.aa.N.call(this)};function bu(c){hr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}A(bu,hr);function Su(){Ji.call(this),this.status=1}A(Su,Ji);function vr(c){this.g=c}A(vr,Oa),vr.prototype.ua=function(){wt(this.g,"a")},vr.prototype.ta=function(c){wt(this.g,new bu(c))},vr.prototype.sa=function(c){wt(this.g,new Su)},vr.prototype.ra=function(){wt(this.g,"b")},go.prototype.createWebChannel=go.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,WE=function(){return new go},zE=function(){return ri()},BE=fr,wp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},to.NO_ERROR=0,to.TIMEOUT=8,to.HTTP_ERROR=6,Lc=to,su.COMPLETE="complete",UE=su,Yi.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",_t.prototype.listen=_t.prototype.K,gl=Yi,Je.prototype.listenOnce=Je.prototype.L,Je.prototype.getLastError=Je.prototype.Ka,Je.prototype.getLastErrorCode=Je.prototype.Ba,Je.prototype.getStatus=Je.prototype.Z,Je.prototype.getResponseJson=Je.prototype.Oa,Je.prototype.getResponseText=Je.prototype.oa,Je.prototype.send=Je.prototype.ea,Je.prototype.setWithCredentials=Je.prototype.Ha,$E=Je}).apply(typeof Sc<"u"?Sc:typeof self<"u"?self:typeof window<"u"?window:{});const Ax="@firebase/firestore",Px="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new IE("@firebase/firestore");function $o(){return Oi.logLevel}function me(t,...e){if(Oi.logLevel<=$e.DEBUG){const n=e.map(jm);Oi.debug(`Firestore (${da}): ${t}`,...n)}}function is(t,...e){if(Oi.logLevel<=$e.ERROR){const n=e.map(jm);Oi.error(`Firestore (${da}): ${t}`,...n)}}function ea(t,...e){if(Oi.logLevel<=$e.WARN){const n=e.map(jm);Oi.warn(`Firestore (${da}): ${t}`,...n)}}function jm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t="Unexpected state"){const e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+t;throw is(e),new Error(e)}function ze(t,e){t||Pe()}function ke(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class s2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class i2{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ze(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ns,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},d=f=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ns)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new HE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Xt(e)}}class o2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class a2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new o2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Rx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l2{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,VE(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){ze(this.o===void 0);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,me("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Rx(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new Rx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=u2(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function Ve(t,e){return t<e?-1:t>e?1:0}function Ep(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ve(r,i);{const a=qE(),u=c2(a.encode(Ix(t,n)),a.encode(Ix(e,n)));return u!==0?u:Ve(r,i)}}n+=r>65535?2:1}return Ve(t.length,e.length)}function Ix(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function c2(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ve(t[n],e[n]);return Ve(t.length,e.length)}function ta(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx=-62135596800,Nx=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Nx);return new Ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<kx)throw new Ee(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nx}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-kx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Ct(0,0))}static max(){return new Ie(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx="__name__";class Tr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(),r===void 0?r=e.length-n:r>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Tr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Tr.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return Ve(e.length,n.length)}static compareSegments(e,n){const r=Tr.isNumericId(e),i=Tr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Tr.extractNumericId(e).compare(Tr.extractNumericId(n)):Ep(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class et extends Tr{construct(e,n,r){return new et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new et(n)}static emptyPath(){return new et([])}}const d2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends Tr{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return d2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dx}static keyField(){return new Bt([Dx])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Ee(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Ee(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ee(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(u=!u,i++):d!=="."||u?(r+=d,i++):(a(),i++)}if(a(),u)throw new Ee(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(et.fromString(e))}static fromName(e){return new Ce(et.fromString(e).popFirst(5))}static empty(){return new Ce(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function h2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ie.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new zs(i,Ce.empty(),e)}function f2(t){return new zs(t.readTime,t.key,Fl)}class zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zs(Ie.min(),Ce.empty(),Fl)}static max(){return new zs(Ie.max(),Ce.empty(),Fl)}}function p2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Ve(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==m2)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,a=0,u=!1;e.forEach(d=>{++i,d.next(()=>{++a,u&&a===i&&n()},f=>r(f))}),u=!0,a===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(g=>{u[p]=g,++d,d===a&&r(u)},g=>i(g))}})}static doWhile(e,n){return new ee((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function y2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Td.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=-1;function bd(t){return t==null}function nd(t){return t===0&&1/t==-1/0}function v2(t){return typeof t=="number"&&Number.isInteger(t)&&!nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="";function x2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Vx(e)),e=_2(t.get(n),e);return Vx(e)}function _2(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case GE:n+="";break;default:n+=a}}return n}function Vx(t){return t+GE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??$t.RED,this.left=i??$t.EMPTY,this.right=a??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new $t(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return $t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,r,i,a){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mx(this.data.getIterator())}getIteratorFrom(e){return new Mx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class Mx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new At(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new XE("Invalid base64 string: "+a):a}}(e);return new zt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a}(e);return new zt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}zt.EMPTY_BYTE_STRING=new zt("");const w2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(t){if(ze(!!t),typeof t=="string"){let e=0;const n=w2.exec(t);if(ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mt(t.seconds),nanos:mt(t.nanos)}}function mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hs(t){return typeof t=="string"?zt.fromBase64String(t):zt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="server_timestamp",JE="__type__",ZE="__previous_value__",eT="__local_write_time__";function Lm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[JE])===null||n===void 0?void 0:n.stringValue)===YE}function Sd(t){const e=t.mapValue.fields[ZE];return Lm(e)?Sd(e):e}function $l(t){const e=Ws(t.mapValue.fields[eT].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,r,i,a,u,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p}}const rd="(default)";class Ul{constructor(e,n){this.projectId=e,this.database=n||rd}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===rd}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="__type__",T2="__max__",Ac={mapValue:{}},nT="__vector__",sd="value";function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lm(t)?4:S2(t)?9007199254740991:b2(t)?10:11:Pe()}function kr(t,e){if(t===e)return!0;const n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $l(t).isEqual($l(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=Ws(i.timestampValue),d=Ws(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Hs(i.bytesValue).isEqual(Hs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return mt(i.geoPointValue.latitude)===mt(a.geoPointValue.latitude)&&mt(i.geoPointValue.longitude)===mt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return mt(i.integerValue)===mt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=mt(i.doubleValue),d=mt(a.doubleValue);return u===d?nd(u)===nd(d):isNaN(u)&&isNaN(d)}return!1}(t,e);case 9:return ta(t.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return function(i,a){const u=i.mapValue.fields||{},d=a.mapValue.fields||{};if(jx(u)!==jx(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!kr(u[f],d[f])))return!1;return!0}(t,e);default:return Pe()}}function Bl(t,e){return(t.values||[]).find(n=>kr(n,e))!==void 0}function na(t,e){if(t===e)return 0;const n=qs(t),r=qs(e);if(n!==r)return Ve(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(t.booleanValue,e.booleanValue);case 2:return function(a,u){const d=mt(a.integerValue||a.doubleValue),f=mt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(t,e);case 3:return Lx(t.timestampValue,e.timestampValue);case 4:return Lx($l(t),$l(e));case 5:return Ep(t.stringValue,e.stringValue);case 6:return function(a,u){const d=Hs(a),f=Hs(u);return d.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const g=Ve(d[p],f[p]);if(g!==0)return g}return Ve(d.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const d=Ve(mt(a.latitude),mt(u.latitude));return d!==0?d:Ve(mt(a.longitude),mt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Ox(t.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,p,g;const _=a.fields||{},E=u.fields||{},b=(d=_[sd])===null||d===void 0?void 0:d.arrayValue,A=(f=E[sd])===null||f===void 0?void 0:f.arrayValue,j=Ve(((p=b==null?void 0:b.values)===null||p===void 0?void 0:p.length)||0,((g=A==null?void 0:A.values)===null||g===void 0?void 0:g.length)||0);return j!==0?j:Ox(b,A)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===Ac.mapValue&&u===Ac.mapValue)return 0;if(a===Ac.mapValue)return 1;if(u===Ac.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const E=Ep(f[_],g[_]);if(E!==0)return E;const b=na(d[f[_]],p[g[_]]);if(b!==0)return b}return Ve(f.length,g.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function Lx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ve(t,e);const n=Ws(t),r=Ws(e),i=Ve(n.seconds,r.seconds);return i!==0?i:Ve(n.nanos,r.nanos)}function Ox(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=na(n[i],r[i]);if(a)return a}return Ve(n.length,r.length)}function ra(t){return Tp(t)}function Tp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ws(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Tp(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${Tp(n.fields[u])}`;return i+"}"}(t.mapValue):Pe()}function Oc(t){switch(qs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(t);return e?16+Oc(e):16;case 5:return 2*t.stringValue.length;case 6:return Hs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Oc(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Js(r.fields,(a,u)=>{i+=a.length+Oc(u)}),i}(t.mapValue);default:throw Pe()}}function bp(t){return!!t&&"integerValue"in t}function Om(t){return!!t&&"arrayValue"in t}function Fx(t){return!!t&&"nullValue"in t}function $x(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fc(t){return!!t&&"mapValue"in t}function b2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[tT])===null||n===void 0?void 0:n.stringValue)===nT}function bl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=bl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=bl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function S2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===T2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach((u,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}u?r[d.lastSegment()]=bl(u):i.push(d.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Js(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new mn(bl(this.value))}}function rT(t){const e=[];return Js(t.fields,(n,r)=>{const i=new Bt([n]);if(Fc(r)){const a=rT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,i,a,u,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Yt(e,0,Ie.min(),Ie.min(),Ie.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new Yt(e,1,n,Ie.min(),r,i,0)}static newNoDocument(e,n){return new Yt(e,2,n,Ie.min(),Ie.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Ie.min(),Ie.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.position=e,this.inclusive=n}}function Ux(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],u=t.position[i];if(a.field.isKeyField()?r=Ce.comparator(Ce.fromName(u.referenceValue),n.key):r=na(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Bx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n="asc"){this.field=e,this.dir=n}}function C2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{}class St extends sT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new P2(e,n,r):n==="array-contains"?new k2(e,r):n==="in"?new N2(e,r):n==="not-in"?new D2(e,r):n==="array-contains-any"?new V2(e,r):new St(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new R2(e,r):new I2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(na(n,this.value)):n!==null&&qs(this.value)===qs(n)&&this.matchesComparison(na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends sT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Nr(e,n)}matches(e){return iT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function iT(t){return t.op==="and"}function oT(t){return A2(t)&&iT(t)}function A2(t){for(const e of t.filters)if(e instanceof Nr)return!1;return!0}function Sp(t){if(t instanceof St)return t.field.canonicalString()+t.op.toString()+ra(t.value);if(oT(t))return t.filters.map(e=>Sp(e)).join(",");{const e=t.filters.map(n=>Sp(n)).join(",");return`${t.op}(${e})`}}function aT(t,e){return t instanceof St?function(r,i){return i instanceof St&&r.op===i.op&&r.field.isEqual(i.field)&&kr(r.value,i.value)}(t,e):t instanceof Nr?function(r,i){return i instanceof Nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,u,d)=>a&&aT(u,i.filters[d]),!0):!1}(t,e):void Pe()}function lT(t){return t instanceof St?function(n){return`${n.field.canonicalString()} ${n.op} ${ra(n.value)}`}(t):t instanceof Nr?function(n){return n.op.toString()+" {"+n.getFilters().map(lT).join(" ,")+"}"}(t):"Filter"}class P2 extends St{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class R2 extends St{constructor(e,n){super(e,"in",n),this.keys=uT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I2 extends St{constructor(e,n){super(e,"not-in",n),this.keys=uT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ce.fromName(r.referenceValue))}class k2 extends St{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Om(n)&&Bl(n.arrayValue,this.value)}}class N2 extends St{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bl(this.value.arrayValue,n)}}class D2 extends St{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bl(this.value.arrayValue,n)}}class V2 extends St{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Om(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n=null,r=[],i=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=d,this.le=null}}function zx(t,e=null,n=[],r=[],i=null,a=null,u=null){return new j2(t,e,n,r,i,a,u)}function Fm(t){const e=ke(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),bd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ra(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ra(r)).join(",")),e.le=n}return e.le}function $m(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Bx(t.startAt,e.startAt)&&Bx(t.endAt,e.endAt)}function Cp(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n=null,r=[],i=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function M2(t,e,n,r,i,a,u,d){return new Cd(t,e,n,r,i,a,u,d)}function Um(t){return new Cd(t)}function Wx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function L2(t){return t.collectionGroup!==null}function Sl(t){const e=ke(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new At(Bt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new od(a,r))}),n.has(Bt.keyField().canonicalString())||e.he.push(new od(Bt.keyField(),r))}return e.he}function Pr(t){const e=ke(t);return e.Pe||(e.Pe=O2(e,Sl(t))),e.Pe}function O2(t,e){if(t.limitType==="F")return zx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new od(i.field,a)});const n=t.endAt?new id(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new id(t.startAt.position,t.startAt.inclusive):null;return zx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ap(t,e,n){return new Cd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ad(t,e){return $m(Pr(t),Pr(e))&&t.limitType===e.limitType}function cT(t){return`${Fm(Pr(t))}|lt:${t.limitType}`}function Uo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lT(i)).join(", ")}]`),bd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ra(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ra(i)).join(",")),`Target(${r})`}(Pr(t))}; limitType=${t.limitType})`}function Pd(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ce.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of Sl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(u,d,f){const p=Ux(u,d,f);return u.inclusive?p<=0:p<0}(r.startAt,Sl(r),i)||r.endAt&&!function(u,d,f){const p=Ux(u,d,f);return u.inclusive?p>=0:p>0}(r.endAt,Sl(r),i))}(t,e)}function F2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dT(t){return(e,n)=>{let r=!1;for(const i of Sl(t)){const a=$2(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function $2(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?na(f,p):Pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return QE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new it(Ce.comparator);function os(){return U2}const hT=new it(Ce.comparator);function yl(...t){let e=hT;for(const n of t)e=e.insert(n.key,n);return e}function fT(t){let e=hT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ji(){return Cl()}function pT(){return Cl()}function Cl(){return new Wi(t=>t.toString(),(t,e)=>t.isEqual(e))}const B2=new it(Ce.comparator),z2=new At(Ce.comparator);function Me(...t){let e=z2;for(const n of t)e=e.add(n);return e}const W2=new At(Ve);function H2(){return W2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function mT(t){return{integerValue:""+t}}function q2(t,e){return v2(e)?mT(e):Bm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(){this._=void 0}}function K2(t,e,n){return t instanceof ad?function(i,a){const u={fields:{[JE]:{stringValue:YE},[eT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Lm(a)&&(a=Sd(a)),a&&(u.fields[ZE]=a),{mapValue:u}}(n,e):t instanceof zl?yT(t,e):t instanceof Wl?vT(t,e):function(i,a){const u=gT(i,a),d=Hx(u)+Hx(i.Ie);return bp(u)&&bp(i.Ie)?mT(d):Bm(i.serializer,d)}(t,e)}function G2(t,e,n){return t instanceof zl?yT(t,e):t instanceof Wl?vT(t,e):n}function gT(t,e){return t instanceof ld?function(r){return bp(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ad extends Rd{}class zl extends Rd{constructor(e){super(),this.elements=e}}function yT(t,e){const n=xT(e);for(const r of t.elements)n.some(i=>kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wl extends Rd{constructor(e){super(),this.elements=e}}function vT(t,e){let n=xT(e);for(const r of t.elements)n=n.filter(i=>!kr(i,r));return{arrayValue:{values:n}}}class ld extends Rd{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Hx(t){return mt(t.integerValue||t.doubleValue)}function xT(t){return Om(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Q2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof zl&&i instanceof zl||r instanceof Wl&&i instanceof Wl?ta(r.elements,i.elements,kr):r instanceof ld&&i instanceof ld?kr(r.Ie,i.Ie):r instanceof ad&&i instanceof ad}(t.transform,e.transform)}class X2{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Id{}function _T(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zm(t.key,zn.none()):new Jl(t.key,t.data,zn.none());{const n=t.data,r=mn.empty();let i=new At(Bt.comparator);for(let a of e.fields)if(!i.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new Zs(t.key,r,new bn(i.toArray()),zn.none())}}function Y2(t,e,n){t instanceof Jl?function(i,a,u){const d=i.value.clone(),f=Kx(i.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Zs?function(i,a,u){if(!$c(i.precondition,a))return void a.convertToUnknownDocument(u.version);const d=Kx(i.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(wT(i)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Al(t,e,n,r){return t instanceof Jl?function(a,u,d,f){if(!$c(a.precondition,u))return d;const p=a.value.clone(),g=Gx(a.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zs?function(a,u,d,f){if(!$c(a.precondition,u))return d;const p=Gx(a.fieldTransforms,f,u),g=u.data;return g.setAll(wT(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,r):function(a,u,d){return $c(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(t,e,n)}function J2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=gT(r.transform,i||null);a!=null&&(n===null&&(n=mn.empty()),n.set(r.field,a))}return n||null}function qx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ta(r,i,(a,u)=>Q2(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jl extends Id{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zs extends Id{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function wT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Kx(t,e,n){const r=new Map;ze(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],u=a.transform,d=e.data.field(a.field);r.set(a.field,G2(u,d,n[i]))}return r}function Gx(t,e,n){const r=new Map;for(const i of t){const a=i.transform,u=n.data.field(i.field);r.set(i.field,K2(a,u,e))}return r}class zm extends Id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z2 extends Id{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Y2(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pT();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=n.has(i.key)?null:d;const f=_T(u,d);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(n,r)=>qx(n,r))&&ta(this.baseMutations,e.baseMutations,(n,r)=>qx(n,r))}}class Wm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length);let i=function(){return B2}();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new Wm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Fe;function rD(t){switch(t){case se.OK:return Pe();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Pe()}}function ET(t){if(t===void 0)return is("GRPC error has no .code"),se.UNKNOWN;switch(t){case vt.OK:return se.OK;case vt.CANCELLED:return se.CANCELLED;case vt.UNKNOWN:return se.UNKNOWN;case vt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case vt.INTERNAL:return se.INTERNAL;case vt.UNAVAILABLE:return se.UNAVAILABLE;case vt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case vt.NOT_FOUND:return se.NOT_FOUND;case vt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case vt.ABORTED:return se.ABORTED;case vt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case vt.DATA_LOSS:return se.DATA_LOSS;default:return Pe()}}(Fe=vt||(vt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new Os([4294967295,4294967295],0);function Qx(t){const e=qE().encode(t),n=new FE;return n.update(e),new Uint8Array(n.digest())}function Xx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Os([n,r],0),new Os([i,a],0)]}class Hm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vl(`Invalid padding: ${n}`);if(r<0)throw new vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Os.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Os.fromNumber(r)));return i.compare(sD)===1&&(i=new Os([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Qx(e),[r,i]=Xx(n);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,i,a);if(!this.Re(u))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Hm(a,i,n);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.Ee===0)return;const n=Qx(e),[r,i]=Xx(n);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,i,a);this.Ve(u)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new kd(Ie.min(),i,new it(Ve),os(),Me())}}class Zl{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zl(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class TT{constructor(e,n){this.targetId=e,this.ge=n}}class bT{constructor(e,n,r=zt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Yx{constructor(){this.pe=0,this.ye=Jx(),this.we=zt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Me(),n=Me(),r=Me();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Pe()}}),new Zl(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=Jx()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,ze(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class iD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=os(),this.$e=Pc(),this.Ue=Pc(),this.Ke=new it(Ve)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const a=i.target;if(Cp(a))if(r===0){const u=new Ce(a.path);this.ze(n,u,Yt.newNoDocument(u,Ie.min()))}else ze(r===1);else{const u=this.et(n);if(u!==r){const d=this.tt(e),f=d?this.nt(d,e,u):1;if(f!==0){this.Ye(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let u,d;try{u=Hs(r).toUint8Array()}catch(f){if(f instanceof XE)return ea("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Hm(u,i,a)}catch(f){return ea(f instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ee===0?null:d}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const u=this.ke.it(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.ze(n,a,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((a,u)=>{const d=this.Xe(u);if(d){if(a.current&&Cp(d.target)){const f=new Ce(d.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,Yt.newNoDocument(f,e))}a.ve&&(n.set(u,a.Fe()),a.Me())}});let r=Me();this.Ue.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const i=new kd(e,n,this.Ke,this.Qe,r);return this.Qe=os(),this.$e=Pc(),this.Ue=Pc(),this.Ke=new it(Ve),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Yx,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new At(Ve),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new At(Ve),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Yx),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Pc(){return new it(Ce.comparator)}function Jx(){return new it(Ce.comparator)}const oD={asc:"ASCENDING",desc:"DESCENDING"},aD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lD={and:"AND",or:"OR"};class uD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pp(t,e){return t.useProto3Json||bd(e)?e:{value:e}}function ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ST(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cD(t,e){return ud(t,e.toTimestamp())}function Rr(t){return ze(!!t),Ie.fromTimestamp(function(n){const r=Ws(n);return new Ct(r.seconds,r.nanos)}(t))}function qm(t,e){return Rp(t,e).canonicalString()}function Rp(t,e){const n=function(i){return new et(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CT(t){const e=et.fromString(t);return ze(kT(e)),e}function Ip(t,e){return qm(t.databaseId,e.path)}function Ff(t,e){const n=CT(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(PT(n))}function AT(t,e){return qm(t.databaseId,e)}function dD(t){const e=CT(t);return e.length===4?et.emptyPath():PT(e)}function kp(t){return new et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PT(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Zx(t,e,n){return{name:Ip(t,e),fields:n.value.mapValue.fields}}function hD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(ze(g===void 0||typeof g=="string"),zt.fromBase64String(g||"")):(ze(g===void 0||g instanceof Buffer||g instanceof Uint8Array),zt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const g=p.code===void 0?se.UNKNOWN:ET(p.code);return new Ee(g,p.message||"")}(u);n=new bT(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ff(t,r.document.name),a=Rr(r.document.updateTime),u=r.document.createTime?Rr(r.document.createTime):Ie.min(),d=new mn({mapValue:{fields:r.document.fields}}),f=Yt.newFoundDocument(i,a,u,d),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Uc(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ff(t,r.document),a=r.readTime?Rr(r.readTime):Ie.min(),u=Yt.newNoDocument(i,a),d=r.removedTargetIds||[];n=new Uc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ff(t,r.document),a=r.removedTargetIds||[];n=new Uc([],a,i,null)}else{if(!("filter"in e))return Pe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new nD(i,a),d=r.targetId;n=new TT(d,u)}}return n}function fD(t,e){let n;if(e instanceof Jl)n={update:Zx(t,e.key,e.value)};else if(e instanceof zm)n={delete:Ip(t,e.key)};else if(e instanceof Zs)n={update:Zx(t,e.key,e.data),updateMask:ED(e.fieldMask)};else{if(!(e instanceof Z2))return Pe();n={verify:Ip(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof ad)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof zl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ld)return{fieldPath:u.field.canonicalString(),increment:d.Ie};throw Pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:cD(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe()}(t,e.precondition)),n}function pD(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(i,a){let u=i.updateTime?Rr(i.updateTime):Rr(a);return u.isEqual(Ie.min())&&(u=Rr(a)),new X2(u,i.transformResults||[])}(n,e))):[]}function mD(t,e){return{documents:[AT(t,e.path)]}}function gD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AT(t,i);const a=function(p){if(p.length!==0)return IT(Nr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:Bo(E.field),direction:xD(E.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=Pp(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:i}}function yD(t){let e=dD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ze(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(_){const E=RT(_);return E instanceof Nr&&oT(E)?E.getFilters():[E]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(E=>function(A){return new od(zo(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(E))}(n.orderBy));let d=null;n.limit&&(d=function(_){let E;return E=typeof _=="object"?_.value:_,bd(E)?null:E}(n.limit));let f=null;n.startAt&&(f=function(_){const E=!!_.before,b=_.values||[];return new id(b,E)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const E=!_.before,b=_.values||[];return new id(b,E)}(n.endAt)),M2(e,i,u,a,d,"F",f,p)}function vD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=zo(n.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=zo(n.unaryFilter.field);return St.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=zo(n.unaryFilter.field);return St.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=zo(n.unaryFilter.field);return St.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):t.fieldFilter!==void 0?function(n){return St.create(zo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nr.create(n.compositeFilter.filters.map(r=>RT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(t):Pe()}function xD(t){return oD[t]}function _D(t){return aD[t]}function wD(t){return lD[t]}function Bo(t){return{fieldPath:t.canonicalString()}}function zo(t){return Bt.fromServerFormat(t.fieldPath)}function IT(t){return t instanceof St?function(n){if(n.op==="=="){if($x(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NAN"}};if(Fx(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($x(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NAN"}};if(Fx(n.value))return{unaryFilter:{field:Bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(n.field),op:_D(n.op),value:n.value}}}(t):t instanceof Nr?function(n){const r=n.getFilters().map(i=>IT(i));return r.length===1?r[0]:{compositeFilter:{op:wD(n.op),filters:r}}}(t):Pe()}function ED(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r,i,a=Ie.min(),u=Ie.min(),d=zt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.Tt=e}}function bD(t){const e=yD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ap(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.Tn=new CD}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(zs.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class CD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At(et.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NT=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(NT,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new sa(0)}static Kn(){return new sa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="LruGarbageCollector",AD=1048576;function n_([t,e],[n,r]){const i=Ve(t,n);return i===0?Ve(e,r):i}class PD{constructor(e){this.Hn=e,this.buffer=new At(n_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();n_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(t_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fa(n)?me(t_,"Ignoring IndexedDB error during garbage collection: ",n):await ha(n)}await this.er(3e5)})}}class ID{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Td.ae);const r=new PD(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(e_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),e_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,a,u,d,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,u=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,d=Date.now(),this.removeTargets(e,r,n))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),$o()<=$e.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:_})))}}function kD(t,e){return new ID(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.changes=new Wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Al(r.mutation,i,bn.empty(),Ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const i=ji();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let u=yl();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=ji();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,d)=>{n.set(u,d)})})}computeViews(e,n,r,i){let a=os();const u=Cl(),d=function(){return Cl()}();return n.forEach((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Zs)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Al(g.mutation,p,g.mutation.getFieldMask(),Ct.now())):u.set(p.key,bn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>u.set(p,g)),n.forEach((p,g)=>{var _;return d.set(p,new DD(g,(_=u.get(p))!==null&&_!==void 0?_:null))}),d))}recalculateAndSaveOverlays(e,n){const r=Cl();let i=new it((u,d)=>u-d),a=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const d of u)d.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||bn.empty();g=d.applyToLocalView(p,g),r.set(f,g);const _=(i.get(d.batchId)||Me()).add(f);i=i.insert(d.batchId,_)})}).next(()=>{const u=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,g=f.value,_=pT();g.forEach(E=>{if(!a.has(E)){const b=_T(n.get(E),r.get(E));b!==null&&_.set(E,b),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ee.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(u){return Ce.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):L2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ee.resolve(ji());let d=Fl,f=a;return u.next(p=>ee.forEach(p,(g,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),a.get(g)?ee.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,Me())).next(g=>({batchId:d,changes:fT(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(r=>{let i=yl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let u=yl();return this.indexManager.getCollectionParents(e,a).next(d=>ee.forEach(d,f=>{const p=function(_,E){return new Cd(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((_,E)=>{u=u.insert(_,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(u=>{a.forEach((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Yt.newInvalidDocument(g)))});let d=yl();return u.forEach((f,p)=>{const g=a.get(f);g!==void 0&&Al(g.mutation,p,bn.empty(),Ct.now()),Pd(n,p)&&(d=d.insert(f,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Rr(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:bD(i.bundledQuery),readTime:Rr(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(){this.overlays=new it(Ce.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ji();return ee.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.Et(e,n,a)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=ji(),a=n.length+1,u=new Ce(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new it((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=ji(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=ji(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>d.set(p,g)),!(d.size()>=i)););return ee.resolve(d)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new tD(n,r));let a=this.Rr.get(n);a===void 0&&(a=Me(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.sessionToken=zt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.Vr=new At(Nt.mr),this.gr=new At(Nt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Nt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Ce(new et([])),r=new Nt(n,e),i=new Nt(n,e+1),a=[];return this.gr.forEachInRange([r,i],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ce(new et([])),r=new Nt(n,e),i=new Nt(n,e+1);let a=Me();return this.gr.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new Nt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ce.comparator(e.key,n.key)||Ve(e.Cr,n.Cr)}static pr(e,n){return Ve(e.Cr,n.Cr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new At(Nt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new eD(a,n,r,i);this.mutationQueue.push(u);for(const d of i)this.Mr=this.Mr.add(new Nt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),a=i<0?0:i;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Mm:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],u=>{const d=this.Or(u.Cr);a.push(d)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Ve);return n.forEach(i=>{const a=new Nt(i,0),u=new Nt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],d=>{r=r.add(d.Cr)})}),ee.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ce.isDocumentKey(a)||(a=a.child(""));const u=new Nt(new Ce(a),0);let d=new At(Ve);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(d=d.add(f.Cr)),!0)},u),ee.resolve(this.Br(d))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ee.forEach(n.mutations,i=>{const a=new Nt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Nt(n,0),i=this.Mr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.kr=e,this.docs=function(){return new it(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,u=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Yt.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=os();const u=n.path,d=new Ce(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||p2(f2(g),r)<=0||(i.has(g.key)||Pd(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Pe()}qr(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $D(this)}getSize(e){return ee.resolve(this.size)}}class $D extends ND{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.persistence=e,this.Qr=new Wi(n=>Fm(n),$m),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Km,this.targetCount=0,this.Kr=sa.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new sa(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Qr.forEach((u,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),ee.waitFor(a).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Td(0),this.zr=!1,this.zr=!0,this.jr=new LD,this.referenceDelegate=e(this),this.Hr=new UD(this),this.indexManager=new SD,this.remoteDocumentCache=function(i){return new FD(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new TD(n),this.Yr=new jD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new OD(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const i=new BD(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,n){return ee.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class BD extends g2{constructor(e){super(),this.currentSequenceNumber=e}}class Gm{constructor(e){this.persistence=e,this.ti=new Km,this.ni=null}static ri(e){return new Gm(e)}get ii(){if(this.ni)return this.ni;throw Pe()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,r=>{const i=Ce.fromPath(r);return this.si(e,i).next(a=>{a||n.removeEntry(i,Ie.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class cd{constructor(e,n){this.persistence=e,this.oi=new Wi(r=>x2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=kD(this,n)}static ri(e,n){return new cd(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?ee.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,u=>this.ar(e,u,n).next(d=>{d||(r++,a.removeEntry(u,Ie.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Oc(e.data.value)),n}ar(e,n,r){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=Me(),i=Me();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Qm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Uk()?8:y2(Fk())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.rs(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,n,i,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new zD;return this._s(e,n,u).next(d=>{if(a.result=d,this.Xi)return this.us(e,n,u,d.size)})}).next(()=>a.result)}us(e,n,r,i){return r.documentReadCount<this.es?($o()<=$e.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",Uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):($o()<=$e.DEBUG&&me("QueryEngine","Query:",Uo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?($o()<=$e.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",Uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):ee.resolve())}rs(e,n){if(Wx(n))return ee.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Ap(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=Me(...a);return this.ns.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.cs(n,d);return this.ls(n,p,u,f.readTime)?this.rs(e,Ap(n,null,"F")):this.hs(e,p,n,f)}))})))}ss(e,n,r,i){return Wx(n)||i.isEqual(Ie.min())?ee.resolve(null):this.ns.getDocuments(e,r).next(a=>{const u=this.cs(n,a);return this.ls(n,u,r,i)?ee.resolve(null):($o()<=$e.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Uo(n)),this.hs(e,u,n,h2(i,Fl)).next(d=>d))})}cs(e,n){let r=new At(dT(e));return n.forEach((i,a)=>{Pd(e,a)&&(r=r.add(a))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,n,r){return $o()<=$e.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",Uo(n)),this.ns.getDocumentsMatchingQuery(e,n,zs.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="LocalStore",HD=3e8;class qD{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new it(Ve),this.Is=new Wi(a=>Fm(a),$m),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function KD(t,e,n,r){return new qD(t,e,n,r)}async function VT(t,e){const n=ke(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=Me();for(const p of i){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){d.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next(p=>({Rs:p,removedBatchIds:u,addedBatchIds:d}))})})}function GD(t,e){const n=ke(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,f,p,g){const _=p.batch,E=_.keys();let b=ee.resolve();return E.forEach(A=>{b=b.next(()=>g.getEntry(f,A)).next(j=>{const N=p.docVersions.get(A);ze(N!==null),j.version.compareTo(N)<0&&(_.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),g.addEntry(j)))})}),b.next(()=>d.mutationQueue.removeMutationBatch(f,_))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=Me();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function jT(t){const e=ke(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function QD(t,e){const n=ke(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const d=[];e.targetChanges.forEach((g,_)=>{const E=i.get(_);if(!E)return;d.push(n.Hr.removeMatchingKeys(a,g.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(a,g.addedDocuments,_)));let b=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(zt.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):g.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(g.resumeToken,r)),i=i.insert(_,b),function(j,N,O){return j.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=HD?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(E,b,g)&&d.push(n.Hr.updateTargetData(a,b))});let f=os(),p=Me();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),d.push(XD(a,u,e.documentUpdates).next(g=>{f=g.Vs,p=g.fs})),!r.isEqual(Ie.min())){const g=n.Hr.getLastRemoteSnapshotVersion(a).next(_=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(g)}return ee.waitFor(d).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.Ts=i,a))}function XD(t,e,n){let r=Me(),i=Me();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=os();return n.forEach((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):me(Xm,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)}),{Vs:u,fs:i}})}function YD(t,e){const n=ke(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Mm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JD(t,e){const n=ke(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(a=>a?(i=a,ee.resolve(i)):n.Hr.allocateTargetId(r).next(u=>(i=new Vs(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Np(t,e,n){const r=ke(t),i=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!fa(u))throw u;me(Xm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function r_(t,e,n){const r=ke(t);let i=Ie.min(),a=Me();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,g){const _=ke(f),E=_.Is.get(g);return E!==void 0?ee.resolve(_.Ts.get(E)):_.Hr.getTargetData(p,g)}(r,u,Pr(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,n?i:Ie.min(),n?a:Me())).next(d=>(ZD(r,F2(e),d),{documents:d,gs:a})))}function ZD(t,e,n){let r=t.Es.get(e)||Ie.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Es.set(e,r)}class s_{constructor(){this.activeTargetIds=H2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eV{constructor(){this.ho=new s_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new s_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="ConnectivityMonitor";class o_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(i_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(i_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function Dp(){return Rc===null?Rc=function(){return 268435456+Math.round(2147483648*Math.random())}():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="RestConnection",nV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rV{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===rd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,a){const u=Dp(),d=this.bo(e,n.toUriEncodedString());me($f,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,i,a),this.vo(e,d,f,r).then(p=>(me($f,`Received RPC '${e}' ${u}: `,p),p),p=>{throw ea($f,`RPC '${e}' ${u} failed with error: `,p,"url: ",d,"request:",r),p})}Co(e,n,r,i,a,u){return this.So(e,n,r,i,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+da}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}bo(e,n){const r=nV[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class iV extends rV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const a=Dp();return new Promise((u,d)=>{const f=new $E;f.setWithCredentials(!0),f.listenOnce(UE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Lc.NO_ERROR:const g=f.getResponseJson();me(Gt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case Lc.TIMEOUT:me(Gt,`RPC '${e}' ${a} timed out`),d(new Ee(se.DEADLINE_EXCEEDED,"Request time out"));break;case Lc.HTTP_ERROR:const _=f.getStatus();if(me(Gt,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const b=E==null?void 0:E.error;if(b&&b.status&&b.message){const A=function(N){const O=N.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(O)>=0?O:se.UNKNOWN}(b.status);d(new Ee(A,b.message))}else d(new Ee(se.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ee(se.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{me(Gt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);me(Gt,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",p,r,15)})}Wo(e,n,r){const i=Dp(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=WE(),d=zE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=a.join("");me(Gt,`Creating RPC '${e}' stream ${i}: ${g}`,f);const _=u.createWebChannel(g,f);let E=!1,b=!1;const A=new sV({Fo:N=>{b?me(Gt,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(E||(me(Gt,`Opening RPC '${e}' stream ${i} transport.`),_.open(),E=!0),me(Gt,`RPC '${e}' stream ${i} sending:`,N),_.send(N))},Mo:()=>_.close()}),j=(N,O,W)=>{N.listen(O,F=>{try{W(F)}catch(I){setTimeout(()=>{throw I},0)}})};return j(_,gl.EventType.OPEN,()=>{b||(me(Gt,`RPC '${e}' stream ${i} transport opened.`),A.Qo())}),j(_,gl.EventType.CLOSE,()=>{b||(b=!0,me(Gt,`RPC '${e}' stream ${i} transport closed`),A.Uo())}),j(_,gl.EventType.ERROR,N=>{b||(b=!0,ea(Gt,`RPC '${e}' stream ${i} transport errored:`,N),A.Uo(new Ee(se.UNAVAILABLE,"The operation could not be completed")))}),j(_,gl.EventType.MESSAGE,N=>{var O;if(!b){const W=N.data[0];ze(!!W);const F=W,I=(F==null?void 0:F.error)||((O=F[0])===null||O===void 0?void 0:O.error);if(I){me(Gt,`RPC '${e}' stream ${i} received error:`,I);const L=I.status;let B=function(R){const M=vt[R];if(M!==void 0)return ET(M)}(L),k=I.message;B===void 0&&(B=se.INTERNAL,k="Unknown error status: "+L+" with message "+I.message),b=!0,A.Uo(new Ee(B,k)),_.close()}else me(Gt,`RPC '${e}' stream ${i} received:`,W),A.Ko(W)}}),j(d,BE.STAT_EVENT,N=>{N.stat===wp.PROXY?me(Gt,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===wp.NOPROXY&&me(Gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.$o()},0),A}}function Uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(t){return new uD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a_="PersistentStream";class LT{constructor(e,n,r,i,a,u,d,f){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new MT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new Ee(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(a_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(me(a_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oV extends LT{constructor(e,n,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,u),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=hD(this.serializer,e),r=function(a){if(!("targetChange"in a))return Ie.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?Rr(u.readTime):Ie.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=kp(this.serializer),n.addTarget=function(a,u){let d;const f=u.target;if(d=Cp(f)?{documents:mD(a,f)}:{query:gD(a,f).ht},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=ST(a,u.resumeToken);const p=Pp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ie.min())>0){d.readTime=ud(a,u.snapshotVersion.toTimestamp());const p=Pp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=vD(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=kp(this.serializer),n.removeTarget=e,this.I_(n)}}class aV extends LT{constructor(e,n,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=pD(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=kp(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fD(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{}class uV extends lV{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new Ee(se.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,Rp(n,r),i,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ee(se.UNKNOWN,a.toString())})}Co(e,n,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Co(e,Rp(n,r),i,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ee(se.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class cV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(is(n),this.N_=!1):me("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="RemoteStore";class dV{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{r.enqueueAndForget(async()=>{Hi(this)&&(me(Fi,"Restarting streams for network reachability change."),await async function(f){const p=ke(f);p.W_.add(4),await eu(p),p.j_.set("Unknown"),p.W_.delete(4),await Dd(p)}(this))})}),this.j_=new cV(r,i)}}async function Dd(t){if(Hi(t))for(const e of t.G_)await e(!0)}async function eu(t){for(const e of t.G_)await e(!1)}function OT(t,e){const n=ke(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),eg(n)?Zm(n):pa(n).c_()&&Jm(n,e))}function Ym(t,e){const n=ke(t),r=pa(n);n.K_.delete(e),r.c_()&&FT(n,e),n.K_.size===0&&(r.c_()?r.P_():Hi(n)&&n.j_.set("Unknown"))}function Jm(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pa(t).y_(e)}function FT(t,e){t.H_.Ne(e),pa(t).w_(e)}function Zm(t){t.H_=new iD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),pa(t).start(),t.j_.B_()}function eg(t){return Hi(t)&&!pa(t).u_()&&t.K_.size>0}function Hi(t){return ke(t).W_.size===0}function $T(t){t.H_=void 0}async function hV(t){t.j_.set("Online")}async function fV(t){t.K_.forEach((e,n)=>{Jm(t,e)})}async function pV(t,e){$T(t),eg(t)?(t.j_.q_(e),Zm(t)):t.j_.set("Unknown")}async function mV(t,e,n){if(t.j_.set("Online"),e instanceof bT&&e.state===2&&e.cause)try{await async function(i,a){const u=a.cause;for(const d of a.targetIds)i.K_.has(d)&&(await i.remoteSyncer.rejectListen(d,u),i.K_.delete(d),i.H_.removeTarget(d))}(t,e)}catch(r){me(Fi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dd(t,r)}else if(e instanceof Uc?t.H_.We(e):e instanceof TT?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ie.min()))try{const r=await jT(t.localStore);n.compareTo(r)>=0&&await function(a,u){const d=a.H_.ot(u);return d.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.K_.get(p);g&&a.K_.set(p,g.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,p)=>{const g=a.K_.get(f);if(!g)return;a.K_.set(f,g.withResumeToken(zt.EMPTY_BYTE_STRING,g.snapshotVersion)),FT(a,f);const _=new Vs(g.target,f,p,g.sequenceNumber);Jm(a,_)}),a.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){me(Fi,"Failed to raise snapshot:",r),await dd(t,r)}}async function dd(t,e,n){if(!fa(e))throw e;t.W_.add(1),await eu(t),t.j_.set("Offline"),n||(n=()=>jT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(Fi,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Dd(t)})}function UT(t,e){return e().catch(n=>dd(t,n,e))}async function Vd(t){const e=ke(t),n=Ks(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Mm;for(;gV(e);)try{const i=await YD(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,yV(e,i)}catch(i){await dd(e,i)}BT(e)&&zT(e)}function gV(t){return Hi(t)&&t.U_.length<10}function yV(t,e){t.U_.push(e);const n=Ks(t);n.c_()&&n.S_&&n.b_(e.mutations)}function BT(t){return Hi(t)&&!Ks(t).u_()&&t.U_.length>0}function zT(t){Ks(t).start()}async function vV(t){Ks(t).C_()}async function xV(t){const e=Ks(t);for(const n of t.U_)e.b_(n.mutations)}async function _V(t,e,n){const r=t.U_.shift(),i=Wm.from(r,e,n);await UT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Vd(t)}async function wV(t,e){e&&Ks(t).S_&&await async function(r,i){if(function(u){return rD(u)&&u!==se.ABORTED}(i.code)){const a=r.U_.shift();Ks(r).h_(),await UT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Vd(r)}}(t,e),BT(t)&&zT(t)}async function l_(t,e){const n=ke(t);n.asyncQueue.verifyOperationInProgress(),me(Fi,"RemoteStore received new credentials");const r=Hi(n);n.W_.add(3),await eu(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Dd(n)}async function EV(t,e){const n=ke(t);e?(n.W_.delete(2),await Dd(n)):e||(n.W_.add(2),await eu(n),n.j_.set("Unknown"))}function pa(t){return t.J_||(t.J_=function(n,r,i){const a=ke(n);return a.M_(),new oV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:hV.bind(null,t),No:fV.bind(null,t),Lo:pV.bind(null,t),p_:mV.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),eg(t)?Zm(t):t.j_.set("Unknown")):(await t.J_.stop(),$T(t))})),t.J_}function Ks(t){return t.Y_||(t.Y_=function(n,r,i){const a=ke(n);return a.M_(),new aV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:vV.bind(null,t),Lo:wV.bind(null,t),D_:xV.bind(null,t),v_:_V.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Vd(t)):(await t.Y_.stop(),t.U_.length>0&&(me(Fi,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const u=Date.now()+r,d=new tg(e,n,u,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(t,e){if(is("AsyncQueue",`${e}: ${t}`),fa(t))return new Ee(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{static emptySet(e){return new Qo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=yl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Qo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.Z_=new it(Ce.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Pe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ia{constructor(e,n,r,i,a,u,d,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const u=[];return n.forEach(d=>{u.push({type:0,doc:d})}),new ia(e,n,Qo.emptySet(n),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class bV{constructor(){this.queries=c_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=ke(n),a=i.queries;i.queries=c_(),a.forEach((u,d)=>{for(const f of d.ta)f.onError(r)})})(this,new Ee(se.ABORTED,"Firestore shutting down"))}}function c_(){return new Wi(t=>cT(t),Ad)}async function WT(t,e){const n=ke(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new TV,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(i,!0);break;case 1:a.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const d=ng(u,`Initialization of query '${Uo(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&rg(n)}async function HT(t,e){const n=ke(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function SV(t,e){const n=ke(t);let r=!1;for(const i of e){const a=i.query,u=n.queries.get(a);if(u){for(const d of u.ta)d.oa(i)&&(r=!0);u.ea=i}}r&&rg(n)}function CV(t,e,n){const r=ke(t),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(n);r.queries.delete(e)}function rg(t){t.ia.forEach(e=>{e.next()})}var Vp,d_;(d_=Vp||(Vp={}))._a="default",d_.Cache="cache";class qT{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Vp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.key=e}}class GT{constructor(e){this.key=e}}class AV{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Me(),this.mutatedKeys=Me(),this.ya=dT(e),this.wa=new Qo(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new u_,i=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,u=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,_)=>{const E=i.get(g),b=Pd(this.query,_)?_:null,A=!!E&&this.mutatedKeys.has(E.key),j=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let N=!1;E&&b?E.data.isEqual(b.data)?A!==j&&(r.track({type:3,doc:b}),N=!0):this.va(E,b)||(r.track({type:2,doc:b}),N=!0,(f&&this.ya(b,f)>0||p&&this.ya(b,p)<0)&&(d=!0)):!E&&b?(r.track({type:0,doc:b}),N=!0):E&&!b&&(r.track({type:1,doc:E}),N=!0,(f||p)&&(d=!0)),N&&(b?(u=u.add(b),a=j?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:d,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,_)=>function(b,A){const j=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return j(b)-j(A)}(g.type,_.type)||this.ya(g.doc,_.doc)),this.Ca(r),i=i!=null&&i;const d=n&&!i?this.Fa():[],f=this.pa.size===0&&this.current&&!i?1:0,p=f!==this.ga;return this.ga=f,u.length!==0||p?{snapshot:new ia(this.query,e.wa,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new u_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Me(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new GT(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new KT(r))}),n}Oa(e){this.fa=e.gs,this.pa=Me();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return ia.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const sg="SyncEngine";class PV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RV{constructor(e){this.key=e,this.Ba=!1}}class IV{constructor(e,n,r,i,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Wi(d=>cT(d),Ad),this.qa=new Map,this.Qa=new Set,this.$a=new it(Ce.comparator),this.Ua=new Map,this.Ka=new Km,this.Wa={},this.Ga=new Map,this.za=sa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function kV(t,e,n=!0){const r=eb(t);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await QT(r,e,n,!0),i}async function NV(t,e){const n=eb(t);await QT(n,e,!0,!1)}async function QT(t,e,n,r){const i=await JD(t.localStore,Pr(e)),a=i.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await DV(t,e,a,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&OT(t.remoteStore,i),d}async function DV(t,e,n,r,i){t.Ha=(_,E,b)=>async function(j,N,O,W){let F=N.view.ba(O);F.ls&&(F=await r_(j.localStore,N.query,!1).then(({documents:k})=>N.view.ba(k,F)));const I=W&&W.targetChanges.get(N.targetId),L=W&&W.targetMismatches.get(N.targetId)!=null,B=N.view.applyChanges(F,j.isPrimaryClient,I,L);return f_(j,N.targetId,B.Ma),B.snapshot}(t,_,E,b);const a=await r_(t.localStore,e,!0),u=new AV(e,a.gs),d=u.ba(a.documents),f=Zl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=u.applyChanges(d,t.isPrimaryClient,f);f_(t,n,p.Ma);const g=new PV(e,n,u);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function VV(t,e,n){const r=ke(t),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(u=>!Ad(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Np(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ym(r.remoteStore,i.targetId),jp(r,i.targetId)}).catch(ha)):(jp(r,i.targetId),await Np(r.localStore,i.targetId,!0))}async function jV(t,e){const n=ke(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ym(n.remoteStore,r.targetId))}async function MV(t,e,n){const r=zV(t);try{const i=await function(u,d){const f=ke(u),p=Ct.now(),g=d.reduce((b,A)=>b.add(A.key),Me());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",b=>{let A=os(),j=Me();return f.ds.getEntries(b,g).next(N=>{A=N,A.forEach((O,W)=>{W.isValidDocument()||(j=j.add(O))})}).next(()=>f.localDocuments.getOverlayedDocuments(b,A)).next(N=>{_=N;const O=[];for(const W of d){const F=J2(W,_.get(W.key).overlayedDocument);F!=null&&O.push(new Zs(W.key,F,rT(F.value.mapValue),zn.exists(!0)))}return f.mutationQueue.addMutationBatch(b,p,O,d)}).next(N=>{E=N;const O=N.applyToLocalDocumentSet(_,j);return f.documentOverlayCache.saveOverlays(b,N.batchId,O)})}).then(()=>({batchId:E.batchId,changes:fT(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,d,f){let p=u.Wa[u.currentUser.toKey()];p||(p=new it(Ve)),p=p.insert(d,f),u.Wa[u.currentUser.toKey()]=p}(r,i.batchId,n),await tu(r,i.changes),await Vd(r.remoteStore)}catch(i){const a=ng(i,"Failed to persist write");n.reject(a)}}async function XT(t,e){const n=ke(t);try{const r=await QD(n.localStore,e);e.targetChanges.forEach((i,a)=>{const u=n.Ua.get(a);u&&(ze(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Ba=!0:i.modifiedDocuments.size>0?ze(u.Ba):i.removedDocuments.size>0&&(ze(u.Ba),u.Ba=!1))}),await tu(n,r,e)}catch(r){await ha(r)}}function h_(t,e,n){const r=ke(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((a,u)=>{const d=u.view.sa(e);d.snapshot&&i.push(d.snapshot)}),function(u,d){const f=ke(u);f.onlineState=d;let p=!1;f.queries.forEach((g,_)=>{for(const E of _.ta)E.sa(d)&&(p=!0)}),p&&rg(f)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function LV(t,e,n){const r=ke(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),a=i&&i.key;if(a){let u=new it(Ce.comparator);u=u.insert(a,Yt.newNoDocument(a,Ie.min()));const d=Me().add(a),f=new kd(Ie.min(),new Map,new it(Ve),u,d);await XT(r,f),r.$a=r.$a.remove(a),r.Ua.delete(e),ig(r)}else await Np(r.localStore,e,!1).then(()=>jp(r,e,n)).catch(ha)}async function OV(t,e){const n=ke(t),r=e.batch.batchId;try{const i=await GD(n.localStore,e);JT(n,r,null),YT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tu(n,i)}catch(i){await ha(i)}}async function FV(t,e,n){const r=ke(t);try{const i=await function(u,d){const f=ke(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,d).next(_=>(ze(_!==null),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);JT(r,e,n),YT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tu(r,i)}catch(i){await ha(i)}}function YT(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function JT(t,e,n){const r=ke(t);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function jp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||ZT(t,r)})}function ZT(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Ym(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),ig(t))}function f_(t,e,n){for(const r of n)r instanceof KT?(t.Ka.addReference(r.key,e),$V(t,r)):r instanceof GT?(me(sg,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||ZT(t,r.key)):Pe()}function $V(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(me(sg,"New document in limbo: "+n),t.Qa.add(r),ig(t))}function ig(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Ce(et.fromString(e)),r=t.za.next();t.Ua.set(r,new RV(n)),t.$a=t.$a.insert(n,r),OT(t.remoteStore,new Vs(Pr(Um(n.path)),r,"TargetPurposeLimboResolution",Td.ae))}}async function tu(t,e,n){const r=ke(t),i=[],a=[],u=[];r.ka.isEmpty()||(r.ka.forEach((d,f)=>{u.push(r.Ha(f,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){i.push(p);const _=Qm.Yi(f.targetId,p);a.push(_)}}))}),await Promise.all(u),r.La.p_(i),await async function(f,p){const g=ke(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ee.forEach(p,E=>ee.forEach(E.Hi,b=>g.persistence.referenceDelegate.addReference(_,E.targetId,b)).next(()=>ee.forEach(E.Ji,b=>g.persistence.referenceDelegate.removeReference(_,E.targetId,b)))))}catch(_){if(!fa(_))throw _;me(Xm,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const b=g.Ts.get(E),A=b.snapshotVersion,j=b.withLastLimboFreeSnapshotVersion(A);g.Ts=g.Ts.insert(E,j)}}}(r.localStore,a))}async function UV(t,e){const n=ke(t);if(!n.currentUser.isEqual(e)){me(sg,"User change. New user:",e.toKey());const r=await VT(n.localStore,e);n.currentUser=e,function(a,u){a.Ga.forEach(d=>{d.forEach(f=>{f.reject(new Ee(se.CANCELLED,u))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(n,r.Rs)}}function BV(t,e){const n=ke(t),r=n.Ua.get(e);if(r&&r.Ba)return Me().add(r.key);{let i=Me();const a=n.qa.get(e);if(!a)return i;for(const u of a){const d=n.ka.get(u);i=i.unionWith(d.view.Sa)}return i}}function eb(t){const e=ke(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=LV.bind(null,e),e.La.p_=SV.bind(null,e.eventManager),e.La.Ja=CV.bind(null,e.eventManager),e}function zV(t){const e=ke(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FV.bind(null,e),e}class hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nd(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return KD(this.persistence,new WD,e.initialUser,this.serializer)}Xa(e){return new DT(Gm.ri,this.serializer)}Za(e){return new eV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hd.provider={build:()=>new hd};class WV extends hd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){ze(this.persistence.referenceDelegate instanceof cd);const r=this.persistence.referenceDelegate.garbageCollector;return new RD(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new DT(r=>cd.ri(r,n),this.serializer)}}class Mp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>h_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UV.bind(null,this.syncEngine),await EV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bV}()}createDatastore(e){const n=Nd(e.databaseInfo.databaseId),r=function(a){return new iV(a)}(e.databaseInfo);return function(a,u,d,f){return new uV(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,u,d){return new dV(r,i,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,n=>h_(this.syncEngine,n,0),function(){return o_.D()?new o_:new tV}())}createSyncEngine(e,n){return function(i,a,u,d,f,p,g){const _=new IV(i,a,u,d,f,p);return g&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=ke(i);me(Fi,"RemoteStore shutting down."),a.W_.add(5),await eu(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Mp.provider={build:()=>new Mp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class HV{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=KE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{me(Gs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(me(Gs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ng(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Bf(t,e){t.asyncQueue.verifyOperationInProgress(),me(Gs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await VT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function p_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qV(t);me(Gs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>l_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>l_(e.remoteStore,i)),t._onlineComponents=e}async function qV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(Gs,"Using user provided OfflineComponentProvider");try{await Bf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;ea("Error using user provided cache. Falling back to memory cache: "+n),await Bf(t,new hd)}}else me(Gs,"Using default OfflineComponentProvider"),await Bf(t,new WV(void 0));return t._offlineComponents}async function nb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(Gs,"Using user provided OnlineComponentProvider"),await p_(t,t._uninitializedComponentsProvider._online)):(me(Gs,"Using default OnlineComponentProvider"),await p_(t,new Mp))),t._onlineComponents}function KV(t){return nb(t).then(e=>e.syncEngine)}async function rb(t){const e=await nb(t),n=e.eventManager;return n.onListen=kV.bind(null,e.syncEngine),n.onUnlisten=VV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=jV.bind(null,e.syncEngine),n}function GV(t,e,n={}){const r=new ns;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,p){const g=new tb({next:E=>{g.su(),u.enqueueAndForget(()=>HT(a,_));const b=E.docs.has(d);!b&&E.fromCache?p.reject(new Ee(se.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&E.fromCache&&f&&f.source==="server"?p.reject(new Ee(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new qT(Um(d.path),g,{includeMetadataChanges:!0,Ta:!0});return WT(a,_)}(await rb(t),t.asyncQueue,e,n,r)),r.promise}function QV(t,e,n={}){const r=new ns;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,p){const g=new tb({next:E=>{g.su(),u.enqueueAndForget(()=>HT(a,_)),E.fromCache&&f.source==="server"?p.reject(new Ee(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new qT(d,g,{includeMetadataChanges:!0,Ta:!0});return WT(a,_)}(await rb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t,e,n){if(!n)throw new Ee(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XV(t,e,n,r){if(e===!0&&r===!0)throw new Ee(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function g_(t){if(!Ce.isDocumentKey(t))throw new Ee(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function y_(t){if(Ce.isDocumentKey(t))throw new Ee(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function og(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe()}function ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=og(t);throw new Ee(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="firestore.googleapis.com",v_=!0;class x_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ob,this.ssl=v_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:v_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AD)throw new Ee(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ee(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ee(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ee(se.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class jd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new r2;switch(r.type){case"firstParty":return new a2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=m_.get(n);r&&(me("ComponentProvider","Removing Datastore"),m_.delete(n),r.terminate())}(this),Promise.resolve()}}function YV(t,e,n,r={}){var i;const a=(t=ur(t,jd))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;a.host!==ob&&a.host!==d&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:d,ssl:!1,emulatorOptions:r});if(!ed(f,u)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Xt.MOCK_USER;else{p=PE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Ee(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Xt(_)}t._authCredentials=new s2(new HE(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Md(this.firestore,e,this._query)}}class gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class Fs extends Md{constructor(e,n,r){super(e,n,Um(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new Ce(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function lr(t,e,...n){if(t=An(t),ib("collection","path",e),t instanceof jd){const r=et.fromString(e,...n);return y_(r),new Fs(t,null,r)}{if(!(t instanceof gn||t instanceof Fs))throw new Ee(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return y_(r),new Fs(t.firestore,null,r)}}function ar(t,e,...n){if(t=An(t),arguments.length===1&&(e=KE.newId()),ib("doc","path",e),t instanceof jd){const r=et.fromString(e,...n);return g_(r),new gn(t,null,new Ce(r))}{if(!(t instanceof gn||t instanceof Fs))throw new Ee(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(et.fromString(e,...n));return g_(r),new gn(t.firestore,t instanceof Fs?t.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __="AsyncQueue";class w_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new MT(this,"async_queue_retry"),this.Su=()=>{const r=Uf();r&&me(__,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Uf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Uf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ns;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!fa(e))throw e;me(__,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(r);throw is("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=tg.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Pe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class qi extends jd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new w_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new w_(e),this._firestoreClient=void 0,await e}}}function ab(t,e){const n=typeof t=="object"?t:ME(),r=typeof t=="string"?t:e||rd,i=DE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=CE("firestore");a&&YV(i,...a)}return i}function ag(t){if(t._terminated)throw new Ee(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JV(t),t._firestoreClient}function JV(t){var e,n,r;const i=t._freezeSettings(),a=function(d,f,p,g){return new E2(d,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,sb(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new HV(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(zt.fromBase64String(e))}catch(n){throw new Ee(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oa(zt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=/^__.*__$/;class ej{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(e,this.data,n,this.fieldTransforms)}}class lb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ub(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class dg{constructor(e,n,r,i,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new dg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return fd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(ub(this.Lu)&&ZV.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class tj{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Nd(e)}ju(e,n,r,i=!1){return new dg({Lu:e,methodName:n,zu:r,path:Bt.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hg(t){const e=t._freezeSettings(),n=Nd(t._databaseId);return new tj(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cb(t,e,n,r,i,a={}){const u=t.ju(a.merge||a.mergeFields?2:0,e,n,i);fg("Data must be an object, but it was:",u,r);const d=db(r,u);let f,p;if(a.merge)f=new bn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const E=Lp(e,_,n);if(!u.contains(E))throw new Ee(se.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);fb(g,E)||g.push(E)}f=new bn(g),p=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=u.fieldTransforms;return new ej(new mn(d),f,p)}class Od extends lg{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Od}}function nj(t,e,n,r){const i=t.ju(1,e,n);fg("Data must be an object, but it was:",i,r);const a=[],u=mn.empty();Js(r,(f,p)=>{const g=pg(e,f,n);p=An(p);const _=i.Uu(g);if(p instanceof Od)a.push(g);else{const E=Fd(p,_);E!=null&&(a.push(g),u.set(g,E))}});const d=new bn(a);return new lb(u,d,i.fieldTransforms)}function rj(t,e,n,r,i,a){const u=t.ju(1,e,n),d=[Lp(e,r,n)],f=[i];if(a.length%2!=0)throw new Ee(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(Lp(e,a[E])),f.push(a[E+1]);const p=[],g=mn.empty();for(let E=d.length-1;E>=0;--E)if(!fb(p,d[E])){const b=d[E];let A=f[E];A=An(A);const j=u.Uu(b);if(A instanceof Od)p.push(b);else{const N=Fd(A,j);N!=null&&(p.push(b),g.set(b,N))}}const _=new bn(p);return new lb(g,_,u.fieldTransforms)}function Fd(t,e){if(hb(t=An(t)))return fg("Unsupported field value:",e,t),db(t,e);if(t instanceof lg)return function(r,i){if(!ub(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let u=0;for(const d of r){let f=Fd(d,i.Ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=An(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return q2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ct.fromDate(r);return{timestampValue:ud(i.serializer,a)}}if(r instanceof Ct){const a=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ud(i.serializer,a)}}if(r instanceof ug)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:ST(i.serializer,r._byteString)};if(r instanceof gn){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:qm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cg)return function(u,d){return{mapValue:{fields:{[tT]:{stringValue:nT},[sd]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw d.Wu("VectorValues must only contain numeric values.");return Bm(d.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${og(r)}`)}(t,e)}function db(t,e){const n={};return QE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(t,(r,i)=>{const a=Fd(i,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function hb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof ug||t instanceof oa||t instanceof gn||t instanceof lg||t instanceof cg)}function fg(t,e,n){if(!hb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=og(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Lp(t,e,n){if((e=An(e))instanceof Ld)return e._internalPath;if(typeof e=="string")return pg(t,e);throw fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const sj=new RegExp("[~\\*/\\[\\]]");function pg(t,e,n){if(e.search(sj)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ld(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fd(t,e,n,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new Ee(se.INVALID_ARGUMENT,d+t+f)}function fb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ij(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ij extends pb{data(){return super.data()}}function mb(t,e){return typeof e=="string"?pg(t,e):e instanceof Ld?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aj{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Js(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[sd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>mt(u.doubleValue));return new cg(a)}convertGeoPoint(e){return new ug(mt(e.latitude),mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Sd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=Ws(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=et.fromString(e);ze(kT(r));const i=new Ul(r.get(1),r.get(3)),a=new Ce(r.popFirst(5));return i.isEqual(n)||is(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yb extends pb{constructor(e,n,r,i,a,u){super(e,n,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bc extends yb{data(e={}){return super.data(e)}}class lj{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bc(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(d=>{const f=new Bc(i._firestore,i._userDataWriter,d.doc.key,d.doc,new xl(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new Bc(i._firestore,i._userDataWriter,d.doc.key,d.doc,new xl(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),g=u.indexOf(d.doc.key)),{type:uj(d.type),doc:f,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uj(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mg(t){t=ur(t,gn);const e=ur(t.firestore,qi);return GV(ag(e),t._key).then(n=>cj(e,t,n))}class vb extends aj{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function Qs(t){t=ur(t,Md);const e=ur(t.firestore,qi),n=ag(e),r=new vb(e);return oj(t._query),QV(n,t._query).then(i=>new lj(e,r,t,i))}function gg(t,e,n){t=ur(t,gn);const r=ur(t.firestore,qi),i=gb(t.converter,e,n);return $d(r,[cb(hg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,zn.none())])}function E_(t,e,n,...r){t=ur(t,gn);const i=ur(t.firestore,qi),a=hg(i);let u;return u=typeof(e=An(e))=="string"||e instanceof Ld?rj(a,"updateDoc",t._key,e,n,r):nj(a,"updateDoc",t._key,e),$d(i,[u.toMutation(t._key,zn.exists(!0))])}function zc(t){return $d(ur(t.firestore,qi),[new zm(t._key,zn.none())])}function Op(t,e){const n=ur(t.firestore,qi),r=ar(t),i=gb(t.converter,e);return $d(n,[cb(hg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,zn.exists(!1))]).then(()=>r)}function $d(t,e){return function(r,i){const a=new ns;return r.asyncQueue.enqueueAndForget(async()=>MV(await KV(r),i,a)),a.promise}(ag(t),e)}function cj(t,e,n){const r=n.docs.get(e._key),i=new vb(t);return new yb(t,i,e._key,r,new xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){da=i})(jE),Ll(new Zo("firestore",(r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new qi(new i2(r.getProvider("auth-internal")),new l2(u,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(p.options.projectId,g)}(u,i),u);return a=Object.assign({useFetchStreams:n},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),Ls(Ax,Px,e),Ls(Ax,Px,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="firebasestorage.googleapis.com",_b="storageBucket",dj=2*60*1e3,hj=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut extends zi{constructor(e,n,r=0){super(zf(e),`Firebase Storage: ${n} (${zf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return zf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var lt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lt||(lt={}));function zf(t){return"storage/"+t}function yg(){const t="An unknown error occurred, please check the error payload for server response.";return new ut(lt.UNKNOWN,t)}function fj(t){return new ut(lt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function pj(t){return new ut(lt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mj(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ut(lt.UNAUTHENTICATED,t)}function gj(){return new ut(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function yj(t){return new ut(lt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function vj(){return new ut(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xj(){return new ut(lt.CANCELED,"User canceled the upload/download.")}function _j(t){return new ut(lt.INVALID_URL,"Invalid URL '"+t+"'.")}function wj(t){return new ut(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Ej(){return new ut(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_b+"' property when initializing the app?")}function Tj(){return new ut(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function bj(){return new ut(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Sj(t){return new ut(lt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Fp(t){return new ut(lt.INVALID_ARGUMENT,t)}function wb(){return new ut(lt.APP_DELETED,"The Firebase app was deleted.")}function Cj(t){return new ut(lt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pl(t,e){return new ut(lt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function hl(t){throw new ut(lt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Sn.makeFromUrl(e,n)}catch{return new Sn(e,"")}if(r.path==="")return r;throw wj(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+i+u,"i"),f={bucket:1,path:3};function p(I){I.path_=decodeURIComponent(I.path)}const g="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",b=new RegExp(`^https?://${_}/${g}/b/${i}/o${E}`,"i"),A={bucket:1,path:3},j=n===xb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",O=new RegExp(`^https?://${j}/${i}/${N}`,"i"),F=[{regex:d,indices:f,postModify:a},{regex:b,indices:A,postModify:p},{regex:O,indices:{bucket:1,path:2},postModify:p}];for(let I=0;I<F.length;I++){const L=F[I],B=L.regex.exec(e);if(B){const k=B[L.indices.bucket];let C=B[L.indices.path];C||(C=""),r=new Sn(k,C),L.postModify(r);break}}if(r==null)throw _j(e);return r}}class Aj{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t,e,n){let r=1,i=null,a=null,u=!1,d=0;function f(){return d===2}let p=!1;function g(...N){p||(p=!0,e.apply(null,N))}function _(N){i=setTimeout(()=>{i=null,t(b,f())},N)}function E(){a&&clearTimeout(a)}function b(N,...O){if(p){E();return}if(N){E(),g.call(null,N,...O);return}if(f()||u){E(),g.call(null,N,...O);return}r<64&&(r*=2);let F;d===1?(d=2,F=0):F=(r+Math.random())*1e3,_(F)}let A=!1;function j(N){A||(A=!0,E(),!p&&(i!==null?(N||(d=2),clearTimeout(i),_(0)):N||(d=1)))}return _(0),a=setTimeout(()=>{u=!0,j(!0)},n),j}function Rj(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t){return t!==void 0}function kj(t){return typeof t=="object"&&!Array.isArray(t)}function vg(t){return typeof t=="string"||t instanceof String}function T_(t){return xg()&&t instanceof Blob}function xg(){return typeof Blob<"u"}function b_(t,e,n,r){if(r<e)throw Fp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Fp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Eb(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Li;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Li||(Li={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nj(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{constructor(e,n,r,i,a,u,d,f,p,g,_,E=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=_,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,A)=>{this.resolve_=b,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ic(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const f=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===Li.NO_ERROR,f=a.getStatus();if(!d||Nj(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===Li.ABORT;r(!1,new Ic(!1,null,g));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new Ic(p,a))})},n=(r,i)=>{const a=this.resolve_,u=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());Ij(f)?a(f):a()}catch(f){u(f)}else if(d!==null){const f=yg();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(i.canceled){const f=this.appDelete_?wb():xj();u(f)}else{const f=vj();u(f)}};this.canceled_?n(!1,new Ic(!1,null,!0)):this.backoffId_=Pj(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Rj(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ic{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Vj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function jj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Mj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Lj(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Oj(t,e,n,r,i,a,u=!0){const d=Eb(t.urlParams),f=t.url+d,p=Object.assign({},t.headers);return Mj(p,e),Vj(p,n),jj(p,a),Lj(p,r),new Dj(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $j(...t){const e=Fj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(xg())return new Blob(t);throw new ut(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Uj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bj(t){if(typeof atob>"u")throw Sj("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wf{constructor(e,n){this.data=e,this.contentType=n||null}}function zj(t,e){switch(t){case br.RAW:return new Wf(Tb(e));case br.BASE64:case br.BASE64URL:return new Wf(bb(t,e));case br.DATA_URL:return new Wf(Hj(e),qj(e))}throw yg()}function Tb(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=t.charCodeAt(++n);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Wj(t){let e;try{e=decodeURIComponent(t)}catch{throw Pl(br.DATA_URL,"Malformed data URL.")}return Tb(e)}function bb(t,e){switch(t){case br.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Pl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case br.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Pl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Bj(e)}catch(i){throw i.message.includes("polyfill")?i:Pl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Sb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Pl(br.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=Kj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Hj(t){const e=new Sb(t);return e.base64?bb(br.BASE64,e.rest):Wj(e.rest)}function qj(t){return new Sb(t).contentType}function Kj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){let r=0,i="";T_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(T_(this.data_)){const r=this.data_,i=Uj(r,e,n);return i===null?null:new Ds(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ds(r,!0)}}static getBlob(...e){if(xg()){const n=e.map(r=>r instanceof Ds?r.data_:r);return new Ds($j.apply(null,n))}else{const n=e.map(u=>vg(u)?zj(br.RAW,u).data:u.data_);let r=0;n.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(u=>{for(let d=0;d<u.length;d++)i[a++]=u[d]}),new Ds(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t){let e;try{e=JSON.parse(t)}catch{return null}return kj(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Qj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Ab(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t,e){return e}class rn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Xj}}let kc=null;function Yj(t){return!vg(t)||t.length<2?t:Ab(t)}function Pb(){if(kc)return kc;const t=[];t.push(new rn("bucket")),t.push(new rn("generation")),t.push(new rn("metageneration")),t.push(new rn("name","fullPath",!0));function e(a,u){return Yj(u)}const n=new rn("name");n.xform=e,t.push(n);function r(a,u){return u!==void 0?Number(u):u}const i=new rn("size");return i.xform=r,t.push(i),t.push(new rn("timeCreated")),t.push(new rn("updated")),t.push(new rn("md5Hash",null,!0)),t.push(new rn("cacheControl",null,!0)),t.push(new rn("contentDisposition",null,!0)),t.push(new rn("contentEncoding",null,!0)),t.push(new rn("contentLanguage",null,!0)),t.push(new rn("contentType",null,!0)),t.push(new rn("metadata","customMetadata",!0)),kc=t,kc}function Jj(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Sn(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function Zj(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const u=n[a];r[u.local]=u.xform(r,e[u.server])}return Jj(r,t),r}function Rb(t,e,n){const r=Cb(e);return r===null?null:Zj(t,r,n)}function eM(t,e,n,r){const i=Cb(e);if(i===null||!vg(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(p=>{const g=t.bucket,_=t.fullPath,E="/b/"+u(g)+"/o/"+u(_),b=Ud(E,n,r),A=Eb({alt:"media",token:p});return b+A})[0]}function tM(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class _g{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(t){if(!t)throw yg()}function nM(t,e){function n(r,i){const a=Rb(t,i,e);return Ib(a!==null),a}return n}function rM(t,e){function n(r,i){const a=Rb(t,i,e);return Ib(a!==null),eM(a,i,t.host,t._protocol)}return n}function kb(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=gj():i=mj():n.getStatus()===402?i=pj(t.bucket):n.getStatus()===403?i=yj(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Nb(t){const e=kb(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=fj(t.path)),a.serverResponse=i.serverResponse,a}return n}function sM(t,e,n){const r=e.fullServerUrl(),i=Ud(r,t.host,t._protocol),a="GET",u=t.maxOperationRetryTime,d=new _g(i,a,rM(t,n),u);return d.errorHandler=Nb(e),d}function iM(t,e){const n=e.fullServerUrl(),r=Ud(n,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function u(f,p){}const d=new _g(r,i,u,a);return d.successCodes=[200,204],d.errorHandler=Nb(e),d}function oM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function aM(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=oM(null,e)),r}function lM(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let F="";for(let I=0;I<2;I++)F=F+Math.random().toString().slice(2);return F}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const p=aM(e,r,i),g=tM(p,n),_="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+f+"--",b=Ds.getBlob(_,r,E);if(b===null)throw Tj();const A={name:p.fullPath},j=Ud(a,t.host,t._protocol),N="POST",O=t.maxUploadRetryTime,W=new _g(j,N,nM(t,n),O);return W.urlParams=A,W.headers=u,W.body=b.uploadData(),W.errorHandler=kb(e),W}class uM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Li.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Li.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Li.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw hl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class cM extends uM{initXhr(){this.xhr_.responseType="text"}}function wg(){return new cM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){this._service=e,n instanceof Sn?this._location=n:this._location=Sn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $i(e,n)}get root(){const e=new Sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Ab(this._location.path)}get storage(){return this._service}get parent(){const e=Gj(this._location.path);if(e===null)return null;const n=new Sn(this._location.bucket,e);return new $i(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Cj(e)}}function dM(t,e,n){t._throwIfRoot("uploadBytes");const r=lM(t.storage,t._location,Pb(),new Ds(e,!0),n);return t.storage.makeRequestWithTokens(r,wg).then(i=>({metadata:i,ref:t}))}function hM(t){t._throwIfRoot("getDownloadURL");const e=sM(t.storage,t._location,Pb());return t.storage.makeRequestWithTokens(e,wg).then(n=>{if(n===null)throw bj();return n})}function fM(t){t._throwIfRoot("deleteObject");const e=iM(t.storage,t._location);return t.storage.makeRequestWithTokens(e,wg)}function pM(t,e){const n=Qj(t._location.path,e),r=new Sn(t._location.bucket,n);return new $i(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t){return/^[A-Za-z]+:\/\//.test(t)}function gM(t,e){return new $i(t,e)}function Db(t,e){if(t instanceof Eg){const n=t;if(n._bucket==null)throw Ej();const r=new $i(n,n._bucket);return e!=null?Db(r,e):r}else return e!==void 0?pM(t,e):t}function yM(t,e){if(e&&mM(e)){if(t instanceof Eg)return gM(t,e);throw Fp("To use ref(service, url), the first argument must be a Storage instance.")}else return Db(t,e)}function S_(t,e){const n=e==null?void 0:e[_b];return n==null?null:Sn.makeFromBucketSpec(n,t)}function vM(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:PE(i,t.app.options.projectId))}class Eg{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=xb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dj,this._maxUploadRetryTime=hj,this._requests=new Set,i!=null?this._bucket=Sn.makeFromBucketSpec(i,this._host):this._bucket=S_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sn.makeFromBucketSpec(this._url,e):this._bucket=S_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){b_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){b_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(VE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $i(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new Aj(wb());{const u=Oj(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const C_="@firebase/storage",A_="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="storage";function xM(t,e,n){return t=An(t),dM(t,e,n)}function _M(t){return t=An(t),hM(t)}function P_(t){return t=An(t),fM(t)}function Hf(t,e){return t=An(t),yM(t,e)}function wM(t=ME(),e){t=An(t);const r=DE(t,Vb).getImmediate({identifier:e}),i=CE("storage");return i&&EM(r,...i),r}function EM(t,e,n,r={}){vM(t,e,n,r)}function TM(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new Eg(n,r,i,e,jE)}function bM(){Ll(new Zo(Vb,TM,"PUBLIC").setMultipleInstances(!0)),Ls(C_,A_,""),Ls(C_,A_,"esm2017")}bM();console.log("initializeApp:",typeof Vm);console.log("getFirestore:",typeof ab);const SM={apiKey:"AIzaSyBOM041d620q5TBYfl7E6SexEqR8NGrWQE",authDomain:"aussie-gut-pack.firebaseapp.com",projectId:"aussie-gut-pack",storageBucket:"aussie-gut-pack.firebasestorage.app",messagingSenderId:"834797498886",appId:"1:834797498886:web:cb2f88ab4523480400c987"},Tg=Vm(SM);console.log("Firebase app:",Tg);const pt=ab(Tg);console.log("Firestore db:",pt);const qf=wM(Tg);function CM(){const{isDarkMode:t}=P.useContext(Dt),e=P.useRef(null),n=P.useRef(null),[r,i]=P.useState(!1),[a,u]=P.useState(!1),[d,f]=P.useState({quotes:[],currentWorkout:{description:"",warmup:[],main:[]},scheduledWorkouts:[],aboutUs:"",dailyChallenges:[],lastUpdated:null}),[p,g]=P.useState(0),[_,E]=P.useState(null),[b,A]=P.useState(()=>JSON.parse(localStorage.getItem("completedChallenges"))||[]);P.useEffect(()=>{(async()=>{var U,H;const L=ar(pt,"content","home"),B=await mg(L);let k={quotes:["An athlete won't judge you for working out.","A millionaire won't judge you for starting a business.","A musician won't judge you for trying to sing a song.","It's always the people going nowhere that have something to say.","Idle hands do the devil's work"],currentWorkout:{description:"A quick 20-minute routine to kickstart your metabolism and improve digestion.",warmup:["5-minute brisk walk or jog","3 sets of 15 squats"],main:["3 sets of 10 push-ups","2 sets of 20 jumping jacks","1-minute plank hold"]},scheduledWorkouts:[],aboutUs:"We are dedicated to bringing you information about Australian Shepherds and how to maintain a healthy gut. Our mission is to educate and inspire a natural approach to wellness for you and your furry friends.",dailyChallenges:["Drink 8 glasses of water.","Take a 10-minute digestion-boosting walk with your Aussie.","Try a gut-friendly snack like yogurt or pumpkin."],lastUpdated:null};if(B.exists()){const D=B.data();k={...k,...D,currentWorkout:{...k.currentWorkout,...D.currentWorkout,warmup:((U=D.currentWorkout)==null?void 0:U.warmup)||k.currentWorkout.warmup,main:((H=D.currentWorkout)==null?void 0:H.main)||k.currentWorkout.main},scheduledWorkouts:D.scheduledWorkouts||[],dailyChallenges:D.dailyChallenges||k.dailyChallenges}}const C=new Date,R=[...k.scheduledWorkouts];let M=!1;if(R.sort((D,te)=>new Date(D.updateDateTime)-new Date(te.updateDateTime)),R.length>0){const D=R[0],te=new Date(D.updateDateTime);C>=te&&(!k.lastUpdated||new Date(k.lastUpdated)<te)&&(k.currentWorkout={description:D.description||"",warmup:D.warmup||[],main:D.main||[]},R.shift(),k.scheduledWorkouts=R,k.lastUpdated=C.toISOString(),M=!0)}M&&await gg(L,k,{merge:!0}),f(k);try{const D=lr(pt,"content","blog","posts"),de=(await Qs(D)).docs.map(Ne=>({id:Ne.id,...Ne.data()}));if(de.length>0){de.sort((ie,fe)=>new Date(fe.date)-new Date(ie.date));const Ne=de[0],xe=j(Ne);E({...Ne,excerpt:xe})}else E({id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being..."}],excerpt:"Gut health is crucial for overall well-being..."})}catch(D){console.error("Error fetching blog posts:",D),E({id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being..."}],excerpt:"Gut health is crucial for overall well-being..."})}})()},[]);const j=I=>{if(!I||!I.blocks||I.blocks.length===0)return"Read more...";const L=I.blocks.find(B=>B.type==="paragraph"||B.type==="list"||B.type==="bullet");return L?L.type==="paragraph"&&L.content?L.content.split(" ").slice(0,30).join(" ")+"...":Array.isArray(L.content)&&L.content.length>0?L.content[0]+(L.content.length>1?"...":""):"Read more...":"Read more..."};P.useEffect(()=>{const I=new IntersectionObserver(L=>{L.forEach(B=>{const k=B.isIntersecting;B.target===e.current&&i(k),B.target===n.current&&u(k)})},{threshold:.2});return e.current&&I.observe(e.current),n.current&&I.observe(n.current),()=>{e.current&&I.unobserve(e.current),n.current&&I.unobserve(n.current)}},[]),P.useEffect(()=>{const I=setInterval(()=>{g(L=>(L+1)%d.quotes.length)},4e3);return()=>clearInterval(I)},[d.quotes.length]),P.useEffect(()=>{localStorage.setItem("completedChallenges",JSON.stringify(b))},[b]);const N={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}},exit:{opacity:0,y:-20,transition:{duration:.5,ease:"easeIn"}}},O={hidden:{opacity:0,scale:.8,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeOut"}},exit:{opacity:0,scale:.8,y:-20,transition:{duration:.5,ease:"easeIn"}}},W=I=>{A(L=>L.includes(I)?L.filter(B=>B!==I):[...L,I])},F=d.dailyChallenges.length>0&&b.length===d.dailyChallenges.length&&d.dailyChallenges.every((I,L)=>b.includes(L));return x.jsxs("div",{className:`min-h-screen flex flex-col ${t?"bg-stone-900":"bg-white"}`,children:[x.jsx("section",{ref:e,className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:x.jsxs("div",{className:"container mx-auto text-center",children:[x.jsx("h1",{className:`text-5xl md:text-6xl font-extrabold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Welcome to Aussie Gut Pack"}),x.jsx("p",{className:`text-2xl max-w-2xl mx-auto mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Empowering Your Digestive Health, Naturally."}),x.jsxs("div",{className:`flex flex-col md:flex-row gap-6 transition-all duration-700 ease-in-out ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[x.jsxs("div",{className:"md:w-1/2 p-6 flex flex-col justify-center",children:[x.jsx("h2",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"About Us"}),x.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:d.aboutUs}),x.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[x.jsx(or,{to:"/fitness-tips",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900",children:"Learn More"}),x.jsx(or,{to:"/signup",variant:"primary",className:`${t?"bg-red-600 text-white hover:bg-red-700":"bg-red-700 text-white hover:bg-red-800"}`,children:"Join the Pack"})]})]}),x.jsx("div",{className:"md:w-1/2 flex justify-center items-center",children:x.jsx("div",{className:"h-80 w-80 md:h-[400px] md:w-[400px] overflow-hidden relative rounded-full",children:x.jsx(XA,{className:"w-full h-full object-cover"})})})]})]})}),x.jsx("hr",{className:`my-12 ${t?"border-stone-700":"border-stone-300"}`}),x.jsx("section",{ref:n,className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:x.jsxs("div",{className:`container mx-auto text-center transition-all duration-700 ease-in-out ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[x.jsx("h2",{className:`text-3xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Wisdom to Win The Day"}),x.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:x.jsx(X0,{mode:"wait",children:x.jsxs(mx.p,{variants:N,initial:"hidden",animate:"visible",exit:"exit",className:`text-xl italic transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:['"',d.quotes[p],'"']},p)})}),x.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[x.jsxs("div",{children:[x.jsx("h3",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Workout of the Day"}),x.jsx("p",{className:`text-lg mb-6 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:d.currentWorkout.description}),x.jsx("h4",{className:`text-xl font-semibold mb-3 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Warm Up"}),x.jsx("ul",{className:`text-left list-disc pl-6 mb-6 transition-colors duration-300 ease-in-out ${t?"text-blue-300":"text-blue-600"}`,children:(d.currentWorkout.warmup||[]).map((I,L)=>x.jsx("li",{className:"mb-2 text-lg",children:I},`warmup-${L}`))}),x.jsx("h4",{className:`text-xl font-semibold mb-3 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Main Workout"}),x.jsx("ul",{className:`text-left list-disc pl-6 mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:(d.currentWorkout.main||[]).map((I,L)=>x.jsx("li",{className:"mb-2 text-lg",children:I},`main-${L}`))}),x.jsx(or,{to:"/fitness-tips",variant:"primary",className:"mx-auto bg-red-800 text-white hover:bg-red-900",children:"More Fitness Tips"})]}),x.jsxs("div",{children:[x.jsx("h3",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Daily Gut Health Challenges"}),x.jsx("ul",{className:`text-left list-disc pl-6 mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:(d.dailyChallenges||[]).map((I,L)=>x.jsxs("li",{className:"mb-2 text-lg flex items-center",children:[x.jsx("input",{type:"checkbox",checked:b.includes(L),onChange:()=>W(L),className:"mr-2"}),I]},`challenge-${L}`))}),x.jsx(X0,{children:F&&x.jsx(mx.p,{variants:O,initial:"hidden",animate:"visible",exit:"exit",className:`text-lg font-semibold transition-colors duration-300 ease-in-out ${t?"text-green-400":"text-green-600"}`,children:"Great job, Pack Leader!"})})]})]})]})}),x.jsx("hr",{className:`my-12 ${t?"border-stone-700":"border-stone-300"}`}),_&&x.jsx("section",{className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:x.jsxs("div",{className:"container mx-auto text-center",children:[x.jsx("h2",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Latest From Our Blog"}),x.jsx("h3",{className:`text-xl font-semibold mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:_.title}),x.jsx("p",{className:`text-sm mb-4 transition-colors duration-300 ease-in-out ${t?"text-gray-400":"text-gray-600"}`,children:_.date}),x.jsx("p",{className:`text-lg mb-6 max-w-2xl mx-auto transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:_.excerpt}),x.jsx(or,{to:`/blog/${_.id}`,variant:"primary",className:"mx-auto bg-red-800 text-white hover:bg-red-900",children:"Read More"})]})}),x.jsx("hr",{className:`my-12 ${t?"border-stone-700":"border-stone-300"}`}),x.jsxs("div",{className:`py-8 ${t?"bg-stone-800":"bg-stone-100"} text-center`,children:[x.jsx("p",{className:`text-lg mb-4 ${t?"text-white":"text-red-600"}`,children:"Want more? Check out our full library of fitness tips!"}),x.jsx(or,{to:"/fitness-tips",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900",children:"Explore Now"})]})]})}const jb=P.createContext(),AM=({children:t})=>{const[e,n]=P.useState([]),r=f=>{n(p=>p.find(_=>_.id===f.id)?p.map(_=>_.id===f.id?{..._,quantity:_.quantity+1}:_):[...p,{...f,quantity:1}])},i=(f,p)=>{p<=0?a(f):n(g=>g.map(_=>_.id===f?{..._,quantity:p}:_))},a=f=>{n(p=>p.filter(g=>g.id!==f))},u=()=>{n([])},d=()=>e.reduce((f,p)=>f+p.price*p.quantity,0);return x.jsx(jb.Provider,{value:{cart:e,addToCart:r,updateQuantity:i,removeFromCart:a,clearCart:u,getTotalPrice:d},children:t})},Mb=()=>P.useContext(jb);function PM(){var D;const{isDarkMode:t}=P.useContext(Dt),{cart:e,addToCart:n,updateQuantity:r,removeFromCart:i,getTotalPrice:a}=Mb(),[u,d]=P.useState([]),[f,p]=P.useState([]),[g,_]=P.useState(!1),[E,b]=P.useState(""),[A,j]=P.useState(""),[N,O]=P.useState(!1),[W,F]=P.useState(!0),[I,L]=P.useState(!1),B=P.useRef(null),k=P.useRef(null),C=Ui();P.useEffect(()=>{console.log("isMiniCartOpen updated to:",N)},[N]),P.useEffect(()=>{console.log("showAll updated to:",g)},[g]),P.useEffect(()=>{const te=de=>{const Ne=document.querySelector(".cart-button"),xe=de.target.closest(".add-to-cart-button"),ie=Date.now(),fe=k.current?ie-k.current:1/0;console.log("Outside click handler triggered, target:",de.target),console.log("Is target an Add to Cart button?",!!xe),console.log("Time since last Add to Cart click:",fe),console.log("IsMiniCartOpen?",N),console.log("OpenedByAdd?",I),N&&!de.target.closest(".mini-cart-sidebar")&&!(Ne!=null&&Ne.contains(de.target))&&!xe&&fe>100&&!I&&(console.log("Outside click detected, closing sidebar"),O(!1))};return document.addEventListener("click",te),()=>document.removeEventListener("click",te)},[N,I]),P.useEffect(()=>{(async()=>{try{F(!0);const Ne=(await Qs(lr(pt,"categories"))).docs.map(fe=>({id:fe.id,...fe.data()}));d(Ne);const ie=(await Qs(lr(pt,"products"))).docs.map(fe=>({id:fe.id,...fe.data()}));p(ie)}catch(de){console.error("Error fetching data from Firestore:",de)}finally{F(!1)}})()},[]),P.useEffect(()=>(e.length>0&&(B.current&&clearTimeout(B.current),console.log("Cart updated, opening sidebar, cart length:",e.length),L(!0),O(!0),e.length!==1&&(B.current=setTimeout(()=>{console.log("Auto-closing sidebar after 3 seconds"),O(!1),L(!1)},3e3))),()=>{B.current&&clearTimeout(B.current)}),[e]),P.useEffect(()=>{e.length===0&&N&&(console.log("Cart is empty, closing sidebar"),O(!1),L(!1))},[e,N]);const R=te=>{k.current=Date.now(),n(te)},M=te=>{const de=[...te];switch(E){case"price-asc":return de.sort((Ne,xe)=>Ne.price-xe.price);case"price-desc":return de.sort((Ne,xe)=>xe.price-Ne.price);case"name-asc":return de.sort((Ne,xe)=>Ne.name.localeCompare(xe.name));case"name-desc":return de.sort((Ne,xe)=>xe.name.localeCompare(Ne.name));default:return de}},U=A?f.filter(te=>te.categoryId===A):f,H=M(U);return x.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 flex ${t?"bg-stone-900":"bg-stone-50"}`,children:[x.jsxs("div",{className:"flex-1",children:[x.jsxs("div",{className:"flex justify-between items-center mb-8",children:[x.jsx("h1",{className:`text-4xl font-bold transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Products"}),x.jsxs("button",{className:"cart-button relative flex items-center gap-2 px-4 py-2 rounded-md font-semibold transition-all duration-300 ease-in-out bg-red-800 text-white hover:bg-red-900 active:bg-red-950",onClick:te=>{te.stopPropagation(),console.log("Cart button clicked, isMiniCartOpen:",N),O(!N)},children:[x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 transition-transform duration-300 ease-in-out group-hover:scale-110",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),x.jsx("span",{children:"Cart"}),Array.isArray(e)&&e.length>0&&x.jsx("span",{className:`absolute -top-2 -right-2 bg-yellow-500 text-black rounded-full h-6 w-6 flex items-center justify-center text-sm transition-all duration-300 ease-in-out ${e.length>0?"animate-bounce":""}`,children:e.reduce((te,de)=>te+de.quantity,0)})]})]}),x.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[x.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:`text-lg font-medium transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Filter by Section:"}),x.jsxs("select",{value:A,onChange:te=>j(te.target.value),className:`px-4 py-2 border rounded-md focus:outline-none transition-all duration-300 ease-in-out ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500 focus:border-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500 focus:border-red-500"}`,children:[x.jsx("option",{value:"",children:"All Sections"}),u.map(te=>x.jsx("option",{value:te.id,children:te.name},te.id))]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("label",{className:`text-lg font-medium transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Sort By:"}),x.jsxs("select",{value:E,onChange:te=>b(te.target.value),className:`px-4 py-2 border rounded-md focus:outline-none transition-all duration-300 ease-in-out ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500 focus:border-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500 focus:border-red-500"}`,children:[x.jsx("option",{value:"",children:"None"}),x.jsx("option",{value:"price-asc",children:"Price: Low to High"}),x.jsx("option",{value:"price-desc",children:"Price: High to Low"}),x.jsx("option",{value:"name-asc",children:"Name: A-Z"}),x.jsx("option",{value:"name-desc",children:"Name: Z-A"})]})]})]}),x.jsx("button",{onClick:()=>{console.log("Show All button clicked, current showAll:",g),_(te=>{const de=!te;return console.log("Setting showAll to:",de),de&&(console.log("Resetting filterCategory to show all products"),j("")),de})},className:`px-4 py-2 rounded-md font-semibold transition-all duration-300 ease-in-out ${t?"bg-red-600 text-white hover:bg-red-700 active:bg-red-800":"bg-red-800 text-white hover:bg-red-900 active:bg-red-950"}`,children:g?"Group by Category":"Show All Products"})]}),W?x.jsx("div",{className:"flex justify-center items-center h-64",children:x.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-red-600"})}):A?x.jsxs("div",{className:"mb-12",children:[x.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:((D=u.find(te=>te.id===A))==null?void 0:D.name)||"Section"}),H.length===0?x.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"No products found in this section."}):x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:H.map(te=>x.jsxs("div",{className:`p-4 border rounded-md shadow-md transition-all duration-300 ease-in-out hover:shadow-lg ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[x.jsx("img",{src:te.image,alt:te.name,className:"w-full h-48 object-cover rounded-md mb-4 transition-transform duration-300 ease-in-out hover:scale-105",onError:de=>{de.target.src="https://via.placeholder.com/80",console.error(`Failed to load image for ${te.name}`)}}),x.jsx("h3",{className:`text-lg font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:te.name}),x.jsx("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:te.description}),x.jsxs("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",te.price.toFixed(2)]}),x.jsxs("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Color: ",te.color]}),x.jsxs("p",{className:`text-sm mb-4 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Size: ",te.size]}),x.jsx("button",{onClick:de=>{de.stopPropagation(),k.current=Date.now(),R(te)},className:"add-to-cart-button bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out w-full",children:"Add to Cart"})]},te.id))})]}):g?x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:H.map(te=>x.jsxs("div",{className:`p-4 border rounded-md shadow-md transition-all duration-300 ease-in-out hover:shadow-lg ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[x.jsx("img",{src:te.image,alt:te.name,className:"w-full h-48 object-cover rounded-md mb-4 transition-transform duration-300 ease-in-out hover:scale-105",onError:de=>{de.target.src="https://via.placeholder.com/80",console.error(`Failed to load image for ${te.name}`)}}),x.jsx("h3",{className:`text-lg font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:te.name}),x.jsx("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:te.description}),x.jsxs("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",te.price.toFixed(2)]}),x.jsxs("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Color: ",te.color]}),x.jsxs("p",{className:`text-sm mb-4 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Size: ",te.size]}),x.jsx("button",{onClick:de=>{de.stopPropagation(),k.current=Date.now(),R(te)},className:"add-to-cart-button bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out w-full",children:"Add to Cart"})]},te.id))}):u.map(te=>x.jsxs("div",{className:"mb-12",children:[x.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:te.name}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:M(f.filter(de=>de.categoryId===te.id)).map(de=>x.jsxs("div",{className:`p-4 border rounded-md shadow-md transition-all duration-300 ease-in-out hover:shadow-lg ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[x.jsx("img",{src:de.image,alt:de.name,className:"w-full h-48 object-cover rounded-md mb-4 transition-transform duration-300 ease-in-out hover:scale-105",onError:Ne=>{Ne.target.src="https://via.placeholder.com/80",console.error(`Failed to load image for ${de.name}`)}}),x.jsx("h3",{className:`text-lg font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:de.name}),x.jsx("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:de.description}),x.jsxs("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",de.price.toFixed(2)]}),x.jsxs("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Color: ",de.color]}),x.jsxs("p",{className:`text-sm mb-4 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Size: ",de.size]}),x.jsx("button",{onClick:Ne=>{Ne.stopPropagation(),k.current=Date.now(),R(de)},className:"add-to-cart-button bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out w-full",children:"Add to Cart"})]},de.id))})]},te.id))]}),N&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"mini-cart-backdrop fixed inset-0 bg-black bg-opacity-50 z-40 active",onClick:te=>{te.stopPropagation(),console.log("Backdrop clicked, closing sidebar"),O(!1)}}),x.jsx("div",{className:`mini-cart-sidebar w-80 p-6 border-l shadow-lg h-screen fixed right-0 top-0 z-50 overflow-y-auto transition-transform duration-300 ease-in-out transform ${N?"translate-x-0":"translate-x-full"} ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:x.jsxs("div",{className:`mini-cart-content ${N?"active":""}`,children:[x.jsxs("div",{className:"flex justify-between items-center mb-6",children:[x.jsx("h2",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Your Cart"}),x.jsx("button",{onClick:te=>{te.stopPropagation(),console.log("Close button clicked, closing sidebar"),O(!1)},className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300 hover:text-red-400":"text-stone-600 hover:text-red-600"}`,children:"✕"})]}),!Array.isArray(e)||e.length===0?x.jsx("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"Your cart is empty."}):x.jsxs("div",{className:"space-y-4",children:[x.jsx(yd,{component:null,children:e.map(te=>x.jsx(gd,{timeout:300,classNames:"cart-item",children:x.jsxs("div",{className:`flex items-center gap-4 p-3 border rounded-md transition-all duration-300 ease-in-out ${t?"border-stone-600":"border-red-300"}`,children:[x.jsx("img",{src:te.image,alt:te.name,className:"w-16 h-16 object-cover rounded-md",onError:de=>{de.target.src="https://via.placeholder.com/80"}}),x.jsxs("div",{className:"flex-1",children:[x.jsx("p",{className:`text-sm font-medium transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:te.name}),x.jsxs("p",{className:`text-xs transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["$",te.price.toFixed(2)," x ",te.quantity]}),x.jsx("div",{className:"flex items-center gap-2 mt-2",children:x.jsxs("div",{className:"flex items-center border-2 border-red-300 rounded-full px-2 py-1",children:[te.quantity===1?x.jsx("button",{onClick:de=>{de.stopPropagation(),i(te.id)},className:"text-red-600 hover:text-red-800 active:text-red-900 transition-all duration-300 ease-in-out",children:x.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:x.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5-4h4M9 7h6m-5 4v6m4-6v6"})})}):x.jsx("button",{onClick:de=>{de.stopPropagation(),r(te.id,te.quantity-1)},className:"text-black px-2 py-1 rounded-full hover:bg-gray-200 active:bg-gray-300 transition-all duration-300 ease-in-out",children:"-"}),x.jsx("span",{className:`text-sm mx-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:te.quantity}),x.jsx("button",{onClick:de=>{de.stopPropagation(),r(te.id,te.quantity+1)},className:"text-black px-2 py-1 rounded-full hover:bg-gray-200 active:bg-gray-300 transition-all duration-300 ease-in-out",children:"+"})]})})]}),x.jsx("button",{onClick:de=>{de.stopPropagation(),i(te.id)},className:"text-red-600 hover:text-red-800 active:text-red-900 transition-colors duration-300 ease-in-out",children:"✕"})]})},te.id))}),x.jsxs("div",{className:"border-t pt-4 mt-4",children:[x.jsxs("p",{className:`text-lg font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:["Subtotal: $",a().toFixed(2)]}),x.jsx("button",{onClick:te=>{te.stopPropagation(),O(!1),C("/cart")},className:"w-full bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out mt-4",children:"Go to Cart"}),x.jsx("button",{onClick:te=>{te.stopPropagation(),O(!1),C("/cart")},className:"w-full bg-red-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-700 active:bg-red-800 transition-all duration-300 ease-in-out mt-2",children:"Proceed to Checkout"})]})]})]})})]})]})}function RM(){const{isDarkMode:t}=P.useContext(Dt),{cart:e,updateQuantity:n,removeFromCart:r,clearCart:i,getTotalPrice:a}=Mb(),[u,d]=P.useState(!1),[f,p]=P.useState({name:"",email:"",address:""}),g=Ui(),_=async E=>{if(E.preventDefault(),!f.name||!f.email||!f.address){alert("Please fill in all fields to proceed with checkout.");return}d(!0);try{const b={items:e,total:a(),customer:f,createdAt:new Date().toISOString(),status:"pending"};await Op(lr(pt,"orders"),b),i(),alert("Order placed successfully! Thank you for your purchase."),g("/")}catch(b){console.error("Error placing order:",b),alert("Failed to place order. Please try again.")}finally{d(!1),p({name:"",email:"",address:""})}};return x.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[x.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Your Cart"}),e.length===0?x.jsxs("div",{className:"text-center",children:[x.jsx("p",{className:`text-lg mb-4 ${t?"text-stone-300":"text-stone-600"}`,children:"Your cart is empty."}),x.jsx("button",{onClick:()=>g("/products"),className:"bg-red-800 text-white px-6 py-3 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Shop Now"})]}):x.jsxs("div",{className:"space-y-8",children:[x.jsx("div",{className:"space-y-4",children:e.map(E=>x.jsxs("div",{className:`flex items-center gap-4 p-4 border rounded-md ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[x.jsx("img",{src:E.image,alt:E.name,className:"w-20 h-20 object-cover rounded-md",onError:b=>{b.target.src="https://via.placeholder.com/80"}}),x.jsxs("div",{className:"flex-1",children:[x.jsx("h3",{className:`text-lg font-medium ${t?"text-white":"text-red-600"}`,children:E.name}),x.jsxs("p",{className:`text-sm ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",E.price.toFixed(2)]}),x.jsxs("p",{className:`text-sm ${t?"text-stone-300":"text-stone-600"}`,children:["Subtotal: $",(E.price*E.quantity).toFixed(2)]})]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx("button",{onClick:()=>n(E.id,E.quantity-1),className:"bg-gray-300 text-black px-2 py-1 rounded-md hover:bg-gray-400 transition-colors duration-300 ease-in-out",disabled:u,children:"-"}),x.jsx("span",{className:`text-lg ${t?"text-white":"text-red-600"}`,children:E.quantity}),x.jsx("button",{onClick:()=>n(E.id,E.quantity+1),className:"bg-gray-300 text-black px-2 py-1 rounded-md hover:bg-gray-400 transition-colors duration-300 ease-in-out",disabled:u,children:"+"})]}),x.jsx("button",{onClick:()=>r(E.id),className:"bg-red-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-red-700 transition-colors duration-300 ease-in-out",disabled:u,children:"Remove"})]},E.id))}),x.jsxs("div",{className:`p-6 border rounded-md ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[x.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-white":"text-red-600"}`,children:"Order Summary"}),x.jsxs("p",{className:`text-lg mb-4 ${t?"text-stone-300":"text-stone-600"}`,children:["Total: $",a().toFixed(2)]}),x.jsxs("form",{onSubmit:_,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-white":"text-red-600"}`,children:"Full Name"}),x.jsx("input",{type:"text",value:f.name,onChange:E=>p({...f,name:E.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"John Doe",disabled:u})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-white":"text-red-600"}`,children:"Email"}),x.jsx("input",{type:"email",value:f.email,onChange:E=>p({...f,email:E.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"john.doe@example.com",disabled:u})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-white":"text-red-600"}`,children:"Shipping Address"}),x.jsx("textarea",{value:f.address,onChange:E=>p({...f,address:E.target.value}),required:!0,rows:"3",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"123 Main St, City, Country",disabled:u})]}),x.jsx("button",{type:"submit",className:`w-full px-4 py-2 rounded-md font-semibold transition-colors duration-300 ease-in-out ${u?"bg-gray-500 text-white cursor-not-allowed":"bg-red-800 text-white hover:bg-red-900"}`,disabled:u,children:u?"Processing...":"Place Order"})]})]})]})]})}const $p=[{id:1,title:"Microbiome Basics",content:"Your gut contains over 100 trillion bacteria, with more than 1000 different species playing crucial roles in digestion, immunity, and overall health.",category:"Fundamentals"},{id:2,title:"Probiotics Matter",content:"Probiotics are live bacteria that can improve digestive health, boost immune function, and potentially help with mental health.",category:"Nutrition"},{id:3,title:"This means nothing to me",content:"This is all just filler crap",category:"Nutrition"},{id:4,title:"Worst for Gut Microbiome",content:["The following harm gut health (in order of severity):","• Stress: Elevates cortisol, disrupting gut flora and increasing permeability","• Glyphosate: Kills beneficial bacteria, feeds pathogenic ones","• Antibiotics: Kills good and bad bacteria; pair with spore-based probiotics to avoid yeast infections","• Seed Oils: Feed pathogenic bacteria, have a long half-life","• Refined Sugars: Feed harmful bacteria, promote dysbiosis","• Long-term Restrictive Diets: Reduce microbiome diversity","• Processed Foods: Contain antibiotics, glyphosate, and dyes that feed pathogenic bacteria and cancer cells"],category:"Gut Microbiome Education"},{id:5,title:"Types of Probiotics",content:`Key probiotic types include:
• Bacillus (subtilis, coagulans, clausii, indicus): Endospore-protected, survives gastric system and antibiotics, colonizes all gut areas, called 'next-generation probiotics'
• Lactobacillus (acidophilus, rhamnosus, reuteri, plantarum, casei, gasseri): Some strains survive gastric system, mainly colonize upper intestines
• Bifidobacterium (longum, infantis, bifidum, animalis, lactis): Doesn’t survive gastric system or antibiotics, functions in lower intestines; seek exopolysaccharide strains for dendritic cell communication
• Saccharomyces (boulardii, cerevisiae): Gram-positive yeast, survives antibiotics but not gastric system, aids antibiotic-associated diarrhea`,category:"Gut Microbiome Education"},{id:6,title:"Pillars of a Healthy Gut",content:`Build a resilient gut with:
• A nutrient-dense, diverse, unprocessed diet with prebiotics
• Healthy exercise, sleep, and an uplifting social life worth enjoying
• Sun exposure and skin contact with nature
• Research-backed, third-party-tested supplements tailored to your needs`,category:"Gut Microbiome Education"},{id:7,title:"Boosts Cognition",content:"A healthy gut strengthens your immune system and helps fight off infections.",category:"Benefits"},{id:8,title:"Improves Digestion",content:"Proper gut health aids digestion, prevents bloating, and reduces stomach discomfort.",category:"Benefits"},{id:9,title:"Enhances Mental Health",content:"Your gut and brain are connected—good gut health can help reduce anxiety and improve mood.",category:"Benefits"}];function Up({title:t,content:e,footer:n,className:r}){const{isDarkMode:i}=P.useContext(Dt);return x.jsxs("div",{className:`p-4 border rounded-lg shadow-md ${i?"bg-stone-800 border-stone-700":"bg-white border-red-300"} ${r}`,children:[x.jsx("h3",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${i?"text-red-400":"text-red-800"}`,children:t}),e&&x.jsx("p",{className:`mt-2 transition-colors duration-300 ease-in-out ${i?"text-white":"text-red-600"}`,children:e}),n&&x.jsx("p",{className:`mt-2 text-sm transition-colors duration-300 ease-in-out ${i?"text-white":"text-red-600"}`,children:n})]})}function IM(){const{isDarkMode:t}=P.useContext(Dt);P.useEffect(()=>{});const e=$p.filter(r=>r.category==="Benefits"),n=$p.filter(r=>r.category!=="Benefits");return x.jsxs("div",{className:`container mx-auto px-4 py-8 min-h-screen flex flex-col ${t?"bg-stone-900":"bg-white"}`,children:[x.jsx("div",{className:"pt-16"}),x.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Understanding Gut Health"}),x.jsxs("section",{className:"mb-8 flex-grow",children:[x.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"What is Gut Health?"}),x.jsx("p",{className:`leading-relaxed transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Gut health refers to the balance and function of bacteria in the digestive system..."})]}),x.jsxs("section",{className:"py-12 px-6 flex-grow",children:[x.jsx("h2",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Why Gut Health Matters"}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map(r=>x.jsx(Sr,{to:`/gut-health/${r.id}`,children:x.jsx(Up,{title:r.title,content:r.content,className:"hover:shadow-lg transition-shadow duration-300 ease-in-out"})},r.id))})]}),x.jsxs("section",{className:"flex-grow",children:[x.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Gut Health Facts"}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-4",children:n.map(r=>x.jsx(Sr,{to:`/gut-health/${r.id}`,children:x.jsx(Up,{title:r.title,content:r.content,footer:`Category: ${r.category}`,className:`border-l-4 border-red-500 hover:shadow-lg transition-shadow duration-300 ease-in-out ${t?"bg-stone-800":"bg-stone-50"}`})},r.id))})]})]})}function kM(){const{id:t}=F_(),{isDarkMode:e}=P.useContext(Dt);Ui();const n=$p.find(r=>r.id.toString()===t);return n?x.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${e?"bg-stone-900":"bg-white"}`,children:[x.jsx("h1",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:n.title}),x.jsxs("p",{className:`mb-4 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:["Category: ",n.category]}),Array.isArray(n.content)?x.jsx("ul",{className:`text-lg mb-6 list-disc pl-6 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:n.content.map((r,i)=>x.jsx("li",{className:"mb-2",children:r},i))}):x.jsx("p",{className:`text-lg mb-6 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:n.content}),x.jsx(or,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]}):x.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${e?"bg-stone-900":"bg-white"}`,children:[x.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:"Fact Not Found"}),x.jsx(or,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]})}const NM=[{id:1,name:"Enterogermina",description:"spore-forming probiotic that survives antibiotics and stomach acids, promoting gut health and recovery.",price:"",category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"],url:"https://a.co/d/ePluKSI"},{id:2,name:"Just thrive probiotic",description:"Something here about the product",price:29.99,category:"Long Term",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:3,name:"Megasporebiotic",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]}];function DM(){const{isDarkMode:t}=P.useContext(Dt),[e,n]=P.useState([]),r=u=>n([...e,u]),i=u=>n(e.filter(d=>d.id!==u)),a=e.reduce((u,d)=>u+d.price,0);return x.jsxs("div",{className:"container mx-auto px-4 py-8",children:[x.jsx("h1",{className:`text-3xl font-bold mb-6 ${t?"text-green-300":"text-green-800"}`,children:"Purchase Gut Health Supplements"}),x.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[x.jsxs("div",{children:[x.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-green-200":"text-green-700"}`,children:"Available Products"}),NM.map(u=>x.jsxs("div",{className:`border p-4 mb-4 rounded-lg flex justify-between items-center ${t?"border-gray-700 bg-gray-800":"border-gray-300 bg-white"}`,children:[x.jsxs("div",{children:[x.jsx("h3",{className:`font-bold ${t?"text-gray-300":"text-gray-800"}`,children:u.name}),x.jsxs("p",{className:`${t?"text-green-400":"text-green-700"}`,children:["$",u.price]})]}),x.jsx(or,{onClick:()=>r(u),variant:"primary",children:"Add to Cart"})]},u.id))]}),x.jsxs("div",{children:[x.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-green-200":"text-green-700"}`,children:"Your Cart"}),e.length===0?x.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"}):x.jsxs(x.Fragment,{children:[e.map(u=>x.jsxs("div",{className:`flex justify-between items-center border-b py-2 ${t?"border-gray-700":"border-gray-300"}`,children:[x.jsx("span",{className:`${t?"text-gray-300":"text-gray-800"}`,children:u.name}),x.jsxs("div",{children:[x.jsxs("span",{className:`mr-4 ${t?"text-green-400":"text-green-700"}`,children:["$",u.price]}),x.jsx("button",{onClick:()=>i(u.id),className:"text-red-500 hover:text-red-600",children:"Remove"})]})]},u.id)),x.jsxs("div",{className:`mt-4 font-bold ${t?"text-green-300":"text-green-800"}`,children:["Total: $",a.toFixed(2)]}),x.jsx(or,{className:"mt-4 w-full",variant:"primary",disabled:e.length===0,children:"Checkout"})]})]})]})]})}const VM=()=>{const{isDarkMode:t}=P.useContext(Dt),[e,n]=P.useState([]),[r,i]=P.useState(!0),[a,u]=P.useState(null);P.useEffect(()=>{(async()=>{try{const p=lr(pt,"content","blog","posts"),_=(await Qs(p)).docs.map(E=>({id:E.id,title:E.data().title,date:E.data().date,blocks:E.data().blocks||[{type:"paragraph",content:""}]}));console.log("Fetched blog posts:",_),_.length>0?n(_):n([{id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial..."},{type:"image",content:"https://example.com/image.jpg"}]}])}catch(p){console.error("Error fetching blog posts:",p),u("Failed to load blog posts: "+p.message),n([{id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial..."},{type:"image",content:"https://example.com/image.jpg"}]}])}finally{i(!1)}})()},[]);const d=f=>{if(!f.blocks||f.blocks.length===0)return"Read more...";const p=f.blocks.find(g=>g.type==="paragraph"||g.type==="list"||g.type==="bullet");return p?p.type==="paragraph"?p.content.split(" ").slice(0,15).join(" ")+"...":Array.isArray(p.content)?p.content[0]+(p.content.length>1?"...":""):"Read more...":"Read more..."};return r?x.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[x.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),x.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"Loading posts..."})]}):a?x.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[x.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),x.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:a})]}):x.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[x.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),e.length===0?x.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"No blog posts available yet. Check back soon!"}):x.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(f=>x.jsx(Sr,{to:`/blog/${f.id}`,className:"block group",children:x.jsx(Up,{title:f.title,footer:x.jsx("span",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:f.date}),content:x.jsx("p",{className:`text-base transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:d(f)}),className:`p-6 rounded-lg shadow-md transition-all duration-300 ease-in-out ${t?"bg-stone-800 hover:bg-stone-700":"bg-white hover:bg-stone-100"} group-hover:shadow-lg`})},f.id))})]})},jM=()=>{const{id:t}=F_(),{isDarkMode:e}=P.useContext(Dt),[n,r]=P.useState(null);return P.useEffect(()=>{(async()=>{const a=ar(pt,"content","blog","posts",t),u=await mg(a);u.exists()?r({id:u.id,...u.data()}):r([{id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being. It affects digestion, immunity, and even mental health."},{type:"list",content:["Eat a balanced diet.","Stay hydrated.","Get regular exercise."]},{type:"bullet",content:["Fiber-rich foods","Probiotics","Adequate sleep"]},{type:"image",content:"https://example.com/gut-health-image.jpg"},{type:"link",content:{url:"https://example.com/learn-more",text:"Learn More About Gut Health"}},{type:"paragraph",content:"A healthy gut can prevent chronic diseases and improve your quality of life."}]}].find(f=>f.id===t)||null)})()},[t]),n?x.jsx("div",{className:`min-h-screen container mx-auto px-6 py-12 ${e?"bg-stone-900":"bg-stone-50"}`,children:x.jsxs("div",{className:"max-w-3xl mx-auto",children:[x.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:n.title}),x.jsx("p",{className:`text-lg mb-8 transition-colors duration-300 ease-in-out ${e?"text-stone-400":"text-stone-500"}`,children:n.date}),x.jsx("div",{className:`prose prose-lg max-w-none transition-colors duration-300 ease-in-out ${e?"text-stone-200 prose-invert":"text-stone-700"}`,children:n.blocks&&n.blocks.length>0?n.blocks.map((i,a)=>x.jsx("div",{className:"mb-6",children:i.type==="paragraph"?x.jsx("p",{children:i.content}):i.type==="list"&&Array.isArray(i.content)?x.jsx("ol",{className:"list-decimal pl-6 space-y-2",children:i.content.map((u,d)=>x.jsx("li",{children:u},d))}):i.type==="bullet"&&Array.isArray(i.content)?x.jsx("ul",{className:"list-disc pl-6 space-y-2",children:i.content.map((u,d)=>x.jsx("li",{children:u},d))}):i.type==="image"&&i.content?x.jsx("img",{src:i.content,alt:"Blog content",className:"w-full max-w-md mx-auto rounded-lg shadow-md"}):i.type==="link"&&i.content.url?x.jsx(Sr,{to:i.content.url,target:"_blank",rel:"noopener noreferrer",className:`underline transition-colors duration-300 ease-in-out ${e?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-500"}`,children:i.content.text||i.content.url}):x.jsx("p",{className:"text-red-500",children:"Invalid block format"})},a)):x.jsx("p",{children:"No content available."})}),x.jsx(or,{to:"/blog",variant:"primary",className:"mt-8 bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]})}):x.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${e?"bg-stone-900":"bg-stone-50"}`,children:[x.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:"Post Not Found"}),x.jsx(or,{to:"/blog",variant:"primary",className:"bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]})},MM=[{question:"What is gut health?",answer:"Gut health refers to the balance of microorganisms in your digestive tract."},{question:"How can I improve my gut health?",answer:"Eating fiber-rich foods, fermented foods, and avoiding processed sugars can help."},{question:"What foods are good for gut health?",answer:"Fermented foods like yogurt, kimchi, and kefir, along with fiber-rich vegetables like broccoli and beans, are great for gut health."},{question:"Can stress affect gut health?",answer:"Yes, stress can alter the balance of gut bacteria and affect digestion, leading to issues like bloating or stomach discomfort."}];function LM(){const{isDarkMode:t}=P.useContext(Dt);return x.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[x.jsx("h1",{className:`text-4xl font-extrabold text-center mb-6 ${t?"text-green-300":"text-green-700"}`,children:"Frequently Asked Questions"}),x.jsx("div",{className:"space-y-4",children:MM.map((e,n)=>x.jsxs("details",{className:`group border p-4 rounded-lg shadow-md transition-all duration-300 ease-in-out ${t?"bg-gray-800 border-gray-700 text-gray-300":"bg-white border-gray-300 text-gray-800"}`,children:[x.jsxs("summary",{className:`cursor-pointer font-semibold text-lg flex justify-between items-center ${t?"group-open:text-green-400":"group-open:text-green-600"}`,children:[e.question,x.jsx("span",{className:"text-green-500 group-open:rotate-180 transition-transform duration-300",children:"▼"})]}),x.jsx("p",{className:"mt-2 text-gray-600",children:e.answer})]},n))})]})}class nu{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const OM=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},Ut={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:OM()},bg=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},FM=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=bg(t);Ut.publicKey=n.publicKey,Ut.blockHeadless=n.blockHeadless,Ut.storageProvider=n.storageProvider,Ut.blockList=n.blockList,Ut.limitRate=n.limitRate,Ut.origin=n.origin||e},Lb=async(t,e,n={})=>{const r=await fetch(Ut.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),a=new nu(r.status,i);if(r.ok)return a;throw a},Ob=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},$M=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},Fb=t=>t.webdriver||!t.languages||t.languages.length===0,$b=()=>new nu(451,"Unavailable For Headless Browser"),UM=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},BM=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},zM=(t,e)=>t instanceof FormData?t.get(e):t[e],Ub=(t,e)=>{if(BM(t))return!1;UM(t.list,t.watchVariable);const n=zM(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},Bb=()=>new nu(403,"Forbidden"),WM=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},HM=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},zb=async(t,e,n)=>{if(!e.throttle||!n)return!1;WM(e.throttle,e.id);const r=e.id||t;return await HM(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},Wb=()=>new nu(429,"Too Many Requests"),qM=async(t,e,n,r)=>{const i=bg(r),a=i.publicKey||Ut.publicKey,u=i.blockHeadless||Ut.blockHeadless,d=i.storageProvider||Ut.storageProvider,f={...Ut.blockList,...i.blockList},p={...Ut.limitRate,...i.limitRate};return u&&Fb(navigator)?Promise.reject($b()):(Ob(a,t,e),$M(n),n&&Ub(f,n)?Promise.reject(Bb()):await zb(location.pathname,p,d)?Promise.reject(Wb()):Lb("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},KM=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},GM=t=>typeof t=="string"?document.querySelector(t):t,QM=async(t,e,n,r)=>{const i=bg(r),a=i.publicKey||Ut.publicKey,u=i.blockHeadless||Ut.blockHeadless,d=Ut.storageProvider||i.storageProvider,f={...Ut.blockList,...i.blockList},p={...Ut.limitRate,...i.limitRate};if(u&&Fb(navigator))return Promise.reject($b());const g=GM(n);Ob(a,t,e),KM(g);const _=new FormData(g);return Ub(f,_)?Promise.reject(Bb()):await zb(location.pathname,p,d)?Promise.reject(Wb()):(_.append("lib_version","4.4.1"),_.append("service_id",t),_.append("template_id",e),_.append("user_id",a),Lb("/api/v1.0/email/send-form",_))},XM={init:FM,send:qM,sendForm:QM,EmailJSResponseStatus:nu};function YM(){const{isDarkMode:t}=P.useContext(Dt),[e,n]=P.useState({name:"",email:"",message:""}),[r,i]=P.useState(""),a=d=>{const{name:f,value:p}=d.target;n(g=>({...g,[f]:p}))},u=d=>{d.preventDefault(),i("Sending..."),XM.send("service_abc123","template_xyz789",{from_name:e.name,from_email:e.email,message:e.message,to_email:"ThomasScales13@yahoo.com"},"user_123456").then(f=>{i("Thank you! Your inquiry has been sent."),n({name:"",email:"",message:""}),setTimeout(()=>i(""),3e3)},f=>{i("Failed to send message. Please try again."),console.error("EmailJS error:",f.text),setTimeout(()=>i(""),3e3)})};return x.jsx("div",{className:`min-h-screen py-12 px-4 ${t?"bg-stone-900":"bg-white"}`,children:x.jsxs("div",{className:"max-w-2xl mx-auto",children:[x.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Contact Us"}),x.jsx("p",{className:`mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Have any questions or inquiries? Fill out the form below, and we'll get back to you as soon as possible!"}),x.jsxs("form",{onSubmit:u,className:"space-y-6",children:[x.jsxs("div",{children:[x.jsx("label",{htmlFor:"name",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Name"}),x.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:a,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your Name"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Email"}),x.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:a,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"your@email.com"})]}),x.jsxs("div",{children:[x.jsx("label",{htmlFor:"message",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Message"}),x.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:a,required:!0,rows:"5",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your inquiry or message..."})]}),x.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Send Message"}),r&&x.jsx("p",{className:`mt-4 text-center transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:r})]})]})})}function JM(){const{isDarkMode:t}=P.useContext(Dt),[e,n]=P.useState(""),[r,i]=P.useState(!1),a=Ui(),u=()=>{e==="agp9489"?i(!0):alert("Incorrect password")};return r?x.jsxs("div",{className:`min-h-screen flex flex-col items-center justify-center ${t?"bg-stone-900":"bg-white"}`,children:[x.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-8`,children:"Admin Dashboard"}),x.jsxs("div",{className:"flex flex-col gap-4",children:[x.jsx("button",{onClick:()=>a("/admin/home"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Edit Home Page Content"}),x.jsx("button",{onClick:()=>a("/admin/blog"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Manage Blog Posts"}),x.jsx("button",{onClick:()=>a("/admin/products"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Manage Products"}),x.jsx("button",{onClick:()=>a("/"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Home"})]})]}):x.jsx("div",{className:`min-h-screen flex items-center justify-center ${t?"bg-stone-900":"bg-white"}`,children:x.jsxs("div",{className:`p-6 ${t?"bg-stone-800":"bg-stone-100"} rounded shadow`,children:[x.jsx("h2",{className:`text-2xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-4`,children:"Admin Login"}),x.jsx("input",{type:"password",value:e,onChange:d=>n(d.target.value),className:`border p-2 w-full mb-4 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Enter password"}),x.jsx("button",{onClick:u,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Login"})]})})}function ZM(){const{isDarkMode:t}=P.useContext(Dt),[e,n]=P.useState([""]),[r,i]=P.useState(""),[a,u]=P.useState([""]),[d,f]=P.useState([""]),[p,g]=P.useState([]),[_,E]=P.useState(""),[b,A]=P.useState([""]),[j,N]=P.useState(null),O=Ui();P.useEffect(()=>{(async()=>{var J,le,Te,De,We,ct,Pn,Vr;try{const Rn=ar(pt,"content","home"),dr=await mg(Rn);if(dr.exists()){const xt=dr.data();n((J=xt.quotes)!=null&&J.length?xt.quotes:[""]),i(((le=xt.currentWorkout)==null?void 0:le.description)||""),u((De=(Te=xt.currentWorkout)==null?void 0:Te.warmup)!=null&&De.length?xt.currentWorkout.warmup:[""]),f((ct=(We=xt.currentWorkout)==null?void 0:We.main)!=null&&ct.length?xt.currentWorkout.main:[""]),g((Pn=xt.scheduledWorkouts)!=null&&Pn.length?xt.scheduledWorkouts.map(jr=>({...jr,warmup:jr.warmup||[""],main:jr.main||[""]})):[{description:"",warmup:[""],main:[""],updateDateTime:""}]),E(xt.aboutUs||""),A((Vr=xt.dailyChallenges)!=null&&Vr.length?xt.dailyChallenges:[""])}}catch(Rn){N("Failed to load content: "+Rn.message)}})()},[]);const W=async()=>{N(null);const oe={quotes:e.filter(J=>J.trim()!==""),currentWorkout:{description:r,warmup:a.filter(J=>J.trim()!==""),main:d.filter(J=>J.trim()!=="")},scheduledWorkouts:p.filter(J=>J.description.trim()&&(J.warmup.length>0||J.main.length>0)&&J.updateDateTime.trim()).map(J=>({description:J.description,warmup:J.warmup.filter(le=>le.trim()!==""),main:J.main.filter(le=>le.trim()!==""),updateDateTime:J.updateDateTime})),aboutUs:_.trim(),dailyChallenges:b.filter(J=>J.trim()!==""),lastUpdated:new Date().toISOString()};try{await gg(ar(pt,"content","home"),oe),alert("Home page content saved successfully!"),O("/admin")}catch(J){N("Error saving changes: "+J.message)}},F=()=>n([...e,""]),I=oe=>n(e.filter((J,le)=>le!==oe)),L=(oe,J)=>{const le=[...e];le[oe]=J,n(le)},B=()=>u([...a,""]),k=oe=>u(a.filter((J,le)=>le!==oe)),C=(oe,J)=>{const le=[...a];le[oe]=J,u(le)},R=()=>f([...d,""]),M=oe=>f(d.filter((J,le)=>le!==oe)),U=(oe,J)=>{const le=[...d];le[oe]=J,f(le)},H=()=>g([...p,{description:"",warmup:[""],main:[""],updateDateTime:""}]),D=oe=>g(p.filter((J,le)=>le!==oe)),te=(oe,J,le)=>{const Te=[...p];Te[oe][J]=le,g(Te)},de=oe=>{const J=[...p];J[oe].warmup.push(""),g(J)},Ne=(oe,J)=>{const le=[...p];le[oe].warmup=le[oe].warmup.filter((Te,De)=>De!==J),g(le)},xe=(oe,J,le)=>{const Te=[...p];Te[oe].warmup[J]=le,g(Te)},ie=oe=>{const J=[...p];J[oe].main.push(""),g(J)},fe=(oe,J)=>{const le=[...p];le[oe].main=le[oe].main.filter((Te,De)=>De!==J),g(le)},he=(oe,J,le)=>{const Te=[...p];Te[oe].main[J]=le,g(Te)},q=()=>A([...b,""]),Z=oe=>A(b.filter((J,le)=>le!==oe)),we=(oe,J)=>{const le=[...b];le[oe]=J,A(le)};return x.jsxs("div",{className:`min-h-screen p-6 ${t?"bg-stone-900":"bg-white"}`,children:[x.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-6`,children:"Edit Home Page Content"}),j&&x.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:j}),x.jsxs("div",{className:"mb-6",children:[x.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Quotes"}),e.map((oe,J)=>x.jsxs("div",{className:"flex mb-2",children:[x.jsx("input",{type:"text",value:oe,onChange:le=>L(J,le.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Quote ${J+1}`}),x.jsx("button",{onClick:()=>I(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:e.length===1,children:"Remove"})]},J)),x.jsx("button",{onClick:F,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Quote"})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"About Us"}),x.jsx("textarea",{value:_,onChange:oe=>E(oe.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"About Us text"})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Current Workout of the Day"}),x.jsx("textarea",{value:r,onChange:oe=>i(oe.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Current workout description"}),x.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-blue-300":"text-blue-600"} mt-4 mb-2`,children:"Warm Up Exercises"}),a.map((oe,J)=>x.jsxs("div",{className:"flex mb-2",children:[x.jsx("input",{type:"text",value:oe,onChange:le=>C(J,le.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Warm Up ${J+1}`}),x.jsx("button",{onClick:()=>k(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:a.length===1,children:"Remove"})]},`warmup-${J}`)),x.jsx("button",{onClick:B,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mb-4",children:"Add Warm Up Exercise"}),x.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mt-4 mb-2`,children:"Main Workout Exercises"}),d.map((oe,J)=>x.jsxs("div",{className:"flex mb-2",children:[x.jsx("input",{type:"text",value:oe,onChange:le=>U(J,le.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Main Exercise ${J+1}`}),x.jsx("button",{onClick:()=>M(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:d.length===1,children:"Remove"})]},`main-${J}`)),x.jsx("button",{onClick:R,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Main Exercise"})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Scheduled Workouts"}),p.map((oe,J)=>x.jsxs("div",{className:`mb-4 border p-4 rounded ${t?"border-stone-600":"border-red-300"}`,children:[x.jsx("input",{type:"datetime-local",value:oe.updateDateTime?oe.updateDateTime.slice(0,16):"",onChange:le=>te(J,"updateDateTime",new Date(le.target.value).toISOString()),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Update Date and Time"}),x.jsx("textarea",{value:oe.description,onChange:le=>te(J,"description",le.target.value),className:`border p-2 w-full h-24 mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Workout Description"}),x.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-blue-300":"text-blue-600"} mt-2 mb-2`,children:"Warm Up Exercises"}),oe.warmup.map((le,Te)=>x.jsxs("div",{className:"flex mb-2",children:[x.jsx("input",{type:"text",value:le,onChange:De=>xe(J,Te,De.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Warm Up ${Te+1}`}),x.jsx("button",{onClick:()=>Ne(J,Te),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:oe.warmup.length===1,children:"Remove"})]},`warmup-${J}-${Te}`)),x.jsx("button",{onClick:()=>de(J),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mb-4",children:"Add Warm Up Exercise"}),x.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mt-2 mb-2`,children:"Main Workout Exercises"}),oe.main.map((le,Te)=>x.jsxs("div",{className:"flex mb-2",children:[x.jsx("input",{type:"text",value:le,onChange:De=>he(J,Te,De.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Main Exercise ${Te+1}`}),x.jsx("button",{onClick:()=>fe(J,Te),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:oe.main.length===1,children:"Remove"})]},`main-${J}-${Te}`)),x.jsx("button",{onClick:()=>ie(J),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mr-2",children:"Add Main Exercise"}),x.jsx("button",{onClick:()=>D(J),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",disabled:p.length===1&&!p[0].description,children:"Remove Workout"})]},J)),x.jsx("button",{onClick:H,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Scheduled Workout"})]}),x.jsxs("div",{className:"mb-6",children:[x.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Daily Gut Health Challenges"}),b.map((oe,J)=>x.jsxs("div",{className:"flex mb-2",children:[x.jsx("input",{type:"text",value:oe,onChange:le=>we(J,le.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Challenge ${J+1}`}),x.jsx("button",{onClick:()=>Z(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:b.length===1,children:"Remove"})]},J)),x.jsx("button",{onClick:q,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Challenge"})]}),x.jsx("button",{onClick:W,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Save Changes"}),x.jsx("button",{onClick:()=>O("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Admin Dashboard"})]})}function eL(){const{isDarkMode:t}=P.useContext(Dt),[e,n]=P.useState([]),[r,i]=P.useState(null),a=Ui();P.useEffect(()=>{(async()=>{try{const F=lr(pt,"content","blog","posts"),L=(await Qs(F)).docs.map(B=>({id:B.id,title:B.data().title||"",date:B.data().date||"",blocks:B.data().blocks||[{type:"paragraph",content:""}]}));n(L.length?L:[{id:"",title:"",date:"",blocks:[{type:"paragraph",content:""}]}])}catch(F){i("Failed to load blog posts: "+F.message)}})()},[]);const u=async()=>{i(null);try{const W=lr(pt,"content","blog","posts"),F=await Qs(W);for(const I of F.docs)await zc(I.ref);for(const I of e)if(I.title.trim()&&I.date.trim()&&I.blocks.some(L=>L.type==="paragraph"||L.type==="image"||L.type==="link"?L.content.trim():L.content.some(B=>B.trim()))){const L=I.id||Date.now().toString();await gg(ar(W,L),{id:L,title:I.title,date:I.date,blocks:I.blocks.map(B=>({type:B.type,content:B.type==="paragraph"||B.type==="image"?B.content:B.type==="link"?{url:B.content.url,text:B.content.text}:B.content.filter(k=>k.trim()!=="")}))})}alert("Blog posts saved successfully!"),a("/admin")}catch(W){i("Error saving blog posts: "+W.message)}},d=()=>n([...e,{id:"",title:"",date:"",blocks:[{type:"paragraph",content:""}]}]),f=W=>n(e.filter((F,I)=>I!==W)),p=(W,F,I)=>{const L=[...e];L[W]={...L[W],[F]:I},n(L)},g=(W,F)=>{const I=[...e];I[W].blocks.push({type:F,content:F==="paragraph"||F==="image"?"":F==="link"?{url:"",text:""}:[""]}),n(I)},_=(W,F)=>{const I=[...e];I[W].blocks=I[W].blocks.filter((L,B)=>B!==F),n(I)},E=(W,F,I)=>{const L=[...e];L[W].blocks[F]={type:I,content:I==="paragraph"||I==="image"?"":I==="link"?{url:"",text:""}:[""]},n(L)},b=(W,F,I)=>{const L=[...e];L[W].blocks[F].content=I,n(L)},A=(W,F,I,L)=>{const B=[...e];B[W].blocks[F].content[I]=L,n(B)},j=(W,F)=>{const I=[...e];I[W].blocks[F].content.push(""),n(I)},N=(W,F,I)=>{const L=[...e];L[W].blocks[F].content=L[W].blocks[F].content.filter((B,k)=>k!==I),n(L)},O=(W,F,I,L)=>{const B=[...e];B[W].blocks[F].content[I]=L,n(B)};return x.jsxs("div",{className:`min-h-screen p-6 ${t?"bg-stone-900":"bg-white"}`,children:[x.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-6`,children:"Manage Blog Posts"}),r&&x.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:r}),x.jsxs("div",{className:"mb-6",children:[e.map((W,F)=>x.jsxs("div",{className:`mb-4 border p-4 rounded ${t?"border-stone-600":"border-red-300"}`,children:[x.jsx("input",{type:"text",value:W.title,onChange:I=>p(F,"title",I.target.value),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Blog Title"}),x.jsx("input",{type:"text",value:W.date,onChange:I=>p(F,"date",I.target.value),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Date (e.g., January 15, 2025)"}),x.jsxs("div",{className:"mb-2",children:[x.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Content Blocks"}),W.blocks.map((I,L)=>x.jsxs("div",{className:"mb-4 border-t pt-2 mt-2 border-stone-400",children:[x.jsxs("div",{className:"flex items-center mb-2",children:[x.jsx("label",{className:`mr-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Block Type:"}),x.jsxs("select",{value:I.type,onChange:B=>E(F,L,B.target.value),className:`border p-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,children:[x.jsx("option",{value:"paragraph",children:"Paragraph"}),x.jsx("option",{value:"list",children:"Numbered List"}),x.jsx("option",{value:"bullet",children:"Bullet Points"}),x.jsx("option",{value:"image",children:"Image"}),x.jsx("option",{value:"link",children:"Link"})]}),x.jsx("button",{onClick:()=>_(F,L),className:"ml-2 bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:W.blocks.length===1,children:"Remove Block"})]}),I.type==="paragraph"?x.jsx("textarea",{value:I.content,onChange:B=>b(F,L,B.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Paragraph Content"}):I.type==="image"?x.jsxs("div",{className:"space-y-2",children:[x.jsx("input",{type:"text",value:I.content,onChange:B=>b(F,L,B.target.value),className:`border p-2 w-full ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Image URL (e.g., https://example.com/image.jpg)"}),I.content&&x.jsx("img",{src:I.content,alt:"Preview",className:"w-full max-w-xs rounded-lg shadow-md"})]}):I.type==="link"?x.jsxs("div",{className:"space-y-2",children:[x.jsx("input",{type:"text",value:I.content.url,onChange:B=>A(F,L,"url",B.target.value),className:`border p-2 w-full ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Link URL (e.g., https://example.com)"}),x.jsx("input",{type:"text",value:I.content.text,onChange:B=>A(F,L,"text",B.target.value),className:`border p-2 w-full ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Link Text (e.g., Click here)"})]}):x.jsxs("div",{children:[I.content.map((B,k)=>x.jsxs("div",{className:"flex mb-2",children:[x.jsx("input",{type:"text",value:B,onChange:C=>O(F,L,k,C.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Item ${k+1}`}),x.jsx("button",{onClick:()=>N(F,L,k),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:I.content.length===1,children:"Remove"})]},k)),x.jsx("button",{onClick:()=>j(F,L),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add List Item"})]})]},L)),x.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[x.jsx("button",{onClick:()=>g(F,"paragraph"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Paragraph"}),x.jsx("button",{onClick:()=>g(F,"list"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Numbered List"}),x.jsx("button",{onClick:()=>g(F,"bullet"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Bullet Points"}),x.jsx("button",{onClick:()=>g(F,"image"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Image"}),x.jsx("button",{onClick:()=>g(F,"link"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Link"})]})]}),x.jsx("button",{onClick:()=>f(F),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",disabled:e.length===1,children:"Remove Post"})]},F)),x.jsx("button",{onClick:d,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Blog Post"})]}),x.jsx("button",{onClick:u,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Save Changes"}),x.jsx("button",{onClick:()=>a("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Admin Dashboard"})]})}function tL(){const{isDarkMode:t}=P.useContext(Dt),[e,n]=P.useState([]),[r,i]=P.useState([]),[a,u]=P.useState(""),[d,f]=P.useState({categoryId:"",name:"",price:"",description:"",image:null,color:"",size:""}),[p,g]=P.useState(null),[_,E]=P.useState(null);P.useEffect(()=>{(async()=>{try{const B=(await Qs(lr(pt,"categories"))).docs.map(R=>({id:R.id,...R.data()}));n(B);const C=(await Qs(lr(pt,"products"))).docs.map(R=>({id:R.id,...R.data()}));i(C)}catch(L){console.error("Error fetching data from Firestore:",L)}})()},[]);const b=async I=>{if(I.preventDefault(),!!a)try{const L=await Op(lr(pt,"categories"),{name:a});n([...e,{id:L.id,name:a}]),u("")}catch(L){console.error("Error adding category:",L)}},A=async I=>{try{const L=ar(pt,"categories",I.id);await E_(L,{name:I.name}),n(e.map(B=>B.id===I.id?{...B,name:I.name}:B)),g(null)}catch(L){console.error("Error updating category:",L)}},j=async I=>{try{await zc(ar(pt,"categories",I)),n(e.filter(B=>B.id!==I));const L=r.filter(B=>B.categoryId===I);for(const B of L){if(B.image&&B.image!=="https://via.placeholder.com/80"){const k=B.image.split("/products%2F")[1].split("?")[0],C=Hf(qf,`products/${decodeURIComponent(k)}`);await P_(C).catch(R=>{console.error(`Error deleting image for product ${B.id}:`,R)})}await zc(ar(pt,"products",B.id))}i(r.filter(B=>B.categoryId!==I))}catch(L){console.error("Error deleting category:",L)}},N=async I=>{if(!I)return null;const L=Hf(qf,`products/${I.name}`);return await xM(L,I),await _M(L)},O=async I=>{if(I.preventDefault(),!(!d.categoryId||!d.name||!d.price))try{const L=await N(d.image),B=await Op(lr(pt,"products"),{categoryId:d.categoryId,name:d.name,price:parseFloat(d.price),description:d.description||"No description available",image:L||"https://via.placeholder.com/80",color:d.color||"N/A",size:d.size||"N/A"});i([...r,{id:B.id,categoryId:d.categoryId,name:d.name,price:parseFloat(d.price),description:d.description||"No description available",image:L||"https://via.placeholder.com/80",color:d.color||"N/A",size:d.size||"N/A"}]),f({categoryId:"",name:"",price:"",description:"",image:null,color:"",size:""})}catch(L){console.error("Error adding product:",L),alert("Failed to add product. Check Firebase Storage rules and ensure Storage is enabled.")}},W=async I=>{try{const L=I.image instanceof File?await N(I.image):I.image,B=ar(pt,"products",I.id);await E_(B,{categoryId:I.categoryId,name:I.name,price:parseFloat(I.price),description:I.description,image:L||"https://via.placeholder.com/80",color:I.color,size:I.size}),i(r.map(k=>k.id===I.id?{...k,categoryId:I.categoryId,name:I.name,price:parseFloat(I.price),description:I.description,image:L||"https://via.placeholder.com/80",color:I.color,size:I.size}:k)),E(null)}catch(L){console.error("Error updating product:",L),alert("Failed to update product. Check Firebase Storage rules and ensure Storage is enabled.")}},F=async I=>{try{const L=r.find(B=>B.id===I);if(L.image&&L.image!=="https://via.placeholder.com/80"){const B=L.image.split("/products%2F")[1].split("?")[0],k=Hf(qf,`products/${decodeURIComponent(B)}`);await P_(k).catch(C=>{console.error(`Error deleting image for product ${I}:`,C)})}await zc(ar(pt,"products",I)),i(r.filter(B=>B.id!==I))}catch(L){console.error("Error deleting product:",L)}};return x.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[x.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Admin - Manage Products"}),x.jsxs("div",{className:"mb-12",children:[x.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Add New Category"}),x.jsxs("form",{onSubmit:b,className:"flex gap-4",children:[x.jsx("input",{type:"text",value:a,onChange:I=>u(I.target.value),placeholder:"Category Name",className:`flex-1 px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`}),x.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Category"})]})]}),x.jsxs("div",{className:"mb-12",children:[x.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Manage Categories"}),x.jsx("div",{className:"space-y-4",children:e.map(I=>x.jsx("div",{className:`p-4 border rounded-md ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:(p==null?void 0:p.id)===I.id?x.jsxs("div",{className:"flex gap-4",children:[x.jsx("input",{type:"text",value:p.name,onChange:L=>g({...p,name:L.target.value}),className:`flex-1 px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`}),x.jsx("button",{onClick:()=>A(p),className:"bg-green-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-green-700 transition-colors duration-300 ease-in-out",children:"Save"}),x.jsx("button",{onClick:()=>g(null),className:"bg-gray-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-gray-700 transition-colors duration-300 ease-in-out",children:"Cancel"})]}):x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("span",{className:`text-lg font-medium ${t?"text-white":"text-red-600"}`,children:I.name}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>g(I),className:"bg-blue-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-blue-700 transition-colors duration-300 ease-in-out",children:"Edit"}),x.jsx("button",{onClick:()=>j(I.id),className:"bg-red-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-red-700 transition-colors duration-300 ease-in-out",children:"Delete"})]})]})},I.id))})]}),x.jsxs("div",{className:"mb-12",children:[x.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Add New Product"}),x.jsxs("form",{onSubmit:O,className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Category"}),x.jsxs("select",{value:d.categoryId,onChange:I=>f({...d,categoryId:I.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,children:[x.jsx("option",{value:"",children:"Select a category"}),e.map(I=>x.jsx("option",{value:I.id,children:I.name},I.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Name"}),x.jsx("input",{type:"text",value:d.name,onChange:I=>f({...d,name:I.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Product Name"})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Price"}),x.jsx("input",{type:"number",step:"0.01",value:d.price,onChange:I=>f({...d,price:I.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Price (e.g., 29.99)"})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Description"}),x.jsx("textarea",{value:d.description,onChange:I=>f({...d,description:I.target.value}),rows:"3",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-purple-300 text-purple-600 focus:ring-purple-500"}`,placeholder:"Product Description"})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Image"}),x.jsx("input",{type:"file",accept:"image/*",onChange:I=>f({...d,image:I.target.files[0]}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Color"}),x.jsx("input",{type:"text",value:d.color,onChange:I=>f({...d,color:I.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Color (optional)"})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Size"}),x.jsx("input",{type:"text",value:d.size,onChange:I=>f({...d,size:I.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Size (optional)"})]}),x.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Add Product"})]})]}),x.jsxs("div",{children:[x.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Manage Products"}),x.jsx("div",{className:"space-y-4",children:r.map(I=>{var L;return x.jsx("div",{className:`p-4 border rounded-md ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:(_==null?void 0:_.id)===I.id?x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Category"}),x.jsxs("select",{value:_.categoryId,onChange:B=>E({..._,categoryId:B.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,children:[x.jsx("option",{value:"",children:"Select a category"}),e.map(B=>x.jsx("option",{value:B.id,children:B.name},B.id))]})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Name"}),x.jsx("input",{type:"text",value:_.name,onChange:B=>E({..._,name:B.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Price"}),x.jsx("input",{type:"number",step:"0.01",value:_.price,onChange:B=>E({..._,price:B.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Description"}),x.jsx("textarea",{value:_.description,onChange:B=>E({..._,description:B.target.value}),rows:"3",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Image"}),x.jsx("input",{type:"file",accept:"image/*",onChange:B=>E({..._,image:B.target.files[0]}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`}),_.image&&typeof _.image=="string"&&x.jsx("img",{src:_.image,alt:"Current product",className:"w-32 h-32 object-cover mt-2 rounded-md"})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Color"}),x.jsx("input",{type:"text",value:_.color,onChange:B=>E({..._,color:B.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),x.jsxs("div",{children:[x.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Size"}),x.jsx("input",{type:"text",value:_.size,onChange:B=>E({..._,size:B.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),x.jsxs("div",{className:"flex gap-4",children:[x.jsx("button",{onClick:()=>W(_),className:"bg-green-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-green-700 transition-colors duration-300 ease-in-out w-full",children:"Save"}),x.jsx("button",{onClick:()=>E(null),className:"bg-gray-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-gray-700 transition-colors duration-300 ease-in-out w-full",children:"Cancel"})]})]}):x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[I.image&&I.image!=="https://via.placeholder.com/80"&&x.jsx("img",{src:I.image,alt:I.name,className:"w-16 h-16 object-cover rounded-md"}),x.jsxs("div",{children:[x.jsx("span",{className:`text-lg font-medium ${t?"text-white":"text-red-600"}`,children:I.name}),x.jsxs("p",{className:`text-sm ${t?"text-stone-300":"text-stone-600"}`,children:["Category:"," ",((L=e.find(B=>B.id===I.categoryId))==null?void 0:L.name)||"Unknown"]}),x.jsxs("p",{className:`text-sm ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",I.price.toFixed(2)]})]})]}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("button",{onClick:()=>E(I),className:"bg-blue-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-blue-700 transition-colors duration-300 ease-in-out",children:"Edit"}),x.jsx("button",{onClick:()=>F(I.id),className:"bg-red-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-red-700 transition-colors duration-300 ease-in-out",children:"Delete"})]})]})},I.id)})})]})]})}const Dt=P.createContext();function nL(){const[t,e]=P.useState(()=>{const r=localStorage.getItem("theme");return r?JSON.parse(r):!0});P.useEffect(()=>{localStorage.setItem("theme",JSON.stringify(t))},[t]);const n=()=>e(r=>!r);return x.jsx(AM,{children:x.jsx(Dt.Provider,{value:{isDarkMode:t,toggleTheme:n},children:x.jsx(xA,{basename:"/aussie-gut-pack",children:x.jsx(yd,{children:x.jsx(gd,{classNames:"fade",timeout:300,children:x.jsx(QC,{children:x.jsxs(Ot,{path:"/",element:x.jsx(KA,{}),children:[x.jsx(Ot,{index:!0,element:x.jsx(CM,{})}),x.jsx(Ot,{path:"products",element:x.jsx(PM,{})}),x.jsx(Ot,{path:"cart",element:x.jsx(RM,{})}),x.jsx(Ot,{path:"gut-health",element:x.jsx(IM,{})}),x.jsx(Ot,{path:"gut-health/:id",element:x.jsx(kM,{})}),x.jsx(Ot,{path:"purchase",element:x.jsx(DM,{})}),x.jsx(Ot,{path:"blog",element:x.jsx(VM,{})}),x.jsx(Ot,{path:"blog/:id",element:x.jsx(jM,{})}),x.jsx(Ot,{path:"faq",element:x.jsx(LM,{})}),x.jsx(Ot,{path:"contact",element:x.jsx(YM,{})}),x.jsx(Ot,{path:"admin",element:x.jsx(JM,{})}),x.jsx(Ot,{path:"admin/home",element:x.jsx(ZM,{})}),x.jsx(Ot,{path:"admin/blog",element:x.jsx(eL,{})}),x.jsx(Ot,{path:"admin/products",element:x.jsx(tL,{})}),x.jsx(Ot,{path:"*",element:x.jsx("div",{children:"404 - Page Not Found"})})]})})},window.location.pathname)})})})})}console.log("Main.jsx is running");nC.createRoot(document.getElementById("root")).render(x.jsx(Bn.StrictMode,{children:x.jsx(nL,{})}));
