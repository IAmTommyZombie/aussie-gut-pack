(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function wp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jd={exports:{}},Ya={},Zd={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function XS(){if(tv)return Ne;tv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function x(H){return H===null||typeof H!="object"?null:(H=_&&H[_]||H["@@iterator"],typeof H=="function"?H:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,M={};function D(H,Z,ve){this.props=H,this.context=Z,this.refs=M,this.updater=ve||S}D.prototype.isReactComponent={},D.prototype.setState=function(H,Z){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Z,"setState")},D.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function j(){}j.prototype=D.prototype;function $(H,Z,ve){this.props=H,this.context=Z,this.refs=M,this.updater=ve||S}var O=$.prototype=new j;O.constructor=$,P(O,D.prototype),O.isPureReactComponent=!0;var U=Array.isArray,z=Object.prototype.hasOwnProperty,X={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function A(H,Z,ve){var ie,J={},oe=null,we=null;if(Z!=null)for(ie in Z.ref!==void 0&&(we=Z.ref),Z.key!==void 0&&(oe=""+Z.key),Z)z.call(Z,ie)&&!R.hasOwnProperty(ie)&&(J[ie]=Z[ie]);var be=arguments.length-2;if(be===1)J.children=ve;else if(1<be){for(var $e=Array(be),lt=0;lt<be;lt++)$e[lt]=arguments[lt+2];J.children=$e}if(H&&H.defaultProps)for(ie in be=H.defaultProps,be)J[ie]===void 0&&(J[ie]=be[ie]);return{$$typeof:t,type:H,key:oe,ref:we,props:J,_owner:X.current}}function I(H,Z){return{$$typeof:t,type:H.type,key:Z,ref:H.ref,props:H.props,_owner:H._owner}}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function F(H){var Z={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ve){return Z[ve]})}var W=/\/+/g;function b(H,Z){return typeof H=="object"&&H!==null&&H.key!=null?F(""+H.key):Z.toString(36)}function je(H,Z,ve,ie,J){var oe=typeof H;(oe==="undefined"||oe==="boolean")&&(H=null);var we=!1;if(H===null)we=!0;else switch(oe){case"string":case"number":we=!0;break;case"object":switch(H.$$typeof){case t:case e:we=!0}}if(we)return we=H,J=J(we),H=ie===""?"."+b(we,0):ie,U(J)?(ve="",H!=null&&(ve=H.replace(W,"$&/")+"/"),je(J,Z,ve,"",function(lt){return lt})):J!=null&&(V(J)&&(J=I(J,ve+(!J.key||we&&we.key===J.key?"":(""+J.key).replace(W,"$&/")+"/")+H)),Z.push(J)),1;if(we=0,ie=ie===""?".":ie+":",U(H))for(var be=0;be<H.length;be++){oe=H[be];var $e=ie+b(oe,be);we+=je(oe,Z,ve,$e,J)}else if($e=x(H),typeof $e=="function")for(H=$e.call(H),be=0;!(oe=H.next()).done;)oe=oe.value,$e=ie+b(oe,be++),we+=je(oe,Z,ve,$e,J);else if(oe==="object")throw Z=String(H),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return we}function et(H,Z,ve){if(H==null)return H;var ie=[],J=0;return je(H,ie,"","",function(oe){return Z.call(ve,oe,J++)}),ie}function Ke(H){if(H._status===-1){var Z=H._result;Z=Z(),Z.then(function(ve){(H._status===0||H._status===-1)&&(H._status=1,H._result=ve)},function(ve){(H._status===0||H._status===-1)&&(H._status=2,H._result=ve)}),H._status===-1&&(H._status=0,H._result=Z)}if(H._status===1)return H._result.default;throw H._result}var Ce={current:null},ae={transition:null},ge={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:ae,ReactCurrentOwner:X};function ce(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:et,forEach:function(H,Z,ve){et(H,function(){Z.apply(this,arguments)},ve)},count:function(H){var Z=0;return et(H,function(){Z++}),Z},toArray:function(H){return et(H,function(Z){return Z})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ne.Component=D,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=$,Ne.StrictMode=i,Ne.Suspense=f,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ne.act=ce,Ne.cloneElement=function(H,Z,ve){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var ie=P({},H.props),J=H.key,oe=H.ref,we=H._owner;if(Z!=null){if(Z.ref!==void 0&&(oe=Z.ref,we=X.current),Z.key!==void 0&&(J=""+Z.key),H.type&&H.type.defaultProps)var be=H.type.defaultProps;for($e in Z)z.call(Z,$e)&&!R.hasOwnProperty($e)&&(ie[$e]=Z[$e]===void 0&&be!==void 0?be[$e]:Z[$e])}var $e=arguments.length-2;if($e===1)ie.children=ve;else if(1<$e){be=Array($e);for(var lt=0;lt<$e;lt++)be[lt]=arguments[lt+2];ie.children=be}return{$$typeof:t,type:H.type,key:J,ref:oe,props:ie,_owner:we}},Ne.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},Ne.createElement=A,Ne.createFactory=function(H){var Z=A.bind(null,H);return Z.type=H,Z},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(H){return{$$typeof:h,render:H}},Ne.isValidElement=V,Ne.lazy=function(H){return{$$typeof:v,_payload:{_status:-1,_result:H},_init:Ke}},Ne.memo=function(H,Z){return{$$typeof:p,type:H,compare:Z===void 0?null:Z}},Ne.startTransition=function(H){var Z=ae.transition;ae.transition={};try{H()}finally{ae.transition=Z}},Ne.unstable_act=ce,Ne.useCallback=function(H,Z){return Ce.current.useCallback(H,Z)},Ne.useContext=function(H){return Ce.current.useContext(H)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(H){return Ce.current.useDeferredValue(H)},Ne.useEffect=function(H,Z){return Ce.current.useEffect(H,Z)},Ne.useId=function(){return Ce.current.useId()},Ne.useImperativeHandle=function(H,Z,ve){return Ce.current.useImperativeHandle(H,Z,ve)},Ne.useInsertionEffect=function(H,Z){return Ce.current.useInsertionEffect(H,Z)},Ne.useLayoutEffect=function(H,Z){return Ce.current.useLayoutEffect(H,Z)},Ne.useMemo=function(H,Z){return Ce.current.useMemo(H,Z)},Ne.useReducer=function(H,Z,ve){return Ce.current.useReducer(H,Z,ve)},Ne.useRef=function(H){return Ce.current.useRef(H)},Ne.useState=function(H){return Ce.current.useState(H)},Ne.useSyncExternalStore=function(H,Z,ve){return Ce.current.useSyncExternalStore(H,Z,ve)},Ne.useTransition=function(){return Ce.current.useTransition()},Ne.version="18.3.1",Ne}var nv;function xp(){return nv||(nv=1,Zd.exports=XS()),Zd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function YS(){if(rv)return Ya;rv=1;var t=xp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var v,_={},x=null,S=null;p!==void 0&&(x=""+p),f.key!==void 0&&(x=""+f.key),f.ref!==void 0&&(S=f.ref);for(v in f)i.call(f,v)&&!a.hasOwnProperty(v)&&(_[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)_[v]===void 0&&(_[v]=f[v]);return{$$typeof:e,type:h,key:x,ref:S,props:_,_owner:o.current}}return Ya.Fragment=n,Ya.jsx=u,Ya.jsxs=u,Ya}var iv;function JS(){return iv||(iv=1,Jd.exports=YS()),Jd.exports}var T=JS(),N=xp();const Mn=wp(N);var ac={},ef={exports:{}},an={},tf={exports:{}},nf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function ZS(){return sv||(sv=1,function(t){function e(ae,ge){var ce=ae.length;ae.push(ge);e:for(;0<ce;){var H=ce-1>>>1,Z=ae[H];if(0<o(Z,ge))ae[H]=ge,ae[ce]=Z,ce=H;else break e}}function n(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var ge=ae[0],ce=ae.pop();if(ce!==ge){ae[0]=ce;e:for(var H=0,Z=ae.length,ve=Z>>>1;H<ve;){var ie=2*(H+1)-1,J=ae[ie],oe=ie+1,we=ae[oe];if(0>o(J,ce))oe<Z&&0>o(we,J)?(ae[H]=we,ae[oe]=ce,H=oe):(ae[H]=J,ae[ie]=ce,H=ie);else if(oe<Z&&0>o(we,ce))ae[H]=we,ae[oe]=ce,H=oe;else break e}}return ge}function o(ae,ge){var ce=ae.sortIndex-ge.sortIndex;return ce!==0?ce:ae.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],v=1,_=null,x=3,S=!1,P=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(ae){for(var ge=n(p);ge!==null;){if(ge.callback===null)i(p);else if(ge.startTime<=ae)i(p),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=n(p)}}function U(ae){if(M=!1,O(ae),!P)if(n(f)!==null)P=!0,Ke(z);else{var ge=n(p);ge!==null&&Ce(U,ge.startTime-ae)}}function z(ae,ge){P=!1,M&&(M=!1,j(A),A=-1),S=!0;var ce=x;try{for(O(ge),_=n(f);_!==null&&(!(_.expirationTime>ge)||ae&&!F());){var H=_.callback;if(typeof H=="function"){_.callback=null,x=_.priorityLevel;var Z=H(_.expirationTime<=ge);ge=t.unstable_now(),typeof Z=="function"?_.callback=Z:_===n(f)&&i(f),O(ge)}else i(f);_=n(f)}if(_!==null)var ve=!0;else{var ie=n(p);ie!==null&&Ce(U,ie.startTime-ge),ve=!1}return ve}finally{_=null,x=ce,S=!1}}var X=!1,R=null,A=-1,I=5,V=-1;function F(){return!(t.unstable_now()-V<I)}function W(){if(R!==null){var ae=t.unstable_now();V=ae;var ge=!0;try{ge=R(!0,ae)}finally{ge?b():(X=!1,R=null)}}else X=!1}var b;if(typeof $=="function")b=function(){$(W)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,et=je.port2;je.port1.onmessage=W,b=function(){et.postMessage(null)}}else b=function(){D(W,0)};function Ke(ae){R=ae,X||(X=!0,b())}function Ce(ae,ge){A=D(function(){ae(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_continueExecution=function(){P||S||(P=!0,Ke(z))},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(ae){switch(x){case 1:case 2:case 3:var ge=3;break;default:ge=x}var ce=x;x=ge;try{return ae()}finally{x=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ae,ge){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ce=x;x=ae;try{return ge()}finally{x=ce}},t.unstable_scheduleCallback=function(ae,ge,ce){var H=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?H+ce:H):ce=H,ae){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ce+Z,ae={id:v++,callback:ge,priorityLevel:ae,startTime:ce,expirationTime:Z,sortIndex:-1},ce>H?(ae.sortIndex=ce,e(p,ae),n(f)===null&&ae===n(p)&&(M?(j(A),A=-1):M=!0,Ce(U,ce-H))):(ae.sortIndex=Z,e(f,ae),P||S||(P=!0,Ke(z))),ae},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(ae){var ge=x;return function(){var ce=x;x=ge;try{return ae.apply(this,arguments)}finally{x=ce}}}}(nf)),nf}var ov;function eC(){return ov||(ov=1,tf.exports=ZS()),tf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function tC(){if(av)return an;av=1;var t=xp(),e=eC();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function x(r){return f.call(_,r)?!0:f.call(v,r)?!1:p.test(r)?_[r]=!0:(v[r]=!0,!1)}function S(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function P(r,s,l,d){if(s===null||typeof s>"u"||S(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(r,s,l,d,m,y,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=E}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){D[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];D[s]=new M(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){D[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){D[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){D[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){D[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){D[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){D[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){D[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function $(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(j,$);D[s]=new M(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(j,$);D[s]=new M(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(j,$);D[s]=new M(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){D[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),D.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){D[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function O(r,s,l,d){var m=D.hasOwnProperty(s)?D[s]:null;(m!==null?m.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(P(s,l,m,d)&&(l=null),d||m===null?x(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):m.mustUseProperty?r[m.propertyName]=l===null?m.type===3?!1:"":l:(s=m.attributeName,d=m.attributeNamespace,l===null?r.removeAttribute(s):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),X=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),ae=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=ae&&r[ae]||r["@@iterator"],typeof r=="function"?r:null)}var ce=Object.assign,H;function Z(r){if(H===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);H=s&&s[1]||""}return`
`+H+r}var ve=!1;function ie(r,s){if(!r||ve)return"";ve=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var d=Q}Reflect.construct(r,[],s)}else{try{s.call()}catch(Q){d=Q}r.call(s.prototype)}else{try{throw Error()}catch(Q){d=Q}r()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),y=d.stack.split(`
`),E=m.length-1,k=y.length-1;1<=E&&0<=k&&m[E]!==y[k];)k--;for(;1<=E&&0<=k;E--,k--)if(m[E]!==y[k]){if(E!==1||k!==1)do if(E--,k--,0>k||m[E]!==y[k]){var L=`
`+m[E].replace(" at new "," at ");return r.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",r.displayName)),L}while(1<=E&&0<=k);break}}}finally{ve=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Z(r):""}function J(r){switch(r.tag){case 5:return Z(r.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return r=ie(r.type,!1),r;case 11:return r=ie(r.type.render,!1),r;case 1:return r=ie(r.type,!0),r;default:return""}}function oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case R:return"Fragment";case X:return"Portal";case I:return"Profiler";case A:return"StrictMode";case b:return"Suspense";case je:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case F:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case W:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case et:return s=r.displayName||null,s!==null?s:oe(r.type)||"Memo";case Ke:s=r._payload,r=r._init;try{return oe(r(s))}catch{}}return null}function we(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function be(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $e(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function lt(r){var s=$e(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(E){d=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(E){d=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function _n(r){r._valueTracker||(r._valueTracker=lt(r))}function Ar(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=$e(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function wn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function tr(r,s){var l=s.checked;return ce({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function gt(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=be(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Pr(r,s){s=s.checked,s!=null&&O(r,"checked",s,!1)}function ia(r,s){Pr(r,s);var l=be(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ms(r,s.type,l):s.hasOwnProperty("defaultValue")&&Ms(r,s.type,be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Gl(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Ms(r,s,l){(s!=="number"||wn(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var Ir=Array.isArray;function Rr(r,s,l,d){if(r=r.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=s.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&d&&(r[l].defaultSelected=!0)}else{for(l=""+be(l),s=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function sa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ls(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(Ir(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:be(l)}}function Os(r,s){var l=be(s.value),d=be(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function oa(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function yt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?yt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var br,aa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,m){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,m)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(br=br||document.createElement("div"),br.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=br.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ti(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hi=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(r){Hi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Wi[s]=Wi[r]})});function la(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Wi.hasOwnProperty(r)&&Wi[r]?(""+s).trim():s+"px"}function ua(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=la(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,m):r[l]=m}}var ca=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ha(r,s){if(s){if(ca[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function da(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gi=null;function js(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Fs=null,xn=null,nr=null;function Bs(r){if(r=La(r)){if(typeof Fs!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Eu(s),Fs(r.stateNode,r.type,s))}}function rr(r){xn?nr?nr.push(r):nr=[r]:xn=r}function fa(){if(xn){var r=xn,s=nr;if(nr=xn=null,Bs(r),s)for(r=0;r<s.length;r++)Bs(s[r])}}function qi(r,s){return r(s)}function pa(){}var kr=!1;function ma(r,s,l){if(kr)return r(s,l);kr=!0;try{return qi(r,s,l)}finally{kr=!1,(xn!==null||nr!==null)&&(pa(),fa())}}function ut(r,s){var l=r.stateNode;if(l===null)return null;var d=Eu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var Us=!1;if(h)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){Us=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{Us=!1}function Ki(r,s,l,d,m,y,E,k,L){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(l,Q)}catch(ne){this.onError(ne)}}var Qi=!1,$s=null,On=!1,ga=null,Ah={onError:function(r){Qi=!0,$s=r}};function zs(r,s,l,d,m,y,E,k,L){Qi=!1,$s=null,Ki.apply(Ah,arguments)}function ql(r,s,l,d,m,y,E,k,L){if(zs.apply(this,arguments),Qi){if(Qi){var Q=$s;Qi=!1,$s=null}else throw Error(n(198));On||(On=!0,ga=Q)}}function jn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Xi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Fn(r){if(jn(r)!==r)throw Error(n(188))}function Kl(r){var s=r.alternate;if(!s){if(s=jn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,d=s;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return Fn(m),r;if(y===d)return Fn(m),s;y=y.sibling}throw Error(n(188))}if(l.return!==d.return)l=m,d=y;else{for(var E=!1,k=m.child;k;){if(k===l){E=!0,l=m,d=y;break}if(k===d){E=!0,d=m,l=y;break}k=k.sibling}if(!E){for(k=y.child;k;){if(k===l){E=!0,l=y,d=m;break}if(k===d){E=!0,d=y,l=m;break}k=k.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function ya(r){return r=Kl(r),r!==null?Ws(r):null}function Ws(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ws(r);if(s!==null)return s;r=r.sibling}return null}var Hs=e.unstable_scheduleCallback,va=e.unstable_cancelCallback,Ql=e.unstable_shouldYield,Ph=e.unstable_requestPaint,He=e.unstable_now,Xl=e.unstable_getCurrentPriorityLevel,Yi=e.unstable_ImmediatePriority,ni=e.unstable_UserBlockingPriority,En=e.unstable_NormalPriority,_a=e.unstable_LowPriority,Yl=e.unstable_IdlePriority,Ji=null,cn=null;function Jl(r){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Ji,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:eu,wa=Math.log,Zl=Math.LN2;function eu(r){return r>>>=0,r===0?32:31-(wa(r)/Zl|0)|0}var Gs=64,qs=4194304;function ri(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Zi(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,m=r.suspendedLanes,y=r.pingedLanes,E=l&268435455;if(E!==0){var k=E&~m;k!==0?d=ri(k):(y&=E,y!==0&&(d=ri(y)))}else E=l&~m,E!==0?d=ri(E):y!==0&&(d=ri(y));if(d===0)return 0;if(s!==0&&s!==d&&!(s&m)&&(m=d&-d,y=s&-s,m>=y||m===16&&(y&4194240)!==0))return s;if(d&4&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Kt(s),m=1<<l,d|=r[l],s&=~m;return d}function Ih(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes;0<y;){var E=31-Kt(y),k=1<<E,L=m[E];L===-1?(!(k&l)||k&d)&&(m[E]=Ih(k,s)):L<=s&&(r.expiredLanes|=k),y&=~k}}function hn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function es(){var r=Gs;return Gs<<=1,!(Gs&4194240)&&(Gs=64),r}function ii(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function si(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=l}function We(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var m=31-Kt(l),y=1<<m;s[m]=0,d[m]=-1,r[m]=-1,l&=~y}}function oi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Kt(l),m=1<<d;m&s|r[d]&s&&(r[d]|=s),l&=~m}}var Ve=0;function ai(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var tu,Ks,nu,ru,iu,xa=!1,ir=[],bt=null,Bn=null,Un=null,li=new Map,Tn=new Map,sr=[],Rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function su(r,s){switch(r){case"focusin":case"focusout":bt=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":li.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tn.delete(s.pointerId)}}function Zt(r,s,l,d,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},s!==null&&(s=La(s),s!==null&&Ks(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function bh(r,s,l,d,m){switch(s){case"focusin":return bt=Zt(bt,r,s,l,d,m),!0;case"dragenter":return Bn=Zt(Bn,r,s,l,d,m),!0;case"mouseover":return Un=Zt(Un,r,s,l,d,m),!0;case"pointerover":var y=m.pointerId;return li.set(y,Zt(li.get(y)||null,r,s,l,d,m)),!0;case"gotpointercapture":return y=m.pointerId,Tn.set(y,Zt(Tn.get(y)||null,r,s,l,d,m)),!0}return!1}function ou(r){var s=ss(r.target);if(s!==null){var l=jn(s);if(l!==null){if(s=l.tag,s===13){if(s=Xi(l),s!==null){r.blockedOn=s,iu(r.priority,function(){nu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Dr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Qs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Gi=d,l.target.dispatchEvent(d),Gi=null}else return s=La(l),s!==null&&Ks(s),r.blockedOn=l,!1;s.shift()}return!0}function ts(r,s,l){Dr(r)&&l.delete(s)}function au(){xa=!1,bt!==null&&Dr(bt)&&(bt=null),Bn!==null&&Dr(Bn)&&(Bn=null),Un!==null&&Dr(Un)&&(Un=null),li.forEach(ts),Tn.forEach(ts)}function $n(r,s){r.blockedOn===s&&(r.blockedOn=null,xa||(xa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,au)))}function zn(r){function s(m){return $n(m,r)}if(0<ir.length){$n(ir[0],r);for(var l=1;l<ir.length;l++){var d=ir[l];d.blockedOn===r&&(d.blockedOn=null)}}for(bt!==null&&$n(bt,r),Bn!==null&&$n(Bn,r),Un!==null&&$n(Un,r),li.forEach(s),Tn.forEach(s),l=0;l<sr.length;l++)d=sr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<sr.length&&(l=sr[0],l.blockedOn===null);)ou(l),l.blockedOn===null&&sr.shift()}var Vr=U.ReactCurrentBatchConfig,ui=!0;function Ye(r,s,l,d){var m=Ve,y=Vr.transition;Vr.transition=null;try{Ve=1,Ea(r,s,l,d)}finally{Ve=m,Vr.transition=y}}function kh(r,s,l,d){var m=Ve,y=Vr.transition;Vr.transition=null;try{Ve=4,Ea(r,s,l,d)}finally{Ve=m,Vr.transition=y}}function Ea(r,s,l,d){if(ui){var m=Qs(r,s,l,d);if(m===null)$h(r,s,d,ns,l),su(r,d);else if(bh(m,r,s,l,d))d.stopPropagation();else if(su(r,d),s&4&&-1<Rh.indexOf(r)){for(;m!==null;){var y=La(m);if(y!==null&&tu(y),y=Qs(r,s,l,d),y===null&&$h(r,s,d,ns,l),y===m)break;m=y}m!==null&&d.stopPropagation()}else $h(r,s,d,null,l)}}var ns=null;function Qs(r,s,l,d){if(ns=null,r=js(d),r=ss(r),r!==null)if(s=jn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Xi(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ns=r,null}function Ta(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xl()){case Yi:return 1;case ni:return 4;case En:case _a:return 16;case Yl:return 536870912;default:return 16}default:return 16}}var dn=null,Xs=null,en=null;function Sa(){if(en)return en;var r,s=Xs,l=s.length,d,m="value"in dn?dn.value:dn.textContent,y=m.length;for(r=0;r<l&&s[r]===m[r];r++);var E=l-r;for(d=1;d<=E&&s[l-d]===m[y-d];d++);return en=m.slice(r,1<d?1-d:void 0)}function Ys(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function or(){return!0}function Ca(){return!1}function kt(r){function s(l,d,m,y,E){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(l=r[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?or:Ca,this.isPropagationStopped=Ca,this}return ce(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),s}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=kt(Wn),ar=ce({},Wn,{view:0,detail:0}),Nh=kt(ar),Zs,Mr,ci,rs=ce({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ci&&(ci&&r.type==="mousemove"?(Zs=r.screenX-ci.screenX,Mr=r.screenY-ci.screenY):Mr=Zs=0,ci=r),Zs)},movementY:function(r){return"movementY"in r?r.movementY:Mr}}),eo=kt(rs),Aa=ce({},rs,{dataTransfer:0}),lu=kt(Aa),to=ce({},ar,{relatedTarget:0}),no=kt(to),uu=ce({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Lr=kt(uu),cu=ce({},Wn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),hu=kt(cu),du=ce({},Wn,{data:0}),Pa=kt(du),ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=fu[r])?!!s[r]:!1}function lr(){return pu}var c=ce({},ar,{key:function(r){if(r.key){var s=ro[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ys(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Qt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(r){return r.type==="keypress"?Ys(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ys(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=kt(c),w=ce({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=kt(w),G=ce({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),Y=kt(G),ue=ce({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=kt(ue),_t=ce({},rs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=kt(_t),Ct=[9,13,27,32],ft=h&&"CompositionEvent"in window,Sn=null;h&&"documentMode"in document&&(Sn=document.documentMode);var fn=h&&"TextEvent"in window&&!Sn,is=h&&(!ft||Sn&&8<Sn&&11>=Sn),io=" ",Qm=!1;function Xm(r,s){switch(r){case"keyup":return Ct.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ym(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var so=!1;function qT(r,s){switch(r){case"compositionend":return Ym(s);case"keypress":return s.which!==32?null:(Qm=!0,io);case"textInput":return r=s.data,r===io&&Qm?null:r;default:return null}}function KT(r,s){if(so)return r==="compositionend"||!ft&&Xm(r,s)?(r=Sa(),en=Xs=dn=null,so=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return is&&s.locale!=="ko"?null:s.data;default:return null}}var QT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!QT[r.type]:s==="textarea"}function Zm(r,s,l,d){rr(d),s=_u(s,"onChange"),0<s.length&&(l=new Js("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var Ia=null,Ra=null;function XT(r){yg(r,0)}function mu(r){var s=co(r);if(Ar(s))return r}function YT(r,s){if(r==="change")return s}var eg=!1;if(h){var Dh;if(h){var Vh="oninput"in document;if(!Vh){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),Vh=typeof tg.oninput=="function"}Dh=Vh}else Dh=!1;eg=Dh&&(!document.documentMode||9<document.documentMode)}function ng(){Ia&&(Ia.detachEvent("onpropertychange",rg),Ra=Ia=null)}function rg(r){if(r.propertyName==="value"&&mu(Ra)){var s=[];Zm(s,Ra,r,js(r)),ma(XT,s)}}function JT(r,s,l){r==="focusin"?(ng(),Ia=s,Ra=l,Ia.attachEvent("onpropertychange",rg)):r==="focusout"&&ng()}function ZT(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return mu(Ra)}function eS(r,s){if(r==="click")return mu(s)}function tS(r,s){if(r==="input"||r==="change")return mu(s)}function nS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Hn=typeof Object.is=="function"?Object.is:nS;function ba(r,s){if(Hn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(s,m)||!Hn(r[m],s[m]))return!1}return!0}function ig(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function sg(r,s){var l=ig(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ig(l)}}function og(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?og(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function ag(){for(var r=window,s=wn();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=wn(r.document)}return s}function Mh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function rS(r){var s=ag(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&og(l.ownerDocument.documentElement,l)){if(d!==null&&Mh(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var m=l.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!r.extend&&y>d&&(m=d,d=y,y=m),m=sg(l,y);var E=sg(l,d);m&&E&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var iS=h&&"documentMode"in document&&11>=document.documentMode,oo=null,Lh=null,ka=null,Oh=!1;function lg(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Oh||oo==null||oo!==wn(d)||(d=oo,"selectionStart"in d&&Mh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ka&&ba(ka,d)||(ka=d,d=_u(Lh,"onSelect"),0<d.length&&(s=new Js("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=oo)))}function gu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var ao={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},jh={},ug={};h&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function yu(r){if(jh[r])return jh[r];if(!ao[r])return r;var s=ao[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in ug)return jh[r]=s[l];return r}var cg=yu("animationend"),hg=yu("animationiteration"),dg=yu("animationstart"),fg=yu("transitionend"),pg=new Map,mg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(r,s){pg.set(r,s),a(s,[r])}for(var Fh=0;Fh<mg.length;Fh++){var Bh=mg[Fh],sS=Bh.toLowerCase(),oS=Bh[0].toUpperCase()+Bh.slice(1);hi(sS,"on"+oS)}hi(cg,"onAnimationEnd"),hi(hg,"onAnimationIteration"),hi(dg,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(fg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function gg(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,ql(d,s,void 0,r),r.currentTarget=null}function yg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],m=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var E=d.length-1;0<=E;E--){var k=d[E],L=k.instance,Q=k.currentTarget;if(k=k.listener,L!==y&&m.isPropagationStopped())break e;gg(m,k,Q),y=L}else for(E=0;E<d.length;E++){if(k=d[E],L=k.instance,Q=k.currentTarget,k=k.listener,L!==y&&m.isPropagationStopped())break e;gg(m,k,Q),y=L}}}if(On)throw r=ga,On=!1,ga=null,r}function Qe(r,s){var l=s[Kh];l===void 0&&(l=s[Kh]=new Set);var d=r+"__bubble";l.has(d)||(vg(s,r,2,!1),l.add(d))}function Uh(r,s,l){var d=0;s&&(d|=4),vg(l,r,d,s)}var vu="_reactListening"+Math.random().toString(36).slice(2);function Da(r){if(!r[vu]){r[vu]=!0,i.forEach(function(l){l!=="selectionchange"&&(aS.has(l)||Uh(l,!1,r),Uh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[vu]||(s[vu]=!0,Uh("selectionchange",!1,s))}}function vg(r,s,l,d){switch(Ta(s)){case 1:var m=Ye;break;case 4:m=kh;break;default:m=Ea}l=m.bind(null,s,l,r),m=void 0,!Us||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(s,l,{capture:!0,passive:m}):r.addEventListener(s,l,!0):m!==void 0?r.addEventListener(s,l,{passive:m}):r.addEventListener(s,l,!1)}function $h(r,s,l,d,m){var y=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var E=d.tag;if(E===3||E===4){var k=d.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(E===4)for(E=d.return;E!==null;){var L=E.tag;if((L===3||L===4)&&(L=E.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;E=E.return}for(;k!==null;){if(E=ss(k),E===null)return;if(L=E.tag,L===5||L===6){d=y=E;continue e}k=k.parentNode}}d=d.return}ma(function(){var Q=y,ne=js(l),se=[];e:{var te=pg.get(r);if(te!==void 0){var he=Js,pe=r;switch(r){case"keypress":if(Ys(l)===0)break e;case"keydown":case"keyup":he=g;break;case"focusin":pe="focus",he=no;break;case"focusout":pe="blur",he=no;break;case"beforeblur":case"afterblur":he=no;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Y;break;case cg:case hg:case dg:he=Lr;break;case fg:he=ze;break;case"scroll":he=Nh;break;case"wheel":he=Me;break;case"copy":case"cut":case"paste":he=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=C}var me=(s&4)!==0,ct=!me&&r==="scroll",q=me?te!==null?te+"Capture":null:te;me=[];for(var B=Q,K;B!==null;){K=B;var le=K.stateNode;if(K.tag===5&&le!==null&&(K=le,q!==null&&(le=ut(B,q),le!=null&&me.push(Va(B,le,K)))),ct)break;B=B.return}0<me.length&&(te=new he(te,pe,null,l,ne),se.push({event:te,listeners:me}))}}if(!(s&7)){e:{if(te=r==="mouseover"||r==="pointerover",he=r==="mouseout"||r==="pointerout",te&&l!==Gi&&(pe=l.relatedTarget||l.fromElement)&&(ss(pe)||pe[Or]))break e;if((he||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,he?(pe=l.relatedTarget||l.toElement,he=Q,pe=pe?ss(pe):null,pe!==null&&(ct=jn(pe),pe!==ct||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(he=null,pe=Q),he!==pe)){if(me=eo,le="onMouseLeave",q="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(me=C,le="onPointerLeave",q="onPointerEnter",B="pointer"),ct=he==null?te:co(he),K=pe==null?te:co(pe),te=new me(le,B+"leave",he,l,ne),te.target=ct,te.relatedTarget=K,le=null,ss(ne)===Q&&(me=new me(q,B+"enter",pe,l,ne),me.target=K,me.relatedTarget=ct,le=me),ct=le,he&&pe)t:{for(me=he,q=pe,B=0,K=me;K;K=lo(K))B++;for(K=0,le=q;le;le=lo(le))K++;for(;0<B-K;)me=lo(me),B--;for(;0<K-B;)q=lo(q),K--;for(;B--;){if(me===q||q!==null&&me===q.alternate)break t;me=lo(me),q=lo(q)}me=null}else me=null;he!==null&&_g(se,te,he,me,!1),pe!==null&&ct!==null&&_g(se,ct,pe,me,!0)}}e:{if(te=Q?co(Q):window,he=te.nodeName&&te.nodeName.toLowerCase(),he==="select"||he==="input"&&te.type==="file")var ye=YT;else if(Jm(te))if(eg)ye=tS;else{ye=ZT;var xe=JT}else(he=te.nodeName)&&he.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ye=eS);if(ye&&(ye=ye(r,Q))){Zm(se,ye,l,ne);break e}xe&&xe(r,te,Q),r==="focusout"&&(xe=te._wrapperState)&&xe.controlled&&te.type==="number"&&Ms(te,"number",te.value)}switch(xe=Q?co(Q):window,r){case"focusin":(Jm(xe)||xe.contentEditable==="true")&&(oo=xe,Lh=Q,ka=null);break;case"focusout":ka=Lh=oo=null;break;case"mousedown":Oh=!0;break;case"contextmenu":case"mouseup":case"dragend":Oh=!1,lg(se,l,ne);break;case"selectionchange":if(iS)break;case"keydown":case"keyup":lg(se,l,ne)}var Ee;if(ft)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else so?Xm(r,l)&&(Pe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(is&&l.locale!=="ko"&&(so||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&so&&(Ee=Sa()):(dn=ne,Xs="value"in dn?dn.value:dn.textContent,so=!0)),xe=_u(Q,Pe),0<xe.length&&(Pe=new Pa(Pe,r,null,l,ne),se.push({event:Pe,listeners:xe}),Ee?Pe.data=Ee:(Ee=Ym(l),Ee!==null&&(Pe.data=Ee)))),(Ee=fn?qT(r,l):KT(r,l))&&(Q=_u(Q,"onBeforeInput"),0<Q.length&&(ne=new Pa("onBeforeInput","beforeinput",null,l,ne),se.push({event:ne,listeners:Q}),ne.data=Ee))}yg(se,s)})}function Va(r,s,l){return{instance:r,listener:s,currentTarget:l}}function _u(r,s){for(var l=s+"Capture",d=[];r!==null;){var m=r,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=ut(r,l),y!=null&&d.unshift(Va(r,y,m)),y=ut(r,s),y!=null&&d.push(Va(r,y,m))),r=r.return}return d}function lo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function _g(r,s,l,d,m){for(var y=s._reactName,E=[];l!==null&&l!==d;){var k=l,L=k.alternate,Q=k.stateNode;if(L!==null&&L===d)break;k.tag===5&&Q!==null&&(k=Q,m?(L=ut(l,y),L!=null&&E.unshift(Va(l,L,k))):m||(L=ut(l,y),L!=null&&E.push(Va(l,L,k)))),l=l.return}E.length!==0&&r.push({event:s,listeners:E})}var lS=/\r\n?/g,uS=/\u0000|\uFFFD/g;function wg(r){return(typeof r=="string"?r:""+r).replace(lS,`
`).replace(uS,"")}function wu(r,s,l){if(s=wg(s),wg(r)!==s&&l)throw Error(n(425))}function xu(){}var zh=null,Wh=null;function Hh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Gh=typeof setTimeout=="function"?setTimeout:void 0,cS=typeof clearTimeout=="function"?clearTimeout:void 0,xg=typeof Promise=="function"?Promise:void 0,hS=typeof queueMicrotask=="function"?queueMicrotask:typeof xg<"u"?function(r){return xg.resolve(null).then(r).catch(dS)}:Gh;function dS(r){setTimeout(function(){throw r})}function qh(r,s){var l=s,d=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){r.removeChild(m),zn(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);zn(s)}function di(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Eg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var uo=Math.random().toString(36).slice(2),ur="__reactFiber$"+uo,Ma="__reactProps$"+uo,Or="__reactContainer$"+uo,Kh="__reactEvents$"+uo,fS="__reactListeners$"+uo,pS="__reactHandles$"+uo;function ss(r){var s=r[ur];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Or]||l[ur]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Eg(r);r!==null;){if(l=r[ur])return l;r=Eg(r)}return s}r=l,l=r.parentNode}return null}function La(r){return r=r[ur]||r[Or],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function co(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Eu(r){return r[Ma]||null}var Qh=[],ho=-1;function fi(r){return{current:r}}function Xe(r){0>ho||(r.current=Qh[ho],Qh[ho]=null,ho--)}function Ge(r,s){ho++,Qh[ho]=r.current,r.current=s}var pi={},jt=fi(pi),tn=fi(!1),os=pi;function fo(r,s){var l=r.type.contextTypes;if(!l)return pi;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=m),m}function nn(r){return r=r.childContextTypes,r!=null}function Tu(){Xe(tn),Xe(jt)}function Tg(r,s,l){if(jt.current!==pi)throw Error(n(168));Ge(jt,s),Ge(tn,l)}function Sg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in s))throw Error(n(108,we(r)||"Unknown",m));return ce({},l,d)}function Su(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||pi,os=jt.current,Ge(jt,r),Ge(tn,tn.current),!0}function Cg(r,s,l){var d=r.stateNode;if(!d)throw Error(n(169));l?(r=Sg(r,s,os),d.__reactInternalMemoizedMergedChildContext=r,Xe(tn),Xe(jt),Ge(jt,r)):Xe(tn),Ge(tn,l)}var jr=null,Cu=!1,Xh=!1;function Ag(r){jr===null?jr=[r]:jr.push(r)}function mS(r){Cu=!0,Ag(r)}function mi(){if(!Xh&&jr!==null){Xh=!0;var r=0,s=Ve;try{var l=jr;for(Ve=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}jr=null,Cu=!1}catch(m){throw jr!==null&&(jr=jr.slice(r+1)),Hs(Yi,mi),m}finally{Ve=s,Xh=!1}}return null}var po=[],mo=0,Au=null,Pu=0,Cn=[],An=0,as=null,Fr=1,Br="";function ls(r,s){po[mo++]=Pu,po[mo++]=Au,Au=r,Pu=s}function Pg(r,s,l){Cn[An++]=Fr,Cn[An++]=Br,Cn[An++]=as,as=r;var d=Fr;r=Br;var m=32-Kt(d)-1;d&=~(1<<m),l+=1;var y=32-Kt(s)+m;if(30<y){var E=m-m%5;y=(d&(1<<E)-1).toString(32),d>>=E,m-=E,Fr=1<<32-Kt(s)+m|l<<m|d,Br=y+r}else Fr=1<<y|l<<m|d,Br=r}function Yh(r){r.return!==null&&(ls(r,1),Pg(r,1,0))}function Jh(r){for(;r===Au;)Au=po[--mo],po[mo]=null,Pu=po[--mo],po[mo]=null;for(;r===as;)as=Cn[--An],Cn[An]=null,Br=Cn[--An],Cn[An]=null,Fr=Cn[--An],Cn[An]=null}var pn=null,mn=null,Je=!1,Gn=null;function Ig(r,s){var l=bn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Rg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,pn=r,mn=di(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,pn=r,mn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=as!==null?{id:Fr,overflow:Br}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=bn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,pn=r,mn=null,!0):!1;default:return!1}}function Zh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ed(r){if(Je){var s=mn;if(s){var l=s;if(!Rg(r,s)){if(Zh(r))throw Error(n(418));s=di(l.nextSibling);var d=pn;s&&Rg(r,s)?Ig(d,l):(r.flags=r.flags&-4097|2,Je=!1,pn=r)}}else{if(Zh(r))throw Error(n(418));r.flags=r.flags&-4097|2,Je=!1,pn=r}}}function bg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function Iu(r){if(r!==pn)return!1;if(!Je)return bg(r),Je=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Hh(r.type,r.memoizedProps)),s&&(s=mn)){if(Zh(r))throw kg(),Error(n(418));for(;s;)Ig(r,s),s=di(s.nextSibling)}if(bg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){mn=di(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}mn=null}}else mn=pn?di(r.stateNode.nextSibling):null;return!0}function kg(){for(var r=mn;r;)r=di(r.nextSibling)}function go(){mn=pn=null,Je=!1}function td(r){Gn===null?Gn=[r]:Gn.push(r)}var gS=U.ReactCurrentBatchConfig;function Oa(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,r));var m=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(E){var k=m.refs;E===null?delete k[y]:k[y]=E},s._stringRef=y,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Ru(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Ng(r){var s=r._init;return s(r._payload)}function Dg(r){function s(q,B){if(r){var K=q.deletions;K===null?(q.deletions=[B],q.flags|=16):K.push(B)}}function l(q,B){if(!r)return null;for(;B!==null;)s(q,B),B=B.sibling;return null}function d(q,B){for(q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function m(q,B){return q=Ti(q,B),q.index=0,q.sibling=null,q}function y(q,B,K){return q.index=K,r?(K=q.alternate,K!==null?(K=K.index,K<B?(q.flags|=2,B):K):(q.flags|=2,B)):(q.flags|=1048576,B)}function E(q){return r&&q.alternate===null&&(q.flags|=2),q}function k(q,B,K,le){return B===null||B.tag!==6?(B=Gd(K,q.mode,le),B.return=q,B):(B=m(B,K),B.return=q,B)}function L(q,B,K,le){var ye=K.type;return ye===R?ne(q,B,K.props.children,le,K.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ke&&Ng(ye)===B.type)?(le=m(B,K.props),le.ref=Oa(q,B,K),le.return=q,le):(le=Zu(K.type,K.key,K.props,null,q.mode,le),le.ref=Oa(q,B,K),le.return=q,le)}function Q(q,B,K,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=qd(K,q.mode,le),B.return=q,B):(B=m(B,K.children||[]),B.return=q,B)}function ne(q,B,K,le,ye){return B===null||B.tag!==7?(B=gs(K,q.mode,le,ye),B.return=q,B):(B=m(B,K),B.return=q,B)}function se(q,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Gd(""+B,q.mode,K),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case z:return K=Zu(B.type,B.key,B.props,null,q.mode,K),K.ref=Oa(q,null,B),K.return=q,K;case X:return B=qd(B,q.mode,K),B.return=q,B;case Ke:var le=B._init;return se(q,le(B._payload),K)}if(Ir(B)||ge(B))return B=gs(B,q.mode,K,null),B.return=q,B;Ru(q,B)}return null}function te(q,B,K,le){var ye=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ye!==null?null:k(q,B,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case z:return K.key===ye?L(q,B,K,le):null;case X:return K.key===ye?Q(q,B,K,le):null;case Ke:return ye=K._init,te(q,B,ye(K._payload),le)}if(Ir(K)||ge(K))return ye!==null?null:ne(q,B,K,le,null);Ru(q,K)}return null}function he(q,B,K,le,ye){if(typeof le=="string"&&le!==""||typeof le=="number")return q=q.get(K)||null,k(B,q,""+le,ye);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case z:return q=q.get(le.key===null?K:le.key)||null,L(B,q,le,ye);case X:return q=q.get(le.key===null?K:le.key)||null,Q(B,q,le,ye);case Ke:var xe=le._init;return he(q,B,K,xe(le._payload),ye)}if(Ir(le)||ge(le))return q=q.get(K)||null,ne(B,q,le,ye,null);Ru(B,le)}return null}function pe(q,B,K,le){for(var ye=null,xe=null,Ee=B,Pe=B=0,It=null;Ee!==null&&Pe<K.length;Pe++){Ee.index>Pe?(It=Ee,Ee=null):It=Ee.sibling;var Be=te(q,Ee,K[Pe],le);if(Be===null){Ee===null&&(Ee=It);break}r&&Ee&&Be.alternate===null&&s(q,Ee),B=y(Be,B,Pe),xe===null?ye=Be:xe.sibling=Be,xe=Be,Ee=It}if(Pe===K.length)return l(q,Ee),Je&&ls(q,Pe),ye;if(Ee===null){for(;Pe<K.length;Pe++)Ee=se(q,K[Pe],le),Ee!==null&&(B=y(Ee,B,Pe),xe===null?ye=Ee:xe.sibling=Ee,xe=Ee);return Je&&ls(q,Pe),ye}for(Ee=d(q,Ee);Pe<K.length;Pe++)It=he(Ee,q,Pe,K[Pe],le),It!==null&&(r&&It.alternate!==null&&Ee.delete(It.key===null?Pe:It.key),B=y(It,B,Pe),xe===null?ye=It:xe.sibling=It,xe=It);return r&&Ee.forEach(function(Si){return s(q,Si)}),Je&&ls(q,Pe),ye}function me(q,B,K,le){var ye=ge(K);if(typeof ye!="function")throw Error(n(150));if(K=ye.call(K),K==null)throw Error(n(151));for(var xe=ye=null,Ee=B,Pe=B=0,It=null,Be=K.next();Ee!==null&&!Be.done;Pe++,Be=K.next()){Ee.index>Pe?(It=Ee,Ee=null):It=Ee.sibling;var Si=te(q,Ee,Be.value,le);if(Si===null){Ee===null&&(Ee=It);break}r&&Ee&&Si.alternate===null&&s(q,Ee),B=y(Si,B,Pe),xe===null?ye=Si:xe.sibling=Si,xe=Si,Ee=It}if(Be.done)return l(q,Ee),Je&&ls(q,Pe),ye;if(Ee===null){for(;!Be.done;Pe++,Be=K.next())Be=se(q,Be.value,le),Be!==null&&(B=y(Be,B,Pe),xe===null?ye=Be:xe.sibling=Be,xe=Be);return Je&&ls(q,Pe),ye}for(Ee=d(q,Ee);!Be.done;Pe++,Be=K.next())Be=he(Ee,q,Pe,Be.value,le),Be!==null&&(r&&Be.alternate!==null&&Ee.delete(Be.key===null?Pe:Be.key),B=y(Be,B,Pe),xe===null?ye=Be:xe.sibling=Be,xe=Be);return r&&Ee.forEach(function(QS){return s(q,QS)}),Je&&ls(q,Pe),ye}function ct(q,B,K,le){if(typeof K=="object"&&K!==null&&K.type===R&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case z:e:{for(var ye=K.key,xe=B;xe!==null;){if(xe.key===ye){if(ye=K.type,ye===R){if(xe.tag===7){l(q,xe.sibling),B=m(xe,K.props.children),B.return=q,q=B;break e}}else if(xe.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ke&&Ng(ye)===xe.type){l(q,xe.sibling),B=m(xe,K.props),B.ref=Oa(q,xe,K),B.return=q,q=B;break e}l(q,xe);break}else s(q,xe);xe=xe.sibling}K.type===R?(B=gs(K.props.children,q.mode,le,K.key),B.return=q,q=B):(le=Zu(K.type,K.key,K.props,null,q.mode,le),le.ref=Oa(q,B,K),le.return=q,q=le)}return E(q);case X:e:{for(xe=K.key;B!==null;){if(B.key===xe)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){l(q,B.sibling),B=m(B,K.children||[]),B.return=q,q=B;break e}else{l(q,B);break}else s(q,B);B=B.sibling}B=qd(K,q.mode,le),B.return=q,q=B}return E(q);case Ke:return xe=K._init,ct(q,B,xe(K._payload),le)}if(Ir(K))return pe(q,B,K,le);if(ge(K))return me(q,B,K,le);Ru(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(l(q,B.sibling),B=m(B,K),B.return=q,q=B):(l(q,B),B=Gd(K,q.mode,le),B.return=q,q=B),E(q)):l(q,B)}return ct}var yo=Dg(!0),Vg=Dg(!1),bu=fi(null),ku=null,vo=null,nd=null;function rd(){nd=vo=ku=null}function id(r){var s=bu.current;Xe(bu),r._currentValue=s}function sd(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function _o(r,s){ku=r,nd=vo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(rn=!0),r.firstContext=null)}function Pn(r){var s=r._currentValue;if(nd!==r)if(r={context:r,memoizedValue:s,next:null},vo===null){if(ku===null)throw Error(n(308));vo=r,ku.dependencies={lanes:0,firstContext:r}}else vo=vo.next=r;return s}var us=null;function od(r){us===null?us=[r]:us.push(r)}function Mg(r,s,l,d){var m=s.interleaved;return m===null?(l.next=l,od(s)):(l.next=m.next,m.next=l),s.interleaved=l,Ur(r,d)}function Ur(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var gi=!1;function ad(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function $r(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function yi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,Fe&2){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,Ur(r,l)}return m=d.interleaved,m===null?(s.next=s,od(d)):(s.next=m.next,m.next=s),d.interleaved=s,Ur(r,l)}function Nu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,oi(r,l)}}function Og(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var E={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=E:y=y.next=E,l=l.next}while(l!==null);y===null?m=y=s:y=y.next=s}else m=y=s;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Du(r,s,l,d){var m=r.updateQueue;gi=!1;var y=m.firstBaseUpdate,E=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var L=k,Q=L.next;L.next=null,E===null?y=Q:E.next=Q,E=L;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,k=ne.lastBaseUpdate,k!==E&&(k===null?ne.firstBaseUpdate=Q:k.next=Q,ne.lastBaseUpdate=L))}if(y!==null){var se=m.baseState;E=0,ne=Q=L=null,k=y;do{var te=k.lane,he=k.eventTime;if((d&te)===te){ne!==null&&(ne=ne.next={eventTime:he,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var pe=r,me=k;switch(te=s,he=l,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){se=pe.call(he,se,te);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,te=typeof pe=="function"?pe.call(he,se,te):pe,te==null)break e;se=ce({},se,te);break e;case 2:gi=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,te=m.effects,te===null?m.effects=[k]:te.push(k))}else he={eventTime:he,lane:te,tag:k.tag,payload:k.payload,callback:k.callback,next:null},ne===null?(Q=ne=he,L=se):ne=ne.next=he,E|=te;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;te=k,k=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(L=se),m.baseState=L,m.firstBaseUpdate=Q,m.lastBaseUpdate=ne,s=m.shared.interleaved,s!==null){m=s;do E|=m.lane,m=m.next;while(m!==s)}else y===null&&(m.shared.lanes=0);ds|=E,r.lanes=E,r.memoizedState=se}}function jg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var ja={},cr=fi(ja),Fa=fi(ja),Ba=fi(ja);function cs(r){if(r===ja)throw Error(n(174));return r}function ld(r,s){switch(Ge(Ba,s),Ge(Fa,r),Ge(cr,ja),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:vt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=vt(s,r)}Xe(cr),Ge(cr,s)}function wo(){Xe(cr),Xe(Fa),Xe(Ba)}function Fg(r){cs(Ba.current);var s=cs(cr.current),l=vt(s,r.type);s!==l&&(Ge(Fa,r),Ge(cr,l))}function ud(r){Fa.current===r&&(Xe(cr),Xe(Fa))}var tt=fi(0);function Vu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var cd=[];function hd(){for(var r=0;r<cd.length;r++)cd[r]._workInProgressVersionPrimary=null;cd.length=0}var Mu=U.ReactCurrentDispatcher,dd=U.ReactCurrentBatchConfig,hs=0,nt=null,wt=null,At=null,Lu=!1,Ua=!1,$a=0,yS=0;function Ft(){throw Error(n(321))}function fd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Hn(r[l],s[l]))return!1;return!0}function pd(r,s,l,d,m,y){if(hs=y,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Mu.current=r===null||r.memoizedState===null?xS:ES,r=l(d,m),Ua){y=0;do{if(Ua=!1,$a=0,25<=y)throw Error(n(301));y+=1,At=wt=null,s.updateQueue=null,Mu.current=TS,r=l(d,m)}while(Ua)}if(Mu.current=Fu,s=wt!==null&&wt.next!==null,hs=0,At=wt=nt=null,Lu=!1,s)throw Error(n(300));return r}function md(){var r=$a!==0;return $a=0,r}function hr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?nt.memoizedState=At=r:At=At.next=r,At}function In(){if(wt===null){var r=nt.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=At===null?nt.memoizedState:At.next;if(s!==null)At=s,wt=r;else{if(r===null)throw Error(n(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},At===null?nt.memoizedState=At=r:At=At.next=r}return At}function za(r,s){return typeof s=="function"?s(r):s}function gd(r){var s=In(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=wt,m=d.baseQueue,y=l.pending;if(y!==null){if(m!==null){var E=m.next;m.next=y.next,y.next=E}d.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,d=d.baseState;var k=E=null,L=null,Q=y;do{var ne=Q.lane;if((hs&ne)===ne)L!==null&&(L=L.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:r(d,Q.action);else{var se={lane:ne,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};L===null?(k=L=se,E=d):L=L.next=se,nt.lanes|=ne,ds|=ne}Q=Q.next}while(Q!==null&&Q!==y);L===null?E=d:L.next=k,Hn(d,s.memoizedState)||(rn=!0),s.memoizedState=d,s.baseState=E,s.baseQueue=L,l.lastRenderedState=d}if(r=l.interleaved,r!==null){m=r;do y=m.lane,nt.lanes|=y,ds|=y,m=m.next;while(m!==r)}else m===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function yd(r){var s=In(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=l.dispatch,m=l.pending,y=s.memoizedState;if(m!==null){l.pending=null;var E=m=m.next;do y=r(y,E.action),E=E.next;while(E!==m);Hn(y,s.memoizedState)||(rn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function Bg(){}function Ug(r,s){var l=nt,d=In(),m=s(),y=!Hn(d.memoizedState,m);if(y&&(d.memoizedState=m,rn=!0),d=d.queue,vd(Wg.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Wa(9,zg.bind(null,l,d,m,s),void 0,null),Pt===null)throw Error(n(349));hs&30||$g(l,s,m)}return m}function $g(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function zg(r,s,l,d){s.value=l,s.getSnapshot=d,Hg(s)&&Gg(r)}function Wg(r,s,l){return l(function(){Hg(s)&&Gg(r)})}function Hg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Hn(r,l)}catch{return!0}}function Gg(r){var s=Ur(r,1);s!==null&&Xn(s,r,1,-1)}function qg(r){var s=hr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:r},s.queue=r,r=r.dispatch=wS.bind(null,nt,r),[s.memoizedState,r]}function Wa(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function Kg(){return In().memoizedState}function Ou(r,s,l,d){var m=hr();nt.flags|=r,m.memoizedState=Wa(1|s,l,void 0,d===void 0?null:d)}function ju(r,s,l,d){var m=In();d=d===void 0?null:d;var y=void 0;if(wt!==null){var E=wt.memoizedState;if(y=E.destroy,d!==null&&fd(d,E.deps)){m.memoizedState=Wa(s,l,y,d);return}}nt.flags|=r,m.memoizedState=Wa(1|s,l,y,d)}function Qg(r,s){return Ou(8390656,8,r,s)}function vd(r,s){return ju(2048,8,r,s)}function Xg(r,s){return ju(4,2,r,s)}function Yg(r,s){return ju(4,4,r,s)}function Jg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Zg(r,s,l){return l=l!=null?l.concat([r]):null,ju(4,4,Jg.bind(null,s,r),l)}function _d(){}function ey(r,s){var l=In();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&fd(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function ty(r,s){var l=In();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&fd(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function ny(r,s,l){return hs&21?(Hn(l,s)||(l=es(),nt.lanes|=l,ds|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,rn=!0),r.memoizedState=l)}function vS(r,s){var l=Ve;Ve=l!==0&&4>l?l:4,r(!0);var d=dd.transition;dd.transition={};try{r(!1),s()}finally{Ve=l,dd.transition=d}}function ry(){return In().memoizedState}function _S(r,s,l){var d=xi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},iy(r))sy(s,l);else if(l=Mg(r,s,l,d),l!==null){var m=Yt();Xn(l,r,d,m),oy(l,s,d)}}function wS(r,s,l){var d=xi(r),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(iy(r))sy(s,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,k=y(E,l);if(m.hasEagerState=!0,m.eagerState=k,Hn(k,E)){var L=s.interleaved;L===null?(m.next=m,od(s)):(m.next=L.next,L.next=m),s.interleaved=m;return}}catch{}finally{}l=Mg(r,s,m,d),l!==null&&(m=Yt(),Xn(l,r,d,m),oy(l,s,d))}}function iy(r){var s=r.alternate;return r===nt||s!==null&&s===nt}function sy(r,s){Ua=Lu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function oy(r,s,l){if(l&4194240){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,oi(r,l)}}var Fu={readContext:Pn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},xS={readContext:Pn,useCallback:function(r,s){return hr().memoizedState=[r,s===void 0?null:s],r},useContext:Pn,useEffect:Qg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Ou(4194308,4,Jg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Ou(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ou(4,2,r,s)},useMemo:function(r,s){var l=hr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=hr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=_S.bind(null,nt,r),[d.memoizedState,r]},useRef:function(r){var s=hr();return r={current:r},s.memoizedState=r},useState:qg,useDebugValue:_d,useDeferredValue:function(r){return hr().memoizedState=r},useTransition:function(){var r=qg(!1),s=r[0];return r=vS.bind(null,r[1]),hr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=nt,m=hr();if(Je){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Pt===null)throw Error(n(349));hs&30||$g(d,s,l)}m.memoizedState=l;var y={value:l,getSnapshot:s};return m.queue=y,Qg(Wg.bind(null,d,y,r),[r]),d.flags|=2048,Wa(9,zg.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=hr(),s=Pt.identifierPrefix;if(Je){var l=Br,d=Fr;l=(d&~(1<<32-Kt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=$a++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=yS++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},ES={readContext:Pn,useCallback:ey,useContext:Pn,useEffect:vd,useImperativeHandle:Zg,useInsertionEffect:Xg,useLayoutEffect:Yg,useMemo:ty,useReducer:gd,useRef:Kg,useState:function(){return gd(za)},useDebugValue:_d,useDeferredValue:function(r){var s=In();return ny(s,wt.memoizedState,r)},useTransition:function(){var r=gd(za)[0],s=In().memoizedState;return[r,s]},useMutableSource:Bg,useSyncExternalStore:Ug,useId:ry,unstable_isNewReconciler:!1},TS={readContext:Pn,useCallback:ey,useContext:Pn,useEffect:vd,useImperativeHandle:Zg,useInsertionEffect:Xg,useLayoutEffect:Yg,useMemo:ty,useReducer:yd,useRef:Kg,useState:function(){return yd(za)},useDebugValue:_d,useDeferredValue:function(r){var s=In();return wt===null?s.memoizedState=r:ny(s,wt.memoizedState,r)},useTransition:function(){var r=yd(za)[0],s=In().memoizedState;return[r,s]},useMutableSource:Bg,useSyncExternalStore:Ug,useId:ry,unstable_isNewReconciler:!1};function qn(r,s){if(r&&r.defaultProps){s=ce({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function wd(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:ce({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Bu={isMounted:function(r){return(r=r._reactInternals)?jn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=Yt(),m=xi(r),y=$r(d,m);y.payload=s,l!=null&&(y.callback=l),s=yi(r,y,m),s!==null&&(Xn(s,r,m,d),Nu(s,r,m))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=Yt(),m=xi(r),y=$r(d,m);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=yi(r,y,m),s!==null&&(Xn(s,r,m,d),Nu(s,r,m))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Yt(),d=xi(r),m=$r(l,d);m.tag=2,s!=null&&(m.callback=s),s=yi(r,m,d),s!==null&&(Xn(s,r,d,l),Nu(s,r,d))}};function ay(r,s,l,d,m,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,E):s.prototype&&s.prototype.isPureReactComponent?!ba(l,d)||!ba(m,y):!0}function ly(r,s,l){var d=!1,m=pi,y=s.contextType;return typeof y=="object"&&y!==null?y=Pn(y):(m=nn(s)?os:jt.current,d=s.contextTypes,y=(d=d!=null)?fo(r,m):pi),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Bu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=m,r.__reactInternalMemoizedMaskedChildContext=y),s}function uy(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Bu.enqueueReplaceState(s,s.state,null)}function xd(r,s,l,d){var m=r.stateNode;m.props=l,m.state=r.memoizedState,m.refs={},ad(r);var y=s.contextType;typeof y=="object"&&y!==null?m.context=Pn(y):(y=nn(s)?os:jt.current,m.context=fo(r,y)),m.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(wd(r,s,y,l),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&Bu.enqueueReplaceState(m,m.state,null),Du(r,l,m,d),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308)}function xo(r,s){try{var l="",d=s;do l+=J(d),d=d.return;while(d);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:m,digest:null}}function Ed(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Td(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var SS=typeof WeakMap=="function"?WeakMap:Map;function cy(r,s,l){l=$r(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){qu||(qu=!0,jd=d),Td(r,s)},l}function hy(r,s,l){l=$r(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;l.payload=function(){return d(m)},l.callback=function(){Td(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){Td(r,s),typeof d!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),l}function dy(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new SS;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(l)||(m.add(l),r=jS.bind(null,r,s,l),s.then(r,r))}function fy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function py(r,s,l,d,m){return r.mode&1?(r.flags|=65536,r.lanes=m,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=$r(-1,1),s.tag=2,yi(l,s,1))),l.lanes|=1),r)}var CS=U.ReactCurrentOwner,rn=!1;function Xt(r,s,l,d){s.child=r===null?Vg(s,null,l,d):yo(s,r.child,l,d)}function my(r,s,l,d,m){l=l.render;var y=s.ref;return _o(s,m),d=pd(r,s,l,d,y,m),l=md(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,zr(r,s,m)):(Je&&l&&Yh(s),s.flags|=1,Xt(r,s,d,m),s.child)}function gy(r,s,l,d,m){if(r===null){var y=l.type;return typeof y=="function"&&!Hd(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,yy(r,s,y,d,m)):(r=Zu(l.type,null,d,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!(r.lanes&m)){var E=y.memoizedProps;if(l=l.compare,l=l!==null?l:ba,l(E,d)&&r.ref===s.ref)return zr(r,s,m)}return s.flags|=1,r=Ti(y,d),r.ref=s.ref,r.return=s,s.child=r}function yy(r,s,l,d,m){if(r!==null){var y=r.memoizedProps;if(ba(y,d)&&r.ref===s.ref)if(rn=!1,s.pendingProps=d=y,(r.lanes&m)!==0)r.flags&131072&&(rn=!0);else return s.lanes=r.lanes,zr(r,s,m)}return Sd(r,s,l,d,m)}function vy(r,s,l){var d=s.pendingProps,m=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(To,gn),gn|=l;else{if(!(l&1073741824))return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ge(To,gn),gn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,Ge(To,gn),gn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,Ge(To,gn),gn|=d;return Xt(r,s,m,l),s.child}function _y(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Sd(r,s,l,d,m){var y=nn(l)?os:jt.current;return y=fo(s,y),_o(s,m),l=pd(r,s,l,d,y,m),d=md(),r!==null&&!rn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,zr(r,s,m)):(Je&&d&&Yh(s),s.flags|=1,Xt(r,s,l,m),s.child)}function wy(r,s,l,d,m){if(nn(l)){var y=!0;Su(s)}else y=!1;if(_o(s,m),s.stateNode===null)$u(r,s),ly(s,l,d),xd(s,l,d,m),d=!0;else if(r===null){var E=s.stateNode,k=s.memoizedProps;E.props=k;var L=E.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=Pn(Q):(Q=nn(l)?os:jt.current,Q=fo(s,Q));var ne=l.getDerivedStateFromProps,se=typeof ne=="function"||typeof E.getSnapshotBeforeUpdate=="function";se||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==d||L!==Q)&&uy(s,E,d,Q),gi=!1;var te=s.memoizedState;E.state=te,Du(s,d,E,m),L=s.memoizedState,k!==d||te!==L||tn.current||gi?(typeof ne=="function"&&(wd(s,l,ne,d),L=s.memoizedState),(k=gi||ay(s,l,k,d,te,L,Q))?(se||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=L),E.props=d,E.state=L,E.context=Q,d=k):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{E=s.stateNode,Lg(r,s),k=s.memoizedProps,Q=s.type===s.elementType?k:qn(s.type,k),E.props=Q,se=s.pendingProps,te=E.context,L=l.contextType,typeof L=="object"&&L!==null?L=Pn(L):(L=nn(l)?os:jt.current,L=fo(s,L));var he=l.getDerivedStateFromProps;(ne=typeof he=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==se||te!==L)&&uy(s,E,d,L),gi=!1,te=s.memoizedState,E.state=te,Du(s,d,E,m);var pe=s.memoizedState;k!==se||te!==pe||tn.current||gi?(typeof he=="function"&&(wd(s,l,he,d),pe=s.memoizedState),(Q=gi||ay(s,l,Q,d,te,pe,L)||!1)?(ne||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(d,pe,L),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(d,pe,L)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||k===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=pe),E.props=d,E.state=pe,E.context=L,d=Q):(typeof E.componentDidUpdate!="function"||k===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),d=!1)}return Cd(r,s,l,d,y,m)}function Cd(r,s,l,d,m,y){_y(r,s);var E=(s.flags&128)!==0;if(!d&&!E)return m&&Cg(s,l,!1),zr(r,s,y);d=s.stateNode,CS.current=s;var k=E&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&E?(s.child=yo(s,r.child,null,y),s.child=yo(s,null,k,y)):Xt(r,s,k,y),s.memoizedState=d.state,m&&Cg(s,l,!0),s.child}function xy(r){var s=r.stateNode;s.pendingContext?Tg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Tg(r,s.context,!1),ld(r,s.containerInfo)}function Ey(r,s,l,d,m){return go(),td(m),s.flags|=256,Xt(r,s,l,d),s.child}var Ad={dehydrated:null,treeContext:null,retryLane:0};function Pd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Ty(r,s,l){var d=s.pendingProps,m=tt.current,y=!1,E=(s.flags&128)!==0,k;if((k=E)||(k=r!==null&&r.memoizedState===null?!1:(m&2)!==0),k?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(m|=1),Ge(tt,m&1),r===null)return ed(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=d.children,r=d.fallback,y?(d=s.mode,y=s.child,E={mode:"hidden",children:E},!(d&1)&&y!==null?(y.childLanes=0,y.pendingProps=E):y=ec(E,d,0,null),r=gs(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=Pd(l),s.memoizedState=Ad,r):Id(s,E));if(m=r.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return AS(r,s,E,d,k,m,l);if(y){y=d.fallback,E=s.mode,m=r.child,k=m.sibling;var L={mode:"hidden",children:d.children};return!(E&1)&&s.child!==m?(d=s.child,d.childLanes=0,d.pendingProps=L,s.deletions=null):(d=Ti(m,L),d.subtreeFlags=m.subtreeFlags&14680064),k!==null?y=Ti(k,y):(y=gs(y,E,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,E=r.child.memoizedState,E=E===null?Pd(l):{baseLanes:E.baseLanes|l,cachePool:null,transitions:E.transitions},y.memoizedState=E,y.childLanes=r.childLanes&~l,s.memoizedState=Ad,d}return y=r.child,r=y.sibling,d=Ti(y,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function Id(r,s){return s=ec({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Uu(r,s,l,d){return d!==null&&td(d),yo(s,r.child,null,l),r=Id(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function AS(r,s,l,d,m,y,E){if(l)return s.flags&256?(s.flags&=-257,d=Ed(Error(n(422))),Uu(r,s,E,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,m=s.mode,d=ec({mode:"visible",children:d.children},m,0,null),y=gs(y,m,E,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,s.mode&1&&yo(s,r.child,null,E),s.child.memoizedState=Pd(E),s.memoizedState=Ad,y);if(!(s.mode&1))return Uu(r,s,E,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var k=d.dgst;return d=k,y=Error(n(419)),d=Ed(y,d,void 0),Uu(r,s,E,d)}if(k=(E&r.childLanes)!==0,rn||k){if(d=Pt,d!==null){switch(E&-E){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|E)?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Ur(r,m),Xn(d,r,m,-1))}return Wd(),d=Ed(Error(n(421))),Uu(r,s,E,d)}return m.data==="$?"?(s.flags|=128,s.child=r.child,s=FS.bind(null,r),m._reactRetry=s,null):(r=y.treeContext,mn=di(m.nextSibling),pn=s,Je=!0,Gn=null,r!==null&&(Cn[An++]=Fr,Cn[An++]=Br,Cn[An++]=as,Fr=r.id,Br=r.overflow,as=s),s=Id(s,d.children),s.flags|=4096,s)}function Sy(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),sd(r.return,s,l)}function Rd(r,s,l,d,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=m)}function Cy(r,s,l){var d=s.pendingProps,m=d.revealOrder,y=d.tail;if(Xt(r,s,d.children,l),d=tt.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Sy(r,l,s);else if(r.tag===19)Sy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Ge(tt,d),!(s.mode&1))s.memoizedState=null;else switch(m){case"forwards":for(l=s.child,m=null;l!==null;)r=l.alternate,r!==null&&Vu(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Rd(s,!1,m,l,y);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&Vu(r)===null){s.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}Rd(s,!0,l,null,y);break;case"together":Rd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function $u(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function zr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ds|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=Ti(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ti(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function PS(r,s,l){switch(s.tag){case 3:xy(s),go();break;case 5:Fg(s);break;case 1:nn(s.type)&&Su(s);break;case 4:ld(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,m=s.memoizedProps.value;Ge(bu,d._currentValue),d._currentValue=m;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Ge(tt,tt.current&1),s.flags|=128,null):l&s.child.childLanes?Ty(r,s,l):(Ge(tt,tt.current&1),r=zr(r,s,l),r!==null?r.sibling:null);Ge(tt,tt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,r.flags&128){if(d)return Cy(r,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ge(tt,tt.current),d)break;return null;case 22:case 23:return s.lanes=0,vy(r,s,l)}return zr(r,s,l)}var Ay,bd,Py,Iy;Ay=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},bd=function(){},Py=function(r,s,l,d){var m=r.memoizedProps;if(m!==d){r=s.stateNode,cs(cr.current);var y=null;switch(l){case"input":m=tr(r,m),d=tr(r,d),y=[];break;case"select":m=ce({},m,{value:void 0}),d=ce({},d,{value:void 0}),y=[];break;case"textarea":m=sa(r,m),d=sa(r,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=xu)}ha(l,d);var E;l=null;for(Q in m)if(!d.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var k=m[Q];for(E in k)k.hasOwnProperty(E)&&(l||(l={}),l[E]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?y||(y=[]):(y=y||[]).push(Q,null));for(Q in d){var L=d[Q];if(k=m!=null?m[Q]:void 0,d.hasOwnProperty(Q)&&L!==k&&(L!=null||k!=null))if(Q==="style")if(k){for(E in k)!k.hasOwnProperty(E)||L&&L.hasOwnProperty(E)||(l||(l={}),l[E]="");for(E in L)L.hasOwnProperty(E)&&k[E]!==L[E]&&(l||(l={}),l[E]=L[E])}else l||(y||(y=[]),y.push(Q,l)),l=L;else Q==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,k=k?k.__html:void 0,L!=null&&k!==L&&(y=y||[]).push(Q,L)):Q==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(Q,""+L):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(L!=null&&Q==="onScroll"&&Qe("scroll",r),y||k===L||(y=[])):(y=y||[]).push(Q,L))}l&&(y=y||[]).push("style",l);var Q=y;(s.updateQueue=Q)&&(s.flags|=4)}},Iy=function(r,s,l,d){l!==d&&(s.flags|=4)};function Ha(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Bt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function IS(r,s,l){var d=s.pendingProps;switch(Jh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(s),null;case 1:return nn(s.type)&&Tu(),Bt(s),null;case 3:return d=s.stateNode,wo(),Xe(tn),Xe(jt),hd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(Iu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Gn!==null&&(Ud(Gn),Gn=null))),bd(r,s),Bt(s),null;case 5:ud(s);var m=cs(Ba.current);if(l=s.type,r!==null&&s.stateNode!=null)Py(r,s,l,d,m),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return Bt(s),null}if(r=cs(cr.current),Iu(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[ur]=s,d[Ma]=y,r=(s.mode&1)!==0,l){case"dialog":Qe("cancel",d),Qe("close",d);break;case"iframe":case"object":case"embed":Qe("load",d);break;case"video":case"audio":for(m=0;m<Na.length;m++)Qe(Na[m],d);break;case"source":Qe("error",d);break;case"img":case"image":case"link":Qe("error",d),Qe("load",d);break;case"details":Qe("toggle",d);break;case"input":gt(d,y),Qe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Qe("invalid",d);break;case"textarea":Ls(d,y),Qe("invalid",d)}ha(l,y),m=null;for(var E in y)if(y.hasOwnProperty(E)){var k=y[E];E==="children"?typeof k=="string"?d.textContent!==k&&(y.suppressHydrationWarning!==!0&&wu(d.textContent,k,r),m=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&wu(d.textContent,k,r),m=["children",""+k]):o.hasOwnProperty(E)&&k!=null&&E==="onScroll"&&Qe("scroll",d)}switch(l){case"input":_n(d),Gl(d,y,!0);break;case"textarea":_n(d),oa(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=xu)}d=m,s.updateQueue=d,d!==null&&(s.flags|=4)}else{E=m.nodeType===9?m:m.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=yt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=E.createElement(l,{is:d.is}):(r=E.createElement(l),l==="select"&&(E=r,d.multiple?E.multiple=!0:d.size&&(E.size=d.size))):r=E.createElementNS(r,l),r[ur]=s,r[Ma]=d,Ay(r,s,!1,!1),s.stateNode=r;e:{switch(E=da(l,d),l){case"dialog":Qe("cancel",r),Qe("close",r),m=d;break;case"iframe":case"object":case"embed":Qe("load",r),m=d;break;case"video":case"audio":for(m=0;m<Na.length;m++)Qe(Na[m],r);m=d;break;case"source":Qe("error",r),m=d;break;case"img":case"image":case"link":Qe("error",r),Qe("load",r),m=d;break;case"details":Qe("toggle",r),m=d;break;case"input":gt(r,d),m=tr(r,d),Qe("invalid",r);break;case"option":m=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},m=ce({},d,{value:void 0}),Qe("invalid",r);break;case"textarea":Ls(r,d),m=sa(r,d),Qe("invalid",r);break;default:m=d}ha(l,m),k=m;for(y in k)if(k.hasOwnProperty(y)){var L=k[y];y==="style"?ua(r,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&aa(r,L)):y==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&ti(r,L):typeof L=="number"&&ti(r,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?L!=null&&y==="onScroll"&&Qe("scroll",r):L!=null&&O(r,y,L,E))}switch(l){case"input":_n(r),Gl(r,d,!1);break;case"textarea":_n(r),oa(r);break;case"option":d.value!=null&&r.setAttribute("value",""+be(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?Rr(r,!!d.multiple,y,!1):d.defaultValue!=null&&Rr(r,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(r.onclick=xu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Bt(s),null;case 6:if(r&&s.stateNode!=null)Iy(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(l=cs(Ba.current),cs(cr.current),Iu(s)){if(d=s.stateNode,l=s.memoizedProps,d[ur]=s,(y=d.nodeValue!==l)&&(r=pn,r!==null))switch(r.tag){case 3:wu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&wu(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[ur]=s,s.stateNode=d}return Bt(s),null;case 13:if(Xe(tt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Je&&mn!==null&&s.mode&1&&!(s.flags&128))kg(),go(),s.flags|=98560,y=!1;else if(y=Iu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[ur]=s}else go(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Bt(s),y=!1}else Gn!==null&&(Ud(Gn),Gn=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||tt.current&1?xt===0&&(xt=3):Wd())),s.updateQueue!==null&&(s.flags|=4),Bt(s),null);case 4:return wo(),bd(r,s),r===null&&Da(s.stateNode.containerInfo),Bt(s),null;case 10:return id(s.type._context),Bt(s),null;case 17:return nn(s.type)&&Tu(),Bt(s),null;case 19:if(Xe(tt),y=s.memoizedState,y===null)return Bt(s),null;if(d=(s.flags&128)!==0,E=y.rendering,E===null)if(d)Ha(y,!1);else{if(xt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(E=Vu(r),E!==null){for(s.flags|=128,Ha(y,!1),d=E.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,E=y.alternate,E===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,r=E.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ge(tt,tt.current&1|2),s.child}r=r.sibling}y.tail!==null&&He()>So&&(s.flags|=128,d=!0,Ha(y,!1),s.lanes=4194304)}else{if(!d)if(r=Vu(E),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ha(y,!0),y.tail===null&&y.tailMode==="hidden"&&!E.alternate&&!Je)return Bt(s),null}else 2*He()-y.renderingStartTime>So&&l!==1073741824&&(s.flags|=128,d=!0,Ha(y,!1),s.lanes=4194304);y.isBackwards?(E.sibling=s.child,s.child=E):(l=y.last,l!==null?l.sibling=E:s.child=E,y.last=E)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=He(),s.sibling=null,l=tt.current,Ge(tt,d?l&1|2:l&1),s):(Bt(s),null);case 22:case 23:return zd(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?gn&1073741824&&(Bt(s),s.subtreeFlags&6&&(s.flags|=8192)):Bt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function RS(r,s){switch(Jh(s),s.tag){case 1:return nn(s.type)&&Tu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return wo(),Xe(tn),Xe(jt),hd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return ud(s),null;case 13:if(Xe(tt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));go()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Xe(tt),null;case 4:return wo(),null;case 10:return id(s.type._context),null;case 22:case 23:return zd(),null;case 24:return null;default:return null}}var zu=!1,Ut=!1,bS=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Eo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ot(r,s,d)}else l.current=null}function kd(r,s,l){try{l()}catch(d){ot(r,s,d)}}var Ry=!1;function kS(r,s){if(zh=ui,r=ag(),Mh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var E=0,k=-1,L=-1,Q=0,ne=0,se=r,te=null;t:for(;;){for(var he;se!==l||m!==0&&se.nodeType!==3||(k=E+m),se!==y||d!==0&&se.nodeType!==3||(L=E+d),se.nodeType===3&&(E+=se.nodeValue.length),(he=se.firstChild)!==null;)te=se,se=he;for(;;){if(se===r)break t;if(te===l&&++Q===m&&(k=E),te===y&&++ne===d&&(L=E),(he=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=he}l=k===-1||L===-1?null:{start:k,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Wh={focusedElem:r,selectionRange:l},ui=!1,fe=s;fe!==null;)if(s=fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fe=r;else for(;fe!==null;){s=fe;try{var pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,ct=pe.memoizedState,q=s.stateNode,B=q.getSnapshotBeforeUpdate(s.elementType===s.type?me:qn(s.type,me),ct);q.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){ot(s,s.return,le)}if(r=s.sibling,r!==null){r.return=s.return,fe=r;break}fe=s.return}return pe=Ry,Ry=!1,pe}function Ga(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&r)===r){var y=m.destroy;m.destroy=void 0,y!==void 0&&kd(s,l,y)}m=m.next}while(m!==d)}}function Wu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Nd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function by(r){var s=r.alternate;s!==null&&(r.alternate=null,by(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[ur],delete s[Ma],delete s[Kh],delete s[fS],delete s[pS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function ky(r){return r.tag===5||r.tag===3||r.tag===4}function Ny(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||ky(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Dd(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=xu));else if(d!==4&&(r=r.child,r!==null))for(Dd(r,s,l),r=r.sibling;r!==null;)Dd(r,s,l),r=r.sibling}function Vd(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Vd(r,s,l),r=r.sibling;r!==null;)Vd(r,s,l),r=r.sibling}var Nt=null,Kn=!1;function vi(r,s,l){for(l=l.child;l!==null;)Dy(r,s,l),l=l.sibling}function Dy(r,s,l){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Ji,l)}catch{}switch(l.tag){case 5:Ut||Eo(l,s);case 6:var d=Nt,m=Kn;Nt=null,vi(r,s,l),Nt=d,Kn=m,Nt!==null&&(Kn?(r=Nt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Nt.removeChild(l.stateNode));break;case 18:Nt!==null&&(Kn?(r=Nt,l=l.stateNode,r.nodeType===8?qh(r.parentNode,l):r.nodeType===1&&qh(r,l),zn(r)):qh(Nt,l.stateNode));break;case 4:d=Nt,m=Kn,Nt=l.stateNode.containerInfo,Kn=!0,vi(r,s,l),Nt=d,Kn=m;break;case 0:case 11:case 14:case 15:if(!Ut&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,E=y.destroy;y=y.tag,E!==void 0&&(y&2||y&4)&&kd(l,s,E),m=m.next}while(m!==d)}vi(r,s,l);break;case 1:if(!Ut&&(Eo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(k){ot(l,s,k)}vi(r,s,l);break;case 21:vi(r,s,l);break;case 22:l.mode&1?(Ut=(d=Ut)||l.memoizedState!==null,vi(r,s,l),Ut=d):vi(r,s,l);break;default:vi(r,s,l)}}function Vy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new bS),s.forEach(function(d){var m=BS.bind(null,r,d);l.has(d)||(l.add(d),d.then(m,m))})}}function Qn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var y=r,E=s,k=E;e:for(;k!==null;){switch(k.tag){case 5:Nt=k.stateNode,Kn=!1;break e;case 3:Nt=k.stateNode.containerInfo,Kn=!0;break e;case 4:Nt=k.stateNode.containerInfo,Kn=!0;break e}k=k.return}if(Nt===null)throw Error(n(160));Dy(y,E,m),Nt=null,Kn=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(Q){ot(m,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)My(s,r),s=s.sibling}function My(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Qn(s,r),dr(r),d&4){try{Ga(3,r,r.return),Wu(3,r)}catch(me){ot(r,r.return,me)}try{Ga(5,r,r.return)}catch(me){ot(r,r.return,me)}}break;case 1:Qn(s,r),dr(r),d&512&&l!==null&&Eo(l,l.return);break;case 5:if(Qn(s,r),dr(r),d&512&&l!==null&&Eo(l,l.return),r.flags&32){var m=r.stateNode;try{ti(m,"")}catch(me){ot(r,r.return,me)}}if(d&4&&(m=r.stateNode,m!=null)){var y=r.memoizedProps,E=l!==null?l.memoizedProps:y,k=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&Pr(m,y),da(k,E);var Q=da(k,y);for(E=0;E<L.length;E+=2){var ne=L[E],se=L[E+1];ne==="style"?ua(m,se):ne==="dangerouslySetInnerHTML"?aa(m,se):ne==="children"?ti(m,se):O(m,ne,se,Q)}switch(k){case"input":ia(m,y);break;case"textarea":Os(m,y);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var he=y.value;he!=null?Rr(m,!!y.multiple,he,!1):te!==!!y.multiple&&(y.defaultValue!=null?Rr(m,!!y.multiple,y.defaultValue,!0):Rr(m,!!y.multiple,y.multiple?[]:"",!1))}m[Ma]=y}catch(me){ot(r,r.return,me)}}break;case 6:if(Qn(s,r),dr(r),d&4){if(r.stateNode===null)throw Error(n(162));m=r.stateNode,y=r.memoizedProps;try{m.nodeValue=y}catch(me){ot(r,r.return,me)}}break;case 3:if(Qn(s,r),dr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{zn(s.containerInfo)}catch(me){ot(r,r.return,me)}break;case 4:Qn(s,r),dr(r);break;case 13:Qn(s,r),dr(r),m=r.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Od=He())),d&4&&Vy(r);break;case 22:if(ne=l!==null&&l.memoizedState!==null,r.mode&1?(Ut=(Q=Ut)||ne,Qn(s,r),Ut=Q):Qn(s,r),dr(r),d&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!ne&&r.mode&1)for(fe=r,ne=r.child;ne!==null;){for(se=fe=ne;fe!==null;){switch(te=fe,he=te.child,te.tag){case 0:case 11:case 14:case 15:Ga(4,te,te.return);break;case 1:Eo(te,te.return);var pe=te.stateNode;if(typeof pe.componentWillUnmount=="function"){d=te,l=te.return;try{s=d,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){ot(d,l,me)}}break;case 5:Eo(te,te.return);break;case 22:if(te.memoizedState!==null){jy(se);continue}}he!==null?(he.return=te,fe=he):jy(se)}ne=ne.sibling}e:for(ne=null,se=r;;){if(se.tag===5){if(ne===null){ne=se;try{m=se.stateNode,Q?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=se.stateNode,L=se.memoizedProps.style,E=L!=null&&L.hasOwnProperty("display")?L.display:null,k.style.display=la("display",E))}catch(me){ot(r,r.return,me)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=Q?"":se.memoizedProps}catch(me){ot(r,r.return,me)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===r)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===r)break e;for(;se.sibling===null;){if(se.return===null||se.return===r)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Qn(s,r),dr(r),d&4&&Vy(r);break;case 21:break;default:Qn(s,r),dr(r)}}function dr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(ky(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(ti(m,""),d.flags&=-33);var y=Ny(r);Vd(r,y,m);break;case 3:case 4:var E=d.stateNode.containerInfo,k=Ny(r);Dd(r,k,E);break;default:throw Error(n(161))}}catch(L){ot(r,r.return,L)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function NS(r,s,l){fe=r,Ly(r)}function Ly(r,s,l){for(var d=(r.mode&1)!==0;fe!==null;){var m=fe,y=m.child;if(m.tag===22&&d){var E=m.memoizedState!==null||zu;if(!E){var k=m.alternate,L=k!==null&&k.memoizedState!==null||Ut;k=zu;var Q=Ut;if(zu=E,(Ut=L)&&!Q)for(fe=m;fe!==null;)E=fe,L=E.child,E.tag===22&&E.memoizedState!==null?Fy(m):L!==null?(L.return=E,fe=L):Fy(m);for(;y!==null;)fe=y,Ly(y),y=y.sibling;fe=m,zu=k,Ut=Q}Oy(r)}else m.subtreeFlags&8772&&y!==null?(y.return=m,fe=y):Oy(r)}}function Oy(r){for(;fe!==null;){var s=fe;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ut||Wu(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Ut)if(l===null)d.componentDidMount();else{var m=s.elementType===s.type?l.memoizedProps:qn(s.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&jg(s,y,d);break;case 3:var E=s.updateQueue;if(E!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}jg(s,E,l)}break;case 5:var k=s.stateNode;if(l===null&&s.flags&4){l=k;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var ne=Q.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&zn(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Ut||s.flags&512&&Nd(s)}catch(te){ot(s,s.return,te)}}if(s===r){fe=null;break}if(l=s.sibling,l!==null){l.return=s.return,fe=l;break}fe=s.return}}function jy(r){for(;fe!==null;){var s=fe;if(s===r){fe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,fe=l;break}fe=s.return}}function Fy(r){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Wu(4,s)}catch(L){ot(s,l,L)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var m=s.return;try{d.componentDidMount()}catch(L){ot(s,m,L)}}var y=s.return;try{Nd(s)}catch(L){ot(s,y,L)}break;case 5:var E=s.return;try{Nd(s)}catch(L){ot(s,E,L)}}}catch(L){ot(s,s.return,L)}if(s===r){fe=null;break}var k=s.sibling;if(k!==null){k.return=s.return,fe=k;break}fe=s.return}}var DS=Math.ceil,Hu=U.ReactCurrentDispatcher,Md=U.ReactCurrentOwner,Rn=U.ReactCurrentBatchConfig,Fe=0,Pt=null,pt=null,Dt=0,gn=0,To=fi(0),xt=0,qa=null,ds=0,Gu=0,Ld=0,Ka=null,sn=null,Od=0,So=1/0,Wr=null,qu=!1,jd=null,_i=null,Ku=!1,wi=null,Qu=0,Qa=0,Fd=null,Xu=-1,Yu=0;function Yt(){return Fe&6?He():Xu!==-1?Xu:Xu=He()}function xi(r){return r.mode&1?Fe&2&&Dt!==0?Dt&-Dt:gS.transition!==null?(Yu===0&&(Yu=es()),Yu):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:Ta(r.type)),r):1}function Xn(r,s,l,d){if(50<Qa)throw Qa=0,Fd=null,Error(n(185));si(r,l,d),(!(Fe&2)||r!==Pt)&&(r===Pt&&(!(Fe&2)&&(Gu|=l),xt===4&&Ei(r,Dt)),on(r,d),l===1&&Fe===0&&!(s.mode&1)&&(So=He()+500,Cu&&mi()))}function on(r,s){var l=r.callbackNode;Nr(r,s);var d=Zi(r,r===Pt?Dt:0);if(d===0)l!==null&&va(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&va(l),s===1)r.tag===0?mS(Uy.bind(null,r)):Ag(Uy.bind(null,r)),hS(function(){!(Fe&6)&&mi()}),l=null;else{switch(ai(d)){case 1:l=Yi;break;case 4:l=ni;break;case 16:l=En;break;case 536870912:l=Yl;break;default:l=En}l=Qy(l,By.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function By(r,s){if(Xu=-1,Yu=0,Fe&6)throw Error(n(327));var l=r.callbackNode;if(Co()&&r.callbackNode!==l)return null;var d=Zi(r,r===Pt?Dt:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=Ju(r,d);else{s=d;var m=Fe;Fe|=2;var y=zy();(Pt!==r||Dt!==s)&&(Wr=null,So=He()+500,ps(r,s));do try{LS();break}catch(k){$y(r,k)}while(!0);rd(),Hu.current=y,Fe=m,pt!==null?s=0:(Pt=null,Dt=0,s=xt)}if(s!==0){if(s===2&&(m=hn(r),m!==0&&(d=m,s=Bd(r,m))),s===1)throw l=qa,ps(r,0),Ei(r,d),on(r,He()),l;if(s===6)Ei(r,d);else{if(m=r.current.alternate,!(d&30)&&!VS(m)&&(s=Ju(r,d),s===2&&(y=hn(r),y!==0&&(d=y,s=Bd(r,y))),s===1))throw l=qa,ps(r,0),Ei(r,d),on(r,He()),l;switch(r.finishedWork=m,r.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:ms(r,sn,Wr);break;case 3:if(Ei(r,d),(d&130023424)===d&&(s=Od+500-He(),10<s)){if(Zi(r,0)!==0)break;if(m=r.suspendedLanes,(m&d)!==d){Yt(),r.pingedLanes|=r.suspendedLanes&m;break}r.timeoutHandle=Gh(ms.bind(null,r,sn,Wr),s);break}ms(r,sn,Wr);break;case 4:if(Ei(r,d),(d&4194240)===d)break;for(s=r.eventTimes,m=-1;0<d;){var E=31-Kt(d);y=1<<E,E=s[E],E>m&&(m=E),d&=~y}if(d=m,d=He()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*DS(d/1960))-d,10<d){r.timeoutHandle=Gh(ms.bind(null,r,sn,Wr),d);break}ms(r,sn,Wr);break;case 5:ms(r,sn,Wr);break;default:throw Error(n(329))}}}return on(r,He()),r.callbackNode===l?By.bind(null,r):null}function Bd(r,s){var l=Ka;return r.current.memoizedState.isDehydrated&&(ps(r,s).flags|=256),r=Ju(r,s),r!==2&&(s=sn,sn=l,s!==null&&Ud(s)),r}function Ud(r){sn===null?sn=r:sn.push.apply(sn,r)}function VS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],y=m.getSnapshot;m=m.value;try{if(!Hn(y(),m))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ei(r,s){for(s&=~Ld,s&=~Gu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Kt(s),d=1<<l;r[l]=-1,s&=~d}}function Uy(r){if(Fe&6)throw Error(n(327));Co();var s=Zi(r,0);if(!(s&1))return on(r,He()),null;var l=Ju(r,s);if(r.tag!==0&&l===2){var d=hn(r);d!==0&&(s=d,l=Bd(r,d))}if(l===1)throw l=qa,ps(r,0),Ei(r,s),on(r,He()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ms(r,sn,Wr),on(r,He()),null}function $d(r,s){var l=Fe;Fe|=1;try{return r(s)}finally{Fe=l,Fe===0&&(So=He()+500,Cu&&mi())}}function fs(r){wi!==null&&wi.tag===0&&!(Fe&6)&&Co();var s=Fe;Fe|=1;var l=Rn.transition,d=Ve;try{if(Rn.transition=null,Ve=1,r)return r()}finally{Ve=d,Rn.transition=l,Fe=s,!(Fe&6)&&mi()}}function zd(){gn=To.current,Xe(To)}function ps(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,cS(l)),pt!==null)for(l=pt.return;l!==null;){var d=l;switch(Jh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Tu();break;case 3:wo(),Xe(tn),Xe(jt),hd();break;case 5:ud(d);break;case 4:wo();break;case 13:Xe(tt);break;case 19:Xe(tt);break;case 10:id(d.type._context);break;case 22:case 23:zd()}l=l.return}if(Pt=r,pt=r=Ti(r.current,null),Dt=gn=s,xt=0,qa=null,Ld=Gu=ds=0,sn=Ka=null,us!==null){for(s=0;s<us.length;s++)if(l=us[s],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,y=l.pending;if(y!==null){var E=y.next;y.next=m,d.next=E}l.pending=d}us=null}return r}function $y(r,s){do{var l=pt;try{if(rd(),Mu.current=Fu,Lu){for(var d=nt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Lu=!1}if(hs=0,At=wt=nt=null,Ua=!1,$a=0,Md.current=null,l===null||l.return===null){xt=1,qa=s,pt=null;break}e:{var y=r,E=l.return,k=l,L=s;if(s=Dt,k.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var Q=L,ne=k,se=ne.tag;if(!(ne.mode&1)&&(se===0||se===11||se===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var he=fy(E);if(he!==null){he.flags&=-257,py(he,E,k,y,s),he.mode&1&&dy(y,Q,s),s=he,L=Q;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(L),s.updateQueue=me}else pe.add(L);break e}else{if(!(s&1)){dy(y,Q,s),Wd();break e}L=Error(n(426))}}else if(Je&&k.mode&1){var ct=fy(E);if(ct!==null){!(ct.flags&65536)&&(ct.flags|=256),py(ct,E,k,y,s),td(xo(L,k));break e}}y=L=xo(L,k),xt!==4&&(xt=2),Ka===null?Ka=[y]:Ka.push(y),y=E;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var q=cy(y,L,s);Og(y,q);break e;case 1:k=L;var B=y.type,K=y.stateNode;if(!(y.flags&128)&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(_i===null||!_i.has(K)))){y.flags|=65536,s&=-s,y.lanes|=s;var le=hy(y,k,s);Og(y,le);break e}}y=y.return}while(y!==null)}Hy(l)}catch(ye){s=ye,pt===l&&l!==null&&(pt=l=l.return);continue}break}while(!0)}function zy(){var r=Hu.current;return Hu.current=Fu,r===null?Fu:r}function Wd(){(xt===0||xt===3||xt===2)&&(xt=4),Pt===null||!(ds&268435455)&&!(Gu&268435455)||Ei(Pt,Dt)}function Ju(r,s){var l=Fe;Fe|=2;var d=zy();(Pt!==r||Dt!==s)&&(Wr=null,ps(r,s));do try{MS();break}catch(m){$y(r,m)}while(!0);if(rd(),Fe=l,Hu.current=d,pt!==null)throw Error(n(261));return Pt=null,Dt=0,xt}function MS(){for(;pt!==null;)Wy(pt)}function LS(){for(;pt!==null&&!Ql();)Wy(pt)}function Wy(r){var s=Ky(r.alternate,r,gn);r.memoizedProps=r.pendingProps,s===null?Hy(r):pt=s,Md.current=null}function Hy(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=RS(l,s),l!==null){l.flags&=32767,pt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{xt=6,pt=null;return}}else if(l=IS(l,s,gn),l!==null){pt=l;return}if(s=s.sibling,s!==null){pt=s;return}pt=s=r}while(s!==null);xt===0&&(xt=5)}function ms(r,s,l){var d=Ve,m=Rn.transition;try{Rn.transition=null,Ve=1,OS(r,s,l,d)}finally{Rn.transition=m,Ve=d}return null}function OS(r,s,l,d){do Co();while(wi!==null);if(Fe&6)throw Error(n(327));l=r.finishedWork;var m=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(We(r,y),r===Pt&&(pt=Pt=null,Dt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Ku||(Ku=!0,Qy(En,function(){return Co(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=Rn.transition,Rn.transition=null;var E=Ve;Ve=1;var k=Fe;Fe|=4,Md.current=null,kS(r,l),My(l,r),rS(Wh),ui=!!zh,Wh=zh=null,r.current=l,NS(l),Ph(),Fe=k,Ve=E,Rn.transition=y}else r.current=l;if(Ku&&(Ku=!1,wi=r,Qu=m),y=r.pendingLanes,y===0&&(_i=null),Jl(l.stateNode),on(r,He()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)m=s[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(qu)throw qu=!1,r=jd,jd=null,r;return Qu&1&&r.tag!==0&&Co(),y=r.pendingLanes,y&1?r===Fd?Qa++:(Qa=0,Fd=r):Qa=0,mi(),null}function Co(){if(wi!==null){var r=ai(Qu),s=Rn.transition,l=Ve;try{if(Rn.transition=null,Ve=16>r?16:r,wi===null)var d=!1;else{if(r=wi,wi=null,Qu=0,Fe&6)throw Error(n(331));var m=Fe;for(Fe|=4,fe=r.current;fe!==null;){var y=fe,E=y.child;if(fe.flags&16){var k=y.deletions;if(k!==null){for(var L=0;L<k.length;L++){var Q=k[L];for(fe=Q;fe!==null;){var ne=fe;switch(ne.tag){case 0:case 11:case 15:Ga(8,ne,y)}var se=ne.child;if(se!==null)se.return=ne,fe=se;else for(;fe!==null;){ne=fe;var te=ne.sibling,he=ne.return;if(by(ne),ne===Q){fe=null;break}if(te!==null){te.return=he,fe=te;break}fe=he}}}var pe=y.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var ct=me.sibling;me.sibling=null,me=ct}while(me!==null)}}fe=y}}if(y.subtreeFlags&2064&&E!==null)E.return=y,fe=E;else e:for(;fe!==null;){if(y=fe,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Ga(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,fe=q;break e}fe=y.return}}var B=r.current;for(fe=B;fe!==null;){E=fe;var K=E.child;if(E.subtreeFlags&2064&&K!==null)K.return=E,fe=K;else e:for(E=B;fe!==null;){if(k=fe,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:Wu(9,k)}}catch(ye){ot(k,k.return,ye)}if(k===E){fe=null;break e}var le=k.sibling;if(le!==null){le.return=k.return,fe=le;break e}fe=k.return}}if(Fe=m,mi(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Ji,r)}catch{}d=!0}return d}finally{Ve=l,Rn.transition=s}}return!1}function Gy(r,s,l){s=xo(l,s),s=cy(r,s,1),r=yi(r,s,1),s=Yt(),r!==null&&(si(r,1,s),on(r,s))}function ot(r,s,l){if(r.tag===3)Gy(r,r,l);else for(;s!==null;){if(s.tag===3){Gy(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(_i===null||!_i.has(d))){r=xo(l,r),r=hy(s,r,1),s=yi(s,r,1),r=Yt(),s!==null&&(si(s,1,r),on(s,r));break}}s=s.return}}function jS(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=Yt(),r.pingedLanes|=r.suspendedLanes&l,Pt===r&&(Dt&l)===l&&(xt===4||xt===3&&(Dt&130023424)===Dt&&500>He()-Od?ps(r,0):Ld|=l),on(r,s)}function qy(r,s){s===0&&(r.mode&1?(s=qs,qs<<=1,!(qs&130023424)&&(qs=4194304)):s=1);var l=Yt();r=Ur(r,s),r!==null&&(si(r,s,l),on(r,l))}function FS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),qy(r,l)}function BS(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),qy(r,l)}var Ky;Ky=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||tn.current)rn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return rn=!1,PS(r,s,l);rn=!!(r.flags&131072)}else rn=!1,Je&&s.flags&1048576&&Pg(s,Pu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;$u(r,s),r=s.pendingProps;var m=fo(s,jt.current);_o(s,l),m=pd(null,s,d,r,m,l);var y=md();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,nn(d)?(y=!0,Su(s)):y=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,ad(s),m.updater=Bu,s.stateNode=m,m._reactInternals=s,xd(s,d,r,l),s=Cd(null,s,d,!0,y,l)):(s.tag=0,Je&&y&&Yh(s),Xt(null,s,m,l),s=s.child),s;case 16:d=s.elementType;e:{switch($u(r,s),r=s.pendingProps,m=d._init,d=m(d._payload),s.type=d,m=s.tag=$S(d),r=qn(d,r),m){case 0:s=Sd(null,s,d,r,l);break e;case 1:s=wy(null,s,d,r,l);break e;case 11:s=my(null,s,d,r,l);break e;case 14:s=gy(null,s,d,qn(d.type,r),l);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:qn(d,m),Sd(r,s,d,m,l);case 1:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:qn(d,m),wy(r,s,d,m,l);case 3:e:{if(xy(s),r===null)throw Error(n(387));d=s.pendingProps,y=s.memoizedState,m=y.element,Lg(r,s),Du(s,d,null,l);var E=s.memoizedState;if(d=E.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){m=xo(Error(n(423)),s),s=Ey(r,s,d,l,m);break e}else if(d!==m){m=xo(Error(n(424)),s),s=Ey(r,s,d,l,m);break e}else for(mn=di(s.stateNode.containerInfo.firstChild),pn=s,Je=!0,Gn=null,l=Vg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(go(),d===m){s=zr(r,s,l);break e}Xt(r,s,d,l)}s=s.child}return s;case 5:return Fg(s),r===null&&ed(s),d=s.type,m=s.pendingProps,y=r!==null?r.memoizedProps:null,E=m.children,Hh(d,m)?E=null:y!==null&&Hh(d,y)&&(s.flags|=32),_y(r,s),Xt(r,s,E,l),s.child;case 6:return r===null&&ed(s),null;case 13:return Ty(r,s,l);case 4:return ld(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=yo(s,null,d,l):Xt(r,s,d,l),s.child;case 11:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:qn(d,m),my(r,s,d,m,l);case 7:return Xt(r,s,s.pendingProps,l),s.child;case 8:return Xt(r,s,s.pendingProps.children,l),s.child;case 12:return Xt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,m=s.pendingProps,y=s.memoizedProps,E=m.value,Ge(bu,d._currentValue),d._currentValue=E,y!==null)if(Hn(y.value,E)){if(y.children===m.children&&!tn.current){s=zr(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var k=y.dependencies;if(k!==null){E=y.child;for(var L=k.firstContext;L!==null;){if(L.context===d){if(y.tag===1){L=$r(-1,l&-l),L.tag=2;var Q=y.updateQueue;if(Q!==null){Q=Q.shared;var ne=Q.pending;ne===null?L.next=L:(L.next=ne.next,ne.next=L),Q.pending=L}}y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),sd(y.return,l,s),k.lanes|=l;break}L=L.next}}else if(y.tag===10)E=y.type===s.type?null:y.child;else if(y.tag===18){if(E=y.return,E===null)throw Error(n(341));E.lanes|=l,k=E.alternate,k!==null&&(k.lanes|=l),sd(E,l,s),E=y.sibling}else E=y.child;if(E!==null)E.return=y;else for(E=y;E!==null;){if(E===s){E=null;break}if(y=E.sibling,y!==null){y.return=E.return,E=y;break}E=E.return}y=E}Xt(r,s,m.children,l),s=s.child}return s;case 9:return m=s.type,d=s.pendingProps.children,_o(s,l),m=Pn(m),d=d(m),s.flags|=1,Xt(r,s,d,l),s.child;case 14:return d=s.type,m=qn(d,s.pendingProps),m=qn(d.type,m),gy(r,s,d,m,l);case 15:return yy(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:qn(d,m),$u(r,s),s.tag=1,nn(d)?(r=!0,Su(s)):r=!1,_o(s,l),ly(s,d,m),xd(s,d,m,l),Cd(null,s,d,!0,r,l);case 19:return Cy(r,s,l);case 22:return vy(r,s,l)}throw Error(n(156,s.tag))};function Qy(r,s){return Hs(r,s)}function US(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(r,s,l,d){return new US(r,s,l,d)}function Hd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $S(r){if(typeof r=="function")return Hd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===W)return 11;if(r===et)return 14}return 2}function Ti(r,s){var l=r.alternate;return l===null?(l=bn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Zu(r,s,l,d,m,y){var E=2;if(d=r,typeof r=="function")Hd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case R:return gs(l.children,m,y,s);case A:E=8,m|=8;break;case I:return r=bn(12,l,s,m|2),r.elementType=I,r.lanes=y,r;case b:return r=bn(13,l,s,m),r.elementType=b,r.lanes=y,r;case je:return r=bn(19,l,s,m),r.elementType=je,r.lanes=y,r;case Ce:return ec(l,m,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:E=10;break e;case F:E=9;break e;case W:E=11;break e;case et:E=14;break e;case Ke:E=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=bn(E,l,s,m),s.elementType=r,s.type=d,s.lanes=y,s}function gs(r,s,l,d){return r=bn(7,r,d,s),r.lanes=l,r}function ec(r,s,l,d){return r=bn(22,r,d,s),r.elementType=Ce,r.lanes=l,r.stateNode={isHidden:!1},r}function Gd(r,s,l){return r=bn(6,r,null,s),r.lanes=l,r}function qd(r,s,l){return s=bn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function zS(r,s,l,d,m){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ii(0),this.expirationTimes=ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Kd(r,s,l,d,m,y,E,k,L){return r=new zS(r,s,l,k,L),s===1?(s=1,y===!0&&(s|=8)):s=0,y=bn(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ad(y),r}function WS(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function Xy(r){if(!r)return pi;r=r._reactInternals;e:{if(jn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(nn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(nn(l))return Sg(r,l,s)}return s}function Yy(r,s,l,d,m,y,E,k,L){return r=Kd(l,d,!0,r,m,y,E,k,L),r.context=Xy(null),l=r.current,d=Yt(),m=xi(l),y=$r(d,m),y.callback=s??null,yi(l,y,m),r.current.lanes=m,si(r,m,d),on(r,d),r}function tc(r,s,l,d){var m=s.current,y=Yt(),E=xi(m);return l=Xy(l),s.context===null?s.context=l:s.pendingContext=l,s=$r(y,E),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=yi(m,s,E),r!==null&&(Xn(r,m,E,y),Nu(r,m,E)),E}function nc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Jy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Qd(r,s){Jy(r,s),(r=r.alternate)&&Jy(r,s)}function HS(){return null}var Zy=typeof reportError=="function"?reportError:function(r){console.error(r)};function Xd(r){this._internalRoot=r}rc.prototype.render=Xd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));tc(r,s,null,null)},rc.prototype.unmount=Xd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;fs(function(){tc(null,r,null,null)}),s[Or]=null}};function rc(r){this._internalRoot=r}rc.prototype.unstable_scheduleHydration=function(r){if(r){var s=ru();r={blockedOn:null,target:r,priority:s};for(var l=0;l<sr.length&&s!==0&&s<sr[l].priority;l++);sr.splice(l,0,r),l===0&&ou(r)}};function Yd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ic(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function ev(){}function GS(r,s,l,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var Q=nc(E);y.call(Q)}}var E=Yy(s,d,r,0,null,!1,!1,"",ev);return r._reactRootContainer=E,r[Or]=E.current,Da(r.nodeType===8?r.parentNode:r),fs(),E}for(;m=r.lastChild;)r.removeChild(m);if(typeof d=="function"){var k=d;d=function(){var Q=nc(L);k.call(Q)}}var L=Kd(r,0,!1,null,null,!1,!1,"",ev);return r._reactRootContainer=L,r[Or]=L.current,Da(r.nodeType===8?r.parentNode:r),fs(function(){tc(s,L,l,d)}),L}function sc(r,s,l,d,m){var y=l._reactRootContainer;if(y){var E=y;if(typeof m=="function"){var k=m;m=function(){var L=nc(E);k.call(L)}}tc(s,E,r,m)}else E=GS(l,s,r,m,d);return nc(E)}tu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ri(s.pendingLanes);l!==0&&(oi(s,l|1),on(s,He()),!(Fe&6)&&(So=He()+500,mi()))}break;case 13:fs(function(){var d=Ur(r,1);if(d!==null){var m=Yt();Xn(d,r,1,m)}}),Qd(r,1)}},Ks=function(r){if(r.tag===13){var s=Ur(r,134217728);if(s!==null){var l=Yt();Xn(s,r,134217728,l)}Qd(r,134217728)}},nu=function(r){if(r.tag===13){var s=xi(r),l=Ur(r,s);if(l!==null){var d=Yt();Xn(l,r,s,d)}Qd(r,s)}},ru=function(){return Ve},iu=function(r,s){var l=Ve;try{return Ve=r,s()}finally{Ve=l}},Fs=function(r,s,l){switch(s){case"input":if(ia(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var m=Eu(d);if(!m)throw Error(n(90));Ar(d),ia(d,m)}}}break;case"textarea":Os(r,l);break;case"select":s=l.value,s!=null&&Rr(r,!!l.multiple,s,!1)}},qi=$d,pa=fs;var qS={usingClientEntryPoint:!1,Events:[La,co,Eu,rr,fa,$d]},Xa={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},KS={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ya(r),r===null?null:r.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||HS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Ji=oc.inject(KS),cn=oc}catch{}}return an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qS,an.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yd(s))throw Error(n(200));return WS(r,s,null,l)},an.createRoot=function(r,s){if(!Yd(r))throw Error(n(299));var l=!1,d="",m=Zy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Kd(r,1,!1,null,null,l,!1,d,m),r[Or]=s.current,Da(r.nodeType===8?r.parentNode:r),new Xd(s)},an.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=ya(s),r=r===null?null:r.stateNode,r},an.flushSync=function(r){return fs(r)},an.hydrate=function(r,s,l){if(!ic(s))throw Error(n(200));return sc(null,r,s,!0,l)},an.hydrateRoot=function(r,s,l){if(!Yd(r))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,m=!1,y="",E=Zy;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(E=l.onRecoverableError)),s=Yy(s,null,r,1,l??null,m,!1,y,E),r[Or]=s.current,Da(r),d)for(r=0;r<d.length;r++)l=d[r],m=l._getVersion,m=m(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,m]:s.mutableSourceEagerHydrationData.push(l,m);return new rc(s)},an.render=function(r,s,l){if(!ic(s))throw Error(n(200));return sc(null,r,s,!1,l)},an.unmountComponentAtNode=function(r){if(!ic(r))throw Error(n(40));return r._reactRootContainer?(fs(function(){sc(null,null,r,!1,function(){r._reactRootContainer=null,r[Or]=null})}),!0):!1},an.unstable_batchedUpdates=$d,an.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!ic(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return sc(r,s,l,!1,d)},an.version="18.3.1-next-f1338f8080-20240426",an}var lv;function J_(){if(lv)return ef.exports;lv=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),ef.exports=tC(),ef.exports}var uv;function nC(){if(uv)return ac;uv=1;var t=J_();return ac.createRoot=t.createRoot,ac.hydrateRoot=t.hydrateRoot,ac}var rC=nC();const iC=wp(rC);var Ja={},cv;function sC(){if(cv)return Ja;cv=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.parse=u,Ja.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function u(x,S){const P=new a,M=x.length;if(M<2)return P;const D=(S==null?void 0:S.decode)||v;let j=0;do{const $=x.indexOf("=",j);if($===-1)break;const O=x.indexOf(";",j),U=O===-1?M:O;if($>U){j=x.lastIndexOf(";",$-1)+1;continue}const z=h(x,j,$),X=f(x,$,z),R=x.slice(z,X);if(P[R]===void 0){let A=h(x,$+1,U),I=f(x,U,A);const V=D(x.slice(A,I));P[R]=V}j=U+1}while(j<M);return P}function h(x,S,P){do{const M=x.charCodeAt(S);if(M!==32&&M!==9)return S}while(++S<P);return P}function f(x,S,P){for(;S>P;){const M=x.charCodeAt(--S);if(M!==32&&M!==9)return S+1}return P}function p(x,S,P){const M=(P==null?void 0:P.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const D=M(S);if(!e.test(D))throw new TypeError(`argument val is invalid: ${S}`);let j=x+"="+D;if(!P)return j;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);j+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);j+="; Domain="+P.domain}if(P.path){if(!i.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);j+="; Path="+P.path}if(P.expires){if(!_(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);j+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(j+="; HttpOnly"),P.secure&&(j+="; Secure"),P.partitioned&&(j+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return j}function v(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function _(x){return o.call(x)==="[object Date]"}return Ja}sC();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hv="popstate";function oC(t={}){function e(i,o){let{pathname:a,search:u,hash:h}=i.location;return If("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:gl(o)}return lC(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function aC(){return Math.random().toString(36).substring(2,10)}function dv(t,e){return{usr:t.state,key:t.key,idx:e}}function If(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xo(e):e,state:n,key:e&&e.key||i||aC()}}function gl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function lC(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,h="POP",f=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function _(){h="POP";let D=v(),j=D==null?null:D-p;p=D,f&&f({action:h,location:M.location,delta:j})}function x(D,j){h="PUSH";let $=If(M.location,D,j);p=v()+1;let O=dv($,p),U=M.createHref($);try{u.pushState(O,"",U)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;o.location.assign(U)}a&&f&&f({action:h,location:M.location,delta:1})}function S(D,j){h="REPLACE";let $=If(M.location,D,j);p=v();let O=dv($,p),U=M.createHref($);u.replaceState(O,"",U),a&&f&&f({action:h,location:M.location,delta:0})}function P(D){let j=o.location.origin!=="null"?o.location.origin:o.location.href,$=typeof D=="string"?D:gl(D);return $=$.replace(/ $/,"%20"),it(j,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,j)}let M={get action(){return h},get location(){return t(o,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(hv,_),f=D,()=>{o.removeEventListener(hv,_),f=null}},createHref(D){return e(o,D)},createURL:P,encodeLocation(D){let j=P(D);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:x,replace:S,go(D){return u.go(D)}};return M}function Z_(t,e,n="/"){return uC(t,e,n,!1)}function uC(t,e,n,i){let o=typeof e=="string"?Xo(e):e,a=Ni(o.pathname||"/",n);if(a==null)return null;let u=ew(t);cC(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=xC(a);h=_C(u[f],p,i)}return h}function ew(t,e=[],n=[],i=""){let o=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(it(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=Hr([i,f.relativePath]),v=n.concat(f);a.children&&a.children.length>0&&(it(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ew(a.children,e,v,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:yC(p,a.index),routesMeta:v})};return t.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let f of tw(a.path))o(a,u,f)}),e}function tw(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=tw(i.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function cC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:vC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var hC=/^:[\w-]+$/,dC=3,fC=2,pC=1,mC=10,gC=-2,fv=t=>t==="*";function yC(t,e){let n=t.split("/"),i=n.length;return n.some(fv)&&(i+=gC),e&&(i+=fC),n.filter(o=>!fv(o)).reduce((o,a)=>o+(hC.test(a)?dC:a===""?pC:mC),i)}function vC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function _C(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],p=h===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",_=kc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),x=f.route;if(!_&&p&&n&&!i[i.length-1].route.index&&(_=kc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!_)return null;Object.assign(o,_.params),u.push({params:o,pathname:Hr([a,_.pathname]),pathnameBase:CC(Hr([a,_.pathnameBase])),route:x}),_.pathnameBase!=="/"&&(a=Hr([a,_.pathnameBase]))}return u}function kc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=wC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:_},x)=>{if(v==="*"){let P=h[x]||"";u=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const S=h[x];return _&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function wC(t,e=!1,n=!0){wr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function xC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ni(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function EC(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Xo(t):t;return{pathname:n?n.startsWith("/")?n:TC(n,e):e,search:AC(i),hash:PC(o)}}function TC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function rf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function SC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nw(t){let e=SC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function rw(t,e,n,i=!1){let o;typeof t=="string"?o=Xo(t):(o={...t},it(!o.pathname||!o.pathname.includes("?"),rf("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),rf("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),rf("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=n;else{let _=e.length-1;if(!i&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),_-=1;o.pathname=x.join("/")}h=_>=0?e[_]:"/"}let f=EC(o,h),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var Hr=t=>t.join("/").replace(/\/\/+/g,"/"),CC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),AC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,PC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var iw=["POST","PUT","PATCH","DELETE"];new Set(iw);var RC=["GET",...iw];new Set(RC);var Yo=N.createContext(null);Yo.displayName="DataRouter";var sh=N.createContext(null);sh.displayName="DataRouterState";var sw=N.createContext({isTransitioning:!1});sw.displayName="ViewTransition";var bC=N.createContext(new Map);bC.displayName="Fetchers";var kC=N.createContext(null);kC.displayName="Await";var Sr=N.createContext(null);Sr.displayName="Navigation";var Dl=N.createContext(null);Dl.displayName="Location";var er=N.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var Ep=N.createContext(null);Ep.displayName="RouteError";function NC(t,{relative:e}={}){it(Vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=N.useContext(Sr),{hash:o,pathname:a,search:u}=Ll(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:Hr([n,a])),i.createHref({pathname:h,search:u,hash:o})}function Vl(){return N.useContext(Dl)!=null}function $i(){return it(Vl(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Dl).location}var ow="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function aw(t){N.useContext(Sr).static||N.useLayoutEffect(t)}function Ml(){let{isDataRoute:t}=N.useContext(er);return t?qC():DC()}function DC(){it(Vl(),"useNavigate() may be used only in the context of a <Router> component.");let t=N.useContext(Yo),{basename:e,navigator:n}=N.useContext(Sr),{matches:i}=N.useContext(er),{pathname:o}=$i(),a=JSON.stringify(nw(i)),u=N.useRef(!1);return aw(()=>{u.current=!0}),N.useCallback((f,p={})=>{if(wr(u.current,ow),!u.current)return;if(typeof f=="number"){n.go(f);return}let v=rw(f,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Hr([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,a,o,t])}var VC=N.createContext(null);function MC(t){let e=N.useContext(er).outlet;return e&&N.createElement(VC.Provider,{value:t},e)}function lw(){let{matches:t}=N.useContext(er),e=t[t.length-1];return e?e.params:{}}function Ll(t,{relative:e}={}){let{matches:n}=N.useContext(er),{pathname:i}=$i(),o=JSON.stringify(nw(n));return N.useMemo(()=>rw(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function LC(t,e){return uw(t,e)}function uw(t,e,n,i){var $;it(Vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=N.useContext(Sr),{matches:u}=N.useContext(er),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",_=h&&h.route;{let O=_&&_.path||"";cw(p,!_||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let x=$i(),S;if(e){let O=typeof e=="string"?Xo(e):e;it(v==="/"||(($=O.pathname)==null?void 0:$.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${O.pathname}" was given in the \`location\` prop.`),S=O}else S=x;let P=S.pathname||"/",M=P;if(v!=="/"){let O=v.replace(/^\//,"").split("/");M="/"+P.replace(/^\//,"").split("/").slice(O.length).join("/")}let D=!a&&n&&n.matches&&n.matches.length>0?n.matches:Z_(t,{pathname:M});wr(_||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),wr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=UC(D&&D.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:Hr([v,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?v:Hr([v,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),u,n,i);return e&&j?N.createElement(Dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},j):j}function OC(){let t=GC(),e=IC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:a},"ErrorBoundary")," or"," ",N.createElement("code",{style:a},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:o},n):null,u)}var jC=N.createElement(OC,null),FC=class extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?N.createElement(er.Provider,{value:this.props.routeContext},N.createElement(Ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function BC({routeContext:t,match:e,children:n}){let i=N.useContext(Yo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(er.Provider,{value:t},n)}function UC(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);it(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(n)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:v,errors:_}=n,x=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||x){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,p,v)=>{let _,x=!1,S=null,P=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||jC,u&&(h<0&&v===0?(cw("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,P=null):h===v&&(x=!0,P=p.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,v+1)),D=()=>{let j;return _?j=S:x?j=P:p.route.Component?j=N.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=f,N.createElement(BC,{match:p,routeContext:{outlet:f,matches:M,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?N.createElement(FC,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):D()},null)}function Tp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $C(t){let e=N.useContext(Yo);return it(e,Tp(t)),e}function zC(t){let e=N.useContext(sh);return it(e,Tp(t)),e}function WC(t){let e=N.useContext(er);return it(e,Tp(t)),e}function Sp(t){let e=WC(t),n=e.matches[e.matches.length-1];return it(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function HC(){return Sp("useRouteId")}function GC(){var i;let t=N.useContext(Ep),e=zC("useRouteError"),n=Sp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function qC(){let{router:t}=$C("useNavigate"),e=Sp("useNavigate"),n=N.useRef(!1);return aw(()=>{n.current=!0}),N.useCallback(async(o,a={})=>{wr(n.current,ow),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var pv={};function cw(t,e,n){!e&&!pv[t]&&(pv[t]=!0,wr(!1,n))}N.memo(KC);function KC({routes:t,future:e,state:n}){return uw(t,void 0,n,e)}function QC(t){return MC(t.context)}function ln(t){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function XC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1}){it(!Vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=N.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=Xo(n));let{pathname:f="/",search:p="",hash:v="",state:_=null,key:x="default"}=n,S=N.useMemo(()=>{let P=Ni(f,u);return P==null?null:{location:{pathname:P,search:p,hash:v,state:_,key:x},navigationType:i}},[u,f,p,v,_,x,i]);return wr(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:N.createElement(Sr.Provider,{value:h},N.createElement(Dl.Provider,{children:e,value:S}))}function YC({children:t,location:e}){return LC(Rf(t),e)}function Rf(t,e=[]){let n=[];return N.Children.forEach(t,(i,o)=>{if(!N.isValidElement(i))return;let a=[...e,o];if(i.type===N.Fragment){n.push.apply(n,Rf(i.props.children,a));return}it(i.type===ln,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Rf(i.props.children,a)),n.push(u)}),n}var wc="get",xc="application/x-www-form-urlencoded";function oh(t){return t!=null&&typeof t.tagName=="string"}function JC(t){return oh(t)&&t.tagName.toLowerCase()==="button"}function ZC(t){return oh(t)&&t.tagName.toLowerCase()==="form"}function eA(t){return oh(t)&&t.tagName.toLowerCase()==="input"}function tA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nA(t,e){return t.button===0&&(!e||e==="_self")&&!tA(t)}var lc=null;function rA(){if(lc===null)try{new FormData(document.createElement("form"),0),lc=!1}catch{lc=!0}return lc}var iA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sf(t){return t!=null&&!iA.has(t)?(wr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):t}function sA(t,e){let n,i,o,a,u;if(ZC(t)){let h=t.getAttribute("action");i=h?Ni(h,e):null,n=t.getAttribute("method")||wc,o=sf(t.getAttribute("enctype"))||xc,a=new FormData(t)}else if(JC(t)||eA(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?Ni(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||wc,o=sf(t.getAttribute("formenctype"))||sf(h.getAttribute("enctype"))||xc,a=new FormData(h,t),!rA()){let{name:p,type:v,value:_}=t;if(v==="image"){let x=p?`${p}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else p&&a.append(p,_)}}else{if(oh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wc,i=null,o=xc,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:u}}function Cp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function oA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function lA(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await oA(a,n);return u.links?u.links():[]}return[]}));return dA(i.flat(1).filter(aA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function mv(t,e,n,i,o,a){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>{var v;return n[p].pathname!==f.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{var _;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let x=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function uA(t,e){return cA(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function cA(t){return[...new Set(t)]}function hA(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function dA(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(hA(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function fA(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function pA(){let t=N.useContext(Yo);return Cp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function mA(){let t=N.useContext(sh);return Cp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Ap=N.createContext(void 0);Ap.displayName="FrameworkContext";function hw(){let t=N.useContext(Ap);return Cp(t,"You must render this element inside a <HydratedRouter> element"),t}function gA(t,e){let n=N.useContext(Ap),[i,o]=N.useState(!1),[a,u]=N.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:_}=e,x=N.useRef(null);N.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=j=>{j.forEach($=>{u($.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return x.current&&D.observe(x.current),()=>{D.disconnect()}}},[t]),N.useEffect(()=>{if(i){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[i]);let S=()=>{o(!0)},P=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:Za(h,S),onBlur:Za(f,P),onMouseEnter:Za(p,S),onMouseLeave:Za(v,P),onTouchStart:Za(_,S)}]:[!1,x,{}]}function Za(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function yA({page:t,...e}){let{router:n}=pA(),i=N.useMemo(()=>Z_(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?N.createElement(_A,{page:t,matches:i,...e}):null}function vA(t){let{manifest:e,routeModules:n}=hw(),[i,o]=N.useState([]);return N.useEffect(()=>{let a=!1;return lA(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),i}function _A({page:t,matches:e,...n}){let i=$i(),{manifest:o,routeModules:a}=hw(),{loaderData:u,matches:h}=mA(),f=N.useMemo(()=>mv(t,e,h,o,i,"data"),[t,e,h,o,i]),p=N.useMemo(()=>mv(t,e,h,o,i,"assets"),[t,e,h,o,i]),v=N.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,P=!1;if(e.forEach(D=>{var $;let j=o.routes[D.route.id];!j||!j.hasLoader||(!f.some(O=>O.route.id===D.route.id)&&D.route.id in u&&(($=a[D.route.id])!=null&&$.shouldRevalidate)||j.hasClientLoader?P=!0:S.add(D.route.id))}),S.size===0)return[];let M=fA(t);return P&&S.size>0&&M.searchParams.set("_routes",e.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[M.pathname+M.search]},[u,i,o,f,e,t,a]),_=N.useMemo(()=>uA(p,o),[p,o]),x=vA(p);return N.createElement(N.Fragment,null,v.map(S=>N.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>N.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),x.map(({key:S,link:P})=>N.createElement("link",{key:S,...P})))}function wA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dw&&(window.__reactRouterVersion="7.1.5")}catch{}function xA({basename:t,children:e,window:n}){let i=N.useRef();i.current==null&&(i.current=oC({window:n,v5Compat:!0}));let o=i.current,[a,u]=N.useState({action:o.action,location:o.location}),h=N.useCallback(f=>{N.startTransition(()=>u(f))},[u]);return N.useLayoutEffect(()=>o.listen(h),[o,h]),N.createElement(XC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var fw=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pr=N.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:v,viewTransition:_,...x},S){let{basename:P}=N.useContext(Sr),M=typeof p=="string"&&fw.test(p),D,j=!1;if(typeof p=="string"&&M&&(D=p,dw))try{let I=new URL(window.location.href),V=p.startsWith("//")?new URL(I.protocol+p):new URL(p),F=Ni(V.pathname,P);V.origin===I.origin&&F!=null?p=F+V.search+V.hash:j=!0}catch{wr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=NC(p,{relative:o}),[O,U,z]=gA(i,x),X=CA(p,{replace:u,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:_});function R(I){e&&e(I),I.defaultPrevented||X(I)}let A=N.createElement("a",{...x,...z,href:D||$,onClick:j||a?e:R,ref:wA(S,U),target:f,"data-discover":!M&&n==="render"?"true":void 0});return O&&!M?N.createElement(N.Fragment,null,A,N.createElement(yA,{page:$})):A});pr.displayName="Link";var EA=N.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...p},v){let _=Ll(u,{relative:p.relative}),x=$i(),S=N.useContext(sh),{navigator:P,basename:M}=N.useContext(Sr),D=S!=null&&bA(_)&&h===!0,j=P.encodeLocation?P.encodeLocation(_).pathname:_.pathname,$=x.pathname,O=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||($=$.toLowerCase(),O=O?O.toLowerCase():null,j=j.toLowerCase()),O&&M&&(O=Ni(O,M)||O);const U=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let z=$===j||!o&&$.startsWith(j)&&$.charAt(U)==="/",X=O!=null&&(O===j||!o&&O.startsWith(j)&&O.charAt(j.length)==="/"),R={isActive:z,isPending:X,isTransitioning:D},A=z?e:void 0,I;typeof i=="function"?I=i(R):I=[i,z?"active":null,X?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(R):a;return N.createElement(pr,{...p,"aria-current":A,className:I,ref:v,style:V,to:u,viewTransition:h},typeof f=="function"?f(R):f)});EA.displayName="NavLink";var TA=N.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:u=wc,action:h,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:_,...x},S)=>{let P=IA(),M=RA(h,{relative:p}),D=u.toLowerCase()==="get"?"get":"post",j=typeof h=="string"&&fw.test(h),$=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let U=O.nativeEvent.submitter,z=(U==null?void 0:U.getAttribute("formmethod"))||u;P(U||O.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:o,state:a,relative:p,preventScrollReset:v,viewTransition:_})};return N.createElement("form",{ref:S,method:D,action:M,onSubmit:i?f:$,...x,"data-discover":!j&&t==="render"?"true":void 0})});TA.displayName="Form";function SA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pw(t){let e=N.useContext(Yo);return it(e,SA(t)),e}function CA(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=Ml(),f=$i(),p=Ll(t,{relative:a});return N.useCallback(v=>{if(nA(v,e)){v.preventDefault();let _=n!==void 0?n:gl(f)===gl(p);h(t,{replace:_,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,p,n,i,e,t,o,a,u])}var AA=0,PA=()=>`__${String(++AA)}__`;function IA(){let{router:t}=pw("useSubmit"),{basename:e}=N.useContext(Sr),n=HC();return N.useCallback(async(i,o={})=>{let{action:a,method:u,encType:h,formData:f,body:p}=sA(i,e);if(o.navigate===!1){let v=o.fetcherKey||PA();await t.fetch(v,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function RA(t,{relative:e}={}){let{basename:n}=N.useContext(Sr),i=N.useContext(er);it(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Ll(t||".",{relative:e})},u=$i();if(t==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let v=h.toString();a.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Hr([n,a.pathname])),gl(a)}function bA(t,e={}){let n=N.useContext(sw);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=pw("useViewTransitionState"),o=Ll(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Ni(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Ni(n.nextLocation.pathname,i)||n.nextLocation.pathname;return kc(o.pathname,u)!=null||kc(o.pathname,a)!=null}new TextEncoder;var kA=J_();const uc=wp(kA);function Nc(){return Nc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Nc.apply(null,arguments)}function Pp(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function bf(t,e){return bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bf(t,e)}function Ip(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,bf(t,e)}function NA(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function DA(t,e){t.classList?t.classList.add(e):NA(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function gv(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function VA(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=gv(t.className,e):t.setAttribute("class",gv(t.className&&t.className.baseVal||"",e))}const yv={disabled:!1},Dc=Mn.createContext(null);var mw=function(e){return e.scrollTop},tl="unmounted",vs="exited",_s="entering",Po="entered",kf="exiting",ei=function(t){Ip(e,t);function e(i,o){var a;a=t.call(this,i,o)||this;var u=o,h=u&&!u.isMounting?i.enter:i.appear,f;return a.appearStatus=null,i.in?h?(f=vs,a.appearStatus=_s):f=Po:i.unmountOnExit||i.mountOnEnter?f=tl:f=vs,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(o,a){var u=o.in;return u&&a.status===tl?{status:vs}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var a=null;if(o!==this.props){var u=this.state.status;this.props.in?u!==_s&&u!==Po&&(a=_s):(u===_s||u===Po)&&(a=kf)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,a,u,h;return a=u=h=o,o!=null&&typeof o!="number"&&(a=o.exit,u=o.enter,h=o.appear!==void 0?o.appear:u),{exit:a,enter:u,appear:h}},n.updateStatus=function(o,a){if(o===void 0&&(o=!1),a!==null)if(this.cancelNextCallback(),a===_s){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:uc.findDOMNode(this);u&&mw(u)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vs&&this.setState({status:tl})},n.performEnter=function(o){var a=this,u=this.props.enter,h=this.context?this.context.isMounting:o,f=this.props.nodeRef?[h]:[uc.findDOMNode(this),h],p=f[0],v=f[1],_=this.getTimeouts(),x=h?_.appear:_.enter;if(!o&&!u||yv.disabled){this.safeSetState({status:Po},function(){a.props.onEntered(p)});return}this.props.onEnter(p,v),this.safeSetState({status:_s},function(){a.props.onEntering(p,v),a.onTransitionEnd(x,function(){a.safeSetState({status:Po},function(){a.props.onEntered(p,v)})})})},n.performExit=function(){var o=this,a=this.props.exit,u=this.getTimeouts(),h=this.props.nodeRef?void 0:uc.findDOMNode(this);if(!a||yv.disabled){this.safeSetState({status:vs},function(){o.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:kf},function(){o.props.onExiting(h),o.onTransitionEnd(u.exit,function(){o.safeSetState({status:vs},function(){o.props.onExited(h)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},n.setNextCallback=function(o){var a=this,u=!0;return this.nextCallback=function(h){u&&(u=!1,a.nextCallback=null,o(h))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(o,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:uc.findDOMNode(this),h=o==null&&!this.props.addEndListener;if(!u||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],p=f[0],v=f[1];this.props.addEndListener(p,v)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===tl)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var h=Pp(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Mn.createElement(Dc.Provider,{value:null},typeof u=="function"?u(o,h):Mn.cloneElement(Mn.Children.only(u),h))},e}(Mn.Component);ei.contextType=Dc;ei.propTypes={};function Ao(){}ei.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ao,onEntering:Ao,onEntered:Ao,onExit:Ao,onExiting:Ao,onExited:Ao};ei.UNMOUNTED=tl;ei.EXITED=vs;ei.ENTERING=_s;ei.ENTERED=Po;ei.EXITING=kf;var MA=function(e,n){return e&&n&&n.split(" ").forEach(function(i){return DA(e,i)})},of=function(e,n){return e&&n&&n.split(" ").forEach(function(i){return VA(e,i)})},Rp=function(t){Ip(e,t);function e(){for(var i,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return i=t.call.apply(t,[this].concat(a))||this,i.appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(h,f){var p=i.resolveArguments(h,f),v=p[0],_=p[1];i.removeClasses(v,"exit"),i.addClass(v,_?"appear":"enter","base"),i.props.onEnter&&i.props.onEnter(h,f)},i.onEntering=function(h,f){var p=i.resolveArguments(h,f),v=p[0],_=p[1],x=_?"appear":"enter";i.addClass(v,x,"active"),i.props.onEntering&&i.props.onEntering(h,f)},i.onEntered=function(h,f){var p=i.resolveArguments(h,f),v=p[0],_=p[1],x=_?"appear":"enter";i.removeClasses(v,x),i.addClass(v,x,"done"),i.props.onEntered&&i.props.onEntered(h,f)},i.onExit=function(h){var f=i.resolveArguments(h),p=f[0];i.removeClasses(p,"appear"),i.removeClasses(p,"enter"),i.addClass(p,"exit","base"),i.props.onExit&&i.props.onExit(h)},i.onExiting=function(h){var f=i.resolveArguments(h),p=f[0];i.addClass(p,"exit","active"),i.props.onExiting&&i.props.onExiting(h)},i.onExited=function(h){var f=i.resolveArguments(h),p=f[0];i.removeClasses(p,"exit"),i.addClass(p,"exit","done"),i.props.onExited&&i.props.onExited(h)},i.resolveArguments=function(h,f){return i.props.nodeRef?[i.props.nodeRef.current,h]:[h,f]},i.getClassNames=function(h){var f=i.props.classNames,p=typeof f=="string",v=p&&f?f+"-":"",_=p?""+v+h:f[h],x=p?_+"-active":f[h+"Active"],S=p?_+"-done":f[h+"Done"];return{baseClassName:_,activeClassName:x,doneClassName:S}},i}var n=e.prototype;return n.addClass=function(o,a,u){var h=this.getClassNames(a)[u+"ClassName"],f=this.getClassNames("enter"),p=f.doneClassName;a==="appear"&&u==="done"&&p&&(h+=" "+p),u==="active"&&o&&mw(o),h&&(this.appliedClasses[a][u]=h,MA(o,h))},n.removeClasses=function(o,a){var u=this.appliedClasses[a],h=u.base,f=u.active,p=u.done;this.appliedClasses[a]={},h&&of(o,h),f&&of(o,f),p&&of(o,p)},n.render=function(){var o=this.props;o.classNames;var a=Pp(o,["classNames"]);return Mn.createElement(ei,Nc({},a,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Mn.Component);Rp.defaultProps={classNames:""};Rp.propTypes={};function LA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bp(t,e){var n=function(a){return e&&N.isValidElement(a)?e(a):a},i=Object.create(null);return t&&N.Children.map(t,function(o){return o}).forEach(function(o){i[o.key]=n(o)}),i}function OA(t,e){t=t||{},e=e||{};function n(v){return v in e?e[v]:t[v]}var i=Object.create(null),o=[];for(var a in t)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var u,h={};for(var f in e){if(i[f])for(u=0;u<i[f].length;u++){var p=i[f][u];h[i[f][u]]=n(p)}h[f]=n(f)}for(u=0;u<o.length;u++)h[o[u]]=n(o[u]);return h}function Es(t,e,n){return n[e]!=null?n[e]:t.props[e]}function jA(t,e){return bp(t.children,function(n){return N.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Es(n,"appear",t),enter:Es(n,"enter",t),exit:Es(n,"exit",t)})})}function FA(t,e,n){var i=bp(t.children),o=OA(e,i);return Object.keys(o).forEach(function(a){var u=o[a];if(N.isValidElement(u)){var h=a in e,f=a in i,p=e[a],v=N.isValidElement(p)&&!p.props.in;f&&(!h||v)?o[a]=N.cloneElement(u,{onExited:n.bind(null,u),in:!0,exit:Es(u,"exit",t),enter:Es(u,"enter",t)}):!f&&h&&!v?o[a]=N.cloneElement(u,{in:!1}):f&&h&&N.isValidElement(p)&&(o[a]=N.cloneElement(u,{onExited:n.bind(null,u),in:p.props.in,exit:Es(u,"exit",t),enter:Es(u,"enter",t)}))}}),o}var BA=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},UA={component:"div",childFactory:function(e){return e}},kp=function(t){Ip(e,t);function e(i,o){var a;a=t.call(this,i,o)||this;var u=a.handleExited.bind(LA(a));return a.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,a){var u=a.children,h=a.handleExited,f=a.firstRender;return{children:f?jA(o,h):FA(o,u,h),firstRender:!1}},n.handleExited=function(o,a){var u=bp(this.props.children);o.key in u||(o.props.onExited&&o.props.onExited(a),this.mounted&&this.setState(function(h){var f=Nc({},h.children);return delete f[o.key],{children:f}}))},n.render=function(){var o=this.props,a=o.component,u=o.childFactory,h=Pp(o,["component","childFactory"]),f=this.state.contextValue,p=BA(this.state.children).map(u);return delete h.appear,delete h.enter,delete h.exit,a===null?Mn.createElement(Dc.Provider,{value:f},p):Mn.createElement(Dc.Provider,{value:f},Mn.createElement(a,h,p))},e}(Mn.Component);kp.propTypes={};kp.defaultProps=UA;/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gw=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:u,...h},f)=>N.createElement("svg",{ref:f,...zA,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:gw("lucide",o),...h},[...u.map(([p,v])=>N.createElement(p,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=(t,e)=>{const n=N.forwardRef(({className:i,...o},a)=>N.createElement(WA,{ref:a,iconNode:e,className:gw(`lucide-${$A(t)}`,i),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],qA=HA("Dog",GA);function KA(){const t=$i(),[e,n]=N.useState(!1),{isDarkMode:i,toggleTheme:o}=N.useContext(qt),a=[{name:"Home",href:"/"},{name:"Blog",href:"/blog"},{name:"Products",href:"/products"},{name:"Contact",href:"/contact"}],u=()=>n(!e);return T.jsxs("nav",{className:`fixed top-0 left-0 w-full z-20 shadow-md transition-colors duration-300 ease-in-out ${i?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:[T.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[T.jsx("div",{className:"md:hidden",children:T.jsxs("button",{onClick:u,className:"focus:outline-none","aria-label":"Toggle menu",children:[T.jsx("span",{className:`block w-6 h-1 mb-1.5 transition-all duration-300 ${i?"bg-stone-400":"bg-red-800"} ${e?"rotate-45 translate-y-2.5":""}`}),T.jsx("span",{className:`block w-6 h-1 mb-1.5 transition-all duration-300 ${i?"bg-stone-400":"bg-red-800"} ${e?"opacity-0":""}`}),T.jsx("span",{className:`block w-6 h-1 transition-all duration-300 ${i?"bg-stone-400":"bg-red-800"} ${e?"-rotate-45 -translate-y-2.5":""}`})]})}),T.jsx("div",{className:"flex-grow text-center",children:T.jsxs(pr,{to:"/",className:"flex justify-center items-center space-x-2",onClick:()=>n(!1),children:[T.jsx(qA,{className:`w-6 h-6 ${i?"text-stone-400":"text-red-800"}`}),T.jsx("span",{className:"text-xl font-bold",children:"Aussie Gut Pack"})]})}),T.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[a.map(h=>T.jsx(pr,{to:h.href,className:`px-3 py-2 rounded-md transition-colors duration-200 ${t.pathname===h.href?i?"bg-red-800 text-white":"bg-red-100 text-red-800":i?"hover:bg-red-900":"hover:bg-red-200"}`,children:h.name},h.href)),T.jsx("button",{onClick:o,className:"px-3 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:i?"Light":"Dark"})]}),T.jsx("div",{className:"md:hidden",children:T.jsx("button",{onClick:o,className:"px-3 py-1 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:i?"L":"D"})})]}),e&&T.jsx("div",{className:`md:hidden flex flex-col space-y-2 py-4 px-6 transition-colors duration-300 ease-in-out ${i?"bg-stone-900 text-stone-400":"bg-white text-red-800"}`,children:a.map(h=>T.jsx(pr,{to:h.href,className:`px-3 py-2 rounded-md transition-colors duration-200 ${t.pathname===h.href?i?"bg-red-800 text-white":"bg-red-100 text-red-800":i?"hover:bg-red-900":"hover:bg-red-200"}`,onClick:()=>n(!1),children:h.name},h.href))})]})}function QA(){const{isDarkMode:t}=N.useContext(qt),e=[{name:"Facebook",icon:"fab fa-facebook-f",url:"https://facebook.com"},{name:"Twitter/X",icon:"fab fa-x-twitter",url:"https://x.com"},{name:"Instagram",icon:"fab fa-instagram",url:"https://instagram.com"},{name:"LinkedIn",icon:"fab fa-linkedin-in",url:"https://linkedin.com"},{name:"YouTube",icon:"fab fa-youtube",url:"https://youtube.com"},{name:"Pinterest",icon:"fab fa-pinterest-p",url:"https://pinterest.com"},{name:"TikTok",icon:"fab fa-tiktok",url:"https://tiktok.com"},{name:"GitHub",icon:"fab fa-github",url:"https://github.com"}];return T.jsxs("div",{className:`relative min-h-screen ${t?"bg-stone-900":"bg-white"}`,children:[T.jsx(KA,{}),T.jsx("main",{className:"container mx-auto px-4 py-8 md:pt-16",children:T.jsx(QC,{})}),T.jsxs("footer",{className:`py-4 text-center text-sm backdrop-blur-sm ${t?"bg-stone-900/80 text-white":"bg-white/80 text-stone-600"}`,children:[T.jsx("div",{className:"mb-2",children:"© 2025 Aussie Gut Pack - Your Gut Health Companion"}),T.jsx("div",{className:"flex justify-center space-x-4",children:e.map(n=>T.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:`text-lg transition-colors duration-300 ${t?"text-stone-400 hover:text-stone-200":"text-stone-600 hover:text-red-800"}`,"aria-label":`Follow us on ${n.name}`,children:T.jsx("i",{className:n.icon})},n.name))})]})]})}function Dn({to:t,children:e,variant:n,className:i,...o}){const a="px-4 py-2 rounded transition-colors duration-300 ease-in-out",u=n==="primary"?"bg-red-800 text-white hover:bg-red-900":"bg-stone-200 text-red-600 hover:bg-stone-300";return t?T.jsx(pr,{to:t,className:`${a} ${u} ${i}`,...o,children:e}):T.jsx("button",{className:`${a} ${u} ${i}`,...o,children:e})}const XA="/aussie-gut-pack/assets/aussie-BleX4DhZ.png",YA="/aussie-gut-pack/assets/goggins-BJp9afAd.png",vv=[XA,YA],JA=()=>{const[t,e]=N.useState(0);return N.useEffect(()=>{const n=setInterval(()=>{e(i=>(i+1)%vv.length)},5e3);return()=>clearInterval(n)},[]),T.jsx("div",{className:"absolute inset-0 w-full h-full overflow-hidden bg-gray-900",children:vv.map((n,i)=>T.jsx("div",{className:`absolute inset-0 w-[120%] h-full bg-cover bg-center transition-opacity duration-1000 ease-in-out ${i===t?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${n})`}},i))})},Np=N.createContext({});function Dp(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const Vp=typeof window<"u",yw=Vp?N.useLayoutEffect:N.useEffect,ah=N.createContext(null),Mp=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class ZA extends N.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,o=i instanceof HTMLElement&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function e1({children:t,isPresent:e,anchorX:n}){const i=N.useId(),o=N.useRef(null),a=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=N.useContext(Mp);return N.useInsertionEffect(()=>{const{width:h,height:f,top:p,left:v,right:_}=a.current;if(e||!o.current||!h||!f)return;const x=n==="left"?`left: ${v}`:`right: ${_}`;o.current.dataset.motionPopId=i;const S=document.createElement("style");return u&&(S.nonce=u),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[e]),T.jsx(ZA,{isPresent:e,childRef:o,sizeRef:a,children:N.cloneElement(t,{ref:o})})}const t1=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:a,mode:u,anchorX:h})=>{const f=Dp(n1),p=N.useId(),v=N.useCallback(x=>{f.set(x,!0);for(const S of f.values())if(!S)return;i&&i()},[f,i]),_=N.useMemo(()=>({id:p,initial:e,isPresent:n,custom:o,onExitComplete:v,register:x=>(f.set(x,!1),()=>f.delete(x))}),a?[Math.random(),v]:[n,v]);return N.useMemo(()=>{f.forEach((x,S)=>f.set(S,!1))},[n]),N.useEffect(()=>{!n&&!f.size&&i&&i()},[n]),u==="popLayout"&&(t=T.jsx(e1,{isPresent:n,anchorX:h,children:t})),T.jsx(ah.Provider,{value:_,children:t})};function n1(){return new Map}function vw(t=!0){const e=N.useContext(ah);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,a=N.useId();N.useEffect(()=>{if(t)return o(a)},[t]);const u=N.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,u]:[!0]}const cc=t=>t.key||"";function _v(t){const e=[];return N.Children.forEach(t,n=>{N.isValidElement(n)&&e.push(n)}),e}const wv=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:a="sync",propagate:u=!1,anchorX:h="left"})=>{const[f,p]=vw(u),v=N.useMemo(()=>_v(t),[t]),_=u&&!f?[]:v.map(cc),x=N.useRef(!0),S=N.useRef(v),P=Dp(()=>new Map),[M,D]=N.useState(v),[j,$]=N.useState(v);yw(()=>{x.current=!1,S.current=v;for(let z=0;z<j.length;z++){const X=cc(j[z]);_.includes(X)?P.delete(X):P.get(X)!==!0&&P.set(X,!1)}},[j,_.length,_.join("-")]);const O=[];if(v!==M){let z=[...v];for(let X=0;X<j.length;X++){const R=j[X],A=cc(R);_.includes(A)||(z.splice(X,0,R),O.push(R))}return a==="wait"&&O.length&&(z=O),$(_v(z)),D(v),null}const{forceRender:U}=N.useContext(Np);return T.jsx(T.Fragment,{children:j.map(z=>{const X=cc(z),R=u&&!f?!1:v===j||_.includes(X),A=()=>{if(P.has(X))P.set(X,!0);else return;let I=!0;P.forEach(V=>{V||(I=!1)}),I&&(U==null||U(),$(S.current),u&&(p==null||p()),i&&i())};return T.jsx(t1,{isPresent:R,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:a,onExitComplete:R?void 0:A,anchorX:h,children:z},X)})})};function Lp(t,e){t.indexOf(e)===-1&&t.push(e)}function Op(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const yn=t=>t;let _w=yn;const r1={useManualTiming:!1};function jp(t){let e;return()=>(e===void 0&&(e=t()),e)}const jo=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Fp{constructor(){this.subscriptions=[]}add(e){return Lp(this.subscriptions,e),()=>Op(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gr=t=>t*1e3,qr=t=>t/1e3;function ww(t,e){return e?t*(1e3/e):0}const i1=jp(()=>window.ScrollTimeline!==void 0);class s1{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(o=>{if(i1()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{i.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class o1 extends s1{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Bp(t,e){return t?t[e]||t.default||t:void 0}const Nf=2e4;function xw(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Nf;)e+=n,i=t.next(e);return e>=Nf?1/0:e}function Up(t){return typeof t=="function"}function xv(t,e){t.timeline=e,t.onfinish=null}const $p=t=>Array.isArray(t)&&typeof t[0]=="number",a1={linearEasing:void 0};function l1(t,e){const n=jp(t);return()=>{var i;return(i=a1[e])!==null&&i!==void 0?i:n()}}const Vc=l1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ew=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)i+=t(jo(0,o-1,a))+", ";return`linear(${i.substring(0,i.length-2)})`};function Tw(t){return!!(typeof t=="function"&&Vc()||!t||typeof t=="string"&&(t in Df||Vc())||$p(t)||Array.isArray(t)&&t.every(Tw))}const nl=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Df={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nl([0,.65,.55,1]),circOut:nl([.55,0,1,.45]),backIn:nl([.31,.01,.66,-.59]),backOut:nl([.33,1.53,.69,.99])};function Sw(t,e){if(t)return typeof t=="function"&&Vc()?Ew(t,e):$p(t)?nl(t):Array.isArray(t)?t.map(n=>Sw(n,e)||Df.easeOut):Df[t]}const hc=["read","resolveKeyframes","update","preRender","render","postRender"],Ev={value:null};function u1(t,e){let n=new Set,i=new Set,o=!1,a=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},f=0;function p(_){u.has(_)&&(v.schedule(_),t()),f++,_(h)}const v={schedule:(_,x=!1,S=!1)=>{const M=S&&o?n:i;return x&&u.add(_),M.has(_)||M.add(_),_},cancel:_=>{i.delete(_),u.delete(_)},process:_=>{if(h=_,o){a=!0;return}o=!0,[n,i]=[i,n],n.forEach(p),e&&Ev.value&&Ev.value.frameloop[e].push(f),f=0,n.clear(),o=!1,a&&(a=!1,v.process(_))}};return v}const c1=40;function Cw(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=hc.reduce((j,$)=>(j[$]=u1(a,e?$:void 0),j),{}),{read:h,resolveKeyframes:f,update:p,preRender:v,render:_,postRender:x}=u,S=()=>{const j=performance.now();n=!1,o.delta=i?1e3/60:Math.max(Math.min(j-o.timestamp,c1),1),o.timestamp=j,o.isProcessing=!0,h.process(o),f.process(o),p.process(o),v.process(o),_.process(o),x.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(S))},P=()=>{n=!0,i=!0,o.isProcessing||t(S)};return{schedule:hc.reduce((j,$)=>{const O=u[$];return j[$]=(U,z=!1,X=!1)=>(n||P(),O.schedule(U,z,X)),j},{}),cancel:j=>{for(let $=0;$<hc.length;$++)u[hc[$]].cancel(j)},state:o,steps:u}}const{schedule:qe,cancel:Di,state:Vt,steps:af}=Cw(typeof requestAnimationFrame<"u"?requestAnimationFrame:yn,!0),{schedule:zp}=Cw(queueMicrotask,!1);let Ec;function h1(){Ec=void 0}const mr={now:()=>(Ec===void 0&&mr.set(Vt.isProcessing||r1.useManualTiming?Vt.timestamp:performance.now()),Ec),set:t=>{Ec=t,queueMicrotask(h1)}},Yn={x:!1,y:!1};function Aw(){return Yn.x||Yn.y}function d1(t){return t==="x"||t==="y"?Yn[t]?null:(Yn[t]=!0,()=>{Yn[t]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}function f1(t,e,n){var i;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let o=document;const a=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function Pw(t,e){const n=f1(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function Tv(t){return!(t.pointerType==="touch"||Aw())}function p1(t,e,n={}){const[i,o,a]=Pw(t,n),u=h=>{if(!Tv(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const v=_=>{Tv(_)&&(p(_),f.removeEventListener("pointerleave",v))};f.addEventListener("pointerleave",v,o)};return i.forEach(h=>{h.addEventListener("pointerenter",u,o)}),a}function Sv(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const Iw=(t,e)=>e?t===e?!0:Iw(t,e.parentElement):!1,Wp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,m1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function g1(t){return m1.has(t.tagName)||t.tabIndex!==-1}const rl=new WeakSet;function Cv(t){return e=>{e.key==="Enter"&&t(e)}}function lf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const y1=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Cv(()=>{if(rl.has(n))return;lf(n,"down");const o=Cv(()=>{lf(n,"up")}),a=()=>lf(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Av(t){return Wp(t)&&!Aw()}function v1(t,e,n={}){const[i,o,a]=Pw(t,n),u=h=>{const f=h.currentTarget;if(!f||!Av(h)||rl.has(f))return;rl.add(f),Sv(h,"set");const p=e(f,h),v=(S,P)=>{f.removeEventListener("pointerup",_),f.removeEventListener("pointercancel",x),Sv(S,"release"),!(!Av(S)||!rl.has(f))&&(rl.delete(f),typeof p=="function"&&p(S,{success:P}))},_=S=>{(S.isTrusted?_1(S,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?v(S,!1):v(S,!(f instanceof Element)||Iw(f,S.target))},x=S=>{v(S,!1)};f.addEventListener("pointerup",_,o),f.addEventListener("pointercancel",x,o),f.addEventListener("lostpointercapture",x,o)};return i.forEach(h=>{h=n.useGlobalTarget?window:h;let f=!1;h instanceof HTMLElement&&(f=!0,!g1(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0)),h.addEventListener("pointerdown",u,o),f&&h.addEventListener("focus",p=>y1(p,o),o)}),a}function _1(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const Pv=30,w1=t=>!isNaN(parseFloat(t));class x1{constructor(e,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const a=mr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=mr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=w1(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Fp);const i=this.events[e].add(n);return e==="change"?()=>{i(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Pv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Pv);return ww(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yl(t,e){return new x1(t,e)}const Rw=N.createContext({strict:!1}),Iv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fo={};for(const t in Iv)Fo[t]={isEnabled:e=>Iv[t].some(n=>!!e[n])};function E1(t){for(const e in t)Fo[e]={...Fo[e],...t[e]}}const T1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Mc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||T1.has(t)}let bw=t=>!Mc(t);function S1(t){t&&(bw=e=>e.startsWith("on")?!Mc(e):t(e))}try{S1(require("@emotion/is-prop-valid").default)}catch{}function C1(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(bw(o)||n===!0&&Mc(o)||!e&&!Mc(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}function A1(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const lh=N.createContext({});function uh(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vl(t){return typeof t=="string"||Array.isArray(t)}const Hp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Gp=["initial",...Hp];function ch(t){return uh(t.animate)||Gp.some(e=>vl(t[e]))}function kw(t){return!!(ch(t)||t.variants)}function P1(t,e){if(ch(t)){const{initial:n,animate:i}=t;return{initial:n===!1||vl(n)?n:void 0,animate:vl(i)?i:void 0}}return t.inherit!==!1?e:{}}function I1(t){const{initial:e,animate:n}=P1(t,N.useContext(lh));return N.useMemo(()=>({initial:e,animate:n}),[Rv(e),Rv(n)])}function Rv(t){return Array.isArray(t)?t.join(" "):t}const R1=Symbol.for("motionComponentSymbol");function No(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function b1(t,e,n){return N.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):No(n)&&(n.current=i))},[e])}const qp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),k1="framerAppearId",Nw="data-"+qp(k1),Dw=N.createContext({});function N1(t,e,n,i,o){var a,u;const{visualElement:h}=N.useContext(lh),f=N.useContext(Rw),p=N.useContext(ah),v=N.useContext(Mp).reducedMotion,_=N.useRef(null);i=i||f.renderer,!_.current&&i&&(_.current=i(t,{visualState:e,parent:h,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:v}));const x=_.current,S=N.useContext(Dw);x&&!x.projection&&o&&(x.type==="html"||x.type==="svg")&&D1(_.current,n,o,S);const P=N.useRef(!1);N.useInsertionEffect(()=>{x&&P.current&&x.update(n,p)});const M=n[Nw],D=N.useRef(!!M&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,M))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,M)));return yw(()=>{x&&(P.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),zp.render(x.render),D.current&&x.animationState&&x.animationState.animateChanges())}),N.useEffect(()=>{x&&(!D.current&&x.animationState&&x.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,M)}),D.current=!1))}),x}function D1(t,e,n,i){const{layoutId:o,layout:a,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Vw(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||h&&No(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:p})}function Vw(t){if(t)return t.options.allowProjection!==!1?t.projection:Vw(t.parent)}function V1({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:o}){var a,u;t&&E1(t);function h(p,v){let _;const x={...N.useContext(Mp),...p,layoutId:M1(p)},{isStatic:S}=x,P=I1(p),M=i(p,S);if(!S&&Vp){L1();const D=O1(x);_=D.MeasureLayout,P.visualElement=N1(o,M,x,e,D.ProjectionNode)}return T.jsxs(lh.Provider,{value:P,children:[_&&P.visualElement?T.jsx(_,{visualElement:P.visualElement,...x}):null,n(o,p,b1(M,P.visualElement,v),M,S,P.visualElement)]})}h.displayName=`motion.${typeof o=="string"?o:`create(${(u=(a=o.displayName)!==null&&a!==void 0?a:o.name)!==null&&u!==void 0?u:""})`}`;const f=N.forwardRef(h);return f[R1]=o,f}function M1({layoutId:t}){const e=N.useContext(Np).id;return e&&t!==void 0?e+"-"+t:t}function L1(t,e){N.useContext(Rw).strict}function O1(t){const{drag:e,layout:n}=Fo;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Mw=t=>e=>typeof e=="string"&&e.startsWith(t),Kp=Mw("--"),j1=Mw("var(--"),Qp=t=>j1(t)?F1.test(t.split("/*")[0].trim()):!1,F1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_l={};function B1(t){for(const e in t)_l[e]=t[e],Kp(e)&&(_l[e].isCSSVariable=!0)}const Jo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Rs=new Set(Jo);function Lw(t,{layout:e,layoutId:n}){return Rs.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_l[t]||t==="opacity")}const Gt=t=>!!(t&&t.getVelocity),Ow=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Qr=(t,e,n)=>n>e?e:n<t?t:n,Zo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wl={...Zo,transform:t=>Qr(0,1,t)},dc={...Zo,default:1},Ol=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ci=Ol("deg"),gr=Ol("%"),Se=Ol("px"),U1=Ol("vh"),$1=Ol("vw"),bv={...gr,parse:t=>gr.parse(t)/100,transform:t=>gr.transform(t*100)},z1={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},W1={rotate:Ci,rotateX:Ci,rotateY:Ci,rotateZ:Ci,scale:dc,scaleX:dc,scaleY:dc,scaleZ:dc,skew:Ci,skewX:Ci,skewY:Ci,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:wl,originX:bv,originY:bv,originZ:Se},kv={...Zo,transform:Math.round},Xp={...z1,...W1,zIndex:kv,size:Se,fillOpacity:wl,strokeOpacity:wl,numOctaves:kv},H1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},G1=Jo.length;function q1(t,e,n){let i="",o=!0;for(let a=0;a<G1;a++){const u=Jo[a],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=Ow(h,Xp[u]);if(!f){o=!1;const v=H1[u]||u;i+=`${v}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function Yp(t,e,n){const{style:i,vars:o,transformOrigin:a}=t;let u=!1,h=!1;for(const f in e){const p=e[f];if(Rs.has(f)){u=!0;continue}else if(Kp(f)){o[f]=p;continue}else{const v=Ow(p,Xp[f]);f.startsWith("origin")?(h=!0,a[f]=v):i[f]=v}}if(e.transform||(u||n?i.transform=q1(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:v=0}=a;i.transformOrigin=`${f} ${p} ${v}`}}const Jp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jw(t,e,n){for(const i in e)!Gt(e[i])&&!Lw(i,n)&&(t[i]=e[i])}function K1({transformTemplate:t},e){return N.useMemo(()=>{const n=Jp();return Yp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Q1(t,e){const n=t.style||{},i={};return jw(i,n,t),Object.assign(i,K1(t,e)),i}function X1(t,e){const n={},i=Q1(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Y1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zp(t){return typeof t!="string"||t.includes("-")?!1:!!(Y1.indexOf(t)>-1||/[A-Z]/u.test(t))}const J1={offset:"stroke-dashoffset",array:"stroke-dasharray"},Z1={offset:"strokeDashoffset",array:"strokeDasharray"};function eP(t,e,n=1,i=0,o=!0){t.pathLength=1;const a=o?J1:Z1;t[a.offset]=Se.transform(-i);const u=Se.transform(e),h=Se.transform(n);t[a.array]=`${u} ${h}`}function Nv(t,e,n){return typeof t=="string"?t:Se.transform(e+n*t)}function tP(t,e,n){const i=Nv(e,t.x,t.width),o=Nv(n,t.y,t.height);return`${i} ${o}`}function em(t,{attrX:e,attrY:n,attrScale:i,originX:o,originY:a,pathLength:u,pathSpacing:h=1,pathOffset:f=0,...p},v,_){if(Yp(t,p,_),v){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:S,dimensions:P}=t;x.transform&&(P&&(S.transform=x.transform),delete x.transform),P&&(o!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=tP(P,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),i!==void 0&&(x.scale=i),u!==void 0&&eP(x,u,h,f,!1)}const Fw=()=>({...Jp(),attrs:{}}),tm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function nP(t,e,n,i){const o=N.useMemo(()=>{const a=Fw();return em(a,e,tm(i),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};jw(a,t.style,t),o.style={...a,...o.style}}return o}function rP(t=!1){return(n,i,o,{latestValues:a},u)=>{const f=(Zp(n)?nP:X1)(i,a,u,n),p=C1(i,typeof n=="string",t),v=n!==N.Fragment?{...p,...f,ref:o}:{},{children:_}=i,x=N.useMemo(()=>Gt(_)?_.get():_,[_]);return N.createElement(n,{...v,children:x})}}function Dv(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function nm(t,e,n,i){if(typeof e=="function"){const[o,a]=Dv(i);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=Dv(i);e=e(n!==void 0?n:t.custom,o,a)}return e}const Vf=t=>Array.isArray(t),iP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),sP=t=>Vf(t)?t[t.length-1]||0:t;function Tc(t){const e=Gt(t)?t.get():t;return iP(e)?e.toValue():e}function oP({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,o,a){const u={latestValues:aP(i,o,a,t),renderState:e()};return n&&(u.onMount=h=>n({props:i,current:h,...u}),u.onUpdate=h=>n(h)),u}const Bw=t=>(e,n)=>{const i=N.useContext(lh),o=N.useContext(ah),a=()=>oP(t,e,i,o);return n?a():Dp(a)};function aP(t,e,n,i){const o={},a=i(t,{});for(const x in a)o[x]=Tc(a[x]);let{initial:u,animate:h}=t;const f=ch(t),p=kw(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const _=v?h:u;if(_&&typeof _!="boolean"&&!uh(_)){const x=Array.isArray(_)?_:[_];for(let S=0;S<x.length;S++){const P=nm(t,x[S]);if(P){const{transitionEnd:M,transition:D,...j}=P;for(const $ in j){let O=j[$];if(Array.isArray(O)){const U=v?O.length-1:0;O=O[U]}O!==null&&(o[$]=O)}for(const $ in M)o[$]=M[$]}}}return o}function rm(t,e,n){var i;const{style:o}=t,a={};for(const u in o)(Gt(o[u])||e.style&&Gt(e.style[u])||Lw(u,t)||((i=n==null?void 0:n.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(a[u]=o[u]);return a}const lP={useVisualState:Bw({scrapeMotionValuesFromProps:rm,createRenderState:Jp})};function Uw(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function $w(t,{style:e,vars:n},i,o){Object.assign(t.style,e,o&&o.getProjectionStyles(i));for(const a in n)t.style.setProperty(a,n[a])}const zw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Ww(t,e,n,i){$w(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(zw.has(o)?o:qp(o),e.attrs[o])}function Hw(t,e,n){const i=rm(t,e,n);for(const o in t)if(Gt(t[o])||Gt(e[o])){const a=Jo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[a]=t[o]}return i}const Vv=["x","y","width","height","cx","cy","r"],uP={useVisualState:Bw({scrapeMotionValuesFromProps:Hw,createRenderState:Fw,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:o})=>{if(!n)return;let a=!!t.drag;if(!a){for(const h in o)if(Rs.has(h)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let h=0;h<Vv.length;h++){const f=Vv[h];t[f]!==e[f]&&(u=!0)}u&&qe.read(()=>{Uw(n,i),qe.render(()=>{em(i,o,tm(n.tagName),t.transformTemplate),Ww(n,i)})})}})};function cP(t,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...Zp(i)?uP:lP,preloadedFeatures:t,useRender:rP(o),createVisualElement:e,Component:i};return V1(u)}}function xl(t,e,n){const i=t.getProps();return nm(i,e,n!==void 0?n:i.custom,t)}const Gw=new Set(["width","height","top","left","right","bottom",...Jo]);function hP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yl(n))}function dP(t,e){const n=xl(t,e);let{transitionEnd:i={},transition:o={},...a}=n||{};a={...a,...i};for(const u in a){const h=sP(a[u]);hP(t,u,h)}}function fP(t){return!!(Gt(t)&&t.add)}function Mf(t,e){const n=t.getValue("willChange");if(fP(n))return n.add(e)}function qw(t){return t.props[Nw]}const Kw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,pP=1e-7,mP=12;function gP(t,e,n,i,o){let a,u,h=0;do u=e+(n-e)/2,a=Kw(u,i,o)-t,a>0?n=u:e=u;while(Math.abs(a)>pP&&++h<mP);return u}function jl(t,e,n,i){if(t===e&&n===i)return yn;const o=a=>gP(a,0,1,t,n);return a=>a===0||a===1?a:Kw(o(a),e,i)}const Qw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Xw=t=>e=>1-t(1-e),Yw=jl(.33,1.53,.69,.99),im=Xw(Yw),Jw=Qw(im),Zw=t=>(t*=2)<1?.5*im(t):.5*(2-Math.pow(2,-10*(t-1))),sm=t=>1-Math.sin(Math.acos(t)),ex=Xw(sm),tx=Qw(sm),nx=t=>/^0[^.\s]+$/u.test(t);function yP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nx(t):!0}const ll=t=>Math.round(t*1e5)/1e5,om=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vP(t){return t==null}const _P=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,am=(t,e)=>n=>!!(typeof n=="string"&&_P.test(n)&&n.startsWith(t)||e&&!vP(n)&&Object.prototype.hasOwnProperty.call(n,e)),rx=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,a,u,h]=i.match(om);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},wP=t=>Qr(0,255,t),uf={...Zo,transform:t=>Math.round(wP(t))},Ts={test:am("rgb","red"),parse:rx("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+uf.transform(t)+", "+uf.transform(e)+", "+uf.transform(n)+", "+ll(wl.transform(i))+")"};function xP(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Lf={test:am("#"),parse:xP,transform:Ts.transform},Do={test:am("hsl","hue"),parse:rx("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+gr.transform(ll(e))+", "+gr.transform(ll(n))+", "+ll(wl.transform(i))+")"},zt={test:t=>Ts.test(t)||Lf.test(t)||Do.test(t),parse:t=>Ts.test(t)?Ts.parse(t):Do.test(t)?Do.parse(t):Lf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ts.transform(t):Do.transform(t)},EP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function TP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(om))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(EP))===null||n===void 0?void 0:n.length)||0)>0}const ix="number",sx="color",SP="var",CP="var(",Mv="${}",AP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function El(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let a=0;const h=e.replace(AP,f=>(zt.test(f)?(i.color.push(a),o.push(sx),n.push(zt.parse(f))):f.startsWith(CP)?(i.var.push(a),o.push(SP),n.push(f)):(i.number.push(a),o.push(ix),n.push(parseFloat(f))),++a,Mv)).split(Mv);return{values:n,split:h,indexes:i,types:o}}function ox(t){return El(t).values}function ax(t){const{split:e,types:n}=El(t),i=e.length;return o=>{let a="";for(let u=0;u<i;u++)if(a+=e[u],o[u]!==void 0){const h=n[u];h===ix?a+=ll(o[u]):h===sx?a+=zt.transform(o[u]):a+=o[u]}return a}}const PP=t=>typeof t=="number"?0:t;function IP(t){const e=ox(t);return ax(t)(e.map(PP))}const Vi={test:TP,parse:ox,createTransformer:ax,getAnimatableNone:IP},RP=new Set(["brightness","contrast","saturate","opacity"]);function bP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(om)||[];if(!i)return t;const o=n.replace(i,"");let a=RP.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+o+")"}const kP=/\b([a-z-]*)\(.*?\)/gu,Of={...Vi,getAnimatableNone:t=>{const e=t.match(kP);return e?e.map(bP).join(" "):t}},NP={...Xp,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:Of,WebkitFilter:Of},lx=t=>NP[t];function ux(t,e){let n=lx(t);return n!==Of&&(n=Vi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const DP=new Set(["auto","none","0"]);function VP(t,e,n){let i=0,o;for(;i<t.length&&!o;){const a=t[i];typeof a=="string"&&!DP.has(a)&&El(a).values.length&&(o=t[i]),i++}if(o&&n)for(const a of e)t[a]=ux(n,o)}const Ss=t=>t*180/Math.PI,jf=t=>{const e=Ss(Math.atan2(t[1],t[0]));return Ff(e)},MP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:jf,rotateZ:jf,skewX:t=>Ss(Math.atan(t[1])),skewY:t=>Ss(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Ff=t=>(t=t%360,t<0&&(t+=360),t),Lv=jf,Ov=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),jv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),LP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ov,scaleY:jv,scale:t=>(Ov(t)+jv(t))/2,rotateX:t=>Ff(Ss(Math.atan2(t[6],t[5]))),rotateY:t=>Ff(Ss(Math.atan2(-t[2],t[0]))),rotateZ:Lv,rotate:Lv,skewX:t=>Ss(Math.atan(t[4])),skewY:t=>Ss(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Fv(t){return t.includes("scale")?1:0}function Bf(t,e){if(!t||t==="none")return Fv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=LP,o=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=MP,o=h}if(!o)return Fv(e);const a=i[e],u=o[1].split(",").map(jP);return typeof a=="function"?a(u):u[a]}const OP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Bf(n,e)};function jP(t){return parseFloat(t.trim())}const Bv=t=>t===Zo||t===Se,FP=new Set(["x","y","z"]),BP=Jo.filter(t=>!FP.has(t));function UP(t){const e=[];return BP.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Bo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Bf(e,"x"),y:(t,{transform:e})=>Bf(e,"y")};Bo.translateX=Bo.x;Bo.translateY=Bo.y;const As=new Set;let Uf=!1,$f=!1;function cx(){if($f){const t=Array.from(As).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=UP(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([a,u])=>{var h;(h=i.getValue(a))===null||h===void 0||h.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}$f=!1,Uf=!1,As.forEach(t=>t.complete()),As.clear()}function hx(){As.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($f=!0)})}function $P(){hx(),cx()}class lm{constructor(e,n,i,o,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(As.add(this),Uf||(Uf=!0,qe.read(hx),qe.resolveKeyframes(cx))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=o==null?void 0:o.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&n){const f=i.readValue(n,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),o&&u===void 0&&o.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),As.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,As.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const dx=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),zP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function WP(t){const e=zP.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function fx(t,e,n=1){const[i,o]=WP(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const u=a.trim();return dx(u)?parseFloat(u):u}return Qp(o)?fx(o,e,n+1):o}const px=t=>e=>e.test(t),HP={test:t=>t==="auto",parse:t=>t},mx=[Zo,Se,gr,Ci,$1,U1,HP],Uv=t=>mx.find(px(t));class gx extends lm{constructor(e,n,i,o,a){super(e,n,i,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Qp(p))){const v=fx(p,n.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Gw.has(i)||e.length!==2)return;const[o,a]=e,u=Uv(o),h=Uv(a);if(u!==h)if(Bv(u)&&Bv(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)yP(e[o])&&i.push(o);i.length&&VP(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const a=n.getValue(i);a&&a.jump(this.measuredOrigin,!1);const u=o.length-1,h=o[u];o[u]=Bo[i](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const $v=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vi.test(t)||t==="0")&&!t.startsWith("url("));function GP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function qP(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=$v(o,e),h=$v(a,e);return!u||!h?!1:GP(t)||(n==="spring"||Up(n))&&i}const KP=t=>t!==null;function hh(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(KP),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return!a||i===void 0?o[a]:i}const QP=40;class yx{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=mr.now(),this.options={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:a,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>QP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$P(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=mr.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:a,delay:u,onComplete:h,onUpdate:f,isGenerator:p}=this.options;if(!p&&!qP(e,i,o,a))if(u)this.options.duration=0;else{f&&f(hh(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,n);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...v},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const rt=(t,e,n)=>t+(e-t)*n;function cf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function XP({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,a=0,u=0;if(!e)o=a=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;o=cf(f,h,t+1/3),a=cf(f,h,t),u=cf(f,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function Lc(t,e){return n=>n>0?e:t}const hf=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},YP=[Lf,Ts,Do],JP=t=>YP.find(e=>e.test(t));function zv(t){const e=JP(t);if(!e)return!1;let n=e.parse(t);return e===Do&&(n=XP(n)),n}const Wv=(t,e)=>{const n=zv(t),i=zv(e);if(!n||!i)return Lc(t,e);const o={...n};return a=>(o.red=hf(n.red,i.red,a),o.green=hf(n.green,i.green,a),o.blue=hf(n.blue,i.blue,a),o.alpha=rt(n.alpha,i.alpha,a),Ts.transform(o))},ZP=(t,e)=>n=>e(t(n)),Fl=(...t)=>t.reduce(ZP),zf=new Set(["none","hidden"]);function eI(t,e){return zf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function tI(t,e){return n=>rt(t,e,n)}function um(t){return typeof t=="number"?tI:typeof t=="string"?Qp(t)?Lc:zt.test(t)?Wv:iI:Array.isArray(t)?vx:typeof t=="object"?zt.test(t)?Wv:nI:Lc}function vx(t,e){const n=[...t],i=n.length,o=t.map((a,u)=>um(a)(a,e[u]));return a=>{for(let u=0;u<i;u++)n[u]=o[u](a);return n}}function nI(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=um(t[o])(t[o],e[o]));return o=>{for(const a in i)n[a]=i[a](o);return n}}function rI(t,e){var n;const i=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],h=t.indexes[u][o[u]],f=(n=t.values[h])!==null&&n!==void 0?n:0;i[a]=f,o[u]++}return i}const iI=(t,e)=>{const n=Vi.createTransformer(e),i=El(t),o=El(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?zf.has(t)&&!o.values.length||zf.has(e)&&!i.values.length?eI(t,e):Fl(vx(rI(i,o),o.values),n):Lc(t,e)};function _x(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?rt(t,e,n):um(t)(t,e)}const sI=5;function wx(t,e,n){const i=Math.max(e-sI,0);return ww(n-t(i),e-i)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Hv=.001;function oI({duration:t=at.duration,bounce:e=at.bounce,velocity:n=at.velocity,mass:i=at.mass}){let o,a,u=1-e;u=Qr(at.minDamping,at.maxDamping,u),t=Qr(at.minDuration,at.maxDuration,qr(t)),u<1?(o=p=>{const v=p*u,_=v*t,x=v-n,S=Wf(p,u),P=Math.exp(-_);return Hv-x/S*P},a=p=>{const _=p*u*t,x=_*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,P=Math.exp(-_),M=Wf(Math.pow(p,2),u);return(-o(p)+Hv>0?-1:1)*((x-S)*P)/M}):(o=p=>{const v=Math.exp(-p*t),_=(p-n)*t+1;return-.001+v*_},a=p=>{const v=Math.exp(-p*t),_=(n-p)*(t*t);return v*_});const h=5/t,f=lI(o,a,h);if(t=Gr(t),isNaN(f))return{stiffness:at.stiffness,damping:at.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const aI=12;function lI(t,e,n){let i=n;for(let o=1;o<aI;o++)i=i-t(i)/e(i);return i}function Wf(t,e){return t*Math.sqrt(1-e*e)}const uI=["duration","bounce"],cI=["stiffness","damping","mass"];function Gv(t,e){return e.some(n=>t[n]!==void 0)}function hI(t){let e={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...t};if(!Gv(t,cI)&&Gv(t,uI))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,a=2*Qr(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:at.mass,stiffness:o,damping:a}}else{const n=oI(t);e={...e,...n,mass:at.mass},e.isResolvedFromDuration=!0}return e}function xx(t=at.visualDuration,e=at.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:v,duration:_,velocity:x,isResolvedFromDuration:S}=hI({...n,velocity:-qr(n.velocity||0)}),P=x||0,M=p/(2*Math.sqrt(f*v)),D=u-a,j=qr(Math.sqrt(f/v)),$=Math.abs(D)<5;i||(i=$?at.restSpeed.granular:at.restSpeed.default),o||(o=$?at.restDelta.granular:at.restDelta.default);let O;if(M<1){const z=Wf(j,M);O=X=>{const R=Math.exp(-M*j*X);return u-R*((P+M*j*D)/z*Math.sin(z*X)+D*Math.cos(z*X))}}else if(M===1)O=z=>u-Math.exp(-j*z)*(D+(P+j*D)*z);else{const z=j*Math.sqrt(M*M-1);O=X=>{const R=Math.exp(-M*j*X),A=Math.min(z*X,300);return u-R*((P+M*j*D)*Math.sinh(A)+z*D*Math.cosh(A))/z}}const U={calculatedDuration:S&&_||null,next:z=>{const X=O(z);if(S)h.done=z>=_;else{let R=0;M<1&&(R=z===0?Gr(P):wx(O,z,X));const A=Math.abs(R)<=i,I=Math.abs(u-X)<=o;h.done=A&&I}return h.value=h.done?u:X,h},toString:()=>{const z=Math.min(xw(U),Nf),X=Ew(R=>U.next(z*R).value,z,30);return z+"ms "+X}};return U}function qv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:v}){const _=t[0],x={done:!1,value:_},S=A=>h!==void 0&&A<h||f!==void 0&&A>f,P=A=>h===void 0?f:f===void 0||Math.abs(h-A)<Math.abs(f-A)?h:f;let M=n*e;const D=_+M,j=u===void 0?D:u(D);j!==D&&(M=j-_);const $=A=>-M*Math.exp(-A/i),O=A=>j+$(A),U=A=>{const I=$(A),V=O(A);x.done=Math.abs(I)<=p,x.value=x.done?j:V};let z,X;const R=A=>{S(x.value)&&(z=A,X=xx({keyframes:[x.value,P(x.value)],velocity:wx(O,A,x.value),damping:o,stiffness:a,restDelta:p,restSpeed:v}))};return R(0),{calculatedDuration:null,next:A=>{let I=!1;return!X&&z===void 0&&(I=!0,U(A),R(A)),z!==void 0&&A>=z?X.next(A-z):(!I&&U(A),x)}}}const dI=jl(.42,0,1,1),fI=jl(0,0,.58,1),Ex=jl(.42,0,.58,1),pI=t=>Array.isArray(t)&&typeof t[0]!="number",mI={linear:yn,easeIn:dI,easeInOut:Ex,easeOut:fI,circIn:sm,circInOut:tx,circOut:ex,backIn:im,backInOut:Jw,backOut:Yw,anticipate:Zw},Kv=t=>{if($p(t)){_w(t.length===4);const[e,n,i,o]=t;return jl(e,n,i,o)}else if(typeof t=="string")return mI[t];return t};function gI(t,e,n){const i=[],o=n||_x,a=t.length-1;for(let u=0;u<a;u++){let h=o(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||yn:e;h=Fl(f,h)}i.push(h)}return i}function yI(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const a=t.length;if(_w(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=gI(e,i,o),f=h.length,p=v=>{if(u&&v<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(v<t[_+1]);_++);const x=jo(t[_],t[_+1],v);return h[_](x)};return n?v=>p(Qr(t[0],t[a-1],v)):p}function vI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=jo(0,e,i);t.push(rt(n,1,o))}}function _I(t){const e=[0];return vI(e,t.length-1),e}function wI(t,e){return t.map(n=>n*e)}function xI(t,e){return t.map(()=>e||Ex).splice(0,t.length-1)}function Oc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=pI(i)?i.map(Kv):Kv(i),a={done:!1,value:e[0]},u=wI(n&&n.length===e.length?n:_I(e),t),h=yI(u,e,{ease:Array.isArray(o)?o:xI(e,o)});return{calculatedDuration:t,next:f=>(a.value=h(f),a.done=f>=t,a)}}const EI=t=>{const e=({timestamp:n})=>t(n);return{start:()=>qe.update(e,!0),stop:()=>Di(e),now:()=>Vt.isProcessing?Vt.timestamp:mr.now()}},TI={decay:qv,inertia:qv,tween:Oc,keyframes:Oc,spring:xx},SI=t=>t/100;class cm extends yx{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:i,element:o,keyframes:a}=this.options,u=(o==null?void 0:o.KeyframeResolver)||lm,h=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new u(a,h,n,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=this.options,h=Up(n)?n:TI[n]||Oc;let f,p;h!==Oc&&typeof e[0]!="number"&&(f=Fl(SI,_x(e[0],e[1])),e=[0,100]);const v=h({...this.options,keyframes:e});a==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-u})),v.calculatedDuration===null&&(v.calculatedDuration=xw(v));const{calculatedDuration:_}=v,x=_+o,S=x*(i+1)-o;return{generator:v,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:x,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:o,generator:a,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:p,totalDuration:v,resolvedDuration:_}=i;if(this.startTime===null)return a.next(0);const{delay:x,repeat:S,repeatType:P,repeatDelay:M,onUpdate:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const j=this.currentTime-x*(this.speed>=0?1:-1),$=this.speed>=0?j<0:j>v;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let O=this.currentTime,U=a;if(S){const A=Math.min(this.currentTime,v)/_;let I=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&I--,I=Math.min(I,S+1),!!(I%2)&&(P==="reverse"?(V=1-V,M&&(V-=M/_)):P==="mirror"&&(U=u)),O=Qr(0,1,V)*_}const z=$?{done:!1,value:f[0]}:U.next(O);h&&(z.value=h(z.value));let{done:X}=z;!$&&p!==null&&(X=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return R&&o!==void 0&&(z.value=hh(f,this.options,o)),D&&D(z.value),R&&this.finish(),z}get duration(){const{resolved:e}=this;return e?qr(e.calculatedDuration):0}get time(){return qr(this.currentTime)}set time(e){e=Gr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=qr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=EI,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const CI=new Set(["opacity","clipPath","filter","transform"]);function AI(t,e,n,{delay:i=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:h="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const v=Sw(h,o);return Array.isArray(v)&&(p.easing=v),t.animate(p,{delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const PI=jp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jc=10,II=2e4;function RI(t){return Up(t.type)||t.type==="spring"||!Tw(t.ease)}function bI(t,e){const n=new cm({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const o=[];let a=0;for(;!i.done&&a<II;)i=n.sample(a),o.push(i.value),a+=jc;return{times:void 0,keyframes:o,duration:a-jc,ease:"linear"}}const Tx={anticipate:Zw,backInOut:Jw,circInOut:tx};function kI(t){return t in Tx}class Qv extends yx{constructor(e){super(e);const{name:n,motionValue:i,element:o,keyframes:a}=this.options;this.resolver=new gx(a,(u,h)=>this.onKeyframesResolved(u,h),n,i,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:o,ease:a,type:u,motionValue:h,name:f,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof a=="string"&&Vc()&&kI(a)&&(a=Tx[a]),RI(this.options)){const{onComplete:_,onUpdate:x,motionValue:S,element:P,...M}=this.options,D=bI(e,M);e=D.keyframes,e.length===1&&(e[1]=e[0]),i=D.duration,o=D.times,a=D.ease,u="keyframes"}const v=AI(h.owner.current,f,e,{...this.options,duration:i,times:o,ease:a});return v.startTime=p??this.calcStartTime(),this.pendingTimeline?(xv(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:_}=this.options;h.set(hh(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:i,times:o,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return qr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return qr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Gr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return yn;const{animation:i}=n;xv(i,e)}return yn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:o,type:a,ease:u,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:v,onComplete:_,element:x,...S}=this.options,P=new cm({...S,keyframes:i,duration:o,type:a,ease:u,times:h,isGenerator:!0}),M=Gr(this.time);p.setWithVelocity(P.sample(M-jc).value,P.sample(M).value,jc)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:o,repeatType:a,damping:u,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return PI()&&i&&CI.has(i)&&!f&&!p&&!o&&a!=="mirror"&&u!==0&&h!=="inertia"}}const NI={type:"spring",stiffness:500,damping:25,restSpeed:10},DI=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),VI={type:"keyframes",duration:.8},MI={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LI=(t,{keyframes:e})=>e.length>2?VI:Rs.has(t)?t.startsWith("scale")?DI(e[1]):NI:MI;function OI({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:p,...v}){return!!Object.keys(v).length}const hm=(t,e,n,i={},o,a)=>u=>{const h=Bp(i,t)||{},f=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Gr(f);let v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:x=>{e.set(x),h.onUpdate&&h.onUpdate(x)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:o};OI(h)||(v={...v,...LI(t,v)}),v.duration&&(v.duration=Gr(v.duration)),v.repeatDelay&&(v.repeatDelay=Gr(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let _=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(_=!0)),v.allowFlatten=!h.type&&!h.ease,_&&!a&&e.get()!==void 0){const x=hh(v.keyframes,h);if(x!==void 0)return qe.update(()=>{v.onUpdate(x),v.onComplete()}),new o1([])}return!a&&Qv.supports(v)?new Qv(v):new cm(v)};function jI({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function Sx(t,e,{delay:n=0,transitionOverride:i,type:o}={}){var a;let{transition:u=t.getDefaultTransition(),transitionEnd:h,...f}=e;i&&(u=i);const p=[],v=o&&t.animationState&&t.animationState.getState()[o];for(const _ in f){const x=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),S=f[_];if(S===void 0||v&&jI(v,_))continue;const P={delay:n,...Bp(u||{},_)};let M=!1;if(window.MotionHandoffAnimation){const j=qw(t);if(j){const $=window.MotionHandoffAnimation(j,_,qe);$!==null&&(P.startTime=$,M=!0)}}Mf(t,_),x.start(hm(_,x,S,t.shouldReduceMotion&&Gw.has(_)?{type:!1}:P,t,M));const D=x.animation;D&&p.push(D)}return h&&Promise.all(p).then(()=>{qe.update(()=>{h&&dP(t,h)})}),p}function Hf(t,e,n={}){var i;const o=xl(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(a=n.transitionOverride);const u=o?()=>Promise.all(Sx(t,o,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:_,staggerDirection:x}=a;return FI(t,e,v+p,_,x,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,v]=f==="beforeChildren"?[u,h]:[h,u];return p().then(()=>v())}else return Promise.all([u(),h(n.delay)])}function FI(t,e,n=0,i=0,o=1,a){const u=[],h=(t.variantChildren.size-1)*i,f=o===1?(p=0)=>p*i:(p=0)=>h-p*i;return Array.from(t.variantChildren).sort(BI).forEach((p,v)=>{p.notify("AnimationStart",e),u.push(Hf(p,e,{...a,delay:n+f(v)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function BI(t,e){return t.sortNodePosition(e)}function UI(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(a=>Hf(t,a,n));i=Promise.all(o)}else if(typeof e=="string")i=Hf(t,e,n);else{const o=typeof e=="function"?xl(t,e,n.custom):e;i=Promise.all(Sx(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function Cx(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const $I=Gp.length;function Ax(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Ax(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$I;n++){const i=Gp[n],o=t.props[i];(vl(o)||o===!1)&&(e[i]=o)}return e}const zI=[...Hp].reverse(),WI=Hp.length;function HI(t){return e=>Promise.all(e.map(({animation:n,options:i})=>UI(t,n,i)))}function GI(t){let e=HI(t),n=Xv(),i=!0;const o=f=>(p,v)=>{var _;const x=xl(t,v,f==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(x){const{transition:S,transitionEnd:P,...M}=x;p={...p,...M,...P}}return p};function a(f){e=f(t)}function u(f){const{props:p}=t,v=Ax(t.parent)||{},_=[],x=new Set;let S={},P=1/0;for(let D=0;D<WI;D++){const j=zI[D],$=n[j],O=p[j]!==void 0?p[j]:v[j],U=vl(O),z=j===f?$.isActive:null;z===!1&&(P=D);let X=O===v[j]&&O!==p[j]&&U;if(X&&i&&t.manuallyAnimateOnMount&&(X=!1),$.protectedKeys={...S},!$.isActive&&z===null||!O&&!$.prevProp||uh(O)||typeof O=="boolean")continue;const R=qI($.prevProp,O);let A=R||j===f&&$.isActive&&!X&&U||D>P&&U,I=!1;const V=Array.isArray(O)?O:[O];let F=V.reduce(o(j),{});z===!1&&(F={});const{prevResolvedValues:W={}}=$,b={...W,...F},je=Ce=>{A=!0,x.has(Ce)&&(I=!0,x.delete(Ce)),$.needsAnimating[Ce]=!0;const ae=t.getValue(Ce);ae&&(ae.liveStyle=!1)};for(const Ce in b){const ae=F[Ce],ge=W[Ce];if(S.hasOwnProperty(Ce))continue;let ce=!1;Vf(ae)&&Vf(ge)?ce=!Cx(ae,ge):ce=ae!==ge,ce?ae!=null?je(Ce):x.add(Ce):ae!==void 0&&x.has(Ce)?je(Ce):$.protectedKeys[Ce]=!0}$.prevProp=O,$.prevResolvedValues=F,$.isActive&&(S={...S,...F}),i&&t.blockInitialAnimation&&(A=!1),A&&(!(X&&R)||I)&&_.push(...V.map(Ce=>({animation:Ce,options:{type:j}})))}if(x.size){const D={};if(typeof p.initial!="boolean"){const j=xl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(D.transition=j.transition)}x.forEach(j=>{const $=t.getBaseTarget(j),O=t.getValue(j);O&&(O.liveStyle=!0),D[j]=$??null}),_.push({animation:D})}let M=!!_.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),i=!1,M?e(_):Promise.resolve()}function h(f,p){var v;if(n[f].isActive===p)return Promise.resolve();(v=t.variantChildren)===null||v===void 0||v.forEach(x=>{var S;return(S=x.animationState)===null||S===void 0?void 0:S.setActive(f,p)}),n[f].isActive=p;const _=u(f);for(const x in n)n[x].protectedKeys={};return _}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Xv(),i=!0}}}function qI(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Cx(e,t):!1}function ys(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Xv(){return{animate:ys(!0),whileInView:ys(),whileHover:ys(),whileTap:ys(),whileDrag:ys(),whileFocus:ys(),exit:ys()}}class zi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class KI extends zi{constructor(e){super(e),e.animationState||(e.animationState=GI(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();uh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let QI=0;class XI extends zi{constructor(){super(...arguments),this.id=QI++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const YI={animation:{Feature:KI},exit:{Feature:XI}};function Tl(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Bl(t){return{point:{x:t.pageX,y:t.pageY}}}const JI=t=>e=>Wp(e)&&t(e,Bl(e));function ul(t,e,n,i){return Tl(t,e,JI(n),i)}function Px({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function ZI({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function eR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const Ix=1e-4,tR=1-Ix,nR=1+Ix,Rx=.01,rR=0-Rx,iR=0+Rx;function Jt(t){return t.max-t.min}function sR(t,e,n){return Math.abs(t-e)<=n}function Yv(t,e,n,i=.5){t.origin=i,t.originPoint=rt(e.min,e.max,t.origin),t.scale=Jt(n)/Jt(e),t.translate=rt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=tR&&t.scale<=nR||isNaN(t.scale))&&(t.scale=1),(t.translate>=rR&&t.translate<=iR||isNaN(t.translate))&&(t.translate=0)}function cl(t,e,n,i){Yv(t.x,e.x,n.x,i?i.originX:void 0),Yv(t.y,e.y,n.y,i?i.originY:void 0)}function Jv(t,e,n){t.min=n.min+e.min,t.max=t.min+Jt(e)}function oR(t,e,n){Jv(t.x,e.x,n.x),Jv(t.y,e.y,n.y)}function Zv(t,e,n){t.min=e.min-n.min,t.max=t.min+Jt(e)}function hl(t,e,n){Zv(t.x,e.x,n.x),Zv(t.y,e.y,n.y)}const e0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vo=()=>({x:e0(),y:e0()}),t0=()=>({min:0,max:0}),ht=()=>({x:t0(),y:t0()});function Nn(t){return[t("x"),t("y")]}function df(t){return t===void 0||t===1}function Gf({scale:t,scaleX:e,scaleY:n}){return!df(t)||!df(e)||!df(n)}function ws(t){return Gf(t)||bx(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function bx(t){return n0(t.x)||n0(t.y)}function n0(t){return t&&t!=="0%"}function Fc(t,e,n){const i=t-n,o=e*i;return n+o}function r0(t,e,n,i,o){return o!==void 0&&(t=Fc(t,o,i)),Fc(t,n,i)+e}function qf(t,e=0,n=1,i,o){t.min=r0(t.min,e,n,i,o),t.max=r0(t.max,e,n,i,o)}function kx(t,{x:e,y:n}){qf(t.x,e.translate,e.scale,e.originPoint),qf(t.y,n.translate,n.scale,n.originPoint)}const i0=.999999999999,s0=1.0000000000001;function aR(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let h=0;h<o;h++){a=n[h],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Lo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,kx(t,u)),i&&ws(a.latestValues)&&Lo(t,a.latestValues))}e.x<s0&&e.x>i0&&(e.x=1),e.y<s0&&e.y>i0&&(e.y=1)}function Mo(t,e){t.min=t.min+e,t.max=t.max+e}function o0(t,e,n,i,o=.5){const a=rt(t.min,t.max,o);qf(t,e,n,a,i)}function Lo(t,e){o0(t.x,e.x,e.scaleX,e.scale,e.originX),o0(t.y,e.y,e.scaleY,e.scale,e.originY)}function Nx(t,e){return Px(eR(t.getBoundingClientRect(),e))}function lR(t,e,n){const i=Nx(t,n),{scroll:o}=e;return o&&(Mo(i.x,o.offset.x),Mo(i.y,o.offset.y)),i}const Dx=({current:t})=>t?t.ownerDocument.defaultView:null,a0=(t,e)=>Math.abs(t-e);function uR(t,e){const n=a0(t.x,e.x),i=a0(t.y,e.y);return Math.sqrt(n**2+i**2)}class Vx{constructor(e,n,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=pf(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,S=uR(_.offset,{x:0,y:0})>=3;if(!x&&!S)return;const{point:P}=_,{timestamp:M}=Vt;this.history.push({...P,timestamp:M});const{onStart:D,onMove:j}=this.handlers;x||(D&&D(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,_)},this.handlePointerMove=(_,x)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=ff(x,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(_,x)=>{this.end();const{onEnd:S,onSessionEnd:P,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=pf(_.type==="pointercancel"?this.lastMoveEventInfo:ff(x,this.transformPagePoint),this.history);this.startEvent&&S&&S(_,D),P&&P(_,D)},!Wp(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.contextWindow=o||window;const u=Bl(e),h=ff(u,this.transformPagePoint),{point:f}=h,{timestamp:p}=Vt;this.history=[{...f,timestamp:p}];const{onSessionStart:v}=n;v&&v(e,pf(h,this.history)),this.removeListeners=Fl(ul(this.contextWindow,"pointermove",this.handlePointerMove),ul(this.contextWindow,"pointerup",this.handlePointerUp),ul(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Di(this.updatePoint)}}function ff(t,e){return e?{point:e(t.point)}:t}function l0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pf({point:t},e){return{point:t,delta:l0(t,Mx(e)),offset:l0(t,cR(e)),velocity:hR(e,.1)}}function cR(t){return t[0]}function Mx(t){return t[t.length-1]}function hR(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=Mx(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>Gr(e)));)n--;if(!i)return{x:0,y:0};const a=qr(o.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-i.x)/a,y:(o.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function dR(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?rt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?rt(n,t,i.max):Math.min(t,n)),t}function u0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function fR(t,{top:e,left:n,bottom:i,right:o}){return{x:u0(t.x,n,o),y:u0(t.y,e,i)}}function c0(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function pR(t,e){return{x:c0(t.x,e.x),y:c0(t.y,e.y)}}function mR(t,e){let n=.5;const i=Jt(t),o=Jt(e);return o>i?n=jo(e.min,e.max-i,t.min):i>o&&(n=jo(t.min,t.max-o,e.min)),Qr(0,1,n)}function gR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Kf=.35;function yR(t=Kf){return t===!1?t=0:t===!0&&(t=Kf),{x:h0(t,"left","right"),y:h0(t,"top","bottom")}}function h0(t,e,n){return{min:d0(t,e),max:d0(t,n)}}function d0(t,e){return typeof t=="number"?t:t[e]||0}const vR=new WeakMap;class _R{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bl(v).point)},a=(v,_)=>{const{drag:x,dragPropagation:S,onDragStart:P}=this.getProps();if(x&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=d1(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nn(D=>{let j=this.getAxisMotionValue(D).get()||0;if(gr.test(j)){const{projection:$}=this.visualElement;if($&&$.layout){const O=$.layout.layoutBox[D];O&&(j=Jt(O)*(parseFloat(j)/100))}}this.originPoint[D]=j}),P&&qe.postRender(()=>P(v,_)),Mf(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},u=(v,_)=>{const{dragPropagation:x,dragDirectionLock:S,onDirectionLock:P,onDrag:M}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:D}=_;if(S&&this.currentDirection===null){this.currentDirection=wR(D),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",_.point,D),this.updateAxis("y",_.point,D),this.visualElement.render(),M&&M(v,_)},h=(v,_)=>this.stop(v,_),f=()=>Nn(v=>{var _;return this.getAnimationState(v)==="paused"&&((_=this.getAxisMotionValue(v).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Vx(e,{onSessionStart:o,onStart:a,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Dx(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&qe.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!fc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=dR(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&No(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=fR(o.layoutBox,n):this.constraints=!1,this.elastic=yR(i),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Nn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=gR(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!No(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=lR(i,o.root,this.visualElement.getTransformPagePoint());let u=pR(o.layout.layoutBox,a);if(n){const h=n(ZI(u));this.hasMutatedConstraints=!!h,h&&(u=Px(h))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Nn(v=>{if(!fc(v,n,this.currentDirection))return;let _=f&&f[v]||{};u&&(_={min:0,max:0});const x=o?200:1e6,S=o?40:1e7,P={type:"inertia",velocity:i?e[v]:0,bounceStiffness:x,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(v,P)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Mf(this.visualElement,e),i.start(hm(e,i,0,n,this.visualElement,!1))}stopAnimation(){Nn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Nn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Nn(n=>{const{drag:i}=this.getProps();if(!fc(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:h}=o.layout.layoutBox[n];a.set(e[n]-rt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!No(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Nn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();o[u]=mR({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Nn(u=>{if(!fc(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(rt(f,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;vR.set(this.visualElement,this);const e=this.visualElement.current,n=ul(e,"pointerdown",f=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();No(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),qe.read(i);const u=Tl(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Nn(v=>{const _=this.getAxisMotionValue(v);_&&(this.originPoint[v]+=f[v].translate,_.set(_.get()+f[v].translate))}),this.visualElement.render())});return()=>{u(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Kf,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function fc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function wR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xR extends zi{constructor(e){super(e),this.removeGroupControls=yn,this.removeListeners=yn,this.controls=new _R(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yn}unmount(){this.removeGroupControls(),this.removeListeners()}}const f0=t=>(e,n)=>{t&&qe.postRender(()=>t(e,n))};class ER extends zi{constructor(){super(...arguments),this.removePointerDownListener=yn}onPointerDown(e){this.session=new Vx(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dx(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:f0(e),onStart:f0(n),onMove:i,onEnd:(a,u)=>{delete this.session,o&&qe.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=ul(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function p0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const el={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=p0(t,e.target.x),i=p0(t,e.target.y);return`${n}% ${i}%`}},TR={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=Vi.parse(t);if(o.length>5)return i;const a=Vi.createTransformer(t),u=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;o[0+u]/=h,o[1+u]/=f;const p=rt(h,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}};class SR extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:a}=e;B1(CR),a&&(n.group&&n.group.add(a),i&&i.register&&o&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Sc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:a}=this.props,u=i.projection;return u&&(u.isPresent=a,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||qe.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),zp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Lx(t){const[e,n]=vw(),i=N.useContext(Np);return T.jsx(SR,{...t,layoutGroup:i,switchLayoutGroup:N.useContext(Dw),isPresent:e,safeToRemove:n})}const CR={borderRadius:{...el,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:el,borderTopRightRadius:el,borderBottomLeftRadius:el,borderBottomRightRadius:el,boxShadow:TR};function AR(t,e,n){const i=Gt(t)?t:yl(t);return i.start(hm("",i,e,n)),i.animation}function PR(t){return t instanceof SVGElement&&t.tagName!=="svg"}const IR=(t,e)=>t.depth-e.depth;class RR{constructor(){this.children=[],this.isDirty=!1}add(e){Lp(this.children,e),this.isDirty=!0}remove(e){Op(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(IR),this.isDirty=!1,this.children.forEach(e)}}function bR(t,e){const n=mr.now(),i=({timestamp:o})=>{const a=o-n;a>=e&&(Di(i),t(a-e))};return qe.read(i,!0),()=>Di(i)}const Ox=["TopLeft","TopRight","BottomLeft","BottomRight"],kR=Ox.length,m0=t=>typeof t=="string"?parseFloat(t):t,g0=t=>typeof t=="number"||Se.test(t);function NR(t,e,n,i,o,a){o?(t.opacity=rt(0,n.opacity!==void 0?n.opacity:1,DR(i)),t.opacityExit=rt(e.opacity!==void 0?e.opacity:1,0,VR(i))):a&&(t.opacity=rt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let u=0;u<kR;u++){const h=`border${Ox[u]}Radius`;let f=y0(e,h),p=y0(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||g0(f)===g0(p)?(t[h]=Math.max(rt(m0(f),m0(p),i),0),(gr.test(p)||gr.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=rt(e.rotate||0,n.rotate||0,i))}function y0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const DR=jx(0,.5,ex),VR=jx(.5,.95,yn);function jx(t,e,n){return i=>i<t?0:i>e?1:n(jo(t,e,i))}function v0(t,e){t.min=e.min,t.max=e.max}function kn(t,e){v0(t.x,e.x),v0(t.y,e.y)}function _0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function w0(t,e,n,i,o){return t-=e,t=Fc(t,1/n,i),o!==void 0&&(t=Fc(t,1/o,i)),t}function MR(t,e=0,n=1,i=.5,o,a=t,u=t){if(gr.test(e)&&(e=parseFloat(e),e=rt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=rt(a.min,a.max,i);t===a&&(h-=e),t.min=w0(t.min,e,n,h,o),t.max=w0(t.max,e,n,h,o)}function x0(t,e,[n,i,o],a,u){MR(t,e[n],e[i],e[o],e.scale,a,u)}const LR=["x","scaleX","originX"],OR=["y","scaleY","originY"];function E0(t,e,n,i){x0(t.x,e,LR,n?n.x:void 0,i?i.x:void 0),x0(t.y,e,OR,n?n.y:void 0,i?i.y:void 0)}function T0(t){return t.translate===0&&t.scale===1}function Fx(t){return T0(t.x)&&T0(t.y)}function S0(t,e){return t.min===e.min&&t.max===e.max}function jR(t,e){return S0(t.x,e.x)&&S0(t.y,e.y)}function C0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Bx(t,e){return C0(t.x,e.x)&&C0(t.y,e.y)}function A0(t){return Jt(t.x)/Jt(t.y)}function P0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class FR{constructor(){this.members=[]}add(e){Lp(this.members,e),e.scheduleRender()}remove(e){if(Op(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function BR(t,e,n){let i="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||a||u)&&(i=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:_,rotateY:x,skewX:S,skewY:P}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),_&&(i+=`rotateX(${_}deg) `),x&&(i+=`rotateY(${x}deg) `),S&&(i+=`skewX(${S}deg) `),P&&(i+=`skewY(${P}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const mf=["","X","Y","Z"],UR={visibility:"hidden"},I0=1e3;let $R=0;function gf(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Ux(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=qw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",qe,!(o||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Ux(i)}function $x({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},h=e==null?void 0:e()){this.id=$R++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(HR),this.nodes.forEach(XR),this.nodes.forEach(YR),this.nodes.forEach(GR)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new RR)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Fp),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=PR(u),this.instance=u;const{layoutId:f,layout:p,visualElement:v}=this.options;if(v&&!v.current&&v.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||f)&&(this.isLayoutDirty=!0),t){let _;const x=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=bR(x,250),Sc.hasAnimatedSinceResize&&(Sc.hasAnimatedSinceResize=!1,this.nodes.forEach(b0))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&v&&(f||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:x,hasRelativeLayoutChanged:S,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||v.getDefaultTransition()||nb,{onLayoutAnimationStart:D,onLayoutAnimationComplete:j}=v.getProps(),$=!this.targetLayout||!Bx(this.targetLayout,P),O=!x&&S;if(this.options.layoutRoot||this.resumeFrom||O||x&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,O);const U={...Bp(M,"layout"),onPlay:D,onComplete:j};(v.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U)}else x||b0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Di(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JR),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Ux(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const _=this.path[v];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(R0);return}this.isUpdating||this.nodes.forEach(KR),this.isUpdating=!1,this.nodes.forEach(QR),this.nodes.forEach(zR),this.nodes.forEach(WR),this.clearAllSnapshots();const h=mr.now();Vt.delta=Qr(0,1e3/60,h-Vt.timestamp),Vt.timestamp=h,Vt.isProcessing=!0,af.update.process(Vt),af.preRender.process(Vt),af.render.process(Vt),Vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,zp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qR),this.sharedNodes.forEach(ZR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Jt(this.snapshot.measuredBox.x)&&!Jt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Fx(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;u&&(h||ws(this.latestValues)||v)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),rb(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return ht();const f=h.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(ib))){const{scroll:v}=this.root;v&&(Mo(f.x,v.offset.x),Mo(f.y,v.offset.y))}return f}removeElementScroll(u){var h;const f=ht();if(kn(f,u),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:_,options:x}=v;v!==this.root&&_&&x.layoutScroll&&(_.wasRoot&&kn(f,u),Mo(f.x,_.offset.x),Mo(f.y,_.offset.y))}return f}applyTransform(u,h=!1){const f=ht();kn(f,u);for(let p=0;p<this.path.length;p++){const v=this.path[p];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&Lo(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),ws(v.latestValues)&&Lo(f,v.latestValues)}return ws(this.latestValues)&&Lo(f,this.latestValues),f}removeTransform(u){const h=ht();kn(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!ws(p.latestValues))continue;Gf(p.latestValues)&&p.updateSnapshot();const v=ht(),_=p.measurePageBox();kn(v,_),E0(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return ws(this.latestValues)&&E0(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:x}=this.options;if(!(!this.layout||!(_||x))){if(this.resolvedRelativeTargetAt=Vt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),hl(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),oR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):kn(this.target,this.layout.layoutBox),kx(this.target,this.targetDelta)):kn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),hl(this.relativeTargetOrigin,this.target,S.target),kn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Gf(this.parent.latestValues)||bx(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Vt.timestamp&&(p=!1),p)return;const{layout:v,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||_))return;kn(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,S=this.treeScale.y;aR(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=ht());const{target:P}=h;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(_0(this.prevProjectionDelta.x,this.projectionDelta.x),_0(this.prevProjectionDelta.y,this.projectionDelta.y)),cl(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==S||!P0(this.projectionDelta.x,this.prevProjectionDelta.x)||!P0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vo(),this.projectionDelta=Vo(),this.projectionDeltaWithTransform=Vo()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},v={...this.latestValues},_=Vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const x=ht(),S=f?f.source:void 0,P=this.layout?this.layout.source:void 0,M=S!==P,D=this.getStack(),j=!D||D.members.length<=1,$=!!(M&&!j&&this.options.crossfade===!0&&!this.path.some(tb));this.animationProgress=0;let O;this.mixTargetDelta=U=>{const z=U/1e3;k0(_.x,u.x,z),k0(_.y,u.y,z),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hl(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),eb(this.relativeTarget,this.relativeTargetOrigin,x,z),O&&jR(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=ht()),kn(O,this.relativeTarget)),M&&(this.animationValues=v,NR(v,p,this.latestValues,z,$,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Di(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{Sc.hasAnimatedSinceResize=!0,this.currentAnimation=AR(0,I0,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(I0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:v}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&zx(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ht();const _=Jt(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+_;const x=Jt(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+x}kn(h,f),Lo(h,v),cl(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new FR),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&gf("z",u,p,this.animationValues);for(let v=0;v<mf.length;v++)gf(`rotate${mf[v]}`,u,p,this.animationValues),gf(`skew${mf[v]}`,u,p,this.animationValues);u.render();for(const v in p)u.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);u.scheduleRender()}getProjectionStyles(u){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return UR;const p={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Tc(u==null?void 0:u.pointerEvents)||"",p.transform=v?v(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const M={};return this.options.layoutId&&(M.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,M.pointerEvents=Tc(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ws(this.latestValues)&&(M.transform=v?v({},""):"none",this.hasProjected=!1),M}const x=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=BR(this.projectionDeltaWithTransform,this.treeScale,x),v&&(p.transform=v(x,p.transform));const{x:S,y:P}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${P.origin*100}% 0`,_.animationValues?p.opacity=_===this?(f=(h=x.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:p.opacity=_===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const M in _l){if(x[M]===void 0)continue;const{correct:D,applyTo:j,isCSSVariable:$}=_l[M],O=p.transform==="none"?x[M]:D(x[M],_);if(j){const U=j.length;for(let z=0;z<U;z++)p[j[z]]=O}else $?this.options.visualElement.renderState.vars[M]=O:p[M]=O}return this.options.layoutId&&(p.pointerEvents=_===this?Tc(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(R0),this.root.sharedNodes.clear()}}}function zR(t){t.updateLayout()}function WR(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:a}=t.options,u=n.source!==t.layout.source;a==="size"?Nn(_=>{const x=u?n.measuredBox[_]:n.layoutBox[_],S=Jt(x);x.min=i[_].min,x.max=x.min+S}):zx(a,n.layoutBox,i)&&Nn(_=>{const x=u?n.measuredBox[_]:n.layoutBox[_],S=Jt(i[_]);x.max=x.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+S)});const h=Vo();cl(h,i,n.layoutBox);const f=Vo();u?cl(f,t.applyTransform(o,!0),n.measuredBox):cl(f,i,n.layoutBox);const p=!Fx(h);let v=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:x,layout:S}=_;if(x&&S){const P=ht();hl(P,n.layoutBox,x.layoutBox);const M=ht();hl(M,i,S.layoutBox),Bx(P,M)||(v=!0),_.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=P,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function HR(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function GR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qR(t){t.clearSnapshot()}function R0(t){t.clearMeasurements()}function KR(t){t.isLayoutDirty=!1}function QR(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function b0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function XR(t){t.resolveTargetDelta()}function YR(t){t.calcProjection()}function JR(t){t.resetSkewAndRotation()}function ZR(t){t.removeLeadSnapshot()}function k0(t,e,n){t.translate=rt(e.translate,0,n),t.scale=rt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function N0(t,e,n,i){t.min=rt(e.min,n.min,i),t.max=rt(e.max,n.max,i)}function eb(t,e,n,i){N0(t.x,e.x,n.x,i),N0(t.y,e.y,n.y,i)}function tb(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nb={duration:.45,ease:[.4,0,.1,1]},D0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),V0=D0("applewebkit/")&&!D0("chrome/")?Math.round:yn;function M0(t){t.min=V0(t.min),t.max=V0(t.max)}function rb(t){M0(t.x),M0(t.y)}function zx(t,e,n){return t==="position"||t==="preserve-aspect"&&!sR(A0(e),A0(n),.2)}function ib(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const sb=$x({attachResizeListener:(t,e)=>Tl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yf={current:void 0},Wx=$x({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yf.current){const t=new sb({});t.mount(window),t.setOptions({layoutScroll:!0}),yf.current=t}return yf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ob={pan:{Feature:ER},drag:{Feature:xR,ProjectionNode:Wx,MeasureLayout:Lx}};function L0(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=i[o];a&&qe.postRender(()=>a(e,Bl(e)))}class ab extends zi{mount(){const{current:e}=this.node;e&&(this.unmount=p1(e,(n,i)=>(L0(this.node,i,"Start"),o=>L0(this.node,o,"End"))))}unmount(){}}class lb extends zi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fl(Tl(this.node.current,"focus",()=>this.onFocus()),Tl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function O0(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=i[o];a&&qe.postRender(()=>a(e,Bl(e)))}class ub extends zi{mount(){const{current:e}=this.node;e&&(this.unmount=v1(e,(n,i)=>(O0(this.node,i,"Start"),(o,{success:a})=>O0(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Qf=new WeakMap,vf=new WeakMap,cb=t=>{const e=Qf.get(t.target);e&&e(t)},hb=t=>{t.forEach(cb)};function db({root:t,...e}){const n=t||document;vf.has(n)||vf.set(n,{});const i=vf.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(hb,{root:t,...e})),i[o]}function fb(t,e,n){const i=db(e);return Qf.set(t,n),i.observe(t),()=>{Qf.delete(t),i.unobserve(t)}}const pb={some:0,all:1};class mb extends zi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:pb[o]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:_}=this.node.getProps(),x=p?v:_;x&&x(f)};return fb(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(gb(e,n))&&this.startObserver()}unmount(){}}function gb({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const yb={inView:{Feature:mb},tap:{Feature:ub},focus:{Feature:lb},hover:{Feature:ab}},vb={layout:{ProjectionNode:Wx,MeasureLayout:Lx}},Xf={current:null},Hx={current:!1};function _b(){if(Hx.current=!0,!!Vp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Xf.current=t.matches;t.addListener(e),e()}else Xf.current=!1}const wb=[...mx,zt,Vi],xb=t=>wb.find(px(t)),Eb=new WeakMap;function Tb(t,e,n){for(const i in e){const o=e[i],a=n[i];if(Gt(o))t.addValue(i,o);else if(Gt(a))t.addValue(i,yl(o,{owner:t}));else if(a!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,yl(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const j0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Sb{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=lm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=mr.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,qe.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:v}=u;this.onUpdate=v,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=ch(n),this.isVariantNode=kw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in x){const P=x[S];f[S]!==void 0&&Gt(P)&&P.set(f[S],!1)}}mount(e){this.current=e,Eb.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),Hx.current||_b(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Xf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Di(this.notifyUpdate),Di(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Rs.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&qe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fo){const n=Fo[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<j0.length;i++){const o=j0[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=Tb(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=yl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(dx(o)||nx(o))?o=parseFloat(o):!xb(o)&&Vi.test(n)&&(o=ux(e,n)),this.setBaseTarget(e,Gt(o)?o.get():o)),Gt(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const u=nm(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(o=u[e])}if(i&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Gt(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Fp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Gx extends Sb{constructor(){super(...arguments),this.KeyframeResolver=gx}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Gt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Cb(t){return window.getComputedStyle(t)}class Ab extends Gx{constructor(){super(...arguments),this.type="html",this.renderInstance=$w}readValueFromInstance(e,n){if(Rs.has(n))return OP(e,n);{const i=Cb(e),o=(Kp(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Nx(e,n)}build(e,n,i){Yp(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return rm(e,n,i)}}class Pb extends Gx{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Uw(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Rs.has(n)){const i=lx(n);return i&&i.default||0}return n=zw.has(n)?n:qp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Hw(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&qe.postRender(this.updateDimensions)}build(e,n,i){em(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,o){Ww(e,n,i,o)}mount(e){this.isSVGTag=tm(e.tagName),super.mount(e)}}const Ib=(t,e)=>Zp(t)?new Pb(e):new Ab(e,{allowProjection:t!==N.Fragment}),Rb=cP({...YI,...yb,...ob,...vb},Ib),F0=A1(Rb),bb=()=>{};var B0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},kb=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],h=t[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Kx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,h=u?t[o+1]:0,f=o+2<t.length,p=f?t[o+2]:0,v=a>>2,_=(a&3)<<4|h>>4;let x=(h&15)<<2|p>>6,S=p&63;f||(S=64,u||(x=64)),i.push(n[v],n[_],n[x],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):kb(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const _=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||p==null||_==null)throw new Nb;const x=a<<2|h>>4;if(i.push(x),p!==64){const S=h<<4&240|p>>2;if(i.push(S),_!==64){const P=p<<6&192|_;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Nb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Db=function(t){const e=qx(t);return Kx.encodeByteArray(e,!0)},Bc=function(t){return Db(t).replace(/\./g,"")},Vb=function(t){try{return Kx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=()=>Mb().__FIREBASE_DEFAULTS__,Ob=()=>{if(typeof process>"u"||typeof B0>"u")return;const t=B0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Vb(t[1]);return e&&JSON.parse(e)},dm=()=>{try{return bb()||Lb()||Ob()||jb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Fb=t=>{var e,n;return(n=(e=dm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Qx=t=>{const e=Fb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Xx=()=>{var t;return(t=dm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Bc(JSON.stringify(n)),Bc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ub(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $b(){var t;const e=(t=dm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zb(){return!$b()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wb(){try{return typeof indexedDB=="object"}catch{return!1}}function Hb(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gb="FirebaseError";class bs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Gb,Object.setPrototypeOf(this,bs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jx.prototype.create)}}class Jx{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?qb(a,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new bs(o,h,i)}}function qb(t,e){return t.replace(Kb,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Kb=/\{\$([^}]+)}/g;function Uc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],u=e[o];if(U0(a)&&U0(u)){if(!Uc(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function U0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t){return t&&t._delegate?t._delegate:t}class $o{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new Bb;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Yb(e))try{this.getOrInitializeService({instanceIdentifier:xs})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xs){return this.instances.has(e)}getOptions(e=xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:Xb(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=xs){return this.component?this.component.multipleInstances?e:xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Xb(t){return t===xs?void 0:t}function Yb(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Qb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const Zb={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},ek=Oe.INFO,tk={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},nk=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=tk[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zx{constructor(e){this.name=e,this._logLevel=ek,this._logHandler=nk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Zb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const rk=(t,e)=>e.some(n=>t instanceof n);let $0,z0;function ik(){return $0||($0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sk(){return z0||(z0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,Yf=new WeakMap,tE=new WeakMap,_f=new WeakMap,fm=new WeakMap;function ok(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Pi(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&eE.set(n,t)}).catch(()=>{}),fm.set(e,t),e}function ak(t){if(Yf.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Yf.set(t,e)}let Jf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lk(t){Jf=t(Jf)}function uk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(wf(this),e,...n);return tE.set(i,e.sort?e.sort():[e]),Pi(i)}:sk().includes(t)?function(...e){return t.apply(wf(this),e),Pi(eE.get(this))}:function(...e){return Pi(t.apply(wf(this),e))}}function ck(t){return typeof t=="function"?uk(t):(t instanceof IDBTransaction&&ak(t),rk(t,ik())?new Proxy(t,Jf):t)}function Pi(t){if(t instanceof IDBRequest)return ok(t);if(_f.has(t))return _f.get(t);const e=ck(t);return e!==t&&(_f.set(t,e),fm.set(e,t)),e}const wf=t=>fm.get(t);function hk(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),h=Pi(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Pi(u.result),f.oldVersion,f.newVersion,Pi(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const dk=["get","getKey","getAll","getAllKeys","count"],fk=["put","add","delete","clear"],xf=new Map;function W0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xf.get(e))return xf.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=fk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||dk.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),o&&f.done]))[0]};return xf.set(e,a),a}lk(t=>({...t,get:(e,n,i)=>W0(e,n)||t.get(e,n,i),has:(e,n)=>!!W0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function mk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Zf="@firebase/app",H0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new Zx("@firebase/app"),gk="@firebase/app-compat",yk="@firebase/analytics-compat",vk="@firebase/analytics",_k="@firebase/app-check-compat",wk="@firebase/app-check",xk="@firebase/auth",Ek="@firebase/auth-compat",Tk="@firebase/database",Sk="@firebase/data-connect",Ck="@firebase/database-compat",Ak="@firebase/functions",Pk="@firebase/functions-compat",Ik="@firebase/installations",Rk="@firebase/installations-compat",bk="@firebase/messaging",kk="@firebase/messaging-compat",Nk="@firebase/performance",Dk="@firebase/performance-compat",Vk="@firebase/remote-config",Mk="@firebase/remote-config-compat",Lk="@firebase/storage",Ok="@firebase/storage-compat",jk="@firebase/firestore",Fk="@firebase/vertexai",Bk="@firebase/firestore-compat",Uk="firebase",$k="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="[DEFAULT]",zk={[Zf]:"fire-core",[gk]:"fire-core-compat",[vk]:"fire-analytics",[yk]:"fire-analytics-compat",[wk]:"fire-app-check",[_k]:"fire-app-check-compat",[xk]:"fire-auth",[Ek]:"fire-auth-compat",[Tk]:"fire-rtdb",[Sk]:"fire-data-connect",[Ck]:"fire-rtdb-compat",[Ak]:"fire-fn",[Pk]:"fire-fn-compat",[Ik]:"fire-iid",[Rk]:"fire-iid-compat",[bk]:"fire-fcm",[kk]:"fire-fcm-compat",[Nk]:"fire-perf",[Dk]:"fire-perf-compat",[Vk]:"fire-rc",[Mk]:"fire-rc-compat",[Lk]:"fire-gcs",[Ok]:"fire-gcs-compat",[jk]:"fire-fst",[Bk]:"fire-fst-compat",[Fk]:"fire-vertex","fire-js":"fire-js",[Uk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,Wk=new Map,tp=new Map;function G0(t,e){try{t.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sl(t){const e=t.name;if(tp.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;tp.set(e,t);for(const n of $c.values())G0(n,t);for(const n of Wk.values())G0(n,t);return!0}function nE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rE(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new Jx("app","Firebase",Hk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=$k;function pm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:ep,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Ii.create("bad-app-name",{appName:String(o)});if(n||(n=Xx()),!n)throw Ii.create("no-options");const a=$c.get(o);if(a){if(Uc(n,a.options)&&Uc(i,a.config))return a;throw Ii.create("duplicate-app",{appName:o})}const u=new Jb(o);for(const f of tp.values())u.addComponent(f);const h=new Gk(n,i,u);return $c.set(o,h),h}function sE(t=ep){const e=$c.get(t);if(!e&&t===ep&&Xx())return pm();if(!e)throw Ii.create("no-app",{appName:t});return e}function Ri(t,e,n){var i;let o=(i=zk[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(h.join(" "));return}Sl(new $o(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk="firebase-heartbeat-database",Kk=1,Cl="firebase-heartbeat-store";let Ef=null;function oE(){return Ef||(Ef=hk(qk,Kk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ii.create("idb-open",{originalErrorMessage:t.message})})),Ef}async function Qk(t){try{const n=(await oE()).transaction(Cl),i=await n.objectStore(Cl).get(aE(t));return await n.done,i}catch(e){if(e instanceof bs)Xr.warn(e.message);else{const n=Ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(n.message)}}}async function q0(t,e){try{const i=(await oE()).transaction(Cl,"readwrite");await i.objectStore(Cl).put(e,aE(t)),await i.done}catch(n){if(n instanceof bs)Xr.warn(n.message);else{const i=Ii.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xr.warn(i.message)}}}function aE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk=1024,Yk=30;class Jk{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new eN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=K0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>Yk){const u=tN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=K0(),{heartbeatsToSend:i,unsentEntries:o}=Zk(this._heartbeatsCache.heartbeats),a=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Xr.warn(n),""}}}function K0(){return new Date().toISOString().substring(0,10)}function Zk(t,e=Xk){const n=[];let i=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Q0(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Q0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class eN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Wb()?Hb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Qk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return q0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return q0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Q0(t){return Bc(JSON.stringify({version:2,heartbeats:t})).length}function tN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nN(t){Sl(new $o("platform-logger",e=>new pk(e),"PRIVATE")),Sl(new $o("heartbeat",e=>new Jk(e),"PRIVATE")),Ri(Zf,H0,t),Ri(Zf,H0,"esm2017"),Ri("fire-js","")}nN("");var rN="firebase",iN="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(rN,iN,"app");var X0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bi,lE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,A){function I(){}I.prototype=A.prototype,R.D=A.prototype,R.prototype=new I,R.prototype.constructor=R,R.C=function(V,F,W){for(var b=Array(arguments.length-2),je=2;je<arguments.length;je++)b[je-2]=arguments[je];return A.prototype[F].apply(V,b)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(R,A,I){I||(I=0);var V=Array(16);if(typeof A=="string")for(var F=0;16>F;++F)V[F]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(F=0;16>F;++F)V[F]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=R.g[0],I=R.g[1],F=R.g[2];var W=R.g[3],b=A+(W^I&(F^W))+V[0]+3614090360&4294967295;A=I+(b<<7&4294967295|b>>>25),b=W+(F^A&(I^F))+V[1]+3905402710&4294967295,W=A+(b<<12&4294967295|b>>>20),b=F+(I^W&(A^I))+V[2]+606105819&4294967295,F=W+(b<<17&4294967295|b>>>15),b=I+(A^F&(W^A))+V[3]+3250441966&4294967295,I=F+(b<<22&4294967295|b>>>10),b=A+(W^I&(F^W))+V[4]+4118548399&4294967295,A=I+(b<<7&4294967295|b>>>25),b=W+(F^A&(I^F))+V[5]+1200080426&4294967295,W=A+(b<<12&4294967295|b>>>20),b=F+(I^W&(A^I))+V[6]+2821735955&4294967295,F=W+(b<<17&4294967295|b>>>15),b=I+(A^F&(W^A))+V[7]+4249261313&4294967295,I=F+(b<<22&4294967295|b>>>10),b=A+(W^I&(F^W))+V[8]+1770035416&4294967295,A=I+(b<<7&4294967295|b>>>25),b=W+(F^A&(I^F))+V[9]+2336552879&4294967295,W=A+(b<<12&4294967295|b>>>20),b=F+(I^W&(A^I))+V[10]+4294925233&4294967295,F=W+(b<<17&4294967295|b>>>15),b=I+(A^F&(W^A))+V[11]+2304563134&4294967295,I=F+(b<<22&4294967295|b>>>10),b=A+(W^I&(F^W))+V[12]+1804603682&4294967295,A=I+(b<<7&4294967295|b>>>25),b=W+(F^A&(I^F))+V[13]+4254626195&4294967295,W=A+(b<<12&4294967295|b>>>20),b=F+(I^W&(A^I))+V[14]+2792965006&4294967295,F=W+(b<<17&4294967295|b>>>15),b=I+(A^F&(W^A))+V[15]+1236535329&4294967295,I=F+(b<<22&4294967295|b>>>10),b=A+(F^W&(I^F))+V[1]+4129170786&4294967295,A=I+(b<<5&4294967295|b>>>27),b=W+(I^F&(A^I))+V[6]+3225465664&4294967295,W=A+(b<<9&4294967295|b>>>23),b=F+(A^I&(W^A))+V[11]+643717713&4294967295,F=W+(b<<14&4294967295|b>>>18),b=I+(W^A&(F^W))+V[0]+3921069994&4294967295,I=F+(b<<20&4294967295|b>>>12),b=A+(F^W&(I^F))+V[5]+3593408605&4294967295,A=I+(b<<5&4294967295|b>>>27),b=W+(I^F&(A^I))+V[10]+38016083&4294967295,W=A+(b<<9&4294967295|b>>>23),b=F+(A^I&(W^A))+V[15]+3634488961&4294967295,F=W+(b<<14&4294967295|b>>>18),b=I+(W^A&(F^W))+V[4]+3889429448&4294967295,I=F+(b<<20&4294967295|b>>>12),b=A+(F^W&(I^F))+V[9]+568446438&4294967295,A=I+(b<<5&4294967295|b>>>27),b=W+(I^F&(A^I))+V[14]+3275163606&4294967295,W=A+(b<<9&4294967295|b>>>23),b=F+(A^I&(W^A))+V[3]+4107603335&4294967295,F=W+(b<<14&4294967295|b>>>18),b=I+(W^A&(F^W))+V[8]+1163531501&4294967295,I=F+(b<<20&4294967295|b>>>12),b=A+(F^W&(I^F))+V[13]+2850285829&4294967295,A=I+(b<<5&4294967295|b>>>27),b=W+(I^F&(A^I))+V[2]+4243563512&4294967295,W=A+(b<<9&4294967295|b>>>23),b=F+(A^I&(W^A))+V[7]+1735328473&4294967295,F=W+(b<<14&4294967295|b>>>18),b=I+(W^A&(F^W))+V[12]+2368359562&4294967295,I=F+(b<<20&4294967295|b>>>12),b=A+(I^F^W)+V[5]+4294588738&4294967295,A=I+(b<<4&4294967295|b>>>28),b=W+(A^I^F)+V[8]+2272392833&4294967295,W=A+(b<<11&4294967295|b>>>21),b=F+(W^A^I)+V[11]+1839030562&4294967295,F=W+(b<<16&4294967295|b>>>16),b=I+(F^W^A)+V[14]+4259657740&4294967295,I=F+(b<<23&4294967295|b>>>9),b=A+(I^F^W)+V[1]+2763975236&4294967295,A=I+(b<<4&4294967295|b>>>28),b=W+(A^I^F)+V[4]+1272893353&4294967295,W=A+(b<<11&4294967295|b>>>21),b=F+(W^A^I)+V[7]+4139469664&4294967295,F=W+(b<<16&4294967295|b>>>16),b=I+(F^W^A)+V[10]+3200236656&4294967295,I=F+(b<<23&4294967295|b>>>9),b=A+(I^F^W)+V[13]+681279174&4294967295,A=I+(b<<4&4294967295|b>>>28),b=W+(A^I^F)+V[0]+3936430074&4294967295,W=A+(b<<11&4294967295|b>>>21),b=F+(W^A^I)+V[3]+3572445317&4294967295,F=W+(b<<16&4294967295|b>>>16),b=I+(F^W^A)+V[6]+76029189&4294967295,I=F+(b<<23&4294967295|b>>>9),b=A+(I^F^W)+V[9]+3654602809&4294967295,A=I+(b<<4&4294967295|b>>>28),b=W+(A^I^F)+V[12]+3873151461&4294967295,W=A+(b<<11&4294967295|b>>>21),b=F+(W^A^I)+V[15]+530742520&4294967295,F=W+(b<<16&4294967295|b>>>16),b=I+(F^W^A)+V[2]+3299628645&4294967295,I=F+(b<<23&4294967295|b>>>9),b=A+(F^(I|~W))+V[0]+4096336452&4294967295,A=I+(b<<6&4294967295|b>>>26),b=W+(I^(A|~F))+V[7]+1126891415&4294967295,W=A+(b<<10&4294967295|b>>>22),b=F+(A^(W|~I))+V[14]+2878612391&4294967295,F=W+(b<<15&4294967295|b>>>17),b=I+(W^(F|~A))+V[5]+4237533241&4294967295,I=F+(b<<21&4294967295|b>>>11),b=A+(F^(I|~W))+V[12]+1700485571&4294967295,A=I+(b<<6&4294967295|b>>>26),b=W+(I^(A|~F))+V[3]+2399980690&4294967295,W=A+(b<<10&4294967295|b>>>22),b=F+(A^(W|~I))+V[10]+4293915773&4294967295,F=W+(b<<15&4294967295|b>>>17),b=I+(W^(F|~A))+V[1]+2240044497&4294967295,I=F+(b<<21&4294967295|b>>>11),b=A+(F^(I|~W))+V[8]+1873313359&4294967295,A=I+(b<<6&4294967295|b>>>26),b=W+(I^(A|~F))+V[15]+4264355552&4294967295,W=A+(b<<10&4294967295|b>>>22),b=F+(A^(W|~I))+V[6]+2734768916&4294967295,F=W+(b<<15&4294967295|b>>>17),b=I+(W^(F|~A))+V[13]+1309151649&4294967295,I=F+(b<<21&4294967295|b>>>11),b=A+(F^(I|~W))+V[4]+4149444226&4294967295,A=I+(b<<6&4294967295|b>>>26),b=W+(I^(A|~F))+V[11]+3174756917&4294967295,W=A+(b<<10&4294967295|b>>>22),b=F+(A^(W|~I))+V[2]+718787259&4294967295,F=W+(b<<15&4294967295|b>>>17),b=I+(W^(F|~A))+V[9]+3951481745&4294967295,R.g[0]=R.g[0]+A&4294967295,R.g[1]=R.g[1]+(F+(b<<21&4294967295|b>>>11))&4294967295,R.g[2]=R.g[2]+F&4294967295,R.g[3]=R.g[3]+W&4294967295}i.prototype.u=function(R,A){A===void 0&&(A=R.length);for(var I=A-this.blockSize,V=this.B,F=this.h,W=0;W<A;){if(F==0)for(;W<=I;)o(this,R,W),W+=this.blockSize;if(typeof R=="string"){for(;W<A;)if(V[F++]=R.charCodeAt(W++),F==this.blockSize){o(this,V),F=0;break}}else for(;W<A;)if(V[F++]=R[W++],F==this.blockSize){o(this,V),F=0;break}}this.h=F,this.o+=A},i.prototype.v=function(){var R=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);R[0]=128;for(var A=1;A<R.length-8;++A)R[A]=0;var I=8*this.o;for(A=R.length-8;A<R.length;++A)R[A]=I&255,I/=256;for(this.u(R),R=Array(16),A=I=0;4>A;++A)for(var V=0;32>V;V+=8)R[I++]=this.g[A]>>>V&255;return R};function a(R,A){var I=h;return Object.prototype.hasOwnProperty.call(I,R)?I[R]:I[R]=A(R)}function u(R,A){this.h=A;for(var I=[],V=!0,F=R.length-1;0<=F;F--){var W=R[F]|0;V&&W==A||(I[F]=W,V=!1)}this.g=I}var h={};function f(R){return-128<=R&&128>R?a(R,function(A){return new u([A|0],0>A?-1:0)}):new u([R|0],0>R?-1:0)}function p(R){if(isNaN(R)||!isFinite(R))return _;if(0>R)return D(p(-R));for(var A=[],I=1,V=0;R>=I;V++)A[V]=R/I|0,I*=4294967296;return new u(A,0)}function v(R,A){if(R.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(R.charAt(0)=="-")return D(v(R.substring(1),A));if(0<=R.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=p(Math.pow(A,8)),V=_,F=0;F<R.length;F+=8){var W=Math.min(8,R.length-F),b=parseInt(R.substring(F,F+W),A);8>W?(W=p(Math.pow(A,W)),V=V.j(W).add(p(b))):(V=V.j(I),V=V.add(p(b)))}return V}var _=f(0),x=f(1),S=f(16777216);t=u.prototype,t.m=function(){if(M(this))return-D(this).m();for(var R=0,A=1,I=0;I<this.g.length;I++){var V=this.i(I);R+=(0<=V?V:4294967296+V)*A,A*=4294967296}return R},t.toString=function(R){if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(P(this))return"0";if(M(this))return"-"+D(this).toString(R);for(var A=p(Math.pow(R,6)),I=this,V="";;){var F=U(I,A).g;I=j(I,F.j(A));var W=((0<I.g.length?I.g[0]:I.h)>>>0).toString(R);if(I=F,P(I))return W+V;for(;6>W.length;)W="0"+W;V=W+V}},t.i=function(R){return 0>R?0:R<this.g.length?this.g[R]:this.h};function P(R){if(R.h!=0)return!1;for(var A=0;A<R.g.length;A++)if(R.g[A]!=0)return!1;return!0}function M(R){return R.h==-1}t.l=function(R){return R=j(this,R),M(R)?-1:P(R)?0:1};function D(R){for(var A=R.g.length,I=[],V=0;V<A;V++)I[V]=~R.g[V];return new u(I,~R.h).add(x)}t.abs=function(){return M(this)?D(this):this},t.add=function(R){for(var A=Math.max(this.g.length,R.g.length),I=[],V=0,F=0;F<=A;F++){var W=V+(this.i(F)&65535)+(R.i(F)&65535),b=(W>>>16)+(this.i(F)>>>16)+(R.i(F)>>>16);V=b>>>16,W&=65535,b&=65535,I[F]=b<<16|W}return new u(I,I[I.length-1]&-2147483648?-1:0)};function j(R,A){return R.add(D(A))}t.j=function(R){if(P(this)||P(R))return _;if(M(this))return M(R)?D(this).j(D(R)):D(D(this).j(R));if(M(R))return D(this.j(D(R)));if(0>this.l(S)&&0>R.l(S))return p(this.m()*R.m());for(var A=this.g.length+R.g.length,I=[],V=0;V<2*A;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(var F=0;F<R.g.length;F++){var W=this.i(V)>>>16,b=this.i(V)&65535,je=R.i(F)>>>16,et=R.i(F)&65535;I[2*V+2*F]+=b*et,$(I,2*V+2*F),I[2*V+2*F+1]+=W*et,$(I,2*V+2*F+1),I[2*V+2*F+1]+=b*je,$(I,2*V+2*F+1),I[2*V+2*F+2]+=W*je,$(I,2*V+2*F+2)}for(V=0;V<A;V++)I[V]=I[2*V+1]<<16|I[2*V];for(V=A;V<2*A;V++)I[V]=0;return new u(I,0)};function $(R,A){for(;(R[A]&65535)!=R[A];)R[A+1]+=R[A]>>>16,R[A]&=65535,A++}function O(R,A){this.g=R,this.h=A}function U(R,A){if(P(A))throw Error("division by zero");if(P(R))return new O(_,_);if(M(R))return A=U(D(R),A),new O(D(A.g),D(A.h));if(M(A))return A=U(R,D(A)),new O(D(A.g),A.h);if(30<R.g.length){if(M(R)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var I=x,V=A;0>=V.l(R);)I=z(I),V=z(V);var F=X(I,1),W=X(V,1);for(V=X(V,2),I=X(I,2);!P(V);){var b=W.add(V);0>=b.l(R)&&(F=F.add(I),W=b),V=X(V,1),I=X(I,1)}return A=j(R,F.j(A)),new O(F,A)}for(F=_;0<=R.l(A);){for(I=Math.max(1,Math.floor(R.m()/A.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),W=p(I),b=W.j(A);M(b)||0<b.l(R);)I-=V,W=p(I),b=W.j(A);P(W)&&(W=x),F=F.add(W),R=j(R,b)}return new O(F,R)}t.A=function(R){return U(this,R).h},t.and=function(R){for(var A=Math.max(this.g.length,R.g.length),I=[],V=0;V<A;V++)I[V]=this.i(V)&R.i(V);return new u(I,this.h&R.h)},t.or=function(R){for(var A=Math.max(this.g.length,R.g.length),I=[],V=0;V<A;V++)I[V]=this.i(V)|R.i(V);return new u(I,this.h|R.h)},t.xor=function(R){for(var A=Math.max(this.g.length,R.g.length),I=[],V=0;V<A;V++)I[V]=this.i(V)^R.i(V);return new u(I,this.h^R.h)};function z(R){for(var A=R.g.length+1,I=[],V=0;V<A;V++)I[V]=R.i(V)<<1|R.i(V-1)>>>31;return new u(I,R.h)}function X(R,A){var I=A>>5;A%=32;for(var V=R.g.length-I,F=[],W=0;W<V;W++)F[W]=0<A?R.i(W+I)>>>A|R.i(W+I+1)<<32-A:R.i(W+I);return new u(F,R.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,lE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,bi=u}).apply(typeof X0<"u"?X0:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uE,il,cE,Cc,np,hE,dE,fE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,w){return c==Array.prototype||c==Object.prototype||(c[g]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var g=0;g<c.length;++g){var w=c[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var i=n(this);function o(c,g){if(g)e:{var w=i;c=c.split(".");for(var C=0;C<c.length-1;C++){var G=c[C];if(!(G in w))break e;w=w[G]}c=c[c.length-1],C=w[c],g=g(C),g!=C&&g!=null&&e(w,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var w=0,C=!1,G={next:function(){if(!C&&w<c.length){var Y=w++;return{value:g(Y,c[Y]),done:!1}}return C=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,w){return c.call.apply(c.bind,arguments)}function _(c,g,w){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,C),c.apply(g,G)}}return function(){return c.apply(g,arguments)}}function x(c,g,w){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,x.apply(null,arguments)}function S(c,g){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function P(c,g){function w(){}w.prototype=g.prototype,c.aa=g.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(C,G,Y){for(var ue=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ue[ze-2]=arguments[ze];return g.prototype[G].apply(C,ue)}}function M(c){const g=c.length;if(0<g){const w=Array(g);for(let C=0;C<g;C++)w[C]=c[C];return w}return[]}function D(c,g){for(let w=1;w<arguments.length;w++){const C=arguments[w];if(f(C)){const G=c.length||0,Y=C.length||0;c.length=G+Y;for(let ue=0;ue<Y;ue++)c[G+ue]=C[ue]}else c.push(C)}}class j{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function $(c){return/^[\s\xa0]*$/.test(c)}function O(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function U(c){return U[" "](c),c}U[" "]=function(){};var z=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function X(c,g,w){for(const C in c)g.call(w,c[C],C,c)}function R(c,g){for(const w in c)g.call(void 0,c[w],w,c)}function A(c){const g={};for(const w in c)g[w]=c[w];return g}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let w,C;for(let G=1;G<arguments.length;G++){C=arguments[G];for(w in C)c[w]=C[w];for(let Y=0;Y<I.length;Y++)w=I[Y],Object.prototype.hasOwnProperty.call(C,w)&&(c[w]=C[w])}}function F(c){var g=1;c=c.split(":");const w=[];for(;0<g&&c.length;)w.push(c.shift()),g--;return c.length&&w.push(c.join(":")),w}function W(c){h.setTimeout(()=>{throw c},0)}function b(){var c=ge;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class je{constructor(){this.h=this.g=null}add(g,w){const C=et.get();C.set(g,w),this.h?this.h.next=C:this.g=C,this.h=C}}var et=new j(()=>new Ke,c=>c.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,ae=!1,ge=new je,ce=()=>{const c=h.Promise.resolve(void 0);Ce=()=>{c.then(H)}};var H=()=>{for(var c;c=b();){try{c.h.call(c.g)}catch(w){W(w)}var g=et;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ae=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};h.addEventListener("test",w,g),h.removeEventListener("test",w,g)}catch{}return c}();function J(c,g){if(ve.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(z){e:{try{U(g.nodeName);var G=!0;break e}catch{}G=!1}G||(g=null)}}else w=="mouseover"?g=c.fromElement:w=="mouseout"&&(g=c.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&J.aa.h.call(this)}}P(J,ve);var oe={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),be=0;function $e(c,g,w,C,G){this.listener=c,this.proxy=null,this.src=g,this.type=w,this.capture=!!C,this.ha=G,this.key=++be,this.da=this.fa=!1}function lt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function _n(c){this.src=c,this.g={},this.h=0}_n.prototype.add=function(c,g,w,C,G){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ue=wn(c,g,C,G);return-1<ue?(g=c[ue],w||(g.fa=!1)):(g=new $e(g,this.src,Y,!!C,G),g.fa=w,c.push(g)),g};function Ar(c,g){var w=g.type;if(w in c.g){var C=c.g[w],G=Array.prototype.indexOf.call(C,g,void 0),Y;(Y=0<=G)&&Array.prototype.splice.call(C,G,1),Y&&(lt(g),c.g[w].length==0&&(delete c.g[w],c.h--))}}function wn(c,g,w,C){for(var G=0;G<c.length;++G){var Y=c[G];if(!Y.da&&Y.listener==g&&Y.capture==!!w&&Y.ha==C)return G}return-1}var tr="closure_lm_"+(1e6*Math.random()|0),gt={};function Pr(c,g,w,C,G){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)Pr(c,g[Y],w,C,G);return null}return w=oa(w),c&&c[we]?c.K(g,w,p(C)?!!C.capture:!1,G):ia(c,g,w,!1,C,G)}function ia(c,g,w,C,G,Y){if(!g)throw Error("Invalid event type");var ue=p(G)?!!G.capture:!!G,ze=Ls(c);if(ze||(c[tr]=ze=new _n(c)),w=ze.add(g,w,C,ue,Y),w.proxy)return w;if(C=Gl(),w.proxy=C,C.src=c,C.listener=w,c.addEventListener)ie||(G=ue),G===void 0&&(G=!1),c.addEventListener(g.toString(),C,G);else if(c.attachEvent)c.attachEvent(Rr(g.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Gl(){function c(w){return g.call(c.src,c.listener,w)}const g=sa;return c}function Ms(c,g,w,C,G){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)Ms(c,g[Y],w,C,G);else C=p(C)?!!C.capture:!!C,w=oa(w),c&&c[we]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],w=wn(Y,w,C,G),-1<w&&(lt(Y[w]),Array.prototype.splice.call(Y,w,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ls(c))&&(g=c.g[g.toString()],c=-1,g&&(c=wn(g,w,C,G)),(w=-1<c?g[c]:null)&&Ir(w))}function Ir(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[we])Ar(g.i,c);else{var w=c.type,C=c.proxy;g.removeEventListener?g.removeEventListener(w,C,c.capture):g.detachEvent?g.detachEvent(Rr(w),C):g.addListener&&g.removeListener&&g.removeListener(C),(w=Ls(g))?(Ar(w,c),w.h==0&&(w.src=null,g[tr]=null)):lt(c)}}}function Rr(c){return c in gt?gt[c]:gt[c]="on"+c}function sa(c,g){if(c.da)c=!0;else{g=new J(g,this);var w=c.listener,C=c.ha||c.src;c.fa&&Ir(c),c=w.call(C,g)}return c}function Ls(c){return c=c[tr],c instanceof _n?c:null}var Os="__closure_events_fn_"+(1e9*Math.random()>>>0);function oa(c){return typeof c=="function"?c:(c[Os]||(c[Os]=function(g){return c.handleEvent(g)}),c[Os])}function yt(){Z.call(this),this.i=new _n(this),this.M=this,this.F=null}P(yt,Z),yt.prototype[we]=!0,yt.prototype.removeEventListener=function(c,g,w,C){Ms(this,c,g,w,C)};function vt(c,g){var w,C=c.F;if(C)for(w=[];C;C=C.F)w.push(C);if(c=c.M,C=g.type||g,typeof g=="string")g=new ve(g,c);else if(g instanceof ve)g.target=g.target||c;else{var G=g;g=new ve(C,c),V(g,G)}if(G=!0,w)for(var Y=w.length-1;0<=Y;Y--){var ue=g.g=w[Y];G=br(ue,C,!0,g)&&G}if(ue=g.g=c,G=br(ue,C,!0,g)&&G,G=br(ue,C,!1,g)&&G,w)for(Y=0;Y<w.length;Y++)ue=g.g=w[Y],G=br(ue,C,!1,g)&&G}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var w=c.g[g],C=0;C<w.length;C++)lt(w[C]);delete c.g[g],c.h--}}this.F=null},yt.prototype.K=function(c,g,w,C){return this.i.add(String(c),g,!1,w,C)},yt.prototype.L=function(c,g,w,C){return this.i.add(String(c),g,!0,w,C)};function br(c,g,w,C){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var G=!0,Y=0;Y<g.length;++Y){var ue=g[Y];if(ue&&!ue.da&&ue.capture==w){var ze=ue.listener,_t=ue.ha||ue.src;ue.fa&&Ar(c.i,ue),G=ze.call(_t,C)!==!1&&G}}return G&&!C.defaultPrevented}function aa(c,g,w){if(typeof c=="function")w&&(c=x(c,w));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function ti(c){c.g=aa(()=>{c.g=null,c.i&&(c.i=!1,ti(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Wi extends Z{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ti(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(c){Z.call(this),this.h=c,this.g={}}P(Hi,Z);var la=[];function ua(c){X(c.g,function(g,w){this.g.hasOwnProperty(w)&&Ir(g)},c),c.g={}}Hi.prototype.N=function(){Hi.aa.N.call(this),ua(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ca=h.JSON.stringify,ha=h.JSON.parse,da=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Gi(){}Gi.prototype.h=null;function js(c){return c.h||(c.h=c.i())}function Fs(){}var xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){ve.call(this,"d")}P(nr,ve);function Bs(){ve.call(this,"c")}P(Bs,ve);var rr={},fa=null;function qi(){return fa=fa||new yt}rr.La="serverreachability";function pa(c){ve.call(this,rr.La,c)}P(pa,ve);function kr(c){const g=qi();vt(g,new pa(g))}rr.STAT_EVENT="statevent";function ma(c,g){ve.call(this,rr.STAT_EVENT,c),this.stat=g}P(ma,ve);function ut(c){const g=qi();vt(g,new ma(g,c))}rr.Ma="timingevent";function Us(c,g){ve.call(this,rr.Ma,c),this.size=g}P(Us,ve);function Ln(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function Ki(){this.g=!0}Ki.prototype.xa=function(){this.g=!1};function Qi(c,g,w,C,G,Y){c.info(function(){if(c.g)if(Y)for(var ue="",ze=Y.split("&"),_t=0;_t<ze.length;_t++){var Me=ze[_t].split("=");if(1<Me.length){var Ct=Me[0];Me=Me[1];var ft=Ct.split("_");ue=2<=ft.length&&ft[1]=="type"?ue+(Ct+"="+Me+"&"):ue+(Ct+"=redacted&")}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+C+") [attempt "+G+"]: "+g+`
`+w+`
`+ue})}function $s(c,g,w,C,G,Y,ue){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+G+"]: "+g+`
`+w+`
`+Y+" "+ue})}function On(c,g,w,C){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ah(c,w)+(C?" "+C:"")})}function ga(c,g){c.info(function(){return"TIMEOUT: "+g})}Ki.prototype.info=function(){};function Ah(c,g){if(!c.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var C=w[c];if(!(2>C.length)){var G=C[1];if(Array.isArray(G)&&!(1>G.length)){var Y=G[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ue=1;ue<G.length;ue++)G[ue]=""}}}}return ca(w)}catch{return g}}var zs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ql={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function Xi(){}P(Xi,Gi),Xi.prototype.g=function(){return new XMLHttpRequest},Xi.prototype.i=function(){return{}},jn=new Xi;function Fn(c,g,w,C){this.j=c,this.i=g,this.l=w,this.R=C||1,this.U=new Hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kl}function Kl(){this.i=null,this.g="",this.h=!1}var ya={},Ws={};function Hs(c,g,w){c.L=1,c.v=oi(hn(g)),c.m=w,c.P=!0,va(c,null)}function va(c,g){c.F=Date.now(),He(c),c.A=hn(c.v);var w=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),li(w.i,"t",C),c.C=0,w=c.j.J,c.h=new Kl,c.g=du(c.j,w?g:null,!c.m),0<c.O&&(c.M=new Wi(x(c.Y,c,c.g),c.O)),g=c.U,w=c.g,C=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(la[0]=G.toString()),G=la);for(var Y=0;Y<G.length;Y++){var ue=Pr(w,G[Y],C||g.handleEvent,!1,g.h||g);if(!ue)break;g.g[ue.key]=ue}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),kr(),Qi(c.i,c.u,c.A,c.l,c.R,c.m)}Fn.prototype.ca=function(c){c=c.target;const g=this.M;g&&en(c)==3?g.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const ft=en(this.g);var g=this.g.Ba();const Sn=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||Sa(this.g)))){this.J||ft!=4||g==7||(g==8||0>=Sn?kr(3):kr(2)),Yi(this);var w=this.g.Z();this.X=w;t:if(Ql(this)){var C=Sa(this.g);c="";var G=C.length,Y=en(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){En(this),ni(this);var ue="";break t}this.h.i=new h.TextDecoder}for(g=0;g<G;g++)this.h.h=!0,c+=this.h.i.decode(C[g],{stream:!(Y&&g==G-1)});C.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=w==200,$s(this.i,this.u,this.A,this.l,this.R,ft,w),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,_t=this.g;if((ze=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(ze)){var Me=ze;break t}}Me=null}if(w=Me)On(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_a(this,w);else{this.o=!1,this.s=3,ut(12),En(this),ni(this);break e}}if(this.P){w=!0;let fn;for(;!this.J&&this.C<ue.length;)if(fn=Ph(this,ue),fn==Ws){ft==4&&(this.s=4,ut(14),w=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==ya){this.s=4,ut(15),On(this.i,this.l,ue,"[Invalid Chunk]"),w=!1;break}else On(this.i,this.l,fn,null),_a(this,fn);if(Ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||ue.length!=0||this.h.h||(this.s=1,ut(16),w=!1),this.o=this.o&&w,!w)On(this.i,this.l,ue,"[Invalid Chunked Response]"),En(this),ni(this);else if(0<ue.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Aa(Ct),Ct.M=!0,ut(11))}}else On(this.i,this.l,ue,null),_a(this,ue);ft==4&&En(this),this.o&&!this.J&&(ft==4?no(this.j,this):(this.o=!1,He(this)))}else Ys(this.g),w==400&&0<ue.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),En(this),ni(this)}}}catch{}finally{}};function Ql(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ph(c,g){var w=c.C,C=g.indexOf(`
`,w);return C==-1?Ws:(w=Number(g.substring(w,C)),isNaN(w)?ya:(C+=1,C+w>g.length?Ws:(g=g.slice(C,C+w),c.C=C+w,g)))}Fn.prototype.cancel=function(){this.J=!0,En(this)};function He(c){c.S=Date.now()+c.I,Xl(c,c.I)}function Xl(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ln(x(c.ba,c),g)}function Yi(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Fn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ga(this.i,this.A),this.L!=2&&(kr(),ut(17)),En(this),this.s=2,ni(this)):Xl(this,this.S-c)};function ni(c){c.j.G==0||c.J||no(c.j,c)}function En(c){Yi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ua(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function _a(c,g){try{var w=c.j;if(w.G!=0&&(w.g==c||Kt(w.h,c))){if(!c.K&&Kt(w.h,c)&&w.G==3){try{var C=w.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var G=C;if(G[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)to(w),Wn(w);else break e;eo(w),ut(18)}}else w.za=G[1],0<w.za-w.T&&37500>G[2]&&w.F&&w.v==0&&!w.C&&(w.C=Ln(x(w.Za,w),6e3));if(1>=Jl(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Lr(w,11)}else if((c.K||w.g==c)&&to(w),!$(g))for(G=w.Da.g.parse(g),g=0;g<G.length;g++){let Me=G[g];if(w.T=Me[0],Me=Me[1],w.G==2)if(Me[0]=="c"){w.K=Me[1],w.ia=Me[2];const Ct=Me[3];Ct!=null&&(w.la=Ct,w.j.info("VER="+w.la));const ft=Me[4];ft!=null&&(w.Aa=ft,w.j.info("SVER="+w.Aa));const Sn=Me[5];Sn!=null&&typeof Sn=="number"&&0<Sn&&(C=1.5*Sn,w.L=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const fn=c.g;if(fn){const is=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var Y=C.h;Y.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(wa(Y,Y.h),Y.h=null))}if(C.D){const io=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(C.ya=io,We(C.I,C.D,io))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),C=w;var ue=c;if(C.qa=hu(C,C.J?C.ia:null,C.W),ue.K){Zl(C.h,ue);var ze=ue,_t=C.L;_t&&(ze.I=_t),ze.B&&(Yi(ze),He(ze)),C.g=ue}else rs(C);0<w.i.length&&ar(w)}else Me[0]!="stop"&&Me[0]!="close"||Lr(w,7);else w.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Lr(w,7):kt(w):Me[0]!="noop"&&w.l&&w.l.ta(Me),w.v=0)}}kr(4)}catch{}}var Yl=class{constructor(c,g){this.g=c,this.map=g}};function Ji(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Jl(c){return c.h?1:c.g?c.g.size:0}function Kt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function wa(c,g){c.g?c.g.add(g):c.h=g}function Zl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ji.prototype.cancel=function(){if(this.i=eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function eu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const w of c.g.values())g=g.concat(w.D);return g}return M(c.i)}function Gs(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],w=c.length,C=0;C<w;C++)g.push(c[C]);return g}g=[],w=0;for(C in c)g[w++]=c[C];return g}function qs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var w=0;w<c;w++)g.push(w);return g}g=[],w=0;for(const C in c)g[w++]=C;return g}}}function ri(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var w=qs(c),C=Gs(c),G=C.length,Y=0;Y<G;Y++)g.call(void 0,C[Y],w&&w[Y],c)}var Zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ih(c,g){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var C=c[w].indexOf("="),G=null;if(0<=C){var Y=c[w].substring(0,C);G=c[w].substring(C+1)}else Y=c[w];g(Y,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Nr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Nr){this.h=c.h,es(this,c.j),this.o=c.o,this.g=c.g,ii(this,c.s),this.l=c.l;var g=c.i,w=new ir;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),si(this,w),this.m=c.m}else c&&(g=String(c).match(Zi))?(this.h=!1,es(this,g[1]||"",!0),this.o=Ve(g[2]||""),this.g=Ve(g[3]||"",!0),ii(this,g[4]),this.l=Ve(g[5]||"",!0),si(this,g[6]||"",!0),this.m=Ve(g[7]||"")):(this.h=!1,this.i=new ir(null,this.h))}Nr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ai(g,Ks,!0),":");var w=this.g;return(w||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ai(g,Ks,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(ai(w,w.charAt(0)=="/"?ru:nu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",ai(w,xa)),c.join("")};function hn(c){return new Nr(c)}function es(c,g,w){c.j=w?Ve(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ii(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function si(c,g,w){g instanceof ir?(c.i=g,sr(c.i,c.h)):(w||(g=ai(g,iu)),c.i=new ir(g,c.h))}function We(c,g,w){c.i.set(g,w)}function oi(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ai(c,g,w){return typeof c=="string"?(c=encodeURI(c).replace(g,tu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function tu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ks=/[#\/\?@]/g,nu=/[#\?:]/g,ru=/[#\?]/g,iu=/[#\?@]/g,xa=/#/g;function ir(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function bt(c){c.g||(c.g=new Map,c.h=0,c.i&&Ih(c.i,function(g,w){c.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=ir.prototype,t.add=function(c,g){bt(this),this.i=null,c=Tn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(g),this.h+=1,this};function Bn(c,g){bt(c),g=Tn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Un(c,g){return bt(c),g=Tn(c,g),c.g.has(g)}t.forEach=function(c,g){bt(this),this.g.forEach(function(w,C){w.forEach(function(G){c.call(g,G,C,this)},this)},this)},t.na=function(){bt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let C=0;C<g.length;C++){const G=c[C];for(let Y=0;Y<G.length;Y++)w.push(g[C])}return w},t.V=function(c){bt(this);let g=[];if(typeof c=="string")Un(this,c)&&(g=g.concat(this.g.get(Tn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)g=g.concat(c[w])}return g},t.set=function(c,g){return bt(this),this.i=null,c=Tn(this,c),Un(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function li(c,g,w){Bn(c,g),0<w.length&&(c.i=null,c.g.set(Tn(c,g),M(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var C=g[w];const Y=encodeURIComponent(String(C)),ue=this.V(C);for(C=0;C<ue.length;C++){var G=Y;ue[C]!==""&&(G+="="+encodeURIComponent(String(ue[C]))),c.push(G)}}return this.i=c.join("&")};function Tn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function sr(c,g){g&&!c.j&&(bt(c),c.i=null,c.g.forEach(function(w,C){var G=C.toLowerCase();C!=G&&(Bn(this,C),li(this,G,w))},c)),c.j=g}function Rh(c,g){const w=new Ki;if(h.Image){const C=new Image;C.onload=S(Zt,w,"TestLoadImage: loaded",!0,g,C),C.onerror=S(Zt,w,"TestLoadImage: error",!1,g,C),C.onabort=S(Zt,w,"TestLoadImage: abort",!1,g,C),C.ontimeout=S(Zt,w,"TestLoadImage: timeout",!1,g,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else g(!1)}function su(c,g){const w=new Ki,C=new AbortController,G=setTimeout(()=>{C.abort(),Zt(w,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:C.signal}).then(Y=>{clearTimeout(G),Y.ok?Zt(w,"TestPingServer: ok",!0,g):Zt(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(G),Zt(w,"TestPingServer: error",!1,g)})}function Zt(c,g,w,C,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),C(w)}catch{}}function bh(){this.g=new da}function ou(c,g,w){const C=w||"";try{ri(c,function(G,Y){let ue=G;p(G)&&(ue=ca(G)),g.push(C+Y+"="+encodeURIComponent(ue))})}catch(G){throw g.push(C+"type="+encodeURIComponent("_badmap")),G}}function Dr(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Dr,Gi),Dr.prototype.g=function(){return new ts(this.l,this.j)},Dr.prototype.i=function(c){return function(){return c}}({});function ts(c,g){yt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ts,yt),t=ts.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,zn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;au(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function au(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?$n(this):zn(this),this.readyState==3&&au(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,$n(this))},t.Qa=function(c){this.g&&(this.response=c,$n(this))},t.ga=function(){this.g&&$n(this)};function $n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zn(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=g.next();return c.join(`\r
`)};function zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vr(c){let g="";return X(c,function(w,C){g+=C,g+=":",g+=w,g+=`\r
`}),g}function ui(c,g,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=Vr(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):We(c,g,w))}function Ye(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ye,yt);var kh=/^https?$/i,Ea=["POST","PUT"];t=Ye.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?js(this.o):js(jn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){ns(this,Y);return}if(c=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var G in C)w.set(G,C[G]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Y of C.keys())w.set(Y,C.get(Y));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(Y=>Y.toLowerCase()=="content-type"),G=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ea,g,void 0))||C||G||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of w)this.g.setRequestHeader(Y,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){ns(this,Y)}};function ns(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Qs(c),dn(c)}function Qs(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),dn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dn(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},t.bb=function(){Ta(this)};function Ta(c){if(c.h&&typeof u<"u"&&(!c.v[1]||en(c)!=4||c.Z()!=2)){if(c.u&&en(c)==4)aa(c.Ea,0,c);else if(vt(c,"readystatechange"),en(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var C;if(C=ue===0){var G=String(c.D).match(Zi)[1]||null;!G&&h.self&&h.self.location&&(G=h.self.location.protocol.slice(0,-1)),C=!kh.test(G?G.toLowerCase():"")}w=C}if(w)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var Y=2<en(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Qs(c)}}finally{dn(c)}}}}function dn(c,g){if(c.g){Xs(c);const w=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||vt(c,"ready");try{w.onreadystatechange=C}catch{}}}function Xs(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function en(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<en(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ha(g)}};function Sa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ys(c){const g={};c=(c.g&&2<=en(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if($(c[C]))continue;var w=F(c[C]);const G=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Y=g[G]||[];g[G]=Y,Y.push(w)}R(g,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(c,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||g}function Ca(c){this.Aa=0,this.i=[],this.j=new Ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=or("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=or("baseRetryDelayMs",5e3,c),this.cb=or("retryDelaySeedMs",1e4,c),this.Wa=or("forwardChannelMaxRetries",2,c),this.wa=or("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ji(c&&c.concurrentRequestLimit),this.Da=new bh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ca.prototype,t.la=8,t.G=1,t.connect=function(c,g,w,C){ut(0),this.W=c,this.H=g||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.I=hu(this,null,this.W),ar(this)};function kt(c){if(Js(c),c.G==3){var g=c.U++,w=hn(c.I);if(We(w,"SID",c.K),We(w,"RID",g),We(w,"TYPE","terminate"),Mr(c,w),g=new Fn(c,c.j,g),g.L=2,g.v=oi(hn(w)),w=!1,h.navigator&&h.navigator.sendBeacon)try{w=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&h.Image&&(new Image().src=g.v,w=!0),w||(g.g=du(g.j,null),g.g.ea(g.v)),g.F=Date.now(),He(g)}cu(c)}function Wn(c){c.g&&(Aa(c),c.g.cancel(),c.g=null)}function Js(c){Wn(c),c.u&&(h.clearTimeout(c.u),c.u=null),to(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function ar(c){if(!cn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ce||ce(),ae||(Ce(),ae=!0),ge.add(g,c),c.B=0}}function Nh(c,g){return Jl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ln(x(c.Ga,c,g),uu(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new Fn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=A(Y),V(Y,this.S)):Y=this.S),this.m!==null||this.O||(G.H=Y,Y=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=ci(this,G,g),w=hn(this.I),We(w,"RID",c),We(w,"CVER",22),this.D&&We(w,"X-HTTP-Session-Id",this.D),Mr(this,w),Y&&(this.O?g="headers="+encodeURIComponent(String(Vr(Y)))+"&"+g:this.m&&ui(w,this.m,Y)),wa(this.h,G),this.Ua&&We(w,"TYPE","init"),this.P?(We(w,"$req",g),We(w,"SID","null"),G.T=!0,Hs(G,w,null)):Hs(G,w,g),this.G=2}}else this.G==3&&(c?Zs(this,c):this.i.length==0||cn(this.h)||Zs(this))};function Zs(c,g){var w;g?w=g.l:w=c.U++;const C=hn(c.I);We(C,"SID",c.K),We(C,"RID",w),We(C,"AID",c.T),Mr(c,C),c.m&&c.o&&ui(C,c.m,c.o),w=new Fn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ci(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),wa(c.h,w),Hs(w,C,g)}function Mr(c,g){c.H&&X(c.H,function(w,C){We(g,C,w)}),c.l&&ri({},function(w,C){We(g,C,w)})}function ci(c,g,w){w=Math.min(c.i.length,w);var C=c.l?x(c.l.Na,c.l,c):null;e:{var G=c.i;let Y=-1;for(;;){const ue=["count="+w];Y==-1?0<w?(Y=G[0].g,ue.push("ofs="+Y)):Y=0:ue.push("ofs="+Y);let ze=!0;for(let _t=0;_t<w;_t++){let Me=G[_t].g;const Ct=G[_t].map;if(Me-=Y,0>Me)Y=Math.max(0,G[_t].g-100),ze=!1;else try{ou(Ct,ue,"req"+Me+"_")}catch{C&&C(Ct)}}if(ze){C=ue.join("&");break e}}}return c=c.i.splice(0,w),g.D=c,C}function rs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ce||ce(),ae||(Ce(),ae=!0),ge.add(g,c),c.v=0}}function eo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ln(x(c.Fa,c),uu(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ln(x(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Wn(this),lu(this))};function Aa(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function lu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=hn(c.qa);We(g,"RID","rpc"),We(g,"SID",c.K),We(g,"AID",c.T),We(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(g,"TO",c.ja),We(g,"TYPE","xmlhttp"),Mr(c,g),c.m&&c.o&&ui(g,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=oi(hn(g)),w.m=null,w.P=!0,va(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Wn(this),eo(this),ut(19))};function to(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function no(c,g){var w=null;if(c.g==g){to(c),Aa(c),c.g=null;var C=2}else if(Kt(c.h,g))w=g.D,Zl(c.h,g),C=1;else return;if(c.G!=0){if(g.o)if(C==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var G=c.B;C=qi(),vt(C,new Us(C,w)),ar(c)}else rs(c);else if(G=g.s,G==3||G==0&&0<g.X||!(C==1&&Nh(c,g)||C==2&&eo(c)))switch(w&&0<w.length&&(g=c.h,g.i=g.i.concat(w)),G){case 1:Lr(c,5);break;case 4:Lr(c,10);break;case 3:Lr(c,6);break;default:Lr(c,2)}}}function uu(c,g){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*g}function Lr(c,g){if(c.j.info("Error code "+g),g==2){var w=x(c.fb,c),C=c.Xa;const G=!C;C=new Nr(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||es(C,"https"),oi(C),G?Rh(C.toString(),w):su(C.toString(),w)}else ut(2);c.G=0,c.l&&c.l.sa(g),cu(c),Js(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function cu(c){if(c.G=0,c.ka=[],c.l){const g=eu(c.h);(g.length!=0||c.i.length!=0)&&(D(c.ka,g),D(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function hu(c,g,w){var C=w instanceof Nr?hn(w):new Nr(w);if(C.g!="")g&&(C.g=g+"."+C.g),ii(C,C.s);else{var G=h.location;C=G.protocol,g=g?g+"."+G.hostname:G.hostname,G=+G.port;var Y=new Nr(null);C&&es(Y,C),g&&(Y.g=g),G&&ii(Y,G),w&&(Y.l=w),C=Y}return w=c.D,g=c.ya,w&&g&&We(C,w,g),We(C,"VER",c.la),Mr(c,C),C}function du(c,g,w){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ye(new Dr({eb:w})):new Ye(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pa(){}t=Pa.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ro(){}ro.prototype.g=function(c,g){return new Qt(c,g)};function Qt(c,g){yt.call(this),this.g=new Ca(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!$(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!$(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new lr(this)}P(Qt,yt),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){kt(this.g)},Qt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=ca(c),c=w);g.i.push(new Yl(g.Ya++,c)),g.G==3&&ar(g)},Qt.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Qt.aa.N.call(this)};function fu(c){nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const w in g){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}P(fu,nr);function pu(){Bs.call(this),this.status=1}P(pu,Bs);function lr(c){this.g=c}P(lr,Pa),lr.prototype.ua=function(){vt(this.g,"a")},lr.prototype.ta=function(c){vt(this.g,new fu(c))},lr.prototype.sa=function(c){vt(this.g,new pu)},lr.prototype.ra=function(){vt(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,fE=function(){return new ro},dE=function(){return qi()},hE=rr,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,Cc=zs,ql.COMPLETE="complete",cE=ql,Fs.EventType=xn,xn.OPEN="a",xn.CLOSE="b",xn.ERROR="c",xn.MESSAGE="d",yt.prototype.listen=yt.prototype.K,il=Fs,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,uE=Ye}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const Y0="@firebase/firestore",J0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Zx("@firebase/firestore");function Io(){return Ps.logLevel}function de(t,...e){if(Ps.logLevel<=Oe.DEBUG){const n=e.map(mm);Ps.debug(`Firestore (${ea}): ${t}`,...n)}}function Yr(t,...e){if(Ps.logLevel<=Oe.ERROR){const n=e.map(mm);Ps.error(`Firestore (${ea}): ${t}`,...n)}}function zo(t,...e){if(Ps.logLevel<=Oe.WARN){const n=e.map(mm);Ps.warn(`Firestore (${ea}): ${t}`,...n)}}function mm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: `+t;throw Yr(e),new Error(e)}function Ue(t,e){t||Ae()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends bs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class oN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aN{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let a=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Kr,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},h=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Kr)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ue(typeof i.accessToken=="string"),new pE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Wt(e)}}class lN{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class uN{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new lN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Z0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cN{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,rE(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ue(this.o===void 0);const i=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Z0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new Z0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=hN(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%62))}return i}}function ke(t,e){return t<e?-1:t>e?1:0}function rp(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),o=e.codePointAt(n);if(i!==o){if(i<128&&o<128)return ke(i,o);{const a=mE(),u=dN(a.encode(e_(t,n)),a.encode(e_(e,n)));return u!==0?u:ke(i,o)}}n+=i>65535?2:1}return ke(t.length,e.length)}function e_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function dN(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ke(t[n],e[n]);return ke(t.length,e.length)}function Wo(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_=-62135596800,n_=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*n_);return new Tt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<t_)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/n_}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-t_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Tt(0,0))}static max(){return new Ie(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="__name__";class fr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ae(),i===void 0?i=e.length-n:i>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=fr.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return ke(e.length,n.length)}static compareSegments(e,n){const i=fr.isNumericId(e),o=fr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?fr.extractNumericId(e).compare(fr.extractNumericId(n)):rp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bi.fromString(e.substring(4,e.length-2))}}class Ze extends fr{construct(e,n,i){return new Ze(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const fN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends fr{construct(e,n,i){return new Lt(e,n,i)}static isValidIdentifier(e){return fN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r_}static keyField(){return new Lt([r_])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(i+=h,o++):(a(),o++)}if(a(),u)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Ze.fromString(e))}static fromName(e){return new Te(Ze.fromString(e).popFirst(5))}static empty(){return new Te(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=-1;function pN(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(i===1e9?new Tt(n+1,0):new Tt(n,i));return new Mi(o,Te.empty(),e)}function mN(t){return new Mi(t.readTime,t.key,Al)}class Mi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Mi(Ie.min(),Te.empty(),Al)}static max(){return new Mi(Ie.max(),Te.empty(),Al)}}function gN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==yN)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,i)=>{n(e)})}static reject(e){return new ee((n,i)=>{i(e)})}static waitFor(e){return new ee((n,i)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&n()},f=>i(f))}),u=!0,a===o&&n()})}static or(e){let n=ee.resolve(!1);for(const i of e)n=n.next(o=>o?ee.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,a)=>{i.push(n.call(this,o,a))}),this.waitFor(i)}static mapArray(e,n){return new ee((i,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(v=>{u[p]=v,++h,h===a&&i(u)},v=>o(v))}})}static doWhile(e,n){return new ee((i,o)=>{const a=()=>{e()===!0?n().next(()=>{a()},o):i()};a()})}}function _N(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function na(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}dh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=-1;function fh(t){return t==null}function zc(t){return t===0&&1/t==-1/0}function wN(t){return typeof t=="number"&&Number.isInteger(t)&&!zc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="";function xN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=i_(e)),e=EN(t.get(n),e);return i_(e)}function EN(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case yE:n+="";break;default:n+=a}}return n}function i_(t){return t+yE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Mt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??Mt.RED,this.left=o??Mt.EMPTY,this.right=a??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new Mt(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Mt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,i,o,a){return this}insert(e,n,i){return new Mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(e){return new o_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class o_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new St(Lt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _E("Invalid base64 string: "+a):a}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const TN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=TN.exec(t);if(Ue(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oi(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="server_timestamp",xE="__type__",EE="__previous_value__",TE="__local_write_time__";function ym(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[xE])===null||n===void 0?void 0:n.stringValue)===wE}function ph(t){const e=t.mapValue.fields[EE];return ym(e)?ph(e):e}function Pl(t){const e=Li(t.mapValue.fields[TE].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,n,i,o,a,u,h,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}const Wc="(default)";class Il{constructor(e,n){this.projectId=e,this.database=n||Wc}static empty(){return new Il("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(e){return e instanceof Il&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="__type__",CN="__max__",gc={mapValue:{}},CE="__vector__",Hc="value";function ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ym(t)?4:PN(t)?9007199254740991:AN(t)?10:11:Ae()}function xr(t,e){if(t===e)return!0;const n=ji(t);if(n!==ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pl(t).isEqual(Pl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Li(o.timestampValue),h=Li(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return Oi(o.bytesValue).isEqual(Oi(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return dt(o.geoPointValue.latitude)===dt(a.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return dt(o.integerValue)===dt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=dt(o.doubleValue),h=dt(a.doubleValue);return u===h?zc(u)===zc(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],xr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(s_(u)!==s_(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!xr(u[f],h[f])))return!1;return!0}(t,e);default:return Ae()}}function Rl(t,e){return(t.values||[]).find(n=>xr(n,e))!==void 0}function Ho(t,e){if(t===e)return 0;const n=ji(t),i=ji(e);if(n!==i)return ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(a,u){const h=dt(a.integerValue||a.doubleValue),f=dt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return a_(t.timestampValue,e.timestampValue);case 4:return a_(Pl(t),Pl(e));case 5:return rp(t.stringValue,e.stringValue);case 6:return function(a,u){const h=Oi(a),f=Oi(u);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const v=ke(h[p],f[p]);if(v!==0)return v}return ke(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const h=ke(dt(a.latitude),dt(u.latitude));return h!==0?h:ke(dt(a.longitude),dt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return l_(t.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,p,v;const _=a.fields||{},x=u.fields||{},S=(h=_[Hc])===null||h===void 0?void 0:h.arrayValue,P=(f=x[Hc])===null||f===void 0?void 0:f.arrayValue,M=ke(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((v=P==null?void 0:P.values)===null||v===void 0?void 0:v.length)||0);return M!==0?M:l_(S,P)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===gc.mapValue&&u===gc.mapValue)return 0;if(a===gc.mapValue)return 1;if(u===gc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let _=0;_<f.length&&_<v.length;++_){const x=rp(f[_],v[_]);if(x!==0)return x;const S=Ho(h[f[_]],p[v[_]]);if(S!==0)return S}return ke(f.length,v.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function a_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Li(t),i=Li(e),o=ke(n.seconds,i.seconds);return o!==0?o:ke(n.nanos,i.nanos)}function l_(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=Ho(n[o],i[o]);if(a)return a}return ke(n.length,i.length)}function Go(t){return ip(t)}function ip(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Li(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=ip(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${ip(n.fields[u])}`;return o+"}"}(t.mapValue):Ae()}function Ac(t){switch(ji(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ph(t);return e?16+Ac(e):16;case 5:return 2*t.stringValue.length;case 6:return Oi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Ac(a),0)}(t.arrayValue);case 10:case 11:return function(i){let o=0;return ks(i.fields,(a,u)=>{o+=a.length+Ac(u)}),o}(t.mapValue);default:throw Ae()}}function sp(t){return!!t&&"integerValue"in t}function vm(t){return!!t&&"arrayValue"in t}function u_(t){return!!t&&"nullValue"in t}function c_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pc(t){return!!t&&"mapValue"in t}function AN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[SE])===null||n===void 0?void 0:n.stringValue)===CE}function dl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ks(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=dl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function PN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===CN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Pc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(n)}setAll(e){let n=Lt.emptyPath(),i={},o=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,o),i={},o=[],n=h.popLast()}u?i[h.lastSegment()]=dl(u):o.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());Pc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Pc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){ks(n,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Vn(dl(this.value))}}function AE(t){const e=[];return ks(t.fields,(n,i)=>{const o=new Lt([n]);if(Pc(i)){const a=AE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,i,o,a,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Ht(e,0,Ie.min(),Ie.min(),Ie.min(),Vn.empty(),0)}static newFoundDocument(e,n,i,o){return new Ht(e,1,n,Ie.min(),i,o,0)}static newNoDocument(e,n){return new Ht(e,2,n,Ie.min(),Ie.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,Ie.min(),Ie.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(e,n){this.position=e,this.inclusive=n}}function h_(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?i=Te.comparator(Te.fromName(u.referenceValue),n.key):i=Ho(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function d_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!xr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n="asc"){this.field=e,this.dir=n}}function IN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{}class Et extends PE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new bN(e,n,i):n==="array-contains"?new DN(e,i):n==="in"?new VN(e,i):n==="not-in"?new MN(e,i):n==="array-contains-any"?new LN(e,i):new Et(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new kN(e,i):new NN(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ho(n,this.value)):n!==null&&ji(this.value)===ji(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends PE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Er(e,n)}matches(e){return IE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function IE(t){return t.op==="and"}function RE(t){return RN(t)&&IE(t)}function RN(t){for(const e of t.filters)if(e instanceof Er)return!1;return!0}function op(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+Go(t.value);if(RE(t))return t.filters.map(e=>op(e)).join(",");{const e=t.filters.map(n=>op(n)).join(",");return`${t.op}(${e})`}}function bE(t,e){return t instanceof Et?function(i,o){return o instanceof Et&&i.op===o.op&&i.field.isEqual(o.field)&&xr(i.value,o.value)}(t,e):t instanceof Er?function(i,o){return o instanceof Er&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,h)=>a&&bE(u,o.filters[h]),!0):!1}(t,e):void Ae()}function kE(t){return t instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${Go(n.value)}`}(t):t instanceof Er?function(n){return n.op.toString()+" {"+n.getFilters().map(kE).join(" ,")+"}"}(t):"Filter"}class bN extends Et{constructor(e,n,i){super(e,n,i),this.key=Te.fromName(i.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class kN extends Et{constructor(e,n){super(e,"in",n),this.keys=NE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class NN extends Et{constructor(e,n){super(e,"not-in",n),this.keys=NE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function NE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Te.fromName(i.referenceValue))}class DN extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return vm(n)&&Rl(n.arrayValue,this.value)}}class VN extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}}class MN extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rl(this.value.arrayValue,n)}}class LN extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!vm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Rl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n=null,i=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.le=null}}function f_(t,e=null,n=[],i=[],o=null,a=null,u=null){return new ON(t,e,n,i,o,a,u)}function _m(t){const e=Re(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>op(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Go(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Go(i)).join(",")),e.le=n}return e.le}function wm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!IN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!bE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!d_(t.startAt,e.startAt)&&d_(t.endAt,e.endAt)}function ap(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n=null,i=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function jN(t,e,n,i,o,a,u,h){return new mh(t,e,n,i,o,a,u,h)}function xm(t){return new mh(t)}function p_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FN(t){return t.collectionGroup!==null}function fl(t){const e=Re(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new St(Lt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new qc(a,i))}),n.has(Lt.keyField().canonicalString())||e.he.push(new qc(Lt.keyField(),i))}return e.he}function yr(t){const e=Re(t);return e.Pe||(e.Pe=BN(e,fl(t))),e.Pe}function BN(t,e){if(t.limitType==="F")return f_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new qc(o.field,a)});const n=t.endAt?new Gc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Gc(t.startAt.position,t.startAt.inclusive):null;return f_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function lp(t,e,n){return new mh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gh(t,e){return wm(yr(t),yr(e))&&t.limitType===e.limitType}function DE(t){return`${_m(yr(t))}|lt:${t.limitType}`}function Ro(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>kE(o)).join(", ")}]`),fh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>Go(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>Go(o)).join(",")),`Target(${i})`}(yr(t))}; limitType=${t.limitType})`}function yh(t,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Te.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(t,e)&&function(i,o){for(const a of fl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(u,h,f){const p=h_(u,h,f);return u.inclusive?p<=0:p<0}(i.startAt,fl(i),o)||i.endAt&&!function(u,h,f){const p=h_(u,h,f);return u.inclusive?p>=0:p>0}(i.endAt,fl(i),o))}(t,e)}function UN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VE(t){return(e,n)=>{let i=!1;for(const o of fl(t)){const a=$N(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function $N(t,e,n){const i=t.field.isKeyField()?Te.comparator(e.key,n.key):function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?Ho(f,p):Ae()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(n,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return vE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new st(Te.comparator);function Jr(){return zN}const ME=new st(Te.comparator);function sl(...t){let e=ME;for(const n of t)e=e.insert(n.key,n);return e}function LE(t){let e=ME;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Cs(){return pl()}function OE(){return pl()}function pl(){return new Ns(t=>t.toString(),(t,e)=>t.isEqual(e))}const WN=new st(Te.comparator),HN=new St(Te.comparator);function De(...t){let e=HN;for(const n of t)e=e.add(n);return e}const GN=new St(ke);function qN(){return GN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(e)?"-0":e}}function jE(t){return{integerValue:""+t}}function KN(t,e){return wN(e)?jE(e):Em(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function QN(t,e,n){return t instanceof Kc?function(o,a){const u={fields:{[xE]:{stringValue:wE},[TE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&ym(a)&&(a=ph(a)),a&&(u.fields[EE]=a),{mapValue:u}}(n,e):t instanceof bl?BE(t,e):t instanceof kl?UE(t,e):function(o,a){const u=FE(o,a),h=m_(u)+m_(o.Ie);return sp(u)&&sp(o.Ie)?jE(h):Em(o.serializer,h)}(t,e)}function XN(t,e,n){return t instanceof bl?BE(t,e):t instanceof kl?UE(t,e):n}function FE(t,e){return t instanceof Qc?function(i){return sp(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Kc extends vh{}class bl extends vh{constructor(e){super(),this.elements=e}}function BE(t,e){const n=$E(e);for(const i of t.elements)n.some(o=>xr(o,i))||n.push(i);return{arrayValue:{values:n}}}class kl extends vh{constructor(e){super(),this.elements=e}}function UE(t,e){let n=$E(e);for(const i of t.elements)n=n.filter(o=>!xr(o,i));return{arrayValue:{values:n}}}class Qc extends vh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function m_(t){return dt(t.integerValue||t.doubleValue)}function $E(t){return vm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function YN(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof bl&&o instanceof bl||i instanceof kl&&o instanceof kl?Wo(i.elements,o.elements,xr):i instanceof Qc&&o instanceof Qc?xr(i.Ie,o.Ie):i instanceof Kc&&o instanceof Kc}(t.transform,e.transform)}class JN{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ic(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _h{}function zE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Tm(t.key,vr.none()):new Ul(t.key,t.data,vr.none());{const n=t.data,i=Vn.empty();let o=new St(Lt.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Ds(t.key,i,new Jn(o.toArray()),vr.none())}}function ZN(t,e,n){t instanceof Ul?function(o,a,u){const h=o.value.clone(),f=y_(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Ds?function(o,a,u){if(!Ic(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=y_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(WE(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function ml(t,e,n,i){return t instanceof Ul?function(a,u,h,f){if(!Ic(a.precondition,u))return h;const p=a.value.clone(),v=v_(a.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ds?function(a,u,h,f){if(!Ic(a.precondition,u))return h;const p=v_(a.fieldTransforms,f,u),v=u.data;return v.setAll(WE(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,i):function(a,u,h){return Ic(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function e2(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),a=FE(i.transform,o||null);a!=null&&(n===null&&(n=Vn.empty()),n.set(i.field,a))}return n||null}function g_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Wo(i,o,(a,u)=>YN(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ul extends _h{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends _h{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function WE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function y_(t,e,n){const i=new Map;Ue(t.length===n.length);for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,h=e.data.field(a.field);i.set(a.field,XN(u,h,n[o]))}return i}function v_(t,e,n){const i=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);i.set(o.field,QN(a,u,e))}return i}class Tm extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t2 extends _h{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&ZN(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ml(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ml(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=OE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(o.key)?null:h;const f=zE(u,h);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Ie.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(n,i)=>g_(n,i))&&Wo(this.baseMutations,e.baseMutations,(n,i)=>g_(n,i))}}class Sm{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ue(e.mutations.length===i.length);let o=function(){return WN}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Sm(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Le;function s2(t){switch(t){case re.OK:return Ae();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ae()}}function HE(t){if(t===void 0)return Yr("GRPC error has no .code"),re.UNKNOWN;switch(t){case mt.OK:return re.OK;case mt.CANCELLED:return re.CANCELLED;case mt.UNKNOWN:return re.UNKNOWN;case mt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case mt.INTERNAL:return re.INTERNAL;case mt.UNAVAILABLE:return re.UNAVAILABLE;case mt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case mt.NOT_FOUND:return re.NOT_FOUND;case mt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case mt.ABORTED:return re.ABORTED;case mt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case mt.DATA_LOSS:return re.DATA_LOSS;default:return Ae()}}(Le=mt||(mt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=new bi([4294967295,4294967295],0);function __(t){const e=mE().encode(t),n=new lE;return n.update(e),new Uint8Array(n.digest())}function w_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new bi([n,i],0),new bi([o,a],0)]}class Cm{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ol(`Invalid padding: ${n}`);if(i<0)throw new ol(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ol(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=bi.fromNumber(this.Ee)}Ae(e,n,i){let o=e.add(n.multiply(bi.fromNumber(i)));return o.compare(o2)===1&&(o=new bi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=__(e),[i,o]=w_(n);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);if(!this.Re(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Cm(a,o,n);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const n=__(e),[i,o]=w_(n);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);this.Ve(u)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new wh(Ie.min(),o,new st(ke),Jr(),De())}}class $l{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new $l(i,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,i,o){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=o}}class GE{constructor(e,n){this.targetId=e,this.ge=n}}class qE{constructor(e,n,i=Ot.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class x_{constructor(){this.pe=0,this.ye=E_(),this.we=Ot.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=De(),n=De(),i=De();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ae()}}),new $l(this.we,this.Se,e,n,i)}Me(){this.be=!1,this.ye=E_()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ue(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class a2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Jr(),this.$e=yc(),this.Ue=yc(),this.Ke=new st(ke)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,i=e.ge.count,o=this.Xe(n);if(o){const a=o.target;if(ap(a))if(i===0){const u=new Te(a.path);this.ze(n,u,Ht.newNoDocument(u,Ie.min()))}else Ue(i===1);else{const u=this.et(n);if(u!==i){const h=this.tt(e),f=h?this.nt(h,e,u):1;if(f!==0){this.Ye(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let u,h;try{u=Oi(i).toUint8Array()}catch(f){if(f instanceof _E)return zo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Cm(u,o,a)}catch(f){return zo(f instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let o=0;return i.forEach(a=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.ze(n,a,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((a,u)=>{const h=this.Xe(u);if(h){if(a.current&&ap(h.target)){const f=new Te(h.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,Ht.newNoDocument(f,e))}a.ve&&(n.set(u,a.Fe()),a.Me())}});let i=De();this.Ue.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new wh(e,n,this.Ke,this.Qe,i);return this.Qe=Jr(),this.$e=yc(),this.Ue=yc(),this.Ke=new st(ke),o}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new x_,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new St(ke),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new St(ke),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new x_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function yc(){return new st(Te.comparator)}function E_(){return new st(Te.comparator)}const l2={asc:"ASCENDING",desc:"DESCENDING"},u2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c2={and:"AND",or:"OR"};class h2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function up(t,e){return t.useProto3Json||fh(e)?e:{value:e}}function Xc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function d2(t,e){return Xc(t,e.toTimestamp())}function _r(t){return Ue(!!t),Ie.fromTimestamp(function(n){const i=Li(n);return new Tt(i.seconds,i.nanos)}(t))}function Am(t,e){return cp(t,e).canonicalString()}function cp(t,e){const n=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QE(t){const e=Ze.fromString(t);return Ue(eT(e)),e}function hp(t,e){return Am(t.databaseId,e.path)}function Tf(t,e){const n=QE(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(YE(n))}function XE(t,e){return Am(t.databaseId,e)}function f2(t){const e=QE(t);return e.length===4?Ze.emptyPath():YE(e)}function dp(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YE(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function T_(t,e,n){return{name:hp(t,e),fields:n.value.mapValue.fields}}function p2(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(p,v){return p.useProto3Json?(Ue(v===void 0||typeof v=="string"),Ot.fromBase64String(v||"")):(Ue(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Ot.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const v=p.code===void 0?re.UNKNOWN:HE(p.code);return new _e(v,p.message||"")}(u);n=new qE(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Tf(t,i.document.name),a=_r(i.document.updateTime),u=i.document.createTime?_r(i.document.createTime):Ie.min(),h=new Vn({mapValue:{fields:i.document.fields}}),f=Ht.newFoundDocument(o,a,u,h),p=i.targetIds||[],v=i.removedTargetIds||[];n=new Rc(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Tf(t,i.document),a=i.readTime?_r(i.readTime):Ie.min(),u=Ht.newNoDocument(o,a),h=i.removedTargetIds||[];n=new Rc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Tf(t,i.document),a=i.removedTargetIds||[];n=new Rc([],a,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new i2(o,a),h=i.targetId;n=new GE(h,u)}}return n}function m2(t,e){let n;if(e instanceof Ul)n={update:T_(t,e.key,e.value)};else if(e instanceof Tm)n={delete:hp(t,e.key)};else if(e instanceof Ds)n={update:T_(t,e.key,e.data),updateMask:S2(e.fieldMask)};else{if(!(e instanceof t2))return Ae();n={verify:hp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const h=u.transform;if(h instanceof Kc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof bl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof kl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Qc)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Ae()}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:d2(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ae()}(t,e.precondition)),n}function g2(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(o,a){let u=o.updateTime?_r(o.updateTime):_r(a);return u.isEqual(Ie.min())&&(u=_r(a)),new JN(u,o.transformResults||[])}(n,e))):[]}function y2(t,e){return{documents:[XE(t,e.path)]}}function v2(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=XE(t,o);const a=function(p){if(p.length!==0)return ZE(Er.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(v=>function(x){return{field:bo(x.field),direction:x2(x.dir)}}(v))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=up(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:o}}function _2(t){let e=f2(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ue(i===1);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=function(_){const x=JE(_);return x instanceof Er&&RE(x)?x.getFilters():[x]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(x=>function(P){return new qc(ko(P.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(x))}(n.orderBy));let h=null;n.limit&&(h=function(_){let x;return x=typeof _=="object"?_.value:_,fh(x)?null:x}(n.limit));let f=null;n.startAt&&(f=function(_){const x=!!_.before,S=_.values||[];return new Gc(S,x)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const x=!_.before,S=_.values||[];return new Gc(S,x)}(n.endAt)),jN(e,o,u,a,h,"F",f,p)}function w2(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ko(n.unaryFilter.field);return Et.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ko(n.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ko(n.unaryFilter.field);return Et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ko(n.unaryFilter.field);return Et.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return Et.create(ko(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Er.create(n.compositeFilter.filters.map(i=>JE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function x2(t){return l2[t]}function E2(t){return u2[t]}function T2(t){return c2[t]}function bo(t){return{fieldPath:t.canonicalString()}}function ko(t){return Lt.fromServerFormat(t.fieldPath)}function ZE(t){return t instanceof Et?function(n){if(n.op==="=="){if(c_(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NAN"}};if(u_(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(c_(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NAN"}};if(u_(n.value))return{unaryFilter:{field:bo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(n.field),op:E2(n.op),value:n.value}}}(t):t instanceof Er?function(n){const i=n.getFilters().map(o=>ZE(o));return i.length===1?i[0]:{compositeFilter:{op:T2(n.op),filters:i}}}(t):Ae()}function S2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,i,o,a=Ie.min(),u=Ie.min(),h=Ot.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e){this.Tt=e}}function A2(t){const e=_2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(){this.Tn=new I2}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Mi.min())}updateCollectionGroup(e,n,i){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class I2{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new St(Ze.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new St(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tT=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(tT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new qo(0)}static Kn(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="LruGarbageCollector",R2=1048576;function A_([t,e],[n,i]){const o=ke(t,n);return o===0?ke(e,i):o}class b2{constructor(e){this.Hn=e,this.buffer=new St(A_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();A_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class k2{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(C_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){na(n)?de(C_,"Ignoring IndexedDB error during garbage collection: ",n):await ta(n)}await this.er(3e5)})}}class N2{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(dh.ae);const i=new b2(n);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(S_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),S_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,o,a,u,h,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,u=Date.now(),this.nthSequenceNumber(e,o))).next(_=>(i=_,h=Date.now(),this.removeTargets(e,i,n))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),Io()<=Oe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:_})))}}function D2(t,e){return new N2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.changes=new Ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ee.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&ml(i.mutation,o,Jn.empty(),Tt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,De()).next(()=>i))}getLocalViewOfDocuments(e,n,i=De()){const o=Cs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(a=>{let u=sl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=Cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,De()))}populateOverlays(e,n,i){const o=[];return i.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,i,o){let a=Jr();const u=pl(),h=function(){return pl()}();return n.forEach((f,p)=>{const v=i.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof Ds)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),ml(v.mutation,p,v.mutation.getFieldMask(),Tt.now())):u.set(p.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,v)=>u.set(p,v)),n.forEach((p,v)=>{var _;return h.set(p,new M2(v,(_=u.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,n){const i=pl();let o=new st((u,h)=>u-h),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let v=i.get(f)||Jn.empty();v=h.applyToLocalView(p,v),i.set(f,v);const _=(o.get(h.batchId)||De()).add(f);o=o.insert(h.batchId,_)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,v=f.value,_=OE();v.forEach(x=>{if(!a.has(x)){const S=zE(n.get(x),i.get(x));S!==null&&_.set(x,S),a=a.add(x)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ee.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):ee.resolve(Cs());let h=Al,f=a;return u.next(p=>ee.forEach(p,(v,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next(x=>{f=f.insert(v,x)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,De())).next(v=>({batchId:h,changes:LE(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(i=>{let o=sl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let u=sl();return this.indexManager.getCollectionParents(e,a).next(h=>ee.forEach(h,f=>{const p=function(_,x){return new mh(x,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next(v=>{v.forEach((_,x)=>{u=u.insert(_,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o))).next(u=>{a.forEach((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,Ht.newInvalidDocument(v)))});let h=sl();return u.forEach((f,p)=>{const v=a.get(f);v!==void 0&&ml(v.mutation,p,Jn.empty(),Tt.now()),yh(n,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:A2(o.bundledQuery),readTime:_r(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(){this.overlays=new st(Te.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Cs();return ee.forEach(n,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,a)=>{this.Et(e,n,a)}),ee.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),ee.resolve()}getOverlaysForCollection(e,n,i){const o=Cs(),a=n.length+1,u=new Te(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new st((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=a.get(p.largestBatchId);v===null&&(v=Cs(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=Cs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,v)=>h.set(p,v)),!(h.size()>=o)););return ee.resolve(h)}Et(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new r2(n,i));let a=this.Rr.get(n);a===void 0&&(a=De(),this.Rr.set(n,a)),this.Rr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(){this.Vr=new St(Rt.mr),this.gr=new St(Rt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new Rt(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new Rt(e,n))}Sr(e,n){e.forEach(i=>this.removeReference(i,n))}br(e){const n=new Te(new Ze([])),i=new Rt(n,e),o=new Rt(n,e+1),a=[];return this.gr.forEachInRange([i,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Te(new Ze([])),i=new Rt(n,e),o=new Rt(n,e+1);let a=De();return this.gr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new Rt(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Rt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Te.comparator(e.key,n.key)||ke(e.Cr,n.Cr)}static pr(e,n){return ke(e.Cr,n.Cr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new St(Rt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new n2(a,n,i,o);this.mutationQueue.push(u);for(const h of o)this.Mr=this.Mr.add(new Rt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Nr(i),a=o<0?0:o;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?gm:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Rt(n,0),o=new Rt(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,o],u=>{const h=this.Or(u.Cr);a.push(h)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new St(ke);return n.forEach(o=>{const a=new Rt(o,0),u=new Rt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],h=>{i=i.add(h.Cr)})}),ee.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;Te.isDocumentKey(a)||(a=a.child(""));const u=new Rt(new Te(a),0);let h=new St(ke);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(h=h.add(f.Cr)),!0)},u),ee.resolve(this.Br(h))}Br(e){const n=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ue(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ee.forEach(n.mutations,o=>{const a=new Rt(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new Rt(n,0),o=this.Mr.firstAfterOrEqual(i);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.kr=e,this.docs=function(){return new st(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ee.resolve(i?i.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let i=Jr();return n.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Ht.newInvalidDocument(o))}),ee.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=Jr();const u=n.path,h=new Te(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||gN(mN(v),i)<=0||(o.has(v.key)||yh(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,n,i,o){Ae()}qr(e,n){return ee.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new $2(this)}getSize(e){return ee.resolve(this.size)}}class $2 extends V2{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.persistence=e,this.Qr=new Ns(n=>_m(n),wm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Pm,this.targetCount=0,this.Kr=qo.Un()}forEachTarget(e,n){return this.Qr.forEach((i,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ee.waitFor(a).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return ee.resolve(i)}addMatchingKeys(e,n,i){return this.Ur.yr(n,i),ee.resolve()}removeMatchingKeys(e,n,i){this.Ur.Sr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ur.vr(n);return ee.resolve(i)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new dh(0),this.zr=!1,this.zr=!0,this.jr=new F2,this.referenceDelegate=e(this),this.Hr=new z2(this),this.indexManager=new P2,this.remoteDocumentCache=function(o){return new U2(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new C2(n),this.Yr=new O2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new j2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new B2(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){de("MemoryPersistence","Starting transaction:",e);const o=new W2(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,n){return ee.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class W2 extends vN{constructor(e){super(),this.currentSequenceNumber=e}}class Im{constructor(e){this.persistence=e,this.ti=new Pm,this.ni=null}static ri(e){return new Im(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),ee.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,i=>{const o=Te.fromPath(i);return this.si(e,o).next(a=>{a||n.removeEntry(o,Ie.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Yc{constructor(e,n){this.persistence=e,this.oi=new Ns(i=>xN(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=D2(this,n)}static ri(e,n){return new Yc(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(a=>a?ee.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,n).next(h=>{h||(i++,a.removeEntry(u,Ie.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ac(e.data.value)),n}ar(e,n,i){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ee.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=o}static Yi(e,n){let i=De(),o=De();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Rm(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return zb()?8:_N(Ub())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.rs(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,n,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new H2;return this._s(e,n,u).next(h=>{if(a.result=h,this.Xi)return this.us(e,n,u,h.size)})}).next(()=>a.result)}us(e,n,i,o){return i.documentReadCount<this.es?(Io()<=Oe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(Io()<=Oe.DEBUG&&de("QueryEngine","Query:",Ro(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(Io()<=Oe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):ee.resolve())}rs(e,n){if(p_(n))return ee.resolve(null);let i=yr(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=lp(n,null,"F"),i=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=De(...a);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const p=this.cs(n,h);return this.ls(n,p,u,f.readTime)?this.rs(e,lp(n,null,"F")):this.hs(e,p,n,f)}))})))}ss(e,n,i,o){return p_(n)||o.isEqual(Ie.min())?ee.resolve(null):this.ns.getDocuments(e,i).next(a=>{const u=this.cs(n,a);return this.ls(n,u,i,o)?ee.resolve(null):(Io()<=Oe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ro(n)),this.hs(e,u,n,pN(o,Al)).next(h=>h))})}cs(e,n){let i=new St(VE(e));return n.forEach((o,a)=>{yh(e,a)&&(i=i.add(a))}),i}ls(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,n,i){return Io()<=Oe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ro(n)),this.ns.getDocumentsMatchingQuery(e,n,Mi.min(),i)}hs(e,n,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="LocalStore",q2=3e8;class K2{constructor(e,n,i,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new st(ke),this.Is=new Ns(a=>_m(a),wm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new L2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function Q2(t,e,n,i){return new K2(t,e,n,i)}async function rT(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],h=[];let f=De();for(const p of o){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){h.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(i,f).next(p=>({Rs:p,removedBatchIds:u,addedBatchIds:h}))})})}function X2(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,p,v){const _=p.batch,x=_.keys();let S=ee.resolve();return x.forEach(P=>{S=S.next(()=>v.getEntry(f,P)).next(M=>{const D=p.docVersions.get(P);Ue(D!==null),M.version.compareTo(D)<0&&(_.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),v.addEntry(M)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(n,i,e,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=De();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function iT(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function Y2(t,e){const n=Re(t),i=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const h=[];e.targetChanges.forEach((v,_)=>{const x=o.get(_);if(!x)return;h.push(n.Hr.removeMatchingKeys(a,v.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(a,v.addedDocuments,_)));let S=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(Ot.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),o=o.insert(_,S),function(M,D,j){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=q2?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(x,S,v)&&h.push(n.Hr.updateTargetData(a,S))});let f=Jr(),p=De();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))}),h.push(J2(a,u,e.documentUpdates).next(v=>{f=v.Vs,p=v.fs})),!i.isEqual(Ie.min())){const v=n.Hr.getLastRemoteSnapshotVersion(a).next(_=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(v)}return ee.waitFor(h).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.Ts=o,a))}function J2(t,e,n){let i=De(),o=De();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let u=Jr();return n.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Ie.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):de(bm,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{Vs:u,fs:o}})}function Z2(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=gm),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function eD(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Hr.getTargetData(i,e).next(a=>a?(o=a,ee.resolve(o)):n.Hr.allocateTargetId(i).next(u=>(o=new Ai(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function fp(t,e,n){const i=Re(t),o=i.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!na(u))throw u;de(bm,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function P_(t,e,n){const i=Re(t);let o=Ie.min(),a=De();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,v){const _=Re(f),x=_.Is.get(v);return x!==void 0?ee.resolve(_.Ts.get(x)):_.Hr.getTargetData(p,v)}(i,u,yr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,n?o:Ie.min(),n?a:De())).next(h=>(tD(i,UN(e),h),{documents:h,gs:a})))}function tD(t,e,n){let i=t.Es.get(e)||Ie.min();n.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.Es.set(e,i)}class I_{constructor(){this.activeTargetIds=qN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nD{constructor(){this.ho=new I_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new I_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="ConnectivityMonitor";class b_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(R_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(R_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function pp(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf="RestConnection",iD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class sD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Wc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,n,i,o,a){const u=pp(),h=this.bo(e,n.toUriEncodedString());de(Sf,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,o,a),this.vo(e,h,f,i).then(p=>(de(Sf,`Received RPC '${e}' ${u}: `,p),p),p=>{throw zo(Sf,`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",i),p})}Co(e,n,i,o,a,u){return this.So(e,n,i,o,a)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ea}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}bo(e,n){const i=iD[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class aD extends sD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,o){const a=pp();return new Promise((u,h)=>{const f=new uE;f.setWithCredentials(!0),f.listenOnce(cE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Cc.NO_ERROR:const v=f.getResponseJson();de($t,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case Cc.TIMEOUT:de($t,`RPC '${e}' ${a} timed out`),h(new _e(re.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const _=f.getStatus();if(de($t,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const P=function(D){const j=D.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(j)>=0?j:re.UNKNOWN}(S.status);h(new _e(P,S.message))}else h(new _e(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new _e(re.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{de($t,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(o);de($t,`RPC '${e}' ${a} sending request:`,o),f.send(n,"POST",p,i,15)})}Wo(e,n,i){const o=pp(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=fE(),h=dE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const v=a.join("");de($t,`Creating RPC '${e}' stream ${o}: ${v}`,f);const _=u.createWebChannel(v,f);let x=!1,S=!1;const P=new oD({Fo:D=>{S?de($t,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(x||(de($t,`Opening RPC '${e}' stream ${o} transport.`),_.open(),x=!0),de($t,`RPC '${e}' stream ${o} sending:`,D),_.send(D))},Mo:()=>_.close()}),M=(D,j,$)=>{D.listen(j,O=>{try{$(O)}catch(U){setTimeout(()=>{throw U},0)}})};return M(_,il.EventType.OPEN,()=>{S||(de($t,`RPC '${e}' stream ${o} transport opened.`),P.Qo())}),M(_,il.EventType.CLOSE,()=>{S||(S=!0,de($t,`RPC '${e}' stream ${o} transport closed`),P.Uo())}),M(_,il.EventType.ERROR,D=>{S||(S=!0,zo($t,`RPC '${e}' stream ${o} transport errored:`,D),P.Uo(new _e(re.UNAVAILABLE,"The operation could not be completed")))}),M(_,il.EventType.MESSAGE,D=>{var j;if(!S){const $=D.data[0];Ue(!!$);const O=$,U=(O==null?void 0:O.error)||((j=O[0])===null||j===void 0?void 0:j.error);if(U){de($t,`RPC '${e}' stream ${o} received error:`,U);const z=U.status;let X=function(I){const V=mt[I];if(V!==void 0)return HE(V)}(z),R=U.message;X===void 0&&(X=re.INTERNAL,R="Unknown error status: "+z+" with message "+U.message),S=!0,P.Uo(new _e(X,R)),_.close()}else de($t,`RPC '${e}' stream ${o} received:`,$),P.Ko($)}}),M(h,hE.STAT_EVENT,D=>{D.stat===np.PROXY?de($t,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===np.NOPROXY&&de($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(t){return new h2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n,i=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="PersistentStream";class oT{constructor(e,n,i,o,a,u,h,f){this.Ti=e,this.n_=i,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new sT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===n&&this.V_(i,o)},i=>{e(()=>{const o=new _e(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(k_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(de(k_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lD extends oT{constructor(e,n,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=p2(this.serializer,e),i=function(a){if(!("targetChange"in a))return Ie.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Ie.min():u.readTime?_r(u.readTime):Ie.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=dp(this.serializer),n.addTarget=function(a,u){let h;const f=u.target;if(h=ap(f)?{documents:y2(a,f)}:{query:v2(a,f).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=KE(a,u.resumeToken);const p=up(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Ie.min())>0){h.readTime=Xc(a,u.snapshotVersion.toTimestamp());const p=up(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const i=w2(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=dp(this.serializer),n.removeTarget=e,this.I_(n)}}class uD extends oT{constructor(e,n,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=g2(e.writeResults,e.commitTime),i=_r(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=dp(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>m2(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{}class hD extends cD{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,cp(n,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(re.UNKNOWN,a.toString())})}Co(e,n,i,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,cp(n,i),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(re.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class dD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Yr(n),this.N_=!1):de("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is="RemoteStore";class fD{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{i.enqueueAndForget(async()=>{Vs(this)&&(de(Is,"Restarting streams for network reachability change."),await async function(f){const p=Re(f);p.W_.add(4),await zl(p),p.j_.set("Unknown"),p.W_.delete(4),await Eh(p)}(this))})}),this.j_=new dD(i,o)}}async function Eh(t){if(Vs(t))for(const e of t.G_)await e(!0)}async function zl(t){for(const e of t.G_)await e(!1)}function aT(t,e){const n=Re(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Vm(n)?Dm(n):ra(n).c_()&&Nm(n,e))}function km(t,e){const n=Re(t),i=ra(n);n.K_.delete(e),i.c_()&&lT(n,e),n.K_.size===0&&(i.c_()?i.P_():Vs(n)&&n.j_.set("Unknown"))}function Nm(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ra(t).y_(e)}function lT(t,e){t.H_.Ne(e),ra(t).w_(e)}function Dm(t){t.H_=new a2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),ra(t).start(),t.j_.B_()}function Vm(t){return Vs(t)&&!ra(t).u_()&&t.K_.size>0}function Vs(t){return Re(t).W_.size===0}function uT(t){t.H_=void 0}async function pD(t){t.j_.set("Online")}async function mD(t){t.K_.forEach((e,n)=>{Nm(t,e)})}async function gD(t,e){uT(t),Vm(t)?(t.j_.q_(e),Dm(t)):t.j_.set("Unknown")}async function yD(t,e,n){if(t.j_.set("Online"),e instanceof qE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.K_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.K_.delete(h),o.H_.removeTarget(h))}(t,e)}catch(i){de(Is,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Jc(t,i)}else if(e instanceof Rc?t.H_.We(e):e instanceof GE?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Ie.min()))try{const i=await iT(t.localStore);n.compareTo(i)>=0&&await function(a,u){const h=a.H_.ot(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.K_.get(p);v&&a.K_.set(p,v.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const v=a.K_.get(f);if(!v)return;a.K_.set(f,v.withResumeToken(Ot.EMPTY_BYTE_STRING,v.snapshotVersion)),lT(a,f);const _=new Ai(v.target,f,p,v.sequenceNumber);Nm(a,_)}),a.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){de(Is,"Failed to raise snapshot:",i),await Jc(t,i)}}async function Jc(t,e,n){if(!na(e))throw e;t.W_.add(1),await zl(t),t.j_.set("Offline"),n||(n=()=>iT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de(Is,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Eh(t)})}function cT(t,e){return e().catch(n=>Jc(t,n,e))}async function Th(t){const e=Re(t),n=Fi(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:gm;for(;vD(e);)try{const o=await Z2(e.localStore,i);if(o===null){e.U_.length===0&&n.P_();break}i=o.batchId,_D(e,o)}catch(o){await Jc(e,o)}hT(e)&&dT(e)}function vD(t){return Vs(t)&&t.U_.length<10}function _D(t,e){t.U_.push(e);const n=Fi(t);n.c_()&&n.S_&&n.b_(e.mutations)}function hT(t){return Vs(t)&&!Fi(t).u_()&&t.U_.length>0}function dT(t){Fi(t).start()}async function wD(t){Fi(t).C_()}async function xD(t){const e=Fi(t);for(const n of t.U_)e.b_(n.mutations)}async function ED(t,e,n){const i=t.U_.shift(),o=Sm.from(i,e,n);await cT(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Th(t)}async function TD(t,e){e&&Fi(t).S_&&await async function(i,o){if(function(u){return s2(u)&&u!==re.ABORTED}(o.code)){const a=i.U_.shift();Fi(i).h_(),await cT(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Th(i)}}(t,e),hT(t)&&dT(t)}async function N_(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),de(Is,"RemoteStore received new credentials");const i=Vs(n);n.W_.add(3),await zl(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Eh(n)}async function SD(t,e){const n=Re(t);e?(n.W_.delete(2),await Eh(n)):e||(n.W_.add(2),await zl(n),n.j_.set("Unknown"))}function ra(t){return t.J_||(t.J_=function(n,i,o){const a=Re(n);return a.M_(),new lD(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{xo:pD.bind(null,t),No:mD.bind(null,t),Lo:gD.bind(null,t),p_:yD.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Vm(t)?Dm(t):t.j_.set("Unknown")):(await t.J_.stop(),uT(t))})),t.J_}function Fi(t){return t.Y_||(t.Y_=function(n,i,o){const a=Re(n);return a.M_(),new uD(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:wD.bind(null,t),Lo:TD.bind(null,t),D_:xD.bind(null,t),v_:ED.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Th(t)):(await t.Y_.stop(),t.U_.length>0&&(de(Is,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const u=Date.now()+i,h=new Mm(e,n,u,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Lm(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),na(t))return new _e(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Te.comparator(n.key,i.key):(n,i)=>Te.comparator(n.key,i.key),this.keyedMap=sl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Oo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_{constructor(){this.Z_=new st(Te.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ko{constructor(e,n,i,o,a,u,h,f,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,o,a){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new Ko(e,n,Oo.emptySet(n),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class AD{constructor(){this.queries=V_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const o=Re(n),a=o.queries;o.queries=V_(),a.forEach((u,h)=>{for(const f of h.ta)f.onError(i)})})(this,new _e(re.ABORTED,"Firestore shutting down"))}}function V_(){return new Ns(t=>DE(t),gh)}async function fT(t,e){const n=Re(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.na()&&e.ra()&&(i=2):(a=new CD,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await n.onListen(o,!0);break;case 1:a.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const h=Lm(u,`Initialization of query '${Ro(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&Om(n)}async function pT(t,e){const n=Re(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function PD(t,e){const n=Re(t);let i=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const h of u.ta)h.oa(o)&&(i=!0);u.ea=o}}i&&Om(n)}function ID(t,e,n){const i=Re(t),o=i.queries.get(e);if(o)for(const a of o.ta)a.onError(n);i.queries.delete(e)}function Om(t){t.ia.forEach(e=>{e.next()})}var mp,M_;(M_=mp||(mp={}))._a="default",M_.Cache="cache";class mT{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ko(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==mp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.key=e}}class yT{constructor(e){this.key=e}}class RD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=De(),this.mutatedKeys=De(),this.ya=VE(e),this.wa=new Oo(this.ya)}get Sa(){return this.fa}ba(e,n){const i=n?n.Da:new D_,o=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,_)=>{const x=o.get(v),S=yh(this.query,_)?_:null,P=!!x&&this.mutatedKeys.has(x.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let D=!1;x&&S?x.data.isEqual(S.data)?P!==M&&(i.track({type:3,doc:S}),D=!0):this.va(x,S)||(i.track({type:2,doc:S}),D=!0,(f&&this.ya(S,f)>0||p&&this.ya(S,p)<0)&&(h=!0)):!x&&S?(i.track({type:0,doc:S}),D=!0):x&&!S&&(i.track({type:1,doc:x}),D=!0,(f||p)&&(h=!0)),D&&(S?(u=u.add(S),a=M?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{wa:u,Da:i,ls:h,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,_)=>function(S,P){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return M(S)-M(P)}(v.type,_.type)||this.ya(v.doc,_.doc)),this.Ca(i),o=o!=null&&o;const h=n&&!o?this.Fa():[],f=this.pa.size===0&&this.current&&!o?1:0,p=f!==this.ga;return this.ga=f,u.length!==0||p?{snapshot:new Ko(this.query,e.wa,a,u,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new D_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=De(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new yT(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new gT(i))}),n}Oa(e){this.fa=e.gs,this.pa=De();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ko.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const jm="SyncEngine";class bD{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class kD{constructor(e){this.key=e,this.Ba=!1}}class ND{constructor(e,n,i,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Ns(h=>DE(h),gh),this.qa=new Map,this.Qa=new Set,this.$a=new st(Te.comparator),this.Ua=new Map,this.Ka=new Pm,this.Wa={},this.Ga=new Map,this.za=qo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function DD(t,e,n=!0){const i=TT(t);let o;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await vT(i,e,n,!0),o}async function VD(t,e){const n=TT(t);await vT(n,e,!0,!1)}async function vT(t,e,n,i){const o=await eD(t.localStore,yr(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let h;return i&&(h=await MD(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&aT(t.remoteStore,o),h}async function MD(t,e,n,i,o){t.Ha=(_,x,S)=>async function(M,D,j,$){let O=D.view.ba(j);O.ls&&(O=await P_(M.localStore,D.query,!1).then(({documents:R})=>D.view.ba(R,O)));const U=$&&$.targetChanges.get(D.targetId),z=$&&$.targetMismatches.get(D.targetId)!=null,X=D.view.applyChanges(O,M.isPrimaryClient,U,z);return O_(M,D.targetId,X.Ma),X.snapshot}(t,_,x,S);const a=await P_(t.localStore,e,!0),u=new RD(e,a.gs),h=u.ba(a.documents),f=$l.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),p=u.applyChanges(h,t.isPrimaryClient,f);O_(t,n,p.Ma);const v=new bD(e,n,u);return t.ka.set(e,v),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function LD(t,e,n){const i=Re(t),o=i.ka.get(e),a=i.qa.get(o.targetId);if(a.length>1)return i.qa.set(o.targetId,a.filter(u=>!gh(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await fp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&km(i.remoteStore,o.targetId),gp(i,o.targetId)}).catch(ta)):(gp(i,o.targetId),await fp(i.localStore,o.targetId,!0))}async function OD(t,e){const n=Re(t),i=n.ka.get(e),o=n.qa.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),km(n.remoteStore,i.targetId))}async function jD(t,e,n){const i=HD(t);try{const o=await function(u,h){const f=Re(u),p=Tt.now(),v=h.reduce((S,P)=>S.add(P.key),De());let _,x;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let P=Jr(),M=De();return f.ds.getEntries(S,v).next(D=>{P=D,P.forEach((j,$)=>{$.isValidDocument()||(M=M.add(j))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,P)).next(D=>{_=D;const j=[];for(const $ of h){const O=e2($,_.get($.key).overlayedDocument);O!=null&&j.push(new Ds($.key,O,AE(O.value.mapValue),vr.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,j,h)}).next(D=>{x=D;const j=D.applyToLocalDocumentSet(_,M);return f.documentOverlayCache.saveOverlays(S,D.batchId,j)})}).then(()=>({batchId:x.batchId,changes:LE(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,h,f){let p=u.Wa[u.currentUser.toKey()];p||(p=new st(ke)),p=p.insert(h,f),u.Wa[u.currentUser.toKey()]=p}(i,o.batchId,n),await Wl(i,o.changes),await Th(i.remoteStore)}catch(o){const a=Lm(o,"Failed to persist write");n.reject(a)}}async function _T(t,e){const n=Re(t);try{const i=await Y2(n.localStore,e);e.targetChanges.forEach((o,a)=>{const u=n.Ua.get(a);u&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?Ue(u.Ba):o.removedDocuments.size>0&&(Ue(u.Ba),u.Ba=!1))}),await Wl(n,i,e)}catch(i){await ta(i)}}function L_(t,e,n){const i=Re(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.ka.forEach((a,u)=>{const h=u.view.sa(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const f=Re(u);f.onlineState=h;let p=!1;f.queries.forEach((v,_)=>{for(const x of _.ta)x.sa(h)&&(p=!0)}),p&&Om(f)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function FD(t,e,n){const i=Re(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Ua.get(e),a=o&&o.key;if(a){let u=new st(Te.comparator);u=u.insert(a,Ht.newNoDocument(a,Ie.min()));const h=De().add(a),f=new wh(Ie.min(),new Map,new st(ke),u,h);await _T(i,f),i.$a=i.$a.remove(a),i.Ua.delete(e),Fm(i)}else await fp(i.localStore,e,!1).then(()=>gp(i,e,n)).catch(ta)}async function BD(t,e){const n=Re(t),i=e.batch.batchId;try{const o=await X2(n.localStore,e);xT(n,i,null),wT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Wl(n,o)}catch(o){await ta(o)}}async function UD(t,e,n){const i=Re(t);try{const o=await function(u,h){const f=Re(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return f.mutationQueue.lookupMutationBatch(p,h).next(_=>(Ue(_!==null),v=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>f.localDocuments.getDocuments(p,v))})}(i.localStore,e);xT(i,e,n),wT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Wl(i,o)}catch(o){await ta(o)}}function wT(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function xT(t,e,n){const i=Re(t);let o=i.Wa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function gp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(i=>{t.Ka.containsKey(i)||ET(t,i)})}function ET(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(km(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),Fm(t))}function O_(t,e,n){for(const i of n)i instanceof gT?(t.Ka.addReference(i.key,e),$D(t,i)):i instanceof yT?(de(jm,"Document no longer in limbo: "+i.key),t.Ka.removeReference(i.key,e),t.Ka.containsKey(i.key)||ET(t,i.key)):Ae()}function $D(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(de(jm,"New document in limbo: "+n),t.Qa.add(i),Fm(t))}function Fm(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Te(Ze.fromString(e)),i=t.za.next();t.Ua.set(i,new kD(n)),t.$a=t.$a.insert(n,i),aT(t.remoteStore,new Ai(yr(xm(n.path)),i,"TargetPurposeLimboResolution",dh.ae))}}async function Wl(t,e,n){const i=Re(t),o=[],a=[],u=[];i.ka.isEmpty()||(i.ka.forEach((h,f)=>{u.push(i.Ha(f,e,n).then(p=>{var v;if((p||n)&&i.isPrimaryClient){const _=p?!p.fromCache:(v=n==null?void 0:n.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){o.push(p);const _=Rm.Yi(f.targetId,p);a.push(_)}}))}),await Promise.all(u),i.La.p_(o),await async function(f,p){const v=Re(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ee.forEach(p,x=>ee.forEach(x.Hi,S=>v.persistence.referenceDelegate.addReference(_,x.targetId,S)).next(()=>ee.forEach(x.Ji,S=>v.persistence.referenceDelegate.removeReference(_,x.targetId,S)))))}catch(_){if(!na(_))throw _;de(bm,"Failed to update sequence numbers: "+_)}for(const _ of p){const x=_.targetId;if(!_.fromCache){const S=v.Ts.get(x),P=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(P);v.Ts=v.Ts.insert(x,M)}}}(i.localStore,a))}async function zD(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){de(jm,"User change. New user:",e.toKey());const i=await rT(n.localStore,e);n.currentUser=e,function(a,u){a.Ga.forEach(h=>{h.forEach(f=>{f.reject(new _e(re.CANCELLED,u))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Wl(n,i.Rs)}}function WD(t,e){const n=Re(t),i=n.Ua.get(e);if(i&&i.Ba)return De().add(i.key);{let o=De();const a=n.qa.get(e);if(!a)return o;for(const u of a){const h=n.ka.get(u);o=o.unionWith(h.view.Sa)}return o}}function TT(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_T.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=FD.bind(null,e),e.La.p_=PD.bind(null,e.eventManager),e.La.Ja=ID.bind(null,e.eventManager),e}function HD(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=BD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=UD.bind(null,e),e}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return Q2(this.persistence,new G2,e.initialUser,this.serializer)}Xa(e){return new nT(Im.ri,this.serializer)}Za(e){return new nD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class GD extends Zc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ue(this.persistence.referenceDelegate instanceof Yc);const i=this.persistence.referenceDelegate.garbageCollector;return new k2(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new nT(i=>Yc.ri(i,n),this.serializer)}}class yp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>L_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=zD.bind(null,this.syncEngine),await SD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new AD}()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),i=function(a){return new aD(a)}(e.databaseInfo);return function(a,u,h,f){return new hD(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,a,u,h){return new fD(i,o,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>L_(this.syncEngine,n,0),function(){return b_.D()?new b_:new rD}())}createSyncEngine(e,n){return function(o,a,u,h,f,p,v){const _=new ND(o,a,u,h,f,p);return v&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const a=Re(o);de(Is,"RemoteStore shutting down."),a.W_.add(5),await zl(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="FirestoreClient";class qD{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=gE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{de(Bi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(de(Bi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Lm(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Af(t,e){t.asyncQueue.verifyOperationInProgress(),de(Bi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await rT(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function j_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KD(t);de(Bi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>N_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>N_(e.remoteStore,o)),t._onlineComponents=e}async function KD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Bi,"Using user provided OfflineComponentProvider");try{await Af(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await Af(t,new Zc)}}else de(Bi,"Using default OfflineComponentProvider"),await Af(t,new GD(void 0));return t._offlineComponents}async function CT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Bi,"Using user provided OnlineComponentProvider"),await j_(t,t._uninitializedComponentsProvider._online)):(de(Bi,"Using default OnlineComponentProvider"),await j_(t,new yp))),t._onlineComponents}function QD(t){return CT(t).then(e=>e.syncEngine)}async function AT(t){const e=await CT(t),n=e.eventManager;return n.onListen=DD.bind(null,e.syncEngine),n.onUnlisten=LD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=VD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=OD.bind(null,e.syncEngine),n}function XD(t,e,n={}){const i=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const v=new ST({next:x=>{v.su(),u.enqueueAndForget(()=>pT(a,_));const S=x.docs.has(h);!S&&x.fromCache?p.reject(new _e(re.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&x.fromCache&&f&&f.source==="server"?p.reject(new _e(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),_=new mT(xm(h.path),v,{includeMetadataChanges:!0,Ta:!0});return fT(a,_)}(await AT(t),t.asyncQueue,e,n,i)),i.promise}function YD(t,e,n={}){const i=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const v=new ST({next:x=>{v.su(),u.enqueueAndForget(()=>pT(a,_)),x.fromCache&&f.source==="server"?p.reject(new _e(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),_=new mT(h,v,{includeMetadataChanges:!0,Ta:!0});return fT(a,_)}(await AT(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(t,e,n){if(!n)throw new _e(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function JD(t,e,n,i){if(e===!0&&i===!0)throw new _e(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function B_(t){if(!Te.isDocumentKey(t))throw new _e(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function U_(t){if(Te.isDocumentKey(t))throw new _e(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Bm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function Ui(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bm(t);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="firestore.googleapis.com",$_=!0;class z_{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RT,this.ssl=$_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:$_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<R2)throw new _e(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}JD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new sN;switch(i.type){case"firstParty":return new uN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=F_.get(n);i&&(de("ComponentProvider","Removing Datastore"),F_.delete(n),i.terminate())}(this),Promise.resolve()}}function ZD(t,e,n,i={}){var o;const a=(t=Ui(t,Sh))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a.host!==RT&&a.host!==h&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:h,ssl:!1,emulatorOptions:i});if(!Uc(f,u)&&(t._setSettings(f),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=Wt.MOCK_USER;else{p=Yx(i.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Wt(_)}t._authCredentials=new oN(new pE(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ch(this.firestore,e,this._query)}}class vn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class ki extends Ch{constructor(e,n,i){super(e,n,xm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Te(e))}withConverter(e){return new ki(this.firestore,e,this._path)}}function eh(t,e,...n){if(t=Uo(t),IT("collection","path",e),t instanceof Sh){const i=Ze.fromString(e,...n);return U_(i),new ki(t,null,i)}{if(!(t instanceof vn||t instanceof ki))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ze.fromString(e,...n));return U_(i),new ki(t.firestore,null,i)}}function Nl(t,e,...n){if(t=Uo(t),arguments.length===1&&(e=gE.newId()),IT("doc","path",e),t instanceof Sh){const i=Ze.fromString(e,...n);return B_(i),new vn(t,null,new Te(i))}{if(!(t instanceof vn||t instanceof ki))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ze.fromString(e,...n));return B_(i),new vn(t.firestore,t instanceof ki?t.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_="AsyncQueue";class H_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new sT(this,"async_queue_retry"),this.Su=()=>{const i=Cf();i&&de(W_,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const n=Cf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Cf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Kr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!na(e))throw e;de(W_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(i);throw Yr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Mm.createAndSchedule(this,e,n,i,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Hl extends Sh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new H_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new H_(e),this._firestoreClient=void 0,await e}}}function bT(t,e){const n=typeof t=="object"?t:sE(),i=typeof t=="string"?t:e||Wc,o=nE(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=Qx("firestore");a&&ZD(o,...a)}return o}function Um(t){if(t._terminated)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||eV(t),t._firestoreClient}function eV(t){var e,n,i;const o=t._freezeSettings(),a=function(h,f,p,v){return new SN(h,f,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,PT(v.experimentalLongPollingOptions),v.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new qD(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qo(Ot.fromBase64String(e))}catch(n){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qo(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV=/^__.*__$/;class nV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ul(e,this.data,n,this.fieldTransforms)}}function NT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Hm{constructor(e,n,i,o,a,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Hm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Uu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return th(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(NT(this.Lu)&&tV.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class rV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||xh(e)}ju(e,n,i,o=!1){return new Hm({Lu:e,methodName:n,zu:i,path:Lt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function iV(t){const e=t._freezeSettings(),n=xh(t._databaseId);return new rV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sV(t,e,n,i,o,a={}){const u=t.ju(a.merge||a.mergeFields?2:0,e,n,o);LT("Data must be an object, but it was:",u,i);const h=VT(i,u);let f,p;if(a.merge)f=new Jn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const _ of a.mergeFields){const x=oV(e,_,n);if(!u.contains(x))throw new _e(re.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);lV(v,x)||v.push(x)}f=new Jn(v),p=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=u.fieldTransforms;return new nV(new Vn(h),f,p)}function DT(t,e){if(MT(t=Uo(t)))return LT("Unsupported field value:",e,t),VT(t,e);if(t instanceof kT)return function(i,o){if(!NT(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const h of i){let f=DT(h,o.Ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(t,e)}return function(i,o){if((i=Uo(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return KN(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Tt.fromDate(i);return{timestampValue:Xc(o.serializer,a)}}if(i instanceof Tt){const a=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Xc(o.serializer,a)}}if(i instanceof zm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qo)return{bytesValue:KE(o.serializer,i._byteString)};if(i instanceof vn){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Am(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Wm)return function(u,h){return{mapValue:{fields:{[SE]:{stringValue:CE},[Hc]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return Em(h.serializer,p)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${Bm(i)}`)}(t,e)}function VT(t,e){const n={};return vE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(t,(i,o)=>{const a=DT(o,e.qu(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function MT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof zm||t instanceof Qo||t instanceof vn||t instanceof kT||t instanceof Wm)}function LT(t,e,n){if(!MT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=Bm(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function oV(t,e,n){if((e=Uo(e))instanceof $m)return e._internalPath;if(typeof e=="string")return OT(t,e);throw th("Field path arguments must be of type string or ",t,!1,void 0,n)}const aV=new RegExp("[~\\*/\\[\\]]");function OT(t,e,n){if(e.search(aV)>=0)throw th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new $m(...e.split("."))._internalPath}catch{throw th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function th(t,e,n,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new _e(re.INVALID_ARGUMENT,h+t+f)}function lV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new uV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class uV extends jT{data(){return super.data()}}function FT(t,e){return typeof e=="string"?OT(t,e):e instanceof $m?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hV{convertValue(e,n="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ks(e,(o,a)=>{i[o]=this.convertValue(a,n)}),i}convertVectorValue(e){var n,i,o;const a=(o=(i=(n=e.fields)===null||n===void 0?void 0:n[Hc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>dt(u.doubleValue));return new Wm(a)}convertGeoPoint(e){return new zm(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=ph(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const n=Li(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ze.fromString(e);Ue(eT(i));const o=new Il(i.get(1),i.get(3)),a=new Te(i.popFirst(5));return o.isEqual(n)||Yr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BT extends jT{constructor(e,n,i,o,a,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(FT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class bc extends BT{data(e={}){return super.data(e)}}class fV{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new al(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new bc(this._firestore,this._userDataWriter,i.key,i,new al(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const f=new bc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new al(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new bc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new al(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:pV(h.type),doc:f,oldIndex:p,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function pV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t){t=Ui(t,vn);const e=Ui(t.firestore,Hl);return XD(Um(e),t._key).then(n=>gV(e,t,n))}class UT extends hV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function nh(t){t=Ui(t,Ch);const e=Ui(t.firestore,Hl),n=Um(e),i=new UT(e);return cV(t._query),YD(n,t._query).then(o=>new fV(e,i,t,o))}function qm(t,e,n){t=Ui(t,vn);const i=Ui(t.firestore,Hl),o=dV(t.converter,e,n);return $T(i,[sV(iV(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,vr.none())])}function mV(t){return $T(Ui(t.firestore,Hl),[new Tm(t._key,vr.none())])}function $T(t,e){return function(i,o){const a=new Kr;return i.asyncQueue.enqueueAndForget(async()=>jD(await QD(i),o,a)),a.promise}(Um(t),e)}function gV(t,e,n){const i=n.docs.get(e._key),o=new UT(t);return new BT(t,o,e._key,i,new al(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){ea=o})(iE),Sl(new $o("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new Hl(new aN(i.getProvider("auth-internal")),new cN(u,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Il(p.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:n},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Ri(Y0,J0,e),Ri(Y0,J0,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firebasestorage.googleapis.com",yV="storageBucket",vV=2*60*1e3,_V=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends bs{constructor(e,n,i=0){super(Pf(e),`Firebase Storage: ${n} (${Pf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Cr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tr||(Tr={}));function Pf(t){return"storage/"+t}function wV(){const t="An unknown error occurred, please check the error payload for server response.";return new Cr(Tr.UNKNOWN,t)}function xV(){return new Cr(Tr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function EV(){return new Cr(Tr.CANCELED,"User canceled the upload/download.")}function TV(t){return new Cr(Tr.INVALID_URL,"Invalid URL '"+t+"'.")}function SV(t){return new Cr(Tr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function G_(t){return new Cr(Tr.INVALID_ARGUMENT,t)}function WT(){return new Cr(Tr.APP_DELETED,"The Firebase app was deleted.")}function CV(t){return new Cr(Tr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Zn.makeFromUrl(e,n)}catch{return new Zn(e,"")}if(i.path==="")return i;throw SV(e)}static makeFromUrl(e,n){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function p(U){U.path_=decodeURIComponent(U.path)}const v="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${v}/b/${o}/o${x}`,"i"),P={bucket:1,path:3},M=n===zT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",j=new RegExp(`^https?://${M}/${o}/${D}`,"i"),O=[{regex:h,indices:f,postModify:a},{regex:S,indices:P,postModify:p},{regex:j,indices:{bucket:1,path:2},postModify:p}];for(let U=0;U<O.length;U++){const z=O[U],X=z.regex.exec(e);if(X){const R=X[z.indices.bucket];let A=X[z.indices.path];A||(A=""),i=new Zn(R,A),z.postModify(i);break}}if(i==null)throw TV(e);return i}}class AV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t,e,n){let i=1,o=null,a=null,u=!1,h=0;function f(){return h===2}let p=!1;function v(...D){p||(p=!0,e.apply(null,D))}function _(D){o=setTimeout(()=>{o=null,t(S,f())},D)}function x(){a&&clearTimeout(a)}function S(D,...j){if(p){x();return}if(D){x(),v.call(null,D,...j);return}if(f()||u){x(),v.call(null,D,...j);return}i<64&&(i*=2);let O;h===1?(h=2,O=0):O=(i+Math.random())*1e3,_(O)}let P=!1;function M(D){P||(P=!0,x(),!p&&(o!==null?(D||(h=2),clearTimeout(o),_(0)):D||(h=1)))}return _(0),a=setTimeout(()=>{u=!0,M(!0)},n),M}function IV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){return t!==void 0}function q_(t,e,n,i){if(i<e)throw G_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw G_(`Invalid value for '${t}'. Expected ${n} or less.`)}function bV(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const o=e(i)+"="+e(t[i]);n=n+o+"&"}return n=n.slice(0,-1),n}var rh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(rh||(rh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NV{constructor(e,n,i,o,a,u,h,f,p,v,_,x=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=_,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,P)=>{this.resolve_=S,this.reject_=P,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new _c(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===rh.NO_ERROR,f=a.getStatus();if(!h||kV(f,this.additionalRetryCodes_)&&this.retry){const v=a.getErrorCode()===rh.ABORT;i(!1,new _c(!1,null,v));return}const p=this.successCodes_.indexOf(f)!==-1;i(!0,new _c(p,a))})},n=(i,o)=>{const a=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());RV(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=wV();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(o.canceled){const f=this.appDelete_?WT():EV();u(f)}else{const f=xV();u(f)}};this.canceled_?n(!1,new _c(!1,null,!0)):this.backoffId_=PV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _c{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function DV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function VV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function MV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function LV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function OV(t,e,n,i,o,a,u=!0){const h=bV(t.urlParams),f=t.url+h,p=Object.assign({},t.headers);return MV(p,e),DV(p,n),VV(p,a),LV(p,i),new NV(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function FV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this._service=e,n instanceof Zn?this._location=n:this._location=Zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ih(e,n)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FV(this._location.path)}get storage(){return this._service}get parent(){const e=jV(this._location.path);if(e===null)return null;const n=new Zn(this._location.bucket,e);return new ih(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw CV(e)}}function K_(t,e){const n=e==null?void 0:e[yV];return n==null?null:Zn.makeFromBucketSpec(n,t)}function BV(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:o}=i;o&&(t._overrideAuthToken=typeof o=="string"?o:Yx(o,t.app.options.projectId))}class UV{constructor(e,n,i,o,a){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=zT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=vV,this._maxUploadRetryTime=_V,this._requests=new Set,o!=null?this._bucket=Zn.makeFromBucketSpec(o,this._host):this._bucket=K_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=K_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){q_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){q_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(rE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ih(this,e)}_makeRequest(e,n,i,o,a=!0){if(this._deleted)return new AV(WT());{const u=OV(e,this._appId,i,o,n,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,o).getPromise()}}const Q_="@firebase/storage",X_="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="storage";function $V(t=sE(),e){t=Uo(t);const i=nE(t,HT).getImmediate({identifier:e}),o=Qx("storage");return o&&zV(i,...o),i}function zV(t,e,n,i={}){BV(t,e,n,i)}function WV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new UV(n,i,o,e,iE)}function HV(){Sl(new $o(HT,WV,"PUBLIC").setMultipleInstances(!0)),Ri(Q_,X_,""),Ri(Q_,X_,"esm2017")}HV();console.log("initializeApp:",typeof pm);console.log("getFirestore:",typeof bT);const GV={apiKey:"AIzaSyBOM041d620q5TBYfl7E6SexEqR8NGrWQE",authDomain:"aussie-gut-pack.firebaseapp.com",projectId:"aussie-gut-pack",storageBucket:"aussie-gut-pack.firebasestorage.app",messagingSenderId:"834797498886",appId:"1:834797498886:web:cb2f88ab4523480400c987"},Km=pm(GV);console.log("Firebase app:",Km);const Zr=bT(Km);console.log("Firestore db:",Zr);$V(Km);function qV(){const{isDarkMode:t}=N.useContext(qt),e=N.useRef(null),n=N.useRef(null),[i,o]=N.useState(!1),[a,u]=N.useState(!1),[h,f]=N.useState({quotes:[],currentWorkout:{description:"",warmup:[],main:[]},scheduledWorkouts:[],aboutUs:"",dailyChallenges:[],lastUpdated:null}),[p,v]=N.useState(0),[_,x]=N.useState(null),[S,P]=N.useState(()=>JSON.parse(localStorage.getItem("completedChallenges"))||[]);N.useEffect(()=>{(async()=>{var F,W;const z=Nl(Zr,"content","home"),X=await Gm(z);let R={quotes:["An athlete won't judge you for working out.","A millionaire won't judge you for starting a business.","A musician won't judge you for trying to sing a song.","It's always the people going nowhere that have something to say.","Idle hands do the devil's work"],currentWorkout:{description:"A quick 20-minute routine to kickstart your metabolism and improve digestion.",warmup:["5-minute brisk walk or jog","3 sets of 15 squats"],main:["3 sets of 10 push-ups","2 sets of 20 jumping jacks","1-minute plank hold"]},scheduledWorkouts:[],aboutUs:"We are dedicated to bringing you information about Australian Shepherds and how to maintain a healthy gut. Our mission is to educate and inspire a natural approach to wellness for you and your furry friends.",dailyChallenges:["Drink 8 glasses of water.","Take a 10-minute digestion-boosting walk with your Aussie.","Try a gut-friendly snack like yogurt or pumpkin."],lastUpdated:null};if(X.exists()){const b=X.data();R={...R,...b,currentWorkout:{...R.currentWorkout,...b.currentWorkout,warmup:((F=b.currentWorkout)==null?void 0:F.warmup)||R.currentWorkout.warmup,main:((W=b.currentWorkout)==null?void 0:W.main)||R.currentWorkout.main},scheduledWorkouts:b.scheduledWorkouts||[],dailyChallenges:b.dailyChallenges||R.dailyChallenges}}const A=new Date,I=[...R.scheduledWorkouts];let V=!1;if(I.sort((b,je)=>new Date(b.updateDateTime)-new Date(je.updateDateTime)),I.length>0){const b=I[0],je=new Date(b.updateDateTime);A>=je&&(!R.lastUpdated||new Date(R.lastUpdated)<je)&&(R.currentWorkout={description:b.description||"",warmup:b.warmup||[],main:b.main||[]},I.shift(),R.scheduledWorkouts=I,R.lastUpdated=A.toISOString(),V=!0)}V&&await qm(z,R,{merge:!0}),f(R);try{const b=eh(Zr,"content","blog","posts"),et=(await nh(b)).docs.map(Ke=>({id:Ke.id,...Ke.data()}));if(et.length>0){et.sort((ae,ge)=>new Date(ge.date)-new Date(ae.date));const Ke=et[0],Ce=M(Ke);x({...Ke,excerpt:Ce})}else x({id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being..."}],excerpt:"Gut health is crucial for overall well-being..."})}catch(b){console.error("Error fetching blog posts:",b),x({id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being..."}],excerpt:"Gut health is crucial for overall well-being..."})}})()},[]);const M=U=>{if(!U||!U.blocks||U.blocks.length===0)return"Read more...";const z=U.blocks.find(X=>X.type==="paragraph"||X.type==="list"||X.type==="bullet");return z?z.type==="paragraph"&&z.content?z.content.split(" ").slice(0,30).join(" ")+"...":Array.isArray(z.content)&&z.content.length>0?z.content[0]+(z.content.length>1?"...":""):"Read more...":"Read more..."};N.useEffect(()=>{const U=new IntersectionObserver(z=>{z.forEach(X=>{const R=X.isIntersecting;X.target===e.current&&o(R),X.target===n.current&&u(R)})},{threshold:.2});return e.current&&U.observe(e.current),n.current&&U.observe(n.current),()=>{e.current&&U.unobserve(e.current),n.current&&U.unobserve(n.current)}},[]),N.useEffect(()=>{const U=setInterval(()=>{v(z=>(z+1)%h.quotes.length)},4e3);return()=>clearInterval(U)},[h.quotes.length]),N.useEffect(()=>{localStorage.setItem("completedChallenges",JSON.stringify(S))},[S]);const D={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}},exit:{opacity:0,y:-20,transition:{duration:.5,ease:"easeIn"}}},j={hidden:{opacity:0,scale:.8,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeOut"}},exit:{opacity:0,scale:.8,y:-20,transition:{duration:.5,ease:"easeIn"}}},$=U=>{P(z=>z.includes(U)?z.filter(X=>X!==U):[...z,U])},O=h.dailyChallenges.length>0&&S.length===h.dailyChallenges.length&&h.dailyChallenges.every((U,z)=>S.includes(z));return T.jsxs("div",{className:`min-h-screen flex flex-col ${t?"bg-stone-900":"bg-white"}`,children:[T.jsx("section",{ref:e,className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:T.jsxs("div",{className:"container mx-auto text-center",children:[T.jsx("h1",{className:`text-5xl md:text-6xl font-extrabold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Welcome to Aussie Gut Pack"}),T.jsx("p",{className:`text-2xl max-w-2xl mx-auto mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Empowering Your Digestive Health, Naturally."}),T.jsxs("div",{className:`flex flex-col md:flex-row gap-6 transition-all duration-700 ease-in-out ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[T.jsxs("div",{className:"md:w-1/2 p-6 flex flex-col justify-center",children:[T.jsx("h2",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"About Us"}),T.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:h.aboutUs}),T.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[T.jsx(Dn,{to:"/fitness-tips",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900",children:"Learn More"}),T.jsx(Dn,{to:"/signup",variant:"primary",className:`${t?"bg-red-600 text-white hover:bg-red-700":"bg-red-700 text-white hover:bg-red-800"}`,children:"Join the Pack"})]})]}),T.jsx("div",{className:"md:w-1/2 flex justify-center items-center",children:T.jsx("div",{className:"h-80 w-80 md:h-[400px] md:w-[400px] overflow-hidden relative rounded-full",children:T.jsx(JA,{className:"w-full h-full object-cover"})})})]})]})}),T.jsx("hr",{className:`my-12 ${t?"border-stone-700":"border-stone-300"}`}),T.jsx("section",{ref:n,className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:T.jsxs("div",{className:`container mx-auto text-center transition-all duration-700 ease-in-out ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[T.jsx("h2",{className:`text-3xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Wisdom to Win The Day"}),T.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:T.jsx(wv,{mode:"wait",children:T.jsxs(F0.p,{variants:D,initial:"hidden",animate:"visible",exit:"exit",className:`text-xl italic transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:['"',h.quotes[p],'"']},p)})}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[T.jsxs("div",{children:[T.jsx("h3",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Workout of the Day"}),T.jsx("p",{className:`text-lg mb-6 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:h.currentWorkout.description}),T.jsx("h4",{className:`text-xl font-semibold mb-3 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Warm Up"}),T.jsx("ul",{className:`text-left list-disc pl-6 mb-6 transition-colors duration-300 ease-in-out ${t?"text-blue-300":"text-blue-600"}`,children:(h.currentWorkout.warmup||[]).map((U,z)=>T.jsx("li",{className:"mb-2 text-lg",children:U},`warmup-${z}`))}),T.jsx("h4",{className:`text-xl font-semibold mb-3 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Main Workout"}),T.jsx("ul",{className:`text-left list-disc pl-6 mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:(h.currentWorkout.main||[]).map((U,z)=>T.jsx("li",{className:"mb-2 text-lg",children:U},`main-${z}`))}),T.jsx(Dn,{to:"/fitness-tips",variant:"primary",className:"mx-auto bg-red-800 text-white hover:bg-red-900",children:"More Fitness Tips"})]}),T.jsxs("div",{children:[T.jsx("h3",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Daily Gut Health Challenges"}),T.jsx("ul",{className:`text-left list-disc pl-6 mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:(h.dailyChallenges||[]).map((U,z)=>T.jsxs("li",{className:"mb-2 text-lg flex items-center",children:[T.jsx("input",{type:"checkbox",checked:S.includes(z),onChange:()=>$(z),className:"mr-2"}),U]},`challenge-${z}`))}),T.jsx(wv,{children:O&&T.jsx(F0.p,{variants:j,initial:"hidden",animate:"visible",exit:"exit",className:`text-lg font-semibold transition-colors duration-300 ease-in-out ${t?"text-green-400":"text-green-600"}`,children:"Great job, Pack Leader!"})})]})]})]})}),T.jsx("hr",{className:`my-12 ${t?"border-stone-700":"border-stone-300"}`}),_&&T.jsx("section",{className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:T.jsxs("div",{className:"container mx-auto text-center",children:[T.jsx("h2",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Latest From Our Blog"}),T.jsx("h3",{className:`text-xl font-semibold mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:_.title}),T.jsx("p",{className:`text-sm mb-4 transition-colors duration-300 ease-in-out ${t?"text-gray-400":"text-gray-600"}`,children:_.date}),T.jsx("p",{className:`text-lg mb-6 max-w-2xl mx-auto transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:_.excerpt}),T.jsx(Dn,{to:`/blog/${_.id}`,variant:"primary",className:"mx-auto bg-red-800 text-white hover:bg-red-900",children:"Read More"})]})}),T.jsx("hr",{className:`my-12 ${t?"border-stone-700":"border-stone-300"}`}),T.jsxs("div",{className:`py-8 ${t?"bg-stone-800":"bg-stone-100"} text-center`,children:[T.jsx("p",{className:`text-lg mb-4 ${t?"text-white":"text-red-600"}`,children:"Want more? Check out our full library of fitness tips!"}),T.jsx(Dn,{to:"/fitness-tips",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900",children:"Explore Now"})]})]})}const GT=[{id:1,name:"Enterogermina",description:"spore-forming probiotic that survives antibiotics and stomach acids, promoting gut health and recovery.",price:"",category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"],url:"https://a.co/d/ePluKSI"},{id:2,name:"Just thrive probiotic",description:"Something here about the product",price:29.99,category:"Long Term",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:3,name:"Megasporebiotic",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]}],KV=[{id:1,name:"Florastor",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"HU58",description:"Something here about the product",price:29.99,category:"Long Term",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:3,name:"Restorfiora",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:4,name:"Lacto Ramno GG",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]}],QV=[{id:1,name:"Megapre",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"Psyllium Husk",description:"Something here about the product",price:29.99,category:"Long Term",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:3,name:"Fructoollgosaccharides",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:4,name:"Galactoollgosaccharides",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:5,name:"Acacia Gum",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]}],XV=[{id:1,name:"Berberine",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],YV=[{id:1,name:"Lactoferrin",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],JV=[{id:1,name:"N1O1 nitric oxide lozenge",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],ZV=[{id:1,name:"Enterogermina",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"HU58",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:3,name:"Zenbiome Dual",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],eM=[{id:1,name:"L-theanine",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],tM=[{id:1,name:"Creatine",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"Beta-alanine",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:3,name:"N1O1 Iozenge",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:4,name:"Caffeine",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:5,name:"Protein",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],nM=[{id:1,name:"N1O1 Serum",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"Young Goose",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],rM=[{id:1,name:"MBL Pregnancy Support",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"MBL Vaginal Support",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:3,name:"Metagenics Womens Probiotic",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],Y_=[{title:"Long-Term Supplements",data:GT},{title:"Beginner Probiotics",data:KV},{title:"Prebiotics",data:QV},{title:"Blood Sugar Support",data:XV},{title:"Anemia Support",data:YV},{title:"Nitric Oxide Boosters",data:JV},{title:"IBS (Irritable Bowel Syndrome)",data:ZV},{title:"Sleep Aids",data:eM},{title:"Sports Nutrition",data:tM},{title:"Skincare Essentials",data:nM},{title:"Women's Health",data:rM}];function iM(){const{isDarkMode:t}=N.useContext(qt),[e,n]=N.useState(Y_.reduce((a,u)=>(u.data.forEach((h,f)=>{a[h.id]={quantity:1,color:"Default",size:"M",originalPrice:f%2===0?h.price*1.2:null}}),a),{})),i=(a,u)=>{n(h=>{var p;const f=Math.max(1,(((p=h[a])==null?void 0:p.quantity)||1)+u);return{...h,[a]:{...h[a],quantity:f}}})},o=a=>{n(u=>{const h={...u};return delete h[a],h})};return T.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[T.jsxs("header",{className:"text-center mb-12",children:[T.jsx("h1",{className:`text-4xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Shop Supplements"}),T.jsx("p",{className:`text-lg max-w-2xl mx-auto transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"Explore our curated selection of high-quality supplements to support your gut health and wellness journey."})]}),Y_.map((a,u)=>T.jsxs("section",{className:"mb-12",children:[T.jsx("h2",{className:`text-3xl font-semibold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:a.title}),T.jsx("div",{className:"space-y-6",children:a.data.filter(h=>e[h.id]).map(h=>T.jsxs("div",{className:"flex items-center py-3 transition-colors duration-300 ease-in-out",children:[T.jsx("div",{className:"w-20 h-20 flex-shrink-0",children:T.jsx("img",{src:h.image||"https://via.placeholder.com/80",alt:h.name,className:"w-full h-full object-cover rounded"})}),T.jsxs("div",{className:"flex-1 ml-4",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsxs("div",{children:[T.jsx("h3",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:h.name}),T.jsxs("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["Color: ",e[h.id].color]}),T.jsxs("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["Size: ",e[h.id].size]})]}),T.jsx("button",{onClick:()=>o(h.id),className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-400 hover:text-stone-300":"text-stone-500 hover:text-stone-600"}`,children:"✕"})]}),T.jsxs("div",{className:"flex items-center mt-2",children:[T.jsx("button",{onClick:()=>i(h.id,-1),className:`w-8 h-8 flex items-center justify-center border rounded-l transition-colors duration-300 ease-in-out ${t?"border-stone-600 bg-stone-700 text-white hover:bg-stone-600":"border-stone-300 bg-stone-200 text-stone-600 hover:bg-stone-300"}`,children:"-"}),T.jsx("span",{className:`w-10 h-8 flex items-center justify-center border-t border-b transition-colors duration-300 ease-in-out ${t?"border-stone-600 text-white":"border-stone-300 text-stone-600"}`,children:e[h.id].quantity}),T.jsx("button",{onClick:()=>i(h.id,1),className:`w-8 h-8 flex items-center justify-center border rounded-r transition-colors duration-300 ease-in-out ${t?"border-stone-600 bg-stone-700 text-white hover:bg-stone-600":"border-stone-300 bg-stone-200 text-stone-600 hover:bg-stone-300"}`,children:"+"})]})]}),T.jsx("div",{className:"text-right ml-4",children:e[h.id].originalPrice?T.jsxs("div",{children:[T.jsxs("p",{className:`text-sm line-through transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["$",(e[h.id].originalPrice*e[h.id].quantity).toFixed(2)]}),T.jsxs("p",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:["$",(h.price*e[h.id].quantity).toFixed(2)]})]}):T.jsxs("p",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:["$",(h.price*e[h.id].quantity).toFixed(2)]})})]},h.id))})]},u)),T.jsx("div",{className:"text-center mt-12",children:T.jsx(Dn,{to:"/checkout",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900",children:"Proceed to Checkout"})})]})}const vp=[{id:1,title:"Microbiome Basics",content:"Your gut contains over 100 trillion bacteria, with more than 1000 different species playing crucial roles in digestion, immunity, and overall health.",category:"Fundamentals"},{id:2,title:"Probiotics Matter",content:"Probiotics are live bacteria that can improve digestive health, boost immune function, and potentially help with mental health.",category:"Nutrition"},{id:3,title:"This means nothing to me",content:"This is all just filler crap",category:"Nutrition"},{id:4,title:"Worst for Gut Microbiome",content:["The following harm gut health (in order of severity):","• Stress: Elevates cortisol, disrupting gut flora and increasing permeability","• Glyphosate: Kills beneficial bacteria, feeds pathogenic ones","• Antibiotics: Kills good and bad bacteria; pair with spore-based probiotics to avoid yeast infections","• Seed Oils: Feed pathogenic bacteria, have a long half-life","• Refined Sugars: Feed harmful bacteria, promote dysbiosis","• Long-term Restrictive Diets: Reduce microbiome diversity","• Processed Foods: Contain antibiotics, glyphosate, and dyes that feed pathogenic bacteria and cancer cells"],category:"Gut Microbiome Education"},{id:5,title:"Types of Probiotics",content:`Key probiotic types include:
• Bacillus (subtilis, coagulans, clausii, indicus): Endospore-protected, survives gastric system and antibiotics, colonizes all gut areas, called 'next-generation probiotics'
• Lactobacillus (acidophilus, rhamnosus, reuteri, plantarum, casei, gasseri): Some strains survive gastric system, mainly colonize upper intestines
• Bifidobacterium (longum, infantis, bifidum, animalis, lactis): Doesn’t survive gastric system or antibiotics, functions in lower intestines; seek exopolysaccharide strains for dendritic cell communication
• Saccharomyces (boulardii, cerevisiae): Gram-positive yeast, survives antibiotics but not gastric system, aids antibiotic-associated diarrhea`,category:"Gut Microbiome Education"},{id:6,title:"Pillars of a Healthy Gut",content:`Build a resilient gut with:
• A nutrient-dense, diverse, unprocessed diet with prebiotics
• Healthy exercise, sleep, and an uplifting social life worth enjoying
• Sun exposure and skin contact with nature
• Research-backed, third-party-tested supplements tailored to your needs`,category:"Gut Microbiome Education"},{id:7,title:"Boosts Cognition",content:"A healthy gut strengthens your immune system and helps fight off infections.",category:"Benefits"},{id:8,title:"Improves Digestion",content:"Proper gut health aids digestion, prevents bloating, and reduces stomach discomfort.",category:"Benefits"},{id:9,title:"Enhances Mental Health",content:"Your gut and brain are connected—good gut health can help reduce anxiety and improve mood.",category:"Benefits"}];function _p({title:t,content:e,footer:n,className:i}){const{isDarkMode:o}=N.useContext(qt);return T.jsxs("div",{className:`p-4 border rounded-lg shadow-md ${o?"bg-stone-800 border-stone-700":"bg-white border-red-300"} ${i}`,children:[T.jsx("h3",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${o?"text-red-400":"text-red-800"}`,children:t}),e&&T.jsx("p",{className:`mt-2 transition-colors duration-300 ease-in-out ${o?"text-white":"text-red-600"}`,children:e}),n&&T.jsx("p",{className:`mt-2 text-sm transition-colors duration-300 ease-in-out ${o?"text-white":"text-red-600"}`,children:n})]})}function sM(){const{isDarkMode:t}=N.useContext(qt);N.useEffect(()=>{});const e=vp.filter(i=>i.category==="Benefits"),n=vp.filter(i=>i.category!=="Benefits");return T.jsxs("div",{className:`container mx-auto px-4 py-8 min-h-screen flex flex-col ${t?"bg-stone-900":"bg-white"}`,children:[T.jsx("div",{className:"pt-16"}),T.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Understanding Gut Health"}),T.jsxs("section",{className:"mb-8 flex-grow",children:[T.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"What is Gut Health?"}),T.jsx("p",{className:`leading-relaxed transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Gut health refers to the balance and function of bacteria in the digestive system..."})]}),T.jsxs("section",{className:"py-12 px-6 flex-grow",children:[T.jsx("h2",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Why Gut Health Matters"}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map(i=>T.jsx(pr,{to:`/gut-health/${i.id}`,children:T.jsx(_p,{title:i.title,content:i.content,className:"hover:shadow-lg transition-shadow duration-300 ease-in-out"})},i.id))})]}),T.jsxs("section",{className:"flex-grow",children:[T.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Gut Health Facts"}),T.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-4",children:n.map(i=>T.jsx(pr,{to:`/gut-health/${i.id}`,children:T.jsx(_p,{title:i.title,content:i.content,footer:`Category: ${i.category}`,className:`border-l-4 border-red-500 hover:shadow-lg transition-shadow duration-300 ease-in-out ${t?"bg-stone-800":"bg-stone-50"}`})},i.id))})]})]})}function oM(){const{id:t}=lw(),{isDarkMode:e}=N.useContext(qt);Ml();const n=vp.find(i=>i.id.toString()===t);return n?T.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${e?"bg-stone-900":"bg-white"}`,children:[T.jsx("h1",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:n.title}),T.jsxs("p",{className:`mb-4 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:["Category: ",n.category]}),Array.isArray(n.content)?T.jsx("ul",{className:`text-lg mb-6 list-disc pl-6 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:n.content.map((i,o)=>T.jsx("li",{className:"mb-2",children:i},o))}):T.jsx("p",{className:`text-lg mb-6 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:n.content}),T.jsx(Dn,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]}):T.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${e?"bg-stone-900":"bg-white"}`,children:[T.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:"Fact Not Found"}),T.jsx(Dn,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]})}function aM(){const{isDarkMode:t}=N.useContext(qt),[e,n]=N.useState([]),i=u=>n([...e,u]),o=u=>n(e.filter(h=>h.id!==u)),a=e.reduce((u,h)=>u+h.price,0);return T.jsxs("div",{className:"container mx-auto px-4 py-8",children:[T.jsx("h1",{className:`text-3xl font-bold mb-6 ${t?"text-green-300":"text-green-800"}`,children:"Purchase Gut Health Supplements"}),T.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[T.jsxs("div",{children:[T.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-green-200":"text-green-700"}`,children:"Available Products"}),GT.map(u=>T.jsxs("div",{className:`border p-4 mb-4 rounded-lg flex justify-between items-center ${t?"border-gray-700 bg-gray-800":"border-gray-300 bg-white"}`,children:[T.jsxs("div",{children:[T.jsx("h3",{className:`font-bold ${t?"text-gray-300":"text-gray-800"}`,children:u.name}),T.jsxs("p",{className:`${t?"text-green-400":"text-green-700"}`,children:["$",u.price]})]}),T.jsx(Dn,{onClick:()=>i(u),variant:"primary",children:"Add to Cart"})]},u.id))]}),T.jsxs("div",{children:[T.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-green-200":"text-green-700"}`,children:"Your Cart"}),e.length===0?T.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"}):T.jsxs(T.Fragment,{children:[e.map(u=>T.jsxs("div",{className:`flex justify-between items-center border-b py-2 ${t?"border-gray-700":"border-gray-300"}`,children:[T.jsx("span",{className:`${t?"text-gray-300":"text-gray-800"}`,children:u.name}),T.jsxs("div",{children:[T.jsxs("span",{className:`mr-4 ${t?"text-green-400":"text-green-700"}`,children:["$",u.price]}),T.jsx("button",{onClick:()=>o(u.id),className:"text-red-500 hover:text-red-600",children:"Remove"})]})]},u.id)),T.jsxs("div",{className:`mt-4 font-bold ${t?"text-green-300":"text-green-800"}`,children:["Total: $",a.toFixed(2)]}),T.jsx(Dn,{className:"mt-4 w-full",variant:"primary",disabled:e.length===0,children:"Checkout"})]})]})]})]})}const lM=()=>{const{isDarkMode:t}=N.useContext(qt),[e,n]=N.useState([]),[i,o]=N.useState(!0),[a,u]=N.useState(null);N.useEffect(()=>{(async()=>{try{const p=eh(Zr,"content","blog","posts"),_=(await nh(p)).docs.map(x=>({id:x.id,title:x.data().title,date:x.data().date,blocks:x.data().blocks||[{type:"paragraph",content:""}]}));console.log("Fetched blog posts:",_),_.length>0?n(_):n([{id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial..."},{type:"image",content:"https://example.com/image.jpg"}]}])}catch(p){console.error("Error fetching blog posts:",p),u("Failed to load blog posts: "+p.message),n([{id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial..."},{type:"image",content:"https://example.com/image.jpg"}]}])}finally{o(!1)}})()},[]);const h=f=>{if(!f.blocks||f.blocks.length===0)return"Read more...";const p=f.blocks.find(v=>v.type==="paragraph"||v.type==="list"||v.type==="bullet");return p?p.type==="paragraph"?p.content.split(" ").slice(0,15).join(" ")+"...":Array.isArray(p.content)?p.content[0]+(p.content.length>1?"...":""):"Read more...":"Read more..."};return i?T.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[T.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),T.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"Loading posts..."})]}):a?T.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[T.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),T.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:a})]}):T.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[T.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),e.length===0?T.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"No blog posts available yet. Check back soon!"}):T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(f=>T.jsx(pr,{to:`/blog/${f.id}`,className:"block group",children:T.jsx(_p,{title:f.title,footer:T.jsx("span",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:f.date}),content:T.jsx("p",{className:`text-base transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:h(f)}),className:`p-6 rounded-lg shadow-md transition-all duration-300 ease-in-out ${t?"bg-stone-800 hover:bg-stone-700":"bg-white hover:bg-stone-100"} group-hover:shadow-lg`})},f.id))})]})},uM=()=>{const{id:t}=lw(),{isDarkMode:e}=N.useContext(qt),[n,i]=N.useState(null);return N.useEffect(()=>{(async()=>{const a=Nl(Zr,"content","blog","posts",t),u=await Gm(a);u.exists()?i({id:u.id,...u.data()}):i([{id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being. It affects digestion, immunity, and even mental health."},{type:"list",content:["Eat a balanced diet.","Stay hydrated.","Get regular exercise."]},{type:"bullet",content:["Fiber-rich foods","Probiotics","Adequate sleep"]},{type:"image",content:"https://example.com/gut-health-image.jpg"},{type:"link",content:{url:"https://example.com/learn-more",text:"Learn More About Gut Health"}},{type:"paragraph",content:"A healthy gut can prevent chronic diseases and improve your quality of life."}]}].find(f=>f.id===t)||null)})()},[t]),n?T.jsx("div",{className:`min-h-screen container mx-auto px-6 py-12 ${e?"bg-stone-900":"bg-stone-50"}`,children:T.jsxs("div",{className:"max-w-3xl mx-auto",children:[T.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:n.title}),T.jsx("p",{className:`text-lg mb-8 transition-colors duration-300 ease-in-out ${e?"text-stone-400":"text-stone-500"}`,children:n.date}),T.jsx("div",{className:`prose prose-lg max-w-none transition-colors duration-300 ease-in-out ${e?"text-stone-200 prose-invert":"text-stone-700"}`,children:n.blocks&&n.blocks.length>0?n.blocks.map((o,a)=>T.jsx("div",{className:"mb-6",children:o.type==="paragraph"?T.jsx("p",{children:o.content}):o.type==="list"&&Array.isArray(o.content)?T.jsx("ol",{className:"list-decimal pl-6 space-y-2",children:o.content.map((u,h)=>T.jsx("li",{children:u},h))}):o.type==="bullet"&&Array.isArray(o.content)?T.jsx("ul",{className:"list-disc pl-6 space-y-2",children:o.content.map((u,h)=>T.jsx("li",{children:u},h))}):o.type==="image"&&o.content?T.jsx("img",{src:o.content,alt:"Blog content",className:"w-full max-w-md mx-auto rounded-lg shadow-md"}):o.type==="link"&&o.content.url?T.jsx(pr,{to:o.content.url,target:"_blank",rel:"noopener noreferrer",className:`underline transition-colors duration-300 ease-in-out ${e?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-500"}`,children:o.content.text||o.content.url}):T.jsx("p",{className:"text-red-500",children:"Invalid block format"})},a)):T.jsx("p",{children:"No content available."})}),T.jsx(Dn,{to:"/blog",variant:"primary",className:"mt-8 bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]})}):T.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${e?"bg-stone-900":"bg-stone-50"}`,children:[T.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:"Post Not Found"}),T.jsx(Dn,{to:"/blog",variant:"primary",className:"bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]})},cM=[{question:"What is gut health?",answer:"Gut health refers to the balance of microorganisms in your digestive tract."},{question:"How can I improve my gut health?",answer:"Eating fiber-rich foods, fermented foods, and avoiding processed sugars can help."},{question:"What foods are good for gut health?",answer:"Fermented foods like yogurt, kimchi, and kefir, along with fiber-rich vegetables like broccoli and beans, are great for gut health."},{question:"Can stress affect gut health?",answer:"Yes, stress can alter the balance of gut bacteria and affect digestion, leading to issues like bloating or stomach discomfort."}];function hM(){const{isDarkMode:t}=N.useContext(qt);return T.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[T.jsx("h1",{className:`text-4xl font-extrabold text-center mb-6 ${t?"text-green-300":"text-green-700"}`,children:"Frequently Asked Questions"}),T.jsx("div",{className:"space-y-4",children:cM.map((e,n)=>T.jsxs("details",{className:`group border p-4 rounded-lg shadow-md transition-all duration-300 ease-in-out ${t?"bg-gray-800 border-gray-700 text-gray-300":"bg-white border-gray-300 text-gray-800"}`,children:[T.jsxs("summary",{className:`cursor-pointer font-semibold text-lg flex justify-between items-center ${t?"group-open:text-green-400":"group-open:text-green-600"}`,children:[e.question,T.jsx("span",{className:"text-green-500 group-open:rotate-180 transition-transform duration-300",children:"▼"})]}),T.jsx("p",{className:"mt-2 text-gray-600",children:e.answer})]},n))})]})}function dM(){const{isDarkMode:t}=N.useContext(qt),[e,n]=N.useState({name:"",email:"",message:""}),[i,o]=N.useState(""),a=h=>{const{name:f,value:p}=h.target;n(v=>({...v,[f]:p}))},u=h=>{h.preventDefault(),console.log("Form submitted:",e),o("Thank you! Your inquiry has been received."),n({name:"",email:"",message:""}),setTimeout(()=>o(""),3e3)};return T.jsx("div",{className:`min-h-screen py-12 px-4 ${t?"bg-stone-900":"bg-white"}`,children:T.jsxs("div",{className:"max-w-2xl mx-auto",children:[T.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Contact Us"}),T.jsx("p",{className:`mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Have any questions or inquiries? Fill out the form below, and we'll get back to you as soon as possible!"}),T.jsxs("form",{onSubmit:u,className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:"name",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Name"}),T.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:a,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your Name"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Email"}),T.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:a,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"your@email.com"})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"message",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Message"}),T.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:a,required:!0,rows:"5",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your inquiry or message..."})]}),T.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Send Message"}),i&&T.jsx("p",{className:`mt-4 text-center transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:i})]})]})})}function fM(){const{isDarkMode:t}=N.useContext(qt),[e,n]=N.useState(""),[i,o]=N.useState(!1),a=Ml(),u=()=>{e==="agp9489"?o(!0):alert("Incorrect password")};return i?T.jsxs("div",{className:`min-h-screen flex flex-col items-center justify-center ${t?"bg-stone-900":"bg-white"}`,children:[T.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-8`,children:"Admin Dashboard"}),T.jsxs("div",{className:"flex flex-col gap-4",children:[T.jsx("button",{onClick:()=>a("/admin/home"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Edit Home Page Content"}),T.jsx("button",{onClick:()=>a("/admin/blog"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Manage Blog Posts"}),T.jsx("button",{onClick:()=>a("/"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Home"})]})]}):T.jsx("div",{className:`min-h-screen flex items-center justify-center ${t?"bg-stone-900":"bg-white"}`,children:T.jsxs("div",{className:`p-6 ${t?"bg-stone-800":"bg-stone-100"} rounded shadow`,children:[T.jsx("h2",{className:`text-2xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-4`,children:"Admin Login"}),T.jsx("input",{type:"password",value:e,onChange:h=>n(h.target.value),className:`border p-2 w-full mb-4 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Enter password"}),T.jsx("button",{onClick:u,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Login"})]})})}function pM(){const{isDarkMode:t}=N.useContext(qt),[e,n]=N.useState([""]),[i,o]=N.useState(""),[a,u]=N.useState([""]),[h,f]=N.useState([""]),[p,v]=N.useState([]),[_,x]=N.useState(""),[S,P]=N.useState([""]),[M,D]=N.useState(null),j=Ml();N.useEffect(()=>{(async()=>{var J,oe,we,be,$e,lt,_n,Ar;try{const wn=Nl(Zr,"content","home"),tr=await Gm(wn);if(tr.exists()){const gt=tr.data();n((J=gt.quotes)!=null&&J.length?gt.quotes:[""]),o(((oe=gt.currentWorkout)==null?void 0:oe.description)||""),u((be=(we=gt.currentWorkout)==null?void 0:we.warmup)!=null&&be.length?gt.currentWorkout.warmup:[""]),f((lt=($e=gt.currentWorkout)==null?void 0:$e.main)!=null&&lt.length?gt.currentWorkout.main:[""]),v((_n=gt.scheduledWorkouts)!=null&&_n.length?gt.scheduledWorkouts.map(Pr=>({...Pr,warmup:Pr.warmup||[""],main:Pr.main||[""]})):[{description:"",warmup:[""],main:[""],updateDateTime:""}]),x(gt.aboutUs||""),P((Ar=gt.dailyChallenges)!=null&&Ar.length?gt.dailyChallenges:[""])}}catch(wn){D("Failed to load content: "+wn.message)}})()},[]);const $=async()=>{D(null);const ie={quotes:e.filter(J=>J.trim()!==""),currentWorkout:{description:i,warmup:a.filter(J=>J.trim()!==""),main:h.filter(J=>J.trim()!=="")},scheduledWorkouts:p.filter(J=>J.description.trim()&&(J.warmup.length>0||J.main.length>0)&&J.updateDateTime.trim()).map(J=>({description:J.description,warmup:J.warmup.filter(oe=>oe.trim()!==""),main:J.main.filter(oe=>oe.trim()!==""),updateDateTime:J.updateDateTime})),aboutUs:_.trim(),dailyChallenges:S.filter(J=>J.trim()!==""),lastUpdated:new Date().toISOString()};try{await qm(Nl(Zr,"content","home"),ie),alert("Home page content saved successfully!"),j("/admin")}catch(J){D("Error saving changes: "+J.message)}},O=()=>n([...e,""]),U=ie=>n(e.filter((J,oe)=>oe!==ie)),z=(ie,J)=>{const oe=[...e];oe[ie]=J,n(oe)},X=()=>u([...a,""]),R=ie=>u(a.filter((J,oe)=>oe!==ie)),A=(ie,J)=>{const oe=[...a];oe[ie]=J,u(oe)},I=()=>f([...h,""]),V=ie=>f(h.filter((J,oe)=>oe!==ie)),F=(ie,J)=>{const oe=[...h];oe[ie]=J,f(oe)},W=()=>v([...p,{description:"",warmup:[""],main:[""],updateDateTime:""}]),b=ie=>v(p.filter((J,oe)=>oe!==ie)),je=(ie,J,oe)=>{const we=[...p];we[ie][J]=oe,v(we)},et=ie=>{const J=[...p];J[ie].warmup.push(""),v(J)},Ke=(ie,J)=>{const oe=[...p];oe[ie].warmup=oe[ie].warmup.filter((we,be)=>be!==J),v(oe)},Ce=(ie,J,oe)=>{const we=[...p];we[ie].warmup[J]=oe,v(we)},ae=ie=>{const J=[...p];J[ie].main.push(""),v(J)},ge=(ie,J)=>{const oe=[...p];oe[ie].main=oe[ie].main.filter((we,be)=>be!==J),v(oe)},ce=(ie,J,oe)=>{const we=[...p];we[ie].main[J]=oe,v(we)},H=()=>P([...S,""]),Z=ie=>P(S.filter((J,oe)=>oe!==ie)),ve=(ie,J)=>{const oe=[...S];oe[ie]=J,P(oe)};return T.jsxs("div",{className:`min-h-screen p-6 ${t?"bg-stone-900":"bg-white"}`,children:[T.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-6`,children:"Edit Home Page Content"}),M&&T.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:M}),T.jsxs("div",{className:"mb-6",children:[T.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Quotes"}),e.map((ie,J)=>T.jsxs("div",{className:"flex mb-2",children:[T.jsx("input",{type:"text",value:ie,onChange:oe=>z(J,oe.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Quote ${J+1}`}),T.jsx("button",{onClick:()=>U(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:e.length===1,children:"Remove"})]},J)),T.jsx("button",{onClick:O,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Quote"})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"About Us"}),T.jsx("textarea",{value:_,onChange:ie=>x(ie.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"About Us text"})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Current Workout of the Day"}),T.jsx("textarea",{value:i,onChange:ie=>o(ie.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Current workout description"}),T.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-blue-300":"text-blue-600"} mt-4 mb-2`,children:"Warm Up Exercises"}),a.map((ie,J)=>T.jsxs("div",{className:"flex mb-2",children:[T.jsx("input",{type:"text",value:ie,onChange:oe=>A(J,oe.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Warm Up ${J+1}`}),T.jsx("button",{onClick:()=>R(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:a.length===1,children:"Remove"})]},`warmup-${J}`)),T.jsx("button",{onClick:X,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mb-4",children:"Add Warm Up Exercise"}),T.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mt-4 mb-2`,children:"Main Workout Exercises"}),h.map((ie,J)=>T.jsxs("div",{className:"flex mb-2",children:[T.jsx("input",{type:"text",value:ie,onChange:oe=>F(J,oe.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Main Exercise ${J+1}`}),T.jsx("button",{onClick:()=>V(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:h.length===1,children:"Remove"})]},`main-${J}`)),T.jsx("button",{onClick:I,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Main Exercise"})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Scheduled Workouts"}),p.map((ie,J)=>T.jsxs("div",{className:`mb-4 border p-4 rounded ${t?"border-stone-600":"border-red-300"}`,children:[T.jsx("input",{type:"datetime-local",value:ie.updateDateTime?ie.updateDateTime.slice(0,16):"",onChange:oe=>je(J,"updateDateTime",new Date(oe.target.value).toISOString()),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Update Date and Time"}),T.jsx("textarea",{value:ie.description,onChange:oe=>je(J,"description",oe.target.value),className:`border p-2 w-full h-24 mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Workout Description"}),T.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-blue-300":"text-blue-600"} mt-2 mb-2`,children:"Warm Up Exercises"}),ie.warmup.map((oe,we)=>T.jsxs("div",{className:"flex mb-2",children:[T.jsx("input",{type:"text",value:oe,onChange:be=>Ce(J,we,be.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Warm Up ${we+1}`}),T.jsx("button",{onClick:()=>Ke(J,we),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:ie.warmup.length===1,children:"Remove"})]},`warmup-${J}-${we}`)),T.jsx("button",{onClick:()=>et(J),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mb-4",children:"Add Warm Up Exercise"}),T.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mt-2 mb-2`,children:"Main Workout Exercises"}),ie.main.map((oe,we)=>T.jsxs("div",{className:"flex mb-2",children:[T.jsx("input",{type:"text",value:oe,onChange:be=>ce(J,we,be.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Main Exercise ${we+1}`}),T.jsx("button",{onClick:()=>ge(J,we),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:ie.main.length===1,children:"Remove"})]},`main-${J}-${we}`)),T.jsx("button",{onClick:()=>ae(J),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mr-2",children:"Add Main Exercise"}),T.jsx("button",{onClick:()=>b(J),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",disabled:p.length===1&&!p[0].description,children:"Remove Workout"})]},J)),T.jsx("button",{onClick:W,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Scheduled Workout"})]}),T.jsxs("div",{className:"mb-6",children:[T.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Daily Gut Health Challenges"}),S.map((ie,J)=>T.jsxs("div",{className:"flex mb-2",children:[T.jsx("input",{type:"text",value:ie,onChange:oe=>ve(J,oe.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Challenge ${J+1}`}),T.jsx("button",{onClick:()=>Z(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:S.length===1,children:"Remove"})]},J)),T.jsx("button",{onClick:H,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Challenge"})]}),T.jsx("button",{onClick:$,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Save Changes"}),T.jsx("button",{onClick:()=>j("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Admin Dashboard"})]})}function mM(){const{isDarkMode:t}=N.useContext(qt),[e,n]=N.useState([]),[i,o]=N.useState(null),a=Ml();N.useEffect(()=>{(async()=>{try{const O=eh(Zr,"content","blog","posts"),z=(await nh(O)).docs.map(X=>({id:X.id,title:X.data().title||"",date:X.data().date||"",blocks:X.data().blocks||[{type:"paragraph",content:""}]}));n(z.length?z:[{id:"",title:"",date:"",blocks:[{type:"paragraph",content:""}]}])}catch(O){o("Failed to load blog posts: "+O.message)}})()},[]);const u=async()=>{o(null);try{const $=eh(Zr,"content","blog","posts"),O=await nh($);for(const U of O.docs)await mV(U.ref);for(const U of e)if(U.title.trim()&&U.date.trim()&&U.blocks.some(z=>z.type==="paragraph"||z.type==="image"||z.type==="link"?z.content.trim():z.content.some(X=>X.trim()))){const z=U.id||Date.now().toString();await qm(Nl($,z),{id:z,title:U.title,date:U.date,blocks:U.blocks.map(X=>({type:X.type,content:X.type==="paragraph"||X.type==="image"?X.content:X.type==="link"?{url:X.content.url,text:X.content.text}:X.content.filter(R=>R.trim()!=="")}))})}alert("Blog posts saved successfully!"),a("/admin")}catch($){o("Error saving blog posts: "+$.message)}},h=()=>n([...e,{id:"",title:"",date:"",blocks:[{type:"paragraph",content:""}]}]),f=$=>n(e.filter((O,U)=>U!==$)),p=($,O,U)=>{const z=[...e];z[$]={...z[$],[O]:U},n(z)},v=($,O)=>{const U=[...e];U[$].blocks.push({type:O,content:O==="paragraph"||O==="image"?"":O==="link"?{url:"",text:""}:[""]}),n(U)},_=($,O)=>{const U=[...e];U[$].blocks=U[$].blocks.filter((z,X)=>X!==O),n(U)},x=($,O,U)=>{const z=[...e];z[$].blocks[O]={type:U,content:U==="paragraph"||U==="image"?"":U==="link"?{url:"",text:""}:[""]},n(z)},S=($,O,U)=>{const z=[...e];z[$].blocks[O].content=U,n(z)},P=($,O,U,z)=>{const X=[...e];X[$].blocks[O].content[U]=z,n(X)},M=($,O)=>{const U=[...e];U[$].blocks[O].content.push(""),n(U)},D=($,O,U)=>{const z=[...e];z[$].blocks[O].content=z[$].blocks[O].content.filter((X,R)=>R!==U),n(z)},j=($,O,U,z)=>{const X=[...e];X[$].blocks[O].content[U]=z,n(X)};return T.jsxs("div",{className:`min-h-screen p-6 ${t?"bg-stone-900":"bg-white"}`,children:[T.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-6`,children:"Manage Blog Posts"}),i&&T.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:i}),T.jsxs("div",{className:"mb-6",children:[e.map(($,O)=>T.jsxs("div",{className:`mb-4 border p-4 rounded ${t?"border-stone-600":"border-red-300"}`,children:[T.jsx("input",{type:"text",value:$.title,onChange:U=>p(O,"title",U.target.value),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Blog Title"}),T.jsx("input",{type:"text",value:$.date,onChange:U=>p(O,"date",U.target.value),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Date (e.g., January 15, 2025)"}),T.jsxs("div",{className:"mb-2",children:[T.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Content Blocks"}),$.blocks.map((U,z)=>T.jsxs("div",{className:"mb-4 border-t pt-2 mt-2 border-stone-400",children:[T.jsxs("div",{className:"flex items-center mb-2",children:[T.jsx("label",{className:`mr-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Block Type:"}),T.jsxs("select",{value:U.type,onChange:X=>x(O,z,X.target.value),className:`border p-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,children:[T.jsx("option",{value:"paragraph",children:"Paragraph"}),T.jsx("option",{value:"list",children:"Numbered List"}),T.jsx("option",{value:"bullet",children:"Bullet Points"}),T.jsx("option",{value:"image",children:"Image"}),T.jsx("option",{value:"link",children:"Link"})]}),T.jsx("button",{onClick:()=>_(O,z),className:"ml-2 bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:$.blocks.length===1,children:"Remove Block"})]}),U.type==="paragraph"?T.jsx("textarea",{value:U.content,onChange:X=>S(O,z,X.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Paragraph Content"}):U.type==="image"?T.jsxs("div",{className:"space-y-2",children:[T.jsx("input",{type:"text",value:U.content,onChange:X=>S(O,z,X.target.value),className:`border p-2 w-full ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Image URL (e.g., https://example.com/image.jpg)"}),U.content&&T.jsx("img",{src:U.content,alt:"Preview",className:"w-full max-w-xs rounded-lg shadow-md"})]}):U.type==="link"?T.jsxs("div",{className:"space-y-2",children:[T.jsx("input",{type:"text",value:U.content.url,onChange:X=>P(O,z,"url",X.target.value),className:`border p-2 w-full ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Link URL (e.g., https://example.com)"}),T.jsx("input",{type:"text",value:U.content.text,onChange:X=>P(O,z,"text",X.target.value),className:`border p-2 w-full ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Link Text (e.g., Click here)"})]}):T.jsxs("div",{children:[U.content.map((X,R)=>T.jsxs("div",{className:"flex mb-2",children:[T.jsx("input",{type:"text",value:X,onChange:A=>j(O,z,R,A.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Item ${R+1}`}),T.jsx("button",{onClick:()=>D(O,z,R),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:U.content.length===1,children:"Remove"})]},R)),T.jsx("button",{onClick:()=>M(O,z),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add List Item"})]})]},z)),T.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[T.jsx("button",{onClick:()=>v(O,"paragraph"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Paragraph"}),T.jsx("button",{onClick:()=>v(O,"list"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Numbered List"}),T.jsx("button",{onClick:()=>v(O,"bullet"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Bullet Points"}),T.jsx("button",{onClick:()=>v(O,"image"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Image"}),T.jsx("button",{onClick:()=>v(O,"link"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Link"})]})]}),T.jsx("button",{onClick:()=>f(O),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",disabled:e.length===1,children:"Remove Post"})]},O)),T.jsx("button",{onClick:h,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Blog Post"})]}),T.jsx("button",{onClick:u,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Save Changes"}),T.jsx("button",{onClick:()=>a("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Admin Dashboard"})]})}const qt=N.createContext();function gM(){const[t,e]=N.useState(!1),n=()=>e(i=>!i);return T.jsx(qt.Provider,{value:{isDarkMode:t,toggleTheme:n},children:T.jsx(xA,{basename:"/aussie-gut-pack",children:T.jsx(kp,{children:T.jsx(Rp,{classNames:"fade",timeout:300,children:T.jsx(YC,{children:T.jsxs(ln,{path:"/",element:T.jsx(QA,{}),children:[T.jsx(ln,{index:!0,element:T.jsx(qV,{})}),T.jsx(ln,{path:"products",element:T.jsx(iM,{})}),T.jsx(ln,{path:"gut-health",element:T.jsx(sM,{})}),T.jsx(ln,{path:"gut-health/:id",element:T.jsx(oM,{})}),T.jsx(ln,{path:"purchase",element:T.jsx(aM,{})}),T.jsx(ln,{path:"blog",element:T.jsx(lM,{})}),T.jsx(ln,{path:"blog/:id",element:T.jsx(uM,{})}),T.jsx(ln,{path:"faq",element:T.jsx(hM,{})}),T.jsx(ln,{path:"contact",element:T.jsx(dM,{})}),T.jsx(ln,{path:"admin",element:T.jsx(fM,{})})," ",T.jsx(ln,{path:"admin/home",element:T.jsx(pM,{})})," ",T.jsx(ln,{path:"admin/blog",element:T.jsx(mM,{})})," "]})})},window.location.pathname)})})})}console.log("Main.jsx is running");iC.createRoot(document.getElementById("root")).render(T.jsx(Mn.StrictMode,{children:T.jsx(gM,{})}));
