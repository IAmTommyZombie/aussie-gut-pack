(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function dp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hd={exports:{}},Ga={},Wd={exports:{}},ke={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function AS(){if(Gy)return ke;Gy=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),w=Symbol.iterator;function E(U){return U===null||typeof U!="object"?null:(U=w&&U[w]||U["@@iterator"],typeof U=="function"?U:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,L={};function V(U,Y,me){this.props=U,this.context=Y,this.refs=L,this.updater=me||S}V.prototype.isReactComponent={},V.prototype.setState=function(U,Y){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Y,"setState")},V.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function j(){}j.prototype=V.prototype;function q(U,Y,me){this.props=U,this.context=Y,this.refs=L,this.updater=me||S}var W=q.prototype=new j;W.constructor=q,I(W,V.prototype),W.isPureReactComponent=!0;var ie=Array.isArray,ee=Object.prototype.hasOwnProperty,se={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function C(U,Y,me){var Ie,Re={},De=null,je=null;if(Y!=null)for(Ie in Y.ref!==void 0&&(je=Y.ref),Y.key!==void 0&&(De=""+Y.key),Y)ee.call(Y,Ie)&&!D.hasOwnProperty(Ie)&&(Re[Ie]=Y[Ie]);var Be=arguments.length-2;if(Be===1)Re.children=me;else if(1<Be){for(var He=Array(Be),xt=0;xt<Be;xt++)He[xt]=arguments[xt+2];Re.children=He}if(U&&U.defaultProps)for(Ie in Be=U.defaultProps,Be)Re[Ie]===void 0&&(Re[Ie]=Be[Ie]);return{$$typeof:t,type:U,key:De,ref:je,props:Re,_owner:se.current}}function P(U,Y){return{$$typeof:t,type:U.type,key:Y,ref:U.ref,props:U.props,_owner:U._owner}}function N(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function M(U){var Y={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(me){return Y[me]})}var F=/\/+/g;function A(U,Y){return typeof U=="object"&&U!==null&&U.key!=null?M(""+U.key):Y.toString(36)}function Ae(U,Y,me,Ie,Re){var De=typeof U;(De==="undefined"||De==="boolean")&&(U=null);var je=!1;if(U===null)je=!0;else switch(De){case"string":case"number":je=!0;break;case"object":switch(U.$$typeof){case t:case e:je=!0}}if(je)return je=U,Re=Re(je),U=Ie===""?"."+A(je,0):Ie,ie(Re)?(me="",U!=null&&(me=U.replace(F,"$&/")+"/"),Ae(Re,Y,me,"",function(xt){return xt})):Re!=null&&(N(Re)&&(Re=P(Re,me+(!Re.key||je&&je.key===Re.key?"":(""+Re.key).replace(F,"$&/")+"/")+U)),Y.push(Re)),1;if(je=0,Ie=Ie===""?".":Ie+":",ie(U))for(var Be=0;Be<U.length;Be++){De=U[Be];var He=Ie+A(De,Be);je+=Ae(De,Y,me,He,Re)}else if(He=E(U),typeof He=="function")for(U=He.call(U),Be=0;!(De=U.next()).done;)De=De.value,He=Ie+A(De,Be++),je+=Ae(De,Y,me,He,Re);else if(De==="object")throw Y=String(U),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return je}function Ze(U,Y,me){if(U==null)return U;var Ie=[],Re=0;return Ae(U,Ie,"","",function(De){return Y.call(me,De,Re++)}),Ie}function at(U){if(U._status===-1){var Y=U._result;Y=Y(),Y.then(function(me){(U._status===0||U._status===-1)&&(U._status=1,U._result=me)},function(me){(U._status===0||U._status===-1)&&(U._status=2,U._result=me)}),U._status===-1&&(U._status=0,U._result=Y)}if(U._status===1)return U._result.default;throw U._result}var Te={current:null},ne={transition:null},pe={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:ne,ReactCurrentOwner:se};function ae(){throw Error("act(...) is not supported in production builds of React.")}return ke.Children={map:Ze,forEach:function(U,Y,me){Ze(U,function(){Y.apply(this,arguments)},me)},count:function(U){var Y=0;return Ze(U,function(){Y++}),Y},toArray:function(U){return Ze(U,function(Y){return Y})||[]},only:function(U){if(!N(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},ke.Component=V,ke.Fragment=n,ke.Profiler=o,ke.PureComponent=q,ke.StrictMode=i,ke.Suspense=f,ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,ke.act=ae,ke.cloneElement=function(U,Y,me){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ie=I({},U.props),Re=U.key,De=U.ref,je=U._owner;if(Y!=null){if(Y.ref!==void 0&&(De=Y.ref,je=se.current),Y.key!==void 0&&(Re=""+Y.key),U.type&&U.type.defaultProps)var Be=U.type.defaultProps;for(He in Y)ee.call(Y,He)&&!D.hasOwnProperty(He)&&(Ie[He]=Y[He]===void 0&&Be!==void 0?Be[He]:Y[He])}var He=arguments.length-2;if(He===1)Ie.children=me;else if(1<He){Be=Array(He);for(var xt=0;xt<He;xt++)Be[xt]=arguments[xt+2];Ie.children=Be}return{$$typeof:t,type:U.type,key:Re,ref:De,props:Ie,_owner:je}},ke.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},ke.createElement=C,ke.createFactory=function(U){var Y=C.bind(null,U);return Y.type=U,Y},ke.createRef=function(){return{current:null}},ke.forwardRef=function(U){return{$$typeof:h,render:U}},ke.isValidElement=N,ke.lazy=function(U){return{$$typeof:v,_payload:{_status:-1,_result:U},_init:at}},ke.memo=function(U,Y){return{$$typeof:p,type:U,compare:Y===void 0?null:Y}},ke.startTransition=function(U){var Y=ne.transition;ne.transition={};try{U()}finally{ne.transition=Y}},ke.unstable_act=ae,ke.useCallback=function(U,Y){return Te.current.useCallback(U,Y)},ke.useContext=function(U){return Te.current.useContext(U)},ke.useDebugValue=function(){},ke.useDeferredValue=function(U){return Te.current.useDeferredValue(U)},ke.useEffect=function(U,Y){return Te.current.useEffect(U,Y)},ke.useId=function(){return Te.current.useId()},ke.useImperativeHandle=function(U,Y,me){return Te.current.useImperativeHandle(U,Y,me)},ke.useInsertionEffect=function(U,Y){return Te.current.useInsertionEffect(U,Y)},ke.useLayoutEffect=function(U,Y){return Te.current.useLayoutEffect(U,Y)},ke.useMemo=function(U,Y){return Te.current.useMemo(U,Y)},ke.useReducer=function(U,Y,me){return Te.current.useReducer(U,Y,me)},ke.useRef=function(U){return Te.current.useRef(U)},ke.useState=function(U){return Te.current.useState(U)},ke.useSyncExternalStore=function(U,Y,me){return Te.current.useSyncExternalStore(U,Y,me)},ke.useTransition=function(){return Te.current.useTransition()},ke.version="18.3.1",ke}var qy;function fp(){return qy||(qy=1,Wd.exports=AS()),Wd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function IS(){if(Ky)return Ga;Ky=1;var t=fp(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var v,w={},E=null,S=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(S=f.ref);for(v in f)i.call(f,v)&&!a.hasOwnProperty(v)&&(w[v]=f[v]);if(h&&h.defaultProps)for(v in f=h.defaultProps,f)w[v]===void 0&&(w[v]=f[v]);return{$$typeof:e,type:h,key:E,ref:S,props:w,_owner:o.current}}return Ga.Fragment=n,Ga.jsx=u,Ga.jsxs=u,Ga}var Qy;function PS(){return Qy||(Qy=1,Hd.exports=IS()),Hd.exports}var R=PS(),b=fp();const bn=dp(b);var nc={},Gd={exports:{}},on={},qd={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function RS(){return Yy||(Yy=1,function(t){function e(ne,pe){var ae=ne.length;ne.push(pe);e:for(;0<ae;){var U=ae-1>>>1,Y=ne[U];if(0<o(Y,pe))ne[U]=pe,ne[ae]=Y,ae=U;else break e}}function n(ne){return ne.length===0?null:ne[0]}function i(ne){if(ne.length===0)return null;var pe=ne[0],ae=ne.pop();if(ae!==pe){ne[0]=ae;e:for(var U=0,Y=ne.length,me=Y>>>1;U<me;){var Ie=2*(U+1)-1,Re=ne[Ie],De=Ie+1,je=ne[De];if(0>o(Re,ae))De<Y&&0>o(je,Re)?(ne[U]=je,ne[De]=ae,U=De):(ne[U]=Re,ne[Ie]=ae,U=Ie);else if(De<Y&&0>o(je,ae))ne[U]=je,ne[De]=ae,U=De;else break e}}return pe}function o(ne,pe){var ae=ne.sortIndex-pe.sortIndex;return ae!==0?ae:ne.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],v=1,w=null,E=3,S=!1,I=!1,L=!1,V=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function W(ne){for(var pe=n(p);pe!==null;){if(pe.callback===null)i(p);else if(pe.startTime<=ne)i(p),pe.sortIndex=pe.expirationTime,e(f,pe);else break;pe=n(p)}}function ie(ne){if(L=!1,W(ne),!I)if(n(f)!==null)I=!0,at(ee);else{var pe=n(p);pe!==null&&Te(ie,pe.startTime-ne)}}function ee(ne,pe){I=!1,L&&(L=!1,j(C),C=-1),S=!0;var ae=E;try{for(W(pe),w=n(f);w!==null&&(!(w.expirationTime>pe)||ne&&!M());){var U=w.callback;if(typeof U=="function"){w.callback=null,E=w.priorityLevel;var Y=U(w.expirationTime<=pe);pe=t.unstable_now(),typeof Y=="function"?w.callback=Y:w===n(f)&&i(f),W(pe)}else i(f);w=n(f)}if(w!==null)var me=!0;else{var Ie=n(p);Ie!==null&&Te(ie,Ie.startTime-pe),me=!1}return me}finally{w=null,E=ae,S=!1}}var se=!1,D=null,C=-1,P=5,N=-1;function M(){return!(t.unstable_now()-N<P)}function F(){if(D!==null){var ne=t.unstable_now();N=ne;var pe=!0;try{pe=D(!0,ne)}finally{pe?A():(se=!1,D=null)}}else se=!1}var A;if(typeof q=="function")A=function(){q(F)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Ze=Ae.port2;Ae.port1.onmessage=F,A=function(){Ze.postMessage(null)}}else A=function(){V(F,0)};function at(ne){D=ne,se||(se=!0,A())}function Te(ne,pe){C=V(function(){ne(t.unstable_now())},pe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){I||S||(I=!0,at(ee))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(ne){switch(E){case 1:case 2:case 3:var pe=3;break;default:pe=E}var ae=E;E=pe;try{return ne()}finally{E=ae}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,pe){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ae=E;E=ne;try{return pe()}finally{E=ae}},t.unstable_scheduleCallback=function(ne,pe,ae){var U=t.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?U+ae:U):ae=U,ne){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,ne={id:v++,callback:pe,priorityLevel:ne,startTime:ae,expirationTime:Y,sortIndex:-1},ae>U?(ne.sortIndex=ae,e(p,ne),n(f)===null&&ne===n(p)&&(L?(j(C),C=-1):L=!0,Te(ie,ae-U))):(ne.sortIndex=Y,e(f,ne),I||S||(I=!0,at(ee))),ne},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(ne){var pe=E;return function(){var ae=E;E=pe;try{return ne.apply(this,arguments)}finally{E=ae}}}}(Kd)),Kd}var Xy;function kS(){return Xy||(Xy=1,qd.exports=RS()),qd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function bS(){if(Jy)return on;Jy=1;var t=fp(),e=kS();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},w={};function E(r){return f.call(w,r)?!0:f.call(v,r)?!1:p.test(r)?w[r]=!0:(v[r]=!0,!1)}function S(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function I(r,s,l,d){if(s===null||typeof s>"u"||S(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function L(r,s,l,d,m,y,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=y,this.removeEmptyString=T}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){V[r]=new L(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];V[s]=new L(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){V[r]=new L(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){V[r]=new L(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){V[r]=new L(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){V[r]=new L(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){V[r]=new L(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){V[r]=new L(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){V[r]=new L(r,5,!1,r.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function q(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(j,q);V[s]=new L(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(j,q);V[s]=new L(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(j,q);V[s]=new L(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){V[r]=new L(r,1,!1,r.toLowerCase(),null,!1,!1)}),V.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){V[r]=new L(r,1,!1,r.toLowerCase(),null,!0,!0)});function W(r,s,l,d){var m=V.hasOwnProperty(s)?V[s]:null;(m!==null?m.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(I(s,l,m,d)&&(l=null),d||m===null?E(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):m.mustUseProperty?r[m.propertyName]=l===null?m.type===3?!1:"":l:(s=m.attributeName,d=m.attributeNamespace,l===null?r.removeAttribute(s):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var ie=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ee=Symbol.for("react.element"),se=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),M=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),Ae=Symbol.for("react.suspense_list"),Ze=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),ne=Symbol.iterator;function pe(r){return r===null||typeof r!="object"?null:(r=ne&&r[ne]||r["@@iterator"],typeof r=="function"?r:null)}var ae=Object.assign,U;function Y(r){if(U===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);U=s&&s[1]||""}return`
`+U+r}var me=!1;function Ie(r,s){if(!r||me)return"";me=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(G){var d=G}Reflect.construct(r,[],s)}else{try{s.call()}catch(G){d=G}r.call(s.prototype)}else{try{throw Error()}catch(G){d=G}r()}}catch(G){if(G&&d&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),y=d.stack.split(`
`),T=m.length-1,k=y.length-1;1<=T&&0<=k&&m[T]!==y[k];)k--;for(;1<=T&&0<=k;T--,k--)if(m[T]!==y[k]){if(T!==1||k!==1)do if(T--,k--,0>k||m[T]!==y[k]){var O=`
`+m[T].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=T&&0<=k);break}}}finally{me=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Y(r):""}function Re(r){switch(r.tag){case 5:return Y(r.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return r=Ie(r.type,!1),r;case 11:return r=Ie(r.type.render,!1),r;case 1:return r=Ie(r.type,!0),r;default:return""}}function De(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case se:return"Portal";case P:return"Profiler";case C:return"StrictMode";case A:return"Suspense";case Ae:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case N:return(r._context.displayName||"Context")+".Provider";case F:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Ze:return s=r.displayName||null,s!==null?s:De(r.type)||"Memo";case at:s=r._payload,r=r._init;try{return De(r(s))}catch{}}return null}function je(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return De(s);case 8:return s===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Be(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function He(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xt(r){var s=He(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,y.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function yr(r){r._valueTracker||(r._valueTracker=xt(r))}function Is(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=He(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function Gr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Li(r,s){var l=s.checked;return ae({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function Ps(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Be(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Jo(r,s){s=s.checked,s!=null&&W(r,"checked",s,!1)}function Zo(r,s){Jo(r,s);var l=Be(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Rs(r,s.type,l):s.hasOwnProperty("defaultValue")&&Rs(r,s.type,Be(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Ul(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Rs(r,s,l){(s!=="number"||Gr(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var vr=Array.isArray;function _r(r,s,l,d){if(r=r.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=s.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Be(l),s=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function ea(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return ae({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ks(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(vr(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Be(l)}}function bs(r,s){var l=Be(s.value),d=Be(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function ta(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function mt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?mt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var wr,na=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,m){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,m)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(wr=wr||document.createElement("div"),wr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=wr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function qr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Fi=["Webkit","ms","Moz","O"];Object.keys(Oi).forEach(function(r){Fi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Oi[s]=Oi[r]})});function ra(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Oi.hasOwnProperty(r)&&Oi[r]?(""+s).trim():s+"px"}function ia(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=ra(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,m):r[l]=m}}var sa=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oa(r,s){if(s){if(sa[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function aa(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ji=null;function Vs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ds=null,vn=null,Yn=null;function Ns(r){if(r=ba(r)){if(typeof Ds!="function")throw Error(n(280));var s=r.stateNode;s&&(s=yu(s),Ds(r.stateNode,r.type,s))}}function Xn(r){vn?Yn?Yn.push(r):Yn=[r]:vn=r}function la(){if(vn){var r=vn,s=Yn;if(Yn=vn=null,Ns(r),s)for(r=0;r<s.length;r++)Ns(s[r])}}function Bi(r,s){return r(s)}function ua(){}var Er=!1;function ca(r,s,l){if(Er)return r(s,l);Er=!0;try{return Bi(r,s,l)}finally{Er=!1,(vn!==null||Yn!==null)&&(ua(),la())}}function lt(r,s){var l=r.stateNode;if(l===null)return null;var d=yu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var Ms=!1;if(h)try{var Vn={};Object.defineProperty(Vn,"passive",{get:function(){Ms=!0}}),window.addEventListener("test",Vn,Vn),window.removeEventListener("test",Vn,Vn)}catch{Ms=!1}function Ui(r,s,l,d,m,y,T,k,O){var G=Array.prototype.slice.call(arguments,3);try{s.apply(l,G)}catch(J){this.onError(J)}}var $i=!1,Ls=null,Dn=!1,ha=null,vh={onError:function(r){$i=!0,Ls=r}};function Os(r,s,l,d,m,y,T,k,O){$i=!1,Ls=null,Ui.apply(vh,arguments)}function $l(r,s,l,d,m,y,T,k,O){if(Os.apply(this,arguments),$i){if($i){var G=Ls;$i=!1,Ls=null}else throw Error(n(198));Dn||(Dn=!0,ha=G)}}function Nn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function zi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Mn(r){if(Nn(r)!==r)throw Error(n(188))}function zl(r){var s=r.alternate;if(!s){if(s=Nn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,d=s;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return Mn(m),r;if(y===d)return Mn(m),s;y=y.sibling}throw Error(n(188))}if(l.return!==d.return)l=m,d=y;else{for(var T=!1,k=m.child;k;){if(k===l){T=!0,l=m,d=y;break}if(k===d){T=!0,d=m,l=y;break}k=k.sibling}if(!T){for(k=y.child;k;){if(k===l){T=!0,l=y,d=m;break}if(k===d){T=!0,d=y,l=m;break}k=k.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function da(r){return r=zl(r),r!==null?Fs(r):null}function Fs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Fs(r);if(s!==null)return s;r=r.sibling}return null}var js=e.unstable_scheduleCallback,fa=e.unstable_cancelCallback,Hl=e.unstable_shouldYield,_h=e.unstable_requestPaint,We=e.unstable_now,Wl=e.unstable_getCurrentPriorityLevel,Hi=e.unstable_ImmediatePriority,Kr=e.unstable_UserBlockingPriority,_n=e.unstable_NormalPriority,pa=e.unstable_LowPriority,Gl=e.unstable_IdlePriority,Wi=null,ln=null;function ql(r){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Wi,r,void 0,(r.current.flags&128)===128)}catch{}}var Gt=Math.clz32?Math.clz32:Ql,ma=Math.log,Kl=Math.LN2;function Ql(r){return r>>>=0,r===0?32:31-(ma(r)/Kl|0)|0}var Bs=64,Us=4194304;function Qr(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Gi(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,m=r.suspendedLanes,y=r.pingedLanes,T=l&268435455;if(T!==0){var k=T&~m;k!==0?d=Qr(k):(y&=T,y!==0&&(d=Qr(y)))}else T=l&~m,T!==0?d=Qr(T):y!==0&&(d=Qr(y));if(d===0)return 0;if(s!==0&&s!==d&&!(s&m)&&(m=d&-d,y=s&-s,m>=y||m===16&&(y&4194240)!==0))return s;if(d&4&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Gt(s),m=1<<l,d|=r[l],s&=~m;return d}function wh(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,y=r.pendingLanes;0<y;){var T=31-Gt(y),k=1<<T,O=m[T];O===-1?(!(k&l)||k&d)&&(m[T]=wh(k,s)):O<=s&&(r.expiredLanes|=k),y&=~k}}function un(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function qi(){var r=Bs;return Bs<<=1,!(Bs&4194240)&&(Bs=64),r}function Yr(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Xr(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Gt(s),r[s]=l}function ze(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var m=31-Gt(l),y=1<<m;s[m]=0,d[m]=-1,r[m]=-1,l&=~y}}function Jr(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Gt(l),m=1<<d;m&s|r[d]&s&&(r[d]|=s),l&=~m}}var Ve=0;function Zr(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var Yl,$s,Xl,Jl,Zl,ga=!1,Jn=[],Rt=null,Ln=null,On=null,ei=new Map,wn=new Map,Zn=[],Eh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function eu(r,s){switch(r){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Ln=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":ei.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wn.delete(s.pointerId)}}function Jt(r,s,l,d,m,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:y,targetContainers:[m]},s!==null&&(s=ba(s),s!==null&&$s(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function Th(r,s,l,d,m){switch(s){case"focusin":return Rt=Jt(Rt,r,s,l,d,m),!0;case"dragenter":return Ln=Jt(Ln,r,s,l,d,m),!0;case"mouseover":return On=Jt(On,r,s,l,d,m),!0;case"pointerover":var y=m.pointerId;return ei.set(y,Jt(ei.get(y)||null,r,s,l,d,m)),!0;case"gotpointercapture":return y=m.pointerId,wn.set(y,Jt(wn.get(y)||null,r,s,l,d,m)),!0}return!1}function tu(r){var s=Ji(r.target);if(s!==null){var l=Nn(s);if(l!==null){if(s=l.tag,s===13){if(s=zi(l),s!==null){r.blockedOn=s,Zl(r.priority,function(){Xl(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function xr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=zs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);ji=d,l.target.dispatchEvent(d),ji=null}else return s=ba(l),s!==null&&$s(s),r.blockedOn=l,!1;s.shift()}return!0}function Ki(r,s,l){xr(r)&&l.delete(s)}function nu(){ga=!1,Rt!==null&&xr(Rt)&&(Rt=null),Ln!==null&&xr(Ln)&&(Ln=null),On!==null&&xr(On)&&(On=null),ei.forEach(Ki),wn.forEach(Ki)}function Fn(r,s){r.blockedOn===s&&(r.blockedOn=null,ga||(ga=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nu)))}function jn(r){function s(m){return Fn(m,r)}if(0<Jn.length){Fn(Jn[0],r);for(var l=1;l<Jn.length;l++){var d=Jn[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Rt!==null&&Fn(Rt,r),Ln!==null&&Fn(Ln,r),On!==null&&Fn(On,r),ei.forEach(s),wn.forEach(s),l=0;l<Zn.length;l++)d=Zn[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<Zn.length&&(l=Zn[0],l.blockedOn===null);)tu(l),l.blockedOn===null&&Zn.shift()}var Sr=ie.ReactCurrentBatchConfig,ti=!0;function Ye(r,s,l,d){var m=Ve,y=Sr.transition;Sr.transition=null;try{Ve=1,ya(r,s,l,d)}finally{Ve=m,Sr.transition=y}}function xh(r,s,l,d){var m=Ve,y=Sr.transition;Sr.transition=null;try{Ve=4,ya(r,s,l,d)}finally{Ve=m,Sr.transition=y}}function ya(r,s,l,d){if(ti){var m=zs(r,s,l,d);if(m===null)Nh(r,s,d,Qi,l),eu(r,d);else if(Th(m,r,s,l,d))d.stopPropagation();else if(eu(r,d),s&4&&-1<Eh.indexOf(r)){for(;m!==null;){var y=ba(m);if(y!==null&&Yl(y),y=zs(r,s,l,d),y===null&&Nh(r,s,d,Qi,l),y===m)break;m=y}m!==null&&d.stopPropagation()}else Nh(r,s,d,null,l)}}var Qi=null;function zs(r,s,l,d){if(Qi=null,r=Vs(d),r=Ji(r),r!==null)if(s=Nn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=zi(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return Qi=r,null}function va(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Wl()){case Hi:return 1;case Kr:return 4;case _n:case pa:return 16;case Gl:return 536870912;default:return 16}default:return 16}}var cn=null,Hs=null,Zt=null;function _a(){if(Zt)return Zt;var r,s=Hs,l=s.length,d,m="value"in cn?cn.value:cn.textContent,y=m.length;for(r=0;r<l&&s[r]===m[r];r++);var T=l-r;for(d=1;d<=T&&s[l-d]===m[y-d];d++);return Zt=m.slice(r,1<d?1-d:void 0)}function Ws(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function er(){return!0}function wa(){return!1}function kt(r){function s(l,d,m,y,T){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=y,this.target=T,this.currentTarget=null;for(var k in r)r.hasOwnProperty(k)&&(l=r[k],this[k]=l?l(y):y[k]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?er:wa,this.isPropagationStopped=wa,this}return ae(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=er)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=er)},persist:function(){},isPersistent:er}),s}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gs=kt(Bn),tr=ae({},Bn,{view:0,detail:0}),Sh=kt(tr),qs,Cr,ni,Yi=ae({},tr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ni&&(ni&&r.type==="mousemove"?(qs=r.screenX-ni.screenX,Cr=r.screenY-ni.screenY):Cr=qs=0,ni=r),qs)},movementY:function(r){return"movementY"in r?r.movementY:Cr}}),Ks=kt(Yi),Ea=ae({},Yi,{dataTransfer:0}),ru=kt(Ea),Qs=ae({},tr,{relatedTarget:0}),Ys=kt(Qs),iu=ae({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),Ar=kt(iu),su=ae({},Bn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),ou=kt(su),au=ae({},Bn,{data:0}),Ta=kt(au),Xs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=lu[r])?!!s[r]:!1}function nr(){return uu}var c=ae({},tr,{key:function(r){if(r.key){var s=Xs[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ws(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?qt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nr,charCode:function(r){return r.type==="keypress"?Ws(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ws(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=kt(c),_=ae({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x=kt(_),$=ae({},tr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nr}),K=kt($),oe=ae({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=kt(oe),yt=ae({},Yi,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ne=kt(yt),St=[9,13,27,32],dt=h&&"CompositionEvent"in window,En=null;h&&"documentMode"in document&&(En=document.documentMode);var hn=h&&"TextEvent"in window&&!En,Xi=h&&(!dt||En&&8<En&&11>=En),Js=" ",Bm=!1;function Um(r,s){switch(r){case"keyup":return St.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $m(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Zs=!1;function xx(r,s){switch(r){case"compositionend":return $m(s);case"keypress":return s.which!==32?null:(Bm=!0,Js);case"textInput":return r=s.data,r===Js&&Bm?null:r;default:return null}}function Sx(r,s){if(Zs)return r==="compositionend"||!dt&&Um(r,s)?(r=_a(),Zt=Hs=cn=null,Zs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Xi&&s.locale!=="ko"?null:s.data;default:return null}}var Cx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Cx[r.type]:s==="textarea"}function Hm(r,s,l,d){Xn(d),s=pu(s,"onChange"),0<s.length&&(l=new Gs("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var xa=null,Sa=null;function Ax(r){lg(r,0)}function cu(r){var s=io(r);if(Is(s))return r}function Ix(r,s){if(r==="change")return s}var Wm=!1;if(h){var Ch;if(h){var Ah="oninput"in document;if(!Ah){var Gm=document.createElement("div");Gm.setAttribute("oninput","return;"),Ah=typeof Gm.oninput=="function"}Ch=Ah}else Ch=!1;Wm=Ch&&(!document.documentMode||9<document.documentMode)}function qm(){xa&&(xa.detachEvent("onpropertychange",Km),Sa=xa=null)}function Km(r){if(r.propertyName==="value"&&cu(Sa)){var s=[];Hm(s,Sa,r,Vs(r)),ca(Ax,s)}}function Px(r,s,l){r==="focusin"?(qm(),xa=s,Sa=l,xa.attachEvent("onpropertychange",Km)):r==="focusout"&&qm()}function Rx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return cu(Sa)}function kx(r,s){if(r==="click")return cu(s)}function bx(r,s){if(r==="input"||r==="change")return cu(s)}function Vx(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Un=typeof Object.is=="function"?Object.is:Vx;function Ca(r,s){if(Un(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(s,m)||!Un(r[m],s[m]))return!1}return!0}function Qm(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Ym(r,s){var l=Qm(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Qm(l)}}function Xm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Xm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Jm(){for(var r=window,s=Gr();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=Gr(r.document)}return s}function Ih(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function Dx(r){var s=Jm(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&Xm(l.ownerDocument.documentElement,l)){if(d!==null&&Ih(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var m=l.textContent.length,y=Math.min(d.start,m);d=d.end===void 0?y:Math.min(d.end,m),!r.extend&&y>d&&(m=d,d=y,y=m),m=Ym(l,y);var T=Ym(l,d);m&&T&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),r.removeAllRanges(),y>d?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var Nx=h&&"documentMode"in document&&11>=document.documentMode,eo=null,Ph=null,Aa=null,Rh=!1;function Zm(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Rh||eo==null||eo!==Gr(d)||(d=eo,"selectionStart"in d&&Ih(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),Aa&&Ca(Aa,d)||(Aa=d,d=pu(Ph,"onSelect"),0<d.length&&(s=new Gs("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=eo)))}function hu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var to={animationend:hu("Animation","AnimationEnd"),animationiteration:hu("Animation","AnimationIteration"),animationstart:hu("Animation","AnimationStart"),transitionend:hu("Transition","TransitionEnd")},kh={},eg={};h&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete to.animationend.animation,delete to.animationiteration.animation,delete to.animationstart.animation),"TransitionEvent"in window||delete to.transitionend.transition);function du(r){if(kh[r])return kh[r];if(!to[r])return r;var s=to[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in eg)return kh[r]=s[l];return r}var tg=du("animationend"),ng=du("animationiteration"),rg=du("animationstart"),ig=du("transitionend"),sg=new Map,og="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(r,s){sg.set(r,s),a(s,[r])}for(var bh=0;bh<og.length;bh++){var Vh=og[bh],Mx=Vh.toLowerCase(),Lx=Vh[0].toUpperCase()+Vh.slice(1);ri(Mx,"on"+Lx)}ri(tg,"onAnimationEnd"),ri(ng,"onAnimationIteration"),ri(rg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(ig,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ox=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ia));function ag(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,$l(d,s,void 0,r),r.currentTarget=null}function lg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],m=d.event;d=d.listeners;e:{var y=void 0;if(s)for(var T=d.length-1;0<=T;T--){var k=d[T],O=k.instance,G=k.currentTarget;if(k=k.listener,O!==y&&m.isPropagationStopped())break e;ag(m,k,G),y=O}else for(T=0;T<d.length;T++){if(k=d[T],O=k.instance,G=k.currentTarget,k=k.listener,O!==y&&m.isPropagationStopped())break e;ag(m,k,G),y=O}}}if(Dn)throw r=ha,Dn=!1,ha=null,r}function Ke(r,s){var l=s[Bh];l===void 0&&(l=s[Bh]=new Set);var d=r+"__bubble";l.has(d)||(ug(s,r,2,!1),l.add(d))}function Dh(r,s,l){var d=0;s&&(d|=4),ug(l,r,d,s)}var fu="_reactListening"+Math.random().toString(36).slice(2);function Pa(r){if(!r[fu]){r[fu]=!0,i.forEach(function(l){l!=="selectionchange"&&(Ox.has(l)||Dh(l,!1,r),Dh(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[fu]||(s[fu]=!0,Dh("selectionchange",!1,s))}}function ug(r,s,l,d){switch(va(s)){case 1:var m=Ye;break;case 4:m=xh;break;default:m=ya}l=m.bind(null,s,l,r),m=void 0,!Ms||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(s,l,{capture:!0,passive:m}):r.addEventListener(s,l,!0):m!==void 0?r.addEventListener(s,l,{passive:m}):r.addEventListener(s,l,!1)}function Nh(r,s,l,d,m){var y=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var k=d.stateNode.containerInfo;if(k===m||k.nodeType===8&&k.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var O=T.tag;if((O===3||O===4)&&(O=T.stateNode.containerInfo,O===m||O.nodeType===8&&O.parentNode===m))return;T=T.return}for(;k!==null;){if(T=Ji(k),T===null)return;if(O=T.tag,O===5||O===6){d=y=T;continue e}k=k.parentNode}}d=d.return}ca(function(){var G=y,J=Vs(l),te=[];e:{var X=sg.get(r);if(X!==void 0){var le=Gs,he=r;switch(r){case"keypress":if(Ws(l)===0)break e;case"keydown":case"keyup":le=g;break;case"focusin":he="focus",le=Ys;break;case"focusout":he="blur",le=Ys;break;case"beforeblur":case"afterblur":le=Ys;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Ks;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=K;break;case tg:case ng:case rg:le=Ar;break;case ig:le=$e;break;case"scroll":le=Sh;break;case"wheel":le=Ne;break;case"copy":case"cut":case"paste":le=ou;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=x}var de=(s&4)!==0,ut=!de&&r==="scroll",z=de?X!==null?X+"Capture":null:X;de=[];for(var B=G,H;B!==null;){H=B;var re=H.stateNode;if(H.tag===5&&re!==null&&(H=re,z!==null&&(re=lt(B,z),re!=null&&de.push(Ra(B,re,H)))),ut)break;B=B.return}0<de.length&&(X=new le(X,he,null,l,J),te.push({event:X,listeners:de}))}}if(!(s&7)){e:{if(X=r==="mouseover"||r==="pointerover",le=r==="mouseout"||r==="pointerout",X&&l!==ji&&(he=l.relatedTarget||l.fromElement)&&(Ji(he)||he[Ir]))break e;if((le||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,le?(he=l.relatedTarget||l.toElement,le=G,he=he?Ji(he):null,he!==null&&(ut=Nn(he),he!==ut||he.tag!==5&&he.tag!==6)&&(he=null)):(le=null,he=G),le!==he)){if(de=Ks,re="onMouseLeave",z="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(de=x,re="onPointerLeave",z="onPointerEnter",B="pointer"),ut=le==null?X:io(le),H=he==null?X:io(he),X=new de(re,B+"leave",le,l,J),X.target=ut,X.relatedTarget=H,re=null,Ji(J)===G&&(de=new de(z,B+"enter",he,l,J),de.target=H,de.relatedTarget=ut,re=de),ut=re,le&&he)t:{for(de=le,z=he,B=0,H=de;H;H=no(H))B++;for(H=0,re=z;re;re=no(re))H++;for(;0<B-H;)de=no(de),B--;for(;0<H-B;)z=no(z),H--;for(;B--;){if(de===z||z!==null&&de===z.alternate)break t;de=no(de),z=no(z)}de=null}else de=null;le!==null&&cg(te,X,le,de,!1),he!==null&&ut!==null&&cg(te,ut,he,de,!0)}}e:{if(X=G?io(G):window,le=X.nodeName&&X.nodeName.toLowerCase(),le==="select"||le==="input"&&X.type==="file")var fe=Ix;else if(zm(X))if(Wm)fe=bx;else{fe=Rx;var ye=Px}else(le=X.nodeName)&&le.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(fe=kx);if(fe&&(fe=fe(r,G))){Hm(te,fe,l,J);break e}ye&&ye(r,X,G),r==="focusout"&&(ye=X._wrapperState)&&ye.controlled&&X.type==="number"&&Rs(X,"number",X.value)}switch(ye=G?io(G):window,r){case"focusin":(zm(ye)||ye.contentEditable==="true")&&(eo=ye,Ph=G,Aa=null);break;case"focusout":Aa=Ph=eo=null;break;case"mousedown":Rh=!0;break;case"contextmenu":case"mouseup":case"dragend":Rh=!1,Zm(te,l,J);break;case"selectionchange":if(Nx)break;case"keydown":case"keyup":Zm(te,l,J)}var ve;if(dt)e:{switch(r){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else Zs?Um(r,l)&&(xe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(xe="onCompositionStart");xe&&(Xi&&l.locale!=="ko"&&(Zs||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&Zs&&(ve=_a()):(cn=J,Hs="value"in cn?cn.value:cn.textContent,Zs=!0)),ye=pu(G,xe),0<ye.length&&(xe=new Ta(xe,r,null,l,J),te.push({event:xe,listeners:ye}),ve?xe.data=ve:(ve=$m(l),ve!==null&&(xe.data=ve)))),(ve=hn?xx(r,l):Sx(r,l))&&(G=pu(G,"onBeforeInput"),0<G.length&&(J=new Ta("onBeforeInput","beforeinput",null,l,J),te.push({event:J,listeners:G}),J.data=ve))}lg(te,s)})}function Ra(r,s,l){return{instance:r,listener:s,currentTarget:l}}function pu(r,s){for(var l=s+"Capture",d=[];r!==null;){var m=r,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=lt(r,l),y!=null&&d.unshift(Ra(r,y,m)),y=lt(r,s),y!=null&&d.push(Ra(r,y,m))),r=r.return}return d}function no(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function cg(r,s,l,d,m){for(var y=s._reactName,T=[];l!==null&&l!==d;){var k=l,O=k.alternate,G=k.stateNode;if(O!==null&&O===d)break;k.tag===5&&G!==null&&(k=G,m?(O=lt(l,y),O!=null&&T.unshift(Ra(l,O,k))):m||(O=lt(l,y),O!=null&&T.push(Ra(l,O,k)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var Fx=/\r\n?/g,jx=/\u0000|\uFFFD/g;function hg(r){return(typeof r=="string"?r:""+r).replace(Fx,`
`).replace(jx,"")}function mu(r,s,l){if(s=hg(s),hg(r)!==s&&l)throw Error(n(425))}function gu(){}var Mh=null,Lh=null;function Oh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Fh=typeof setTimeout=="function"?setTimeout:void 0,Bx=typeof clearTimeout=="function"?clearTimeout:void 0,dg=typeof Promise=="function"?Promise:void 0,Ux=typeof queueMicrotask=="function"?queueMicrotask:typeof dg<"u"?function(r){return dg.resolve(null).then(r).catch($x)}:Fh;function $x(r){setTimeout(function(){throw r})}function jh(r,s){var l=s,d=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){r.removeChild(m),jn(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);jn(s)}function ii(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function fg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var ro=Math.random().toString(36).slice(2),rr="__reactFiber$"+ro,ka="__reactProps$"+ro,Ir="__reactContainer$"+ro,Bh="__reactEvents$"+ro,zx="__reactListeners$"+ro,Hx="__reactHandles$"+ro;function Ji(r){var s=r[rr];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Ir]||l[rr]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=fg(r);r!==null;){if(l=r[rr])return l;r=fg(r)}return s}r=l,l=r.parentNode}return null}function ba(r){return r=r[rr]||r[Ir],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function io(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function yu(r){return r[ka]||null}var Uh=[],so=-1;function si(r){return{current:r}}function Qe(r){0>so||(r.current=Uh[so],Uh[so]=null,so--)}function Ge(r,s){so++,Uh[so]=r.current,r.current=s}var oi={},Ot=si(oi),en=si(!1),Zi=oi;function oo(r,s){var l=r.type.contextTypes;if(!l)return oi;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=s[y];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=m),m}function tn(r){return r=r.childContextTypes,r!=null}function vu(){Qe(en),Qe(Ot)}function pg(r,s,l){if(Ot.current!==oi)throw Error(n(168));Ge(Ot,s),Ge(en,l)}function mg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in s))throw Error(n(108,je(r)||"Unknown",m));return ae({},l,d)}function _u(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||oi,Zi=Ot.current,Ge(Ot,r),Ge(en,en.current),!0}function gg(r,s,l){var d=r.stateNode;if(!d)throw Error(n(169));l?(r=mg(r,s,Zi),d.__reactInternalMemoizedMergedChildContext=r,Qe(en),Qe(Ot),Ge(Ot,r)):Qe(en),Ge(en,l)}var Pr=null,wu=!1,$h=!1;function yg(r){Pr===null?Pr=[r]:Pr.push(r)}function Wx(r){wu=!0,yg(r)}function ai(){if(!$h&&Pr!==null){$h=!0;var r=0,s=Ve;try{var l=Pr;for(Ve=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}Pr=null,wu=!1}catch(m){throw Pr!==null&&(Pr=Pr.slice(r+1)),js(Hi,ai),m}finally{Ve=s,$h=!1}}return null}var ao=[],lo=0,Eu=null,Tu=0,Tn=[],xn=0,es=null,Rr=1,kr="";function ts(r,s){ao[lo++]=Tu,ao[lo++]=Eu,Eu=r,Tu=s}function vg(r,s,l){Tn[xn++]=Rr,Tn[xn++]=kr,Tn[xn++]=es,es=r;var d=Rr;r=kr;var m=32-Gt(d)-1;d&=~(1<<m),l+=1;var y=32-Gt(s)+m;if(30<y){var T=m-m%5;y=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Rr=1<<32-Gt(s)+m|l<<m|d,kr=y+r}else Rr=1<<y|l<<m|d,kr=r}function zh(r){r.return!==null&&(ts(r,1),vg(r,1,0))}function Hh(r){for(;r===Eu;)Eu=ao[--lo],ao[lo]=null,Tu=ao[--lo],ao[lo]=null;for(;r===es;)es=Tn[--xn],Tn[xn]=null,kr=Tn[--xn],Tn[xn]=null,Rr=Tn[--xn],Tn[xn]=null}var dn=null,fn=null,Xe=!1,$n=null;function _g(r,s){var l=In(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function wg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,dn=r,fn=ii(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,dn=r,fn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=es!==null?{id:Rr,overflow:kr}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=In(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,dn=r,fn=null,!0):!1;default:return!1}}function Wh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Gh(r){if(Xe){var s=fn;if(s){var l=s;if(!wg(r,s)){if(Wh(r))throw Error(n(418));s=ii(l.nextSibling);var d=dn;s&&wg(r,s)?_g(d,l):(r.flags=r.flags&-4097|2,Xe=!1,dn=r)}}else{if(Wh(r))throw Error(n(418));r.flags=r.flags&-4097|2,Xe=!1,dn=r}}}function Eg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;dn=r}function xu(r){if(r!==dn)return!1;if(!Xe)return Eg(r),Xe=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Oh(r.type,r.memoizedProps)),s&&(s=fn)){if(Wh(r))throw Tg(),Error(n(418));for(;s;)_g(r,s),s=ii(s.nextSibling)}if(Eg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){fn=ii(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}fn=null}}else fn=dn?ii(r.stateNode.nextSibling):null;return!0}function Tg(){for(var r=fn;r;)r=ii(r.nextSibling)}function uo(){fn=dn=null,Xe=!1}function qh(r){$n===null?$n=[r]:$n.push(r)}var Gx=ie.ReactCurrentBatchConfig;function Va(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,r));var m=d,y=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===y?s.ref:(s=function(T){var k=m.refs;T===null?delete k[y]:k[y]=T},s._stringRef=y,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Su(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function xg(r){var s=r._init;return s(r._payload)}function Sg(r){function s(z,B){if(r){var H=z.deletions;H===null?(z.deletions=[B],z.flags|=16):H.push(B)}}function l(z,B){if(!r)return null;for(;B!==null;)s(z,B),B=B.sibling;return null}function d(z,B){for(z=new Map;B!==null;)B.key!==null?z.set(B.key,B):z.set(B.index,B),B=B.sibling;return z}function m(z,B){return z=mi(z,B),z.index=0,z.sibling=null,z}function y(z,B,H){return z.index=H,r?(H=z.alternate,H!==null?(H=H.index,H<B?(z.flags|=2,B):H):(z.flags|=2,B)):(z.flags|=1048576,B)}function T(z){return r&&z.alternate===null&&(z.flags|=2),z}function k(z,B,H,re){return B===null||B.tag!==6?(B=Fd(H,z.mode,re),B.return=z,B):(B=m(B,H),B.return=z,B)}function O(z,B,H,re){var fe=H.type;return fe===D?J(z,B,H.props.children,re,H.key):B!==null&&(B.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===at&&xg(fe)===B.type)?(re=m(B,H.props),re.ref=Va(z,B,H),re.return=z,re):(re=Ku(H.type,H.key,H.props,null,z.mode,re),re.ref=Va(z,B,H),re.return=z,re)}function G(z,B,H,re){return B===null||B.tag!==4||B.stateNode.containerInfo!==H.containerInfo||B.stateNode.implementation!==H.implementation?(B=jd(H,z.mode,re),B.return=z,B):(B=m(B,H.children||[]),B.return=z,B)}function J(z,B,H,re,fe){return B===null||B.tag!==7?(B=us(H,z.mode,re,fe),B.return=z,B):(B=m(B,H),B.return=z,B)}function te(z,B,H){if(typeof B=="string"&&B!==""||typeof B=="number")return B=Fd(""+B,z.mode,H),B.return=z,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ee:return H=Ku(B.type,B.key,B.props,null,z.mode,H),H.ref=Va(z,null,B),H.return=z,H;case se:return B=jd(B,z.mode,H),B.return=z,B;case at:var re=B._init;return te(z,re(B._payload),H)}if(vr(B)||pe(B))return B=us(B,z.mode,H,null),B.return=z,B;Su(z,B)}return null}function X(z,B,H,re){var fe=B!==null?B.key:null;if(typeof H=="string"&&H!==""||typeof H=="number")return fe!==null?null:k(z,B,""+H,re);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case ee:return H.key===fe?O(z,B,H,re):null;case se:return H.key===fe?G(z,B,H,re):null;case at:return fe=H._init,X(z,B,fe(H._payload),re)}if(vr(H)||pe(H))return fe!==null?null:J(z,B,H,re,null);Su(z,H)}return null}function le(z,B,H,re,fe){if(typeof re=="string"&&re!==""||typeof re=="number")return z=z.get(H)||null,k(B,z,""+re,fe);if(typeof re=="object"&&re!==null){switch(re.$$typeof){case ee:return z=z.get(re.key===null?H:re.key)||null,O(B,z,re,fe);case se:return z=z.get(re.key===null?H:re.key)||null,G(B,z,re,fe);case at:var ye=re._init;return le(z,B,H,ye(re._payload),fe)}if(vr(re)||pe(re))return z=z.get(H)||null,J(B,z,re,fe,null);Su(B,re)}return null}function he(z,B,H,re){for(var fe=null,ye=null,ve=B,xe=B=0,It=null;ve!==null&&xe<H.length;xe++){ve.index>xe?(It=ve,ve=null):It=ve.sibling;var Fe=X(z,ve,H[xe],re);if(Fe===null){ve===null&&(ve=It);break}r&&ve&&Fe.alternate===null&&s(z,ve),B=y(Fe,B,xe),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe,ve=It}if(xe===H.length)return l(z,ve),Xe&&ts(z,xe),fe;if(ve===null){for(;xe<H.length;xe++)ve=te(z,H[xe],re),ve!==null&&(B=y(ve,B,xe),ye===null?fe=ve:ye.sibling=ve,ye=ve);return Xe&&ts(z,xe),fe}for(ve=d(z,ve);xe<H.length;xe++)It=le(ve,z,xe,H[xe],re),It!==null&&(r&&It.alternate!==null&&ve.delete(It.key===null?xe:It.key),B=y(It,B,xe),ye===null?fe=It:ye.sibling=It,ye=It);return r&&ve.forEach(function(gi){return s(z,gi)}),Xe&&ts(z,xe),fe}function de(z,B,H,re){var fe=pe(H);if(typeof fe!="function")throw Error(n(150));if(H=fe.call(H),H==null)throw Error(n(151));for(var ye=fe=null,ve=B,xe=B=0,It=null,Fe=H.next();ve!==null&&!Fe.done;xe++,Fe=H.next()){ve.index>xe?(It=ve,ve=null):It=ve.sibling;var gi=X(z,ve,Fe.value,re);if(gi===null){ve===null&&(ve=It);break}r&&ve&&gi.alternate===null&&s(z,ve),B=y(gi,B,xe),ye===null?fe=gi:ye.sibling=gi,ye=gi,ve=It}if(Fe.done)return l(z,ve),Xe&&ts(z,xe),fe;if(ve===null){for(;!Fe.done;xe++,Fe=H.next())Fe=te(z,Fe.value,re),Fe!==null&&(B=y(Fe,B,xe),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe);return Xe&&ts(z,xe),fe}for(ve=d(z,ve);!Fe.done;xe++,Fe=H.next())Fe=le(ve,z,xe,Fe.value,re),Fe!==null&&(r&&Fe.alternate!==null&&ve.delete(Fe.key===null?xe:Fe.key),B=y(Fe,B,xe),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe);return r&&ve.forEach(function(CS){return s(z,CS)}),Xe&&ts(z,xe),fe}function ut(z,B,H,re){if(typeof H=="object"&&H!==null&&H.type===D&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case ee:e:{for(var fe=H.key,ye=B;ye!==null;){if(ye.key===fe){if(fe=H.type,fe===D){if(ye.tag===7){l(z,ye.sibling),B=m(ye,H.props.children),B.return=z,z=B;break e}}else if(ye.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===at&&xg(fe)===ye.type){l(z,ye.sibling),B=m(ye,H.props),B.ref=Va(z,ye,H),B.return=z,z=B;break e}l(z,ye);break}else s(z,ye);ye=ye.sibling}H.type===D?(B=us(H.props.children,z.mode,re,H.key),B.return=z,z=B):(re=Ku(H.type,H.key,H.props,null,z.mode,re),re.ref=Va(z,B,H),re.return=z,z=re)}return T(z);case se:e:{for(ye=H.key;B!==null;){if(B.key===ye)if(B.tag===4&&B.stateNode.containerInfo===H.containerInfo&&B.stateNode.implementation===H.implementation){l(z,B.sibling),B=m(B,H.children||[]),B.return=z,z=B;break e}else{l(z,B);break}else s(z,B);B=B.sibling}B=jd(H,z.mode,re),B.return=z,z=B}return T(z);case at:return ye=H._init,ut(z,B,ye(H._payload),re)}if(vr(H))return he(z,B,H,re);if(pe(H))return de(z,B,H,re);Su(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"?(H=""+H,B!==null&&B.tag===6?(l(z,B.sibling),B=m(B,H),B.return=z,z=B):(l(z,B),B=Fd(H,z.mode,re),B.return=z,z=B),T(z)):l(z,B)}return ut}var co=Sg(!0),Cg=Sg(!1),Cu=si(null),Au=null,ho=null,Kh=null;function Qh(){Kh=ho=Au=null}function Yh(r){var s=Cu.current;Qe(Cu),r._currentValue=s}function Xh(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function fo(r,s){Au=r,Kh=ho=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(nn=!0),r.firstContext=null)}function Sn(r){var s=r._currentValue;if(Kh!==r)if(r={context:r,memoizedValue:s,next:null},ho===null){if(Au===null)throw Error(n(308));ho=r,Au.dependencies={lanes:0,firstContext:r}}else ho=ho.next=r;return s}var ns=null;function Jh(r){ns===null?ns=[r]:ns.push(r)}function Ag(r,s,l,d){var m=s.interleaved;return m===null?(l.next=l,Jh(s)):(l.next=m.next,m.next=l),s.interleaved=l,br(r,d)}function br(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var li=!1;function Zh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ig(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Vr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function ui(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,Oe&2){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,br(r,l)}return m=d.interleaved,m===null?(s.next=s,Jh(d)):(s.next=m.next,m.next=s),d.interleaved=s,br(r,l)}function Iu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Jr(r,l)}}function Pg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=T:y=y.next=T,l=l.next}while(l!==null);y===null?m=y=s:y=y.next=s}else m=y=s;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Pu(r,s,l,d){var m=r.updateQueue;li=!1;var y=m.firstBaseUpdate,T=m.lastBaseUpdate,k=m.shared.pending;if(k!==null){m.shared.pending=null;var O=k,G=O.next;O.next=null,T===null?y=G:T.next=G,T=O;var J=r.alternate;J!==null&&(J=J.updateQueue,k=J.lastBaseUpdate,k!==T&&(k===null?J.firstBaseUpdate=G:k.next=G,J.lastBaseUpdate=O))}if(y!==null){var te=m.baseState;T=0,J=G=O=null,k=y;do{var X=k.lane,le=k.eventTime;if((d&X)===X){J!==null&&(J=J.next={eventTime:le,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});e:{var he=r,de=k;switch(X=s,le=l,de.tag){case 1:if(he=de.payload,typeof he=="function"){te=he.call(le,te,X);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,X=typeof he=="function"?he.call(le,te,X):he,X==null)break e;te=ae({},te,X);break e;case 2:li=!0}}k.callback!==null&&k.lane!==0&&(r.flags|=64,X=m.effects,X===null?m.effects=[k]:X.push(k))}else le={eventTime:le,lane:X,tag:k.tag,payload:k.payload,callback:k.callback,next:null},J===null?(G=J=le,O=te):J=J.next=le,T|=X;if(k=k.next,k===null){if(k=m.shared.pending,k===null)break;X=k,k=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);if(J===null&&(O=te),m.baseState=O,m.firstBaseUpdate=G,m.lastBaseUpdate=J,s=m.shared.interleaved,s!==null){m=s;do T|=m.lane,m=m.next;while(m!==s)}else y===null&&(m.shared.lanes=0);ss|=T,r.lanes=T,r.memoizedState=te}}function Rg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var Da={},ir=si(Da),Na=si(Da),Ma=si(Da);function rs(r){if(r===Da)throw Error(n(174));return r}function ed(r,s){switch(Ge(Ma,s),Ge(Na,r),Ge(ir,Da),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:gt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=gt(s,r)}Qe(ir),Ge(ir,s)}function po(){Qe(ir),Qe(Na),Qe(Ma)}function kg(r){rs(Ma.current);var s=rs(ir.current),l=gt(s,r.type);s!==l&&(Ge(Na,r),Ge(ir,l))}function td(r){Na.current===r&&(Qe(ir),Qe(Na))}var et=si(0);function Ru(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var nd=[];function rd(){for(var r=0;r<nd.length;r++)nd[r]._workInProgressVersionPrimary=null;nd.length=0}var ku=ie.ReactCurrentDispatcher,id=ie.ReactCurrentBatchConfig,is=0,tt=null,vt=null,Ct=null,bu=!1,La=!1,Oa=0,qx=0;function Ft(){throw Error(n(321))}function sd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Un(r[l],s[l]))return!1;return!0}function od(r,s,l,d,m,y){if(is=y,tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,ku.current=r===null||r.memoizedState===null?Xx:Jx,r=l(d,m),La){y=0;do{if(La=!1,Oa=0,25<=y)throw Error(n(301));y+=1,Ct=vt=null,s.updateQueue=null,ku.current=Zx,r=l(d,m)}while(La)}if(ku.current=Nu,s=vt!==null&&vt.next!==null,is=0,Ct=vt=tt=null,bu=!1,s)throw Error(n(300));return r}function ad(){var r=Oa!==0;return Oa=0,r}function sr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?tt.memoizedState=Ct=r:Ct=Ct.next=r,Ct}function Cn(){if(vt===null){var r=tt.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var s=Ct===null?tt.memoizedState:Ct.next;if(s!==null)Ct=s,vt=r;else{if(r===null)throw Error(n(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},Ct===null?tt.memoizedState=Ct=r:Ct=Ct.next=r}return Ct}function Fa(r,s){return typeof s=="function"?s(r):s}function ld(r){var s=Cn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=vt,m=d.baseQueue,y=l.pending;if(y!==null){if(m!==null){var T=m.next;m.next=y.next,y.next=T}d.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,d=d.baseState;var k=T=null,O=null,G=y;do{var J=G.lane;if((is&J)===J)O!==null&&(O=O.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),d=G.hasEagerState?G.eagerState:r(d,G.action);else{var te={lane:J,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};O===null?(k=O=te,T=d):O=O.next=te,tt.lanes|=J,ss|=J}G=G.next}while(G!==null&&G!==y);O===null?T=d:O.next=k,Un(d,s.memoizedState)||(nn=!0),s.memoizedState=d,s.baseState=T,s.baseQueue=O,l.lastRenderedState=d}if(r=l.interleaved,r!==null){m=r;do y=m.lane,tt.lanes|=y,ss|=y,m=m.next;while(m!==r)}else m===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function ud(r){var s=Cn(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=l.dispatch,m=l.pending,y=s.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do y=r(y,T.action),T=T.next;while(T!==m);Un(y,s.memoizedState)||(nn=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),l.lastRenderedState=y}return[y,d]}function bg(){}function Vg(r,s){var l=tt,d=Cn(),m=s(),y=!Un(d.memoizedState,m);if(y&&(d.memoizedState=m,nn=!0),d=d.queue,cd(Mg.bind(null,l,d,r),[r]),d.getSnapshot!==s||y||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,ja(9,Ng.bind(null,l,d,m,s),void 0,null),At===null)throw Error(n(349));is&30||Dg(l,s,m)}return m}function Dg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Ng(r,s,l,d){s.value=l,s.getSnapshot=d,Lg(s)&&Og(r)}function Mg(r,s,l){return l(function(){Lg(s)&&Og(r)})}function Lg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Un(r,l)}catch{return!0}}function Og(r){var s=br(r,1);s!==null&&Gn(s,r,1,-1)}function Fg(r){var s=sr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:r},s.queue=r,r=r.dispatch=Yx.bind(null,tt,r),[s.memoizedState,r]}function ja(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=tt.updateQueue,s===null?(s={lastEffect:null,stores:null},tt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function jg(){return Cn().memoizedState}function Vu(r,s,l,d){var m=sr();tt.flags|=r,m.memoizedState=ja(1|s,l,void 0,d===void 0?null:d)}function Du(r,s,l,d){var m=Cn();d=d===void 0?null:d;var y=void 0;if(vt!==null){var T=vt.memoizedState;if(y=T.destroy,d!==null&&sd(d,T.deps)){m.memoizedState=ja(s,l,y,d);return}}tt.flags|=r,m.memoizedState=ja(1|s,l,y,d)}function Bg(r,s){return Vu(8390656,8,r,s)}function cd(r,s){return Du(2048,8,r,s)}function Ug(r,s){return Du(4,2,r,s)}function $g(r,s){return Du(4,4,r,s)}function zg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function Hg(r,s,l){return l=l!=null?l.concat([r]):null,Du(4,4,zg.bind(null,s,r),l)}function hd(){}function Wg(r,s){var l=Cn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&sd(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function Gg(r,s){var l=Cn();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&sd(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function qg(r,s,l){return is&21?(Un(l,s)||(l=qi(),tt.lanes|=l,ss|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,nn=!0),r.memoizedState=l)}function Kx(r,s){var l=Ve;Ve=l!==0&&4>l?l:4,r(!0);var d=id.transition;id.transition={};try{r(!1),s()}finally{Ve=l,id.transition=d}}function Kg(){return Cn().memoizedState}function Qx(r,s,l){var d=fi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},Qg(r))Yg(s,l);else if(l=Ag(r,s,l,d),l!==null){var m=Qt();Gn(l,r,d,m),Xg(l,s,d)}}function Yx(r,s,l){var d=fi(r),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(Qg(r))Yg(s,m);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var T=s.lastRenderedState,k=y(T,l);if(m.hasEagerState=!0,m.eagerState=k,Un(k,T)){var O=s.interleaved;O===null?(m.next=m,Jh(s)):(m.next=O.next,O.next=m),s.interleaved=m;return}}catch{}finally{}l=Ag(r,s,m,d),l!==null&&(m=Qt(),Gn(l,r,d,m),Xg(l,s,d))}}function Qg(r){var s=r.alternate;return r===tt||s!==null&&s===tt}function Yg(r,s){La=bu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Xg(r,s,l){if(l&4194240){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,Jr(r,l)}}var Nu={readContext:Sn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},Xx={readContext:Sn,useCallback:function(r,s){return sr().memoizedState=[r,s===void 0?null:s],r},useContext:Sn,useEffect:Bg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Vu(4194308,4,zg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Vu(4194308,4,r,s)},useInsertionEffect:function(r,s){return Vu(4,2,r,s)},useMemo:function(r,s){var l=sr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=sr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=Qx.bind(null,tt,r),[d.memoizedState,r]},useRef:function(r){var s=sr();return r={current:r},s.memoizedState=r},useState:Fg,useDebugValue:hd,useDeferredValue:function(r){return sr().memoizedState=r},useTransition:function(){var r=Fg(!1),s=r[0];return r=Kx.bind(null,r[1]),sr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=tt,m=sr();if(Xe){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),At===null)throw Error(n(349));is&30||Dg(d,s,l)}m.memoizedState=l;var y={value:l,getSnapshot:s};return m.queue=y,Bg(Mg.bind(null,d,y,r),[r]),d.flags|=2048,ja(9,Ng.bind(null,d,y,l,s),void 0,null),l},useId:function(){var r=sr(),s=At.identifierPrefix;if(Xe){var l=kr,d=Rr;l=(d&~(1<<32-Gt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=Oa++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=qx++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},Jx={readContext:Sn,useCallback:Wg,useContext:Sn,useEffect:cd,useImperativeHandle:Hg,useInsertionEffect:Ug,useLayoutEffect:$g,useMemo:Gg,useReducer:ld,useRef:jg,useState:function(){return ld(Fa)},useDebugValue:hd,useDeferredValue:function(r){var s=Cn();return qg(s,vt.memoizedState,r)},useTransition:function(){var r=ld(Fa)[0],s=Cn().memoizedState;return[r,s]},useMutableSource:bg,useSyncExternalStore:Vg,useId:Kg,unstable_isNewReconciler:!1},Zx={readContext:Sn,useCallback:Wg,useContext:Sn,useEffect:cd,useImperativeHandle:Hg,useInsertionEffect:Ug,useLayoutEffect:$g,useMemo:Gg,useReducer:ud,useRef:jg,useState:function(){return ud(Fa)},useDebugValue:hd,useDeferredValue:function(r){var s=Cn();return vt===null?s.memoizedState=r:qg(s,vt.memoizedState,r)},useTransition:function(){var r=ud(Fa)[0],s=Cn().memoizedState;return[r,s]},useMutableSource:bg,useSyncExternalStore:Vg,useId:Kg,unstable_isNewReconciler:!1};function zn(r,s){if(r&&r.defaultProps){s=ae({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function dd(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:ae({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Mu={isMounted:function(r){return(r=r._reactInternals)?Nn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=Qt(),m=fi(r),y=Vr(d,m);y.payload=s,l!=null&&(y.callback=l),s=ui(r,y,m),s!==null&&(Gn(s,r,m,d),Iu(s,r,m))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=Qt(),m=fi(r),y=Vr(d,m);y.tag=1,y.payload=s,l!=null&&(y.callback=l),s=ui(r,y,m),s!==null&&(Gn(s,r,m,d),Iu(s,r,m))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Qt(),d=fi(r),m=Vr(l,d);m.tag=2,s!=null&&(m.callback=s),s=ui(r,m,d),s!==null&&(Gn(s,r,d,l),Iu(s,r,d))}};function Jg(r,s,l,d,m,y,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,y,T):s.prototype&&s.prototype.isPureReactComponent?!Ca(l,d)||!Ca(m,y):!0}function Zg(r,s,l){var d=!1,m=oi,y=s.contextType;return typeof y=="object"&&y!==null?y=Sn(y):(m=tn(s)?Zi:Ot.current,d=s.contextTypes,y=(d=d!=null)?oo(r,m):oi),s=new s(l,y),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Mu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=m,r.__reactInternalMemoizedMaskedChildContext=y),s}function ey(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Mu.enqueueReplaceState(s,s.state,null)}function fd(r,s,l,d){var m=r.stateNode;m.props=l,m.state=r.memoizedState,m.refs={},Zh(r);var y=s.contextType;typeof y=="object"&&y!==null?m.context=Sn(y):(y=tn(s)?Zi:Ot.current,m.context=oo(r,y)),m.state=r.memoizedState,y=s.getDerivedStateFromProps,typeof y=="function"&&(dd(r,s,y,l),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&Mu.enqueueReplaceState(m,m.state,null),Pu(r,l,m,d),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308)}function mo(r,s){try{var l="",d=s;do l+=Re(d),d=d.return;while(d);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:r,source:s,stack:m,digest:null}}function pd(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function md(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var eS=typeof WeakMap=="function"?WeakMap:Map;function ty(r,s,l){l=Vr(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){$u||($u=!0,kd=d),md(r,s)},l}function ny(r,s,l){l=Vr(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;l.payload=function(){return d(m)},l.callback=function(){md(r,s)}}var y=r.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){md(r,s),typeof d!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function ry(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new eS;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(l)||(m.add(l),r=pS.bind(null,r,s,l),s.then(r,r))}function iy(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function sy(r,s,l,d,m){return r.mode&1?(r.flags|=65536,r.lanes=m,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=Vr(-1,1),s.tag=2,ui(l,s,1))),l.lanes|=1),r)}var tS=ie.ReactCurrentOwner,nn=!1;function Kt(r,s,l,d){s.child=r===null?Cg(s,null,l,d):co(s,r.child,l,d)}function oy(r,s,l,d,m){l=l.render;var y=s.ref;return fo(s,m),d=od(r,s,l,d,y,m),l=ad(),r!==null&&!nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,Dr(r,s,m)):(Xe&&l&&zh(s),s.flags|=1,Kt(r,s,d,m),s.child)}function ay(r,s,l,d,m){if(r===null){var y=l.type;return typeof y=="function"&&!Od(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=y,ly(r,s,y,d,m)):(r=Ku(l.type,null,d,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!(r.lanes&m)){var T=y.memoizedProps;if(l=l.compare,l=l!==null?l:Ca,l(T,d)&&r.ref===s.ref)return Dr(r,s,m)}return s.flags|=1,r=mi(y,d),r.ref=s.ref,r.return=s,s.child=r}function ly(r,s,l,d,m){if(r!==null){var y=r.memoizedProps;if(Ca(y,d)&&r.ref===s.ref)if(nn=!1,s.pendingProps=d=y,(r.lanes&m)!==0)r.flags&131072&&(nn=!0);else return s.lanes=r.lanes,Dr(r,s,m)}return gd(r,s,l,d,m)}function uy(r,s,l){var d=s.pendingProps,m=d.children,y=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(yo,pn),pn|=l;else{if(!(l&1073741824))return r=y!==null?y.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ge(yo,pn),pn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=y!==null?y.baseLanes:l,Ge(yo,pn),pn|=d}else y!==null?(d=y.baseLanes|l,s.memoizedState=null):d=l,Ge(yo,pn),pn|=d;return Kt(r,s,m,l),s.child}function cy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function gd(r,s,l,d,m){var y=tn(l)?Zi:Ot.current;return y=oo(s,y),fo(s,m),l=od(r,s,l,d,y,m),d=ad(),r!==null&&!nn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,Dr(r,s,m)):(Xe&&d&&zh(s),s.flags|=1,Kt(r,s,l,m),s.child)}function hy(r,s,l,d,m){if(tn(l)){var y=!0;_u(s)}else y=!1;if(fo(s,m),s.stateNode===null)Ou(r,s),Zg(s,l,d),fd(s,l,d,m),d=!0;else if(r===null){var T=s.stateNode,k=s.memoizedProps;T.props=k;var O=T.context,G=l.contextType;typeof G=="object"&&G!==null?G=Sn(G):(G=tn(l)?Zi:Ot.current,G=oo(s,G));var J=l.getDerivedStateFromProps,te=typeof J=="function"||typeof T.getSnapshotBeforeUpdate=="function";te||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==d||O!==G)&&ey(s,T,d,G),li=!1;var X=s.memoizedState;T.state=X,Pu(s,d,T,m),O=s.memoizedState,k!==d||X!==O||en.current||li?(typeof J=="function"&&(dd(s,l,J,d),O=s.memoizedState),(k=li||Jg(s,l,k,d,X,O,G))?(te||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=O),T.props=d,T.state=O,T.context=G,d=k):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{T=s.stateNode,Ig(r,s),k=s.memoizedProps,G=s.type===s.elementType?k:zn(s.type,k),T.props=G,te=s.pendingProps,X=T.context,O=l.contextType,typeof O=="object"&&O!==null?O=Sn(O):(O=tn(l)?Zi:Ot.current,O=oo(s,O));var le=l.getDerivedStateFromProps;(J=typeof le=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(k!==te||X!==O)&&ey(s,T,d,O),li=!1,X=s.memoizedState,T.state=X,Pu(s,d,T,m);var he=s.memoizedState;k!==te||X!==he||en.current||li?(typeof le=="function"&&(dd(s,l,le,d),he=s.memoizedState),(G=li||Jg(s,l,G,d,X,he,O)||!1)?(J||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,he,O),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,he,O)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||k===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=he),T.props=d,T.state=he,T.context=O,d=G):(typeof T.componentDidUpdate!="function"||k===r.memoizedProps&&X===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||k===r.memoizedProps&&X===r.memoizedState||(s.flags|=1024),d=!1)}return yd(r,s,l,d,y,m)}function yd(r,s,l,d,m,y){cy(r,s);var T=(s.flags&128)!==0;if(!d&&!T)return m&&gg(s,l,!1),Dr(r,s,y);d=s.stateNode,tS.current=s;var k=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&T?(s.child=co(s,r.child,null,y),s.child=co(s,null,k,y)):Kt(r,s,k,y),s.memoizedState=d.state,m&&gg(s,l,!0),s.child}function dy(r){var s=r.stateNode;s.pendingContext?pg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&pg(r,s.context,!1),ed(r,s.containerInfo)}function fy(r,s,l,d,m){return uo(),qh(m),s.flags|=256,Kt(r,s,l,d),s.child}var vd={dehydrated:null,treeContext:null,retryLane:0};function _d(r){return{baseLanes:r,cachePool:null,transitions:null}}function py(r,s,l){var d=s.pendingProps,m=et.current,y=!1,T=(s.flags&128)!==0,k;if((k=T)||(k=r!==null&&r.memoizedState===null?!1:(m&2)!==0),k?(y=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(m|=1),Ge(et,m&1),r===null)return Gh(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(T=d.children,r=d.fallback,y?(d=s.mode,y=s.child,T={mode:"hidden",children:T},!(d&1)&&y!==null?(y.childLanes=0,y.pendingProps=T):y=Qu(T,d,0,null),r=us(r,d,l,null),y.return=s,r.return=s,y.sibling=r,s.child=y,s.child.memoizedState=_d(l),s.memoizedState=vd,r):wd(s,T));if(m=r.memoizedState,m!==null&&(k=m.dehydrated,k!==null))return nS(r,s,T,d,k,m,l);if(y){y=d.fallback,T=s.mode,m=r.child,k=m.sibling;var O={mode:"hidden",children:d.children};return!(T&1)&&s.child!==m?(d=s.child,d.childLanes=0,d.pendingProps=O,s.deletions=null):(d=mi(m,O),d.subtreeFlags=m.subtreeFlags&14680064),k!==null?y=mi(k,y):(y=us(y,T,l,null),y.flags|=2),y.return=s,d.return=s,d.sibling=y,s.child=d,d=y,y=s.child,T=r.child.memoizedState,T=T===null?_d(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},y.memoizedState=T,y.childLanes=r.childLanes&~l,s.memoizedState=vd,d}return y=r.child,r=y.sibling,d=mi(y,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function wd(r,s){return s=Qu({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Lu(r,s,l,d){return d!==null&&qh(d),co(s,r.child,null,l),r=wd(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function nS(r,s,l,d,m,y,T){if(l)return s.flags&256?(s.flags&=-257,d=pd(Error(n(422))),Lu(r,s,T,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(y=d.fallback,m=s.mode,d=Qu({mode:"visible",children:d.children},m,0,null),y=us(y,m,T,null),y.flags|=2,d.return=s,y.return=s,d.sibling=y,s.child=d,s.mode&1&&co(s,r.child,null,T),s.child.memoizedState=_d(T),s.memoizedState=vd,y);if(!(s.mode&1))return Lu(r,s,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var k=d.dgst;return d=k,y=Error(n(419)),d=pd(y,d,void 0),Lu(r,s,T,d)}if(k=(T&r.childLanes)!==0,nn||k){if(d=At,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|T)?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,br(r,m),Gn(d,r,m,-1))}return Ld(),d=pd(Error(n(421))),Lu(r,s,T,d)}return m.data==="$?"?(s.flags|=128,s.child=r.child,s=mS.bind(null,r),m._reactRetry=s,null):(r=y.treeContext,fn=ii(m.nextSibling),dn=s,Xe=!0,$n=null,r!==null&&(Tn[xn++]=Rr,Tn[xn++]=kr,Tn[xn++]=es,Rr=r.id,kr=r.overflow,es=s),s=wd(s,d.children),s.flags|=4096,s)}function my(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),Xh(r.return,s,l)}function Ed(r,s,l,d,m){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=d,y.tail=l,y.tailMode=m)}function gy(r,s,l){var d=s.pendingProps,m=d.revealOrder,y=d.tail;if(Kt(r,s,d.children,l),d=et.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&my(r,l,s);else if(r.tag===19)my(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Ge(et,d),!(s.mode&1))s.memoizedState=null;else switch(m){case"forwards":for(l=s.child,m=null;l!==null;)r=l.alternate,r!==null&&Ru(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Ed(s,!1,m,l,y);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&Ru(r)===null){s.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}Ed(s,!0,l,null,y);break;case"together":Ed(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ou(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Dr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ss|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=mi(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=mi(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function rS(r,s,l){switch(s.tag){case 3:dy(s),uo();break;case 5:kg(s);break;case 1:tn(s.type)&&_u(s);break;case 4:ed(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,m=s.memoizedProps.value;Ge(Cu,d._currentValue),d._currentValue=m;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Ge(et,et.current&1),s.flags|=128,null):l&s.child.childLanes?py(r,s,l):(Ge(et,et.current&1),r=Dr(r,s,l),r!==null?r.sibling:null);Ge(et,et.current&1);break;case 19:if(d=(l&s.childLanes)!==0,r.flags&128){if(d)return gy(r,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ge(et,et.current),d)break;return null;case 22:case 23:return s.lanes=0,uy(r,s,l)}return Dr(r,s,l)}var yy,Td,vy,_y;yy=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Td=function(){},vy=function(r,s,l,d){var m=r.memoizedProps;if(m!==d){r=s.stateNode,rs(ir.current);var y=null;switch(l){case"input":m=Li(r,m),d=Li(r,d),y=[];break;case"select":m=ae({},m,{value:void 0}),d=ae({},d,{value:void 0}),y=[];break;case"textarea":m=ea(r,m),d=ea(r,d),y=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=gu)}oa(l,d);var T;l=null;for(G in m)if(!d.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var k=m[G];for(T in k)k.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(o.hasOwnProperty(G)?y||(y=[]):(y=y||[]).push(G,null));for(G in d){var O=d[G];if(k=m!=null?m[G]:void 0,d.hasOwnProperty(G)&&O!==k&&(O!=null||k!=null))if(G==="style")if(k){for(T in k)!k.hasOwnProperty(T)||O&&O.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in O)O.hasOwnProperty(T)&&k[T]!==O[T]&&(l||(l={}),l[T]=O[T])}else l||(y||(y=[]),y.push(G,l)),l=O;else G==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,k=k?k.__html:void 0,O!=null&&k!==O&&(y=y||[]).push(G,O)):G==="children"?typeof O!="string"&&typeof O!="number"||(y=y||[]).push(G,""+O):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(o.hasOwnProperty(G)?(O!=null&&G==="onScroll"&&Ke("scroll",r),y||k===O||(y=[])):(y=y||[]).push(G,O))}l&&(y=y||[]).push("style",l);var G=y;(s.updateQueue=G)&&(s.flags|=4)}},_y=function(r,s,l,d){l!==d&&(s.flags|=4)};function Ba(r,s){if(!Xe)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function jt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function iS(r,s,l){var d=s.pendingProps;switch(Hh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(s),null;case 1:return tn(s.type)&&vu(),jt(s),null;case 3:return d=s.stateNode,po(),Qe(en),Qe(Ot),rd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(xu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,$n!==null&&(Dd($n),$n=null))),Td(r,s),jt(s),null;case 5:td(s);var m=rs(Ma.current);if(l=s.type,r!==null&&s.stateNode!=null)vy(r,s,l,d,m),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return jt(s),null}if(r=rs(ir.current),xu(s)){d=s.stateNode,l=s.type;var y=s.memoizedProps;switch(d[rr]=s,d[ka]=y,r=(s.mode&1)!==0,l){case"dialog":Ke("cancel",d),Ke("close",d);break;case"iframe":case"object":case"embed":Ke("load",d);break;case"video":case"audio":for(m=0;m<Ia.length;m++)Ke(Ia[m],d);break;case"source":Ke("error",d);break;case"img":case"image":case"link":Ke("error",d),Ke("load",d);break;case"details":Ke("toggle",d);break;case"input":Ps(d,y),Ke("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!y.multiple},Ke("invalid",d);break;case"textarea":ks(d,y),Ke("invalid",d)}oa(l,y),m=null;for(var T in y)if(y.hasOwnProperty(T)){var k=y[T];T==="children"?typeof k=="string"?d.textContent!==k&&(y.suppressHydrationWarning!==!0&&mu(d.textContent,k,r),m=["children",k]):typeof k=="number"&&d.textContent!==""+k&&(y.suppressHydrationWarning!==!0&&mu(d.textContent,k,r),m=["children",""+k]):o.hasOwnProperty(T)&&k!=null&&T==="onScroll"&&Ke("scroll",d)}switch(l){case"input":yr(d),Ul(d,y,!0);break;case"textarea":yr(d),ta(d);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(d.onclick=gu)}d=m,s.updateQueue=d,d!==null&&(s.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=mt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=T.createElement(l,{is:d.is}):(r=T.createElement(l),l==="select"&&(T=r,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):r=T.createElementNS(r,l),r[rr]=s,r[ka]=d,yy(r,s,!1,!1),s.stateNode=r;e:{switch(T=aa(l,d),l){case"dialog":Ke("cancel",r),Ke("close",r),m=d;break;case"iframe":case"object":case"embed":Ke("load",r),m=d;break;case"video":case"audio":for(m=0;m<Ia.length;m++)Ke(Ia[m],r);m=d;break;case"source":Ke("error",r),m=d;break;case"img":case"image":case"link":Ke("error",r),Ke("load",r),m=d;break;case"details":Ke("toggle",r),m=d;break;case"input":Ps(r,d),m=Li(r,d),Ke("invalid",r);break;case"option":m=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},m=ae({},d,{value:void 0}),Ke("invalid",r);break;case"textarea":ks(r,d),m=ea(r,d),Ke("invalid",r);break;default:m=d}oa(l,m),k=m;for(y in k)if(k.hasOwnProperty(y)){var O=k[y];y==="style"?ia(r,O):y==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&na(r,O)):y==="children"?typeof O=="string"?(l!=="textarea"||O!=="")&&qr(r,O):typeof O=="number"&&qr(r,""+O):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(o.hasOwnProperty(y)?O!=null&&y==="onScroll"&&Ke("scroll",r):O!=null&&W(r,y,O,T))}switch(l){case"input":yr(r),Ul(r,d,!1);break;case"textarea":yr(r),ta(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Be(d.value));break;case"select":r.multiple=!!d.multiple,y=d.value,y!=null?_r(r,!!d.multiple,y,!1):d.defaultValue!=null&&_r(r,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(r.onclick=gu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return jt(s),null;case 6:if(r&&s.stateNode!=null)_y(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(l=rs(Ma.current),rs(ir.current),xu(s)){if(d=s.stateNode,l=s.memoizedProps,d[rr]=s,(y=d.nodeValue!==l)&&(r=dn,r!==null))switch(r.tag){case 3:mu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&mu(d.nodeValue,l,(r.mode&1)!==0)}y&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[rr]=s,s.stateNode=d}return jt(s),null;case 13:if(Qe(et),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Xe&&fn!==null&&s.mode&1&&!(s.flags&128))Tg(),uo(),s.flags|=98560,y=!1;else if(y=xu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!y)throw Error(n(318));if(y=s.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[rr]=s}else uo(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;jt(s),y=!1}else $n!==null&&(Dd($n),$n=null),y=!0;if(!y)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||et.current&1?_t===0&&(_t=3):Ld())),s.updateQueue!==null&&(s.flags|=4),jt(s),null);case 4:return po(),Td(r,s),r===null&&Pa(s.stateNode.containerInfo),jt(s),null;case 10:return Yh(s.type._context),jt(s),null;case 17:return tn(s.type)&&vu(),jt(s),null;case 19:if(Qe(et),y=s.memoizedState,y===null)return jt(s),null;if(d=(s.flags&128)!==0,T=y.rendering,T===null)if(d)Ba(y,!1);else{if(_t!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(T=Ru(r),T!==null){for(s.flags|=128,Ba(y,!1),d=T.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)y=l,r=d,y.flags&=14680066,T=y.alternate,T===null?(y.childLanes=0,y.lanes=r,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=T.childLanes,y.lanes=T.lanes,y.child=T.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=T.memoizedProps,y.memoizedState=T.memoizedState,y.updateQueue=T.updateQueue,y.type=T.type,r=T.dependencies,y.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ge(et,et.current&1|2),s.child}r=r.sibling}y.tail!==null&&We()>vo&&(s.flags|=128,d=!0,Ba(y,!1),s.lanes=4194304)}else{if(!d)if(r=Ru(T),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ba(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!Xe)return jt(s),null}else 2*We()-y.renderingStartTime>vo&&l!==1073741824&&(s.flags|=128,d=!0,Ba(y,!1),s.lanes=4194304);y.isBackwards?(T.sibling=s.child,s.child=T):(l=y.last,l!==null?l.sibling=T:s.child=T,y.last=T)}return y.tail!==null?(s=y.tail,y.rendering=s,y.tail=s.sibling,y.renderingStartTime=We(),s.sibling=null,l=et.current,Ge(et,d?l&1|2:l&1),s):(jt(s),null);case 22:case 23:return Md(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?pn&1073741824&&(jt(s),s.subtreeFlags&6&&(s.flags|=8192)):jt(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function sS(r,s){switch(Hh(s),s.tag){case 1:return tn(s.type)&&vu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return po(),Qe(en),Qe(Ot),rd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return td(s),null;case 13:if(Qe(et),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));uo()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Qe(et),null;case 4:return po(),null;case 10:return Yh(s.type._context),null;case 22:case 23:return Md(),null;case 24:return null;default:return null}}var Fu=!1,Bt=!1,oS=typeof WeakSet=="function"?WeakSet:Set,ce=null;function go(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){st(r,s,d)}else l.current=null}function xd(r,s,l){try{l()}catch(d){st(r,s,d)}}var wy=!1;function aS(r,s){if(Mh=ti,r=Jm(),Ih(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,y=d.focusNode;d=d.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var T=0,k=-1,O=-1,G=0,J=0,te=r,X=null;t:for(;;){for(var le;te!==l||m!==0&&te.nodeType!==3||(k=T+m),te!==y||d!==0&&te.nodeType!==3||(O=T+d),te.nodeType===3&&(T+=te.nodeValue.length),(le=te.firstChild)!==null;)X=te,te=le;for(;;){if(te===r)break t;if(X===l&&++G===m&&(k=T),X===y&&++J===d&&(O=T),(le=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=le}l=k===-1||O===-1?null:{start:k,end:O}}else l=null}l=l||{start:0,end:0}}else l=null;for(Lh={focusedElem:r,selectionRange:l},ti=!1,ce=s;ce!==null;)if(s=ce,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,ce=r;else for(;ce!==null;){s=ce;try{var he=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,ut=he.memoizedState,z=s.stateNode,B=z.getSnapshotBeforeUpdate(s.elementType===s.type?de:zn(s.type,de),ut);z.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var H=s.stateNode.containerInfo;H.nodeType===1?H.textContent="":H.nodeType===9&&H.documentElement&&H.removeChild(H.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(re){st(s,s.return,re)}if(r=s.sibling,r!==null){r.return=s.return,ce=r;break}ce=s.return}return he=wy,wy=!1,he}function Ua(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&r)===r){var y=m.destroy;m.destroy=void 0,y!==void 0&&xd(s,l,y)}m=m.next}while(m!==d)}}function ju(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Sd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function Ey(r){var s=r.alternate;s!==null&&(r.alternate=null,Ey(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[rr],delete s[ka],delete s[Bh],delete s[zx],delete s[Hx])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ty(r){return r.tag===5||r.tag===3||r.tag===4}function xy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ty(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Cd(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=gu));else if(d!==4&&(r=r.child,r!==null))for(Cd(r,s,l),r=r.sibling;r!==null;)Cd(r,s,l),r=r.sibling}function Ad(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Ad(r,s,l),r=r.sibling;r!==null;)Ad(r,s,l),r=r.sibling}var bt=null,Hn=!1;function ci(r,s,l){for(l=l.child;l!==null;)Sy(r,s,l),l=l.sibling}function Sy(r,s,l){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Wi,l)}catch{}switch(l.tag){case 5:Bt||go(l,s);case 6:var d=bt,m=Hn;bt=null,ci(r,s,l),bt=d,Hn=m,bt!==null&&(Hn?(r=bt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):bt.removeChild(l.stateNode));break;case 18:bt!==null&&(Hn?(r=bt,l=l.stateNode,r.nodeType===8?jh(r.parentNode,l):r.nodeType===1&&jh(r,l),jn(r)):jh(bt,l.stateNode));break;case 4:d=bt,m=Hn,bt=l.stateNode.containerInfo,Hn=!0,ci(r,s,l),bt=d,Hn=m;break;case 0:case 11:case 14:case 15:if(!Bt&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var y=m,T=y.destroy;y=y.tag,T!==void 0&&(y&2||y&4)&&xd(l,s,T),m=m.next}while(m!==d)}ci(r,s,l);break;case 1:if(!Bt&&(go(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(k){st(l,s,k)}ci(r,s,l);break;case 21:ci(r,s,l);break;case 22:l.mode&1?(Bt=(d=Bt)||l.memoizedState!==null,ci(r,s,l),Bt=d):ci(r,s,l);break;default:ci(r,s,l)}}function Cy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new oS),s.forEach(function(d){var m=gS.bind(null,r,d);l.has(d)||(l.add(d),d.then(m,m))})}}function Wn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var y=r,T=s,k=T;e:for(;k!==null;){switch(k.tag){case 5:bt=k.stateNode,Hn=!1;break e;case 3:bt=k.stateNode.containerInfo,Hn=!0;break e;case 4:bt=k.stateNode.containerInfo,Hn=!0;break e}k=k.return}if(bt===null)throw Error(n(160));Sy(y,T,m),bt=null,Hn=!1;var O=m.alternate;O!==null&&(O.return=null),m.return=null}catch(G){st(m,s,G)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ay(s,r),s=s.sibling}function Ay(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Wn(s,r),or(r),d&4){try{Ua(3,r,r.return),ju(3,r)}catch(de){st(r,r.return,de)}try{Ua(5,r,r.return)}catch(de){st(r,r.return,de)}}break;case 1:Wn(s,r),or(r),d&512&&l!==null&&go(l,l.return);break;case 5:if(Wn(s,r),or(r),d&512&&l!==null&&go(l,l.return),r.flags&32){var m=r.stateNode;try{qr(m,"")}catch(de){st(r,r.return,de)}}if(d&4&&(m=r.stateNode,m!=null)){var y=r.memoizedProps,T=l!==null?l.memoizedProps:y,k=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{k==="input"&&y.type==="radio"&&y.name!=null&&Jo(m,y),aa(k,T);var G=aa(k,y);for(T=0;T<O.length;T+=2){var J=O[T],te=O[T+1];J==="style"?ia(m,te):J==="dangerouslySetInnerHTML"?na(m,te):J==="children"?qr(m,te):W(m,J,te,G)}switch(k){case"input":Zo(m,y);break;case"textarea":bs(m,y);break;case"select":var X=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var le=y.value;le!=null?_r(m,!!y.multiple,le,!1):X!==!!y.multiple&&(y.defaultValue!=null?_r(m,!!y.multiple,y.defaultValue,!0):_r(m,!!y.multiple,y.multiple?[]:"",!1))}m[ka]=y}catch(de){st(r,r.return,de)}}break;case 6:if(Wn(s,r),or(r),d&4){if(r.stateNode===null)throw Error(n(162));m=r.stateNode,y=r.memoizedProps;try{m.nodeValue=y}catch(de){st(r,r.return,de)}}break;case 3:if(Wn(s,r),or(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{jn(s.containerInfo)}catch(de){st(r,r.return,de)}break;case 4:Wn(s,r),or(r);break;case 13:Wn(s,r),or(r),m=r.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Rd=We())),d&4&&Cy(r);break;case 22:if(J=l!==null&&l.memoizedState!==null,r.mode&1?(Bt=(G=Bt)||J,Wn(s,r),Bt=G):Wn(s,r),or(r),d&8192){if(G=r.memoizedState!==null,(r.stateNode.isHidden=G)&&!J&&r.mode&1)for(ce=r,J=r.child;J!==null;){for(te=ce=J;ce!==null;){switch(X=ce,le=X.child,X.tag){case 0:case 11:case 14:case 15:Ua(4,X,X.return);break;case 1:go(X,X.return);var he=X.stateNode;if(typeof he.componentWillUnmount=="function"){d=X,l=X.return;try{s=d,he.props=s.memoizedProps,he.state=s.memoizedState,he.componentWillUnmount()}catch(de){st(d,l,de)}}break;case 5:go(X,X.return);break;case 22:if(X.memoizedState!==null){Ry(te);continue}}le!==null?(le.return=X,ce=le):Ry(te)}J=J.sibling}e:for(J=null,te=r;;){if(te.tag===5){if(J===null){J=te;try{m=te.stateNode,G?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(k=te.stateNode,O=te.memoizedProps.style,T=O!=null&&O.hasOwnProperty("display")?O.display:null,k.style.display=ra("display",T))}catch(de){st(r,r.return,de)}}}else if(te.tag===6){if(J===null)try{te.stateNode.nodeValue=G?"":te.memoizedProps}catch(de){st(r,r.return,de)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;J===te&&(J=null),te=te.return}J===te&&(J=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Wn(s,r),or(r),d&4&&Cy(r);break;case 21:break;default:Wn(s,r),or(r)}}function or(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Ty(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(qr(m,""),d.flags&=-33);var y=xy(r);Ad(r,y,m);break;case 3:case 4:var T=d.stateNode.containerInfo,k=xy(r);Cd(r,k,T);break;default:throw Error(n(161))}}catch(O){st(r,r.return,O)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function lS(r,s,l){ce=r,Iy(r)}function Iy(r,s,l){for(var d=(r.mode&1)!==0;ce!==null;){var m=ce,y=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||Fu;if(!T){var k=m.alternate,O=k!==null&&k.memoizedState!==null||Bt;k=Fu;var G=Bt;if(Fu=T,(Bt=O)&&!G)for(ce=m;ce!==null;)T=ce,O=T.child,T.tag===22&&T.memoizedState!==null?ky(m):O!==null?(O.return=T,ce=O):ky(m);for(;y!==null;)ce=y,Iy(y),y=y.sibling;ce=m,Fu=k,Bt=G}Py(r)}else m.subtreeFlags&8772&&y!==null?(y.return=m,ce=y):Py(r)}}function Py(r){for(;ce!==null;){var s=ce;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Bt||ju(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!Bt)if(l===null)d.componentDidMount();else{var m=s.elementType===s.type?l.memoizedProps:zn(s.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var y=s.updateQueue;y!==null&&Rg(s,y,d);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Rg(s,T,l)}break;case 5:var k=s.stateNode;if(l===null&&s.flags&4){l=k;var O=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&l.focus();break;case"img":O.src&&(l.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var G=s.alternate;if(G!==null){var J=G.memoizedState;if(J!==null){var te=J.dehydrated;te!==null&&jn(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Bt||s.flags&512&&Sd(s)}catch(X){st(s,s.return,X)}}if(s===r){ce=null;break}if(l=s.sibling,l!==null){l.return=s.return,ce=l;break}ce=s.return}}function Ry(r){for(;ce!==null;){var s=ce;if(s===r){ce=null;break}var l=s.sibling;if(l!==null){l.return=s.return,ce=l;break}ce=s.return}}function ky(r){for(;ce!==null;){var s=ce;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{ju(4,s)}catch(O){st(s,l,O)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var m=s.return;try{d.componentDidMount()}catch(O){st(s,m,O)}}var y=s.return;try{Sd(s)}catch(O){st(s,y,O)}break;case 5:var T=s.return;try{Sd(s)}catch(O){st(s,T,O)}}}catch(O){st(s,s.return,O)}if(s===r){ce=null;break}var k=s.sibling;if(k!==null){k.return=s.return,ce=k;break}ce=s.return}}var uS=Math.ceil,Bu=ie.ReactCurrentDispatcher,Id=ie.ReactCurrentOwner,An=ie.ReactCurrentBatchConfig,Oe=0,At=null,ft=null,Vt=0,pn=0,yo=si(0),_t=0,$a=null,ss=0,Uu=0,Pd=0,za=null,rn=null,Rd=0,vo=1/0,Nr=null,$u=!1,kd=null,hi=null,zu=!1,di=null,Hu=0,Ha=0,bd=null,Wu=-1,Gu=0;function Qt(){return Oe&6?We():Wu!==-1?Wu:Wu=We()}function fi(r){return r.mode&1?Oe&2&&Vt!==0?Vt&-Vt:Gx.transition!==null?(Gu===0&&(Gu=qi()),Gu):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:va(r.type)),r):1}function Gn(r,s,l,d){if(50<Ha)throw Ha=0,bd=null,Error(n(185));Xr(r,l,d),(!(Oe&2)||r!==At)&&(r===At&&(!(Oe&2)&&(Uu|=l),_t===4&&pi(r,Vt)),sn(r,d),l===1&&Oe===0&&!(s.mode&1)&&(vo=We()+500,wu&&ai()))}function sn(r,s){var l=r.callbackNode;Tr(r,s);var d=Gi(r,r===At?Vt:0);if(d===0)l!==null&&fa(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&fa(l),s===1)r.tag===0?Wx(Vy.bind(null,r)):yg(Vy.bind(null,r)),Ux(function(){!(Oe&6)&&ai()}),l=null;else{switch(Zr(d)){case 1:l=Hi;break;case 4:l=Kr;break;case 16:l=_n;break;case 536870912:l=Gl;break;default:l=_n}l=By(l,by.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function by(r,s){if(Wu=-1,Gu=0,Oe&6)throw Error(n(327));var l=r.callbackNode;if(_o()&&r.callbackNode!==l)return null;var d=Gi(r,r===At?Vt:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=qu(r,d);else{s=d;var m=Oe;Oe|=2;var y=Ny();(At!==r||Vt!==s)&&(Nr=null,vo=We()+500,as(r,s));do try{dS();break}catch(k){Dy(r,k)}while(!0);Qh(),Bu.current=y,Oe=m,ft!==null?s=0:(At=null,Vt=0,s=_t)}if(s!==0){if(s===2&&(m=un(r),m!==0&&(d=m,s=Vd(r,m))),s===1)throw l=$a,as(r,0),pi(r,d),sn(r,We()),l;if(s===6)pi(r,d);else{if(m=r.current.alternate,!(d&30)&&!cS(m)&&(s=qu(r,d),s===2&&(y=un(r),y!==0&&(d=y,s=Vd(r,y))),s===1))throw l=$a,as(r,0),pi(r,d),sn(r,We()),l;switch(r.finishedWork=m,r.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:ls(r,rn,Nr);break;case 3:if(pi(r,d),(d&130023424)===d&&(s=Rd+500-We(),10<s)){if(Gi(r,0)!==0)break;if(m=r.suspendedLanes,(m&d)!==d){Qt(),r.pingedLanes|=r.suspendedLanes&m;break}r.timeoutHandle=Fh(ls.bind(null,r,rn,Nr),s);break}ls(r,rn,Nr);break;case 4:if(pi(r,d),(d&4194240)===d)break;for(s=r.eventTimes,m=-1;0<d;){var T=31-Gt(d);y=1<<T,T=s[T],T>m&&(m=T),d&=~y}if(d=m,d=We()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*uS(d/1960))-d,10<d){r.timeoutHandle=Fh(ls.bind(null,r,rn,Nr),d);break}ls(r,rn,Nr);break;case 5:ls(r,rn,Nr);break;default:throw Error(n(329))}}}return sn(r,We()),r.callbackNode===l?by.bind(null,r):null}function Vd(r,s){var l=za;return r.current.memoizedState.isDehydrated&&(as(r,s).flags|=256),r=qu(r,s),r!==2&&(s=rn,rn=l,s!==null&&Dd(s)),r}function Dd(r){rn===null?rn=r:rn.push.apply(rn,r)}function cS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],y=m.getSnapshot;m=m.value;try{if(!Un(y(),m))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function pi(r,s){for(s&=~Pd,s&=~Uu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Gt(s),d=1<<l;r[l]=-1,s&=~d}}function Vy(r){if(Oe&6)throw Error(n(327));_o();var s=Gi(r,0);if(!(s&1))return sn(r,We()),null;var l=qu(r,s);if(r.tag!==0&&l===2){var d=un(r);d!==0&&(s=d,l=Vd(r,d))}if(l===1)throw l=$a,as(r,0),pi(r,s),sn(r,We()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ls(r,rn,Nr),sn(r,We()),null}function Nd(r,s){var l=Oe;Oe|=1;try{return r(s)}finally{Oe=l,Oe===0&&(vo=We()+500,wu&&ai())}}function os(r){di!==null&&di.tag===0&&!(Oe&6)&&_o();var s=Oe;Oe|=1;var l=An.transition,d=Ve;try{if(An.transition=null,Ve=1,r)return r()}finally{Ve=d,An.transition=l,Oe=s,!(Oe&6)&&ai()}}function Md(){pn=yo.current,Qe(yo)}function as(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,Bx(l)),ft!==null)for(l=ft.return;l!==null;){var d=l;switch(Hh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&vu();break;case 3:po(),Qe(en),Qe(Ot),rd();break;case 5:td(d);break;case 4:po();break;case 13:Qe(et);break;case 19:Qe(et);break;case 10:Yh(d.type._context);break;case 22:case 23:Md()}l=l.return}if(At=r,ft=r=mi(r.current,null),Vt=pn=s,_t=0,$a=null,Pd=Uu=ss=0,rn=za=null,ns!==null){for(s=0;s<ns.length;s++)if(l=ns[s],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,y=l.pending;if(y!==null){var T=y.next;y.next=m,d.next=T}l.pending=d}ns=null}return r}function Dy(r,s){do{var l=ft;try{if(Qh(),ku.current=Nu,bu){for(var d=tt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}bu=!1}if(is=0,Ct=vt=tt=null,La=!1,Oa=0,Id.current=null,l===null||l.return===null){_t=1,$a=s,ft=null;break}e:{var y=r,T=l.return,k=l,O=s;if(s=Vt,k.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var G=O,J=k,te=J.tag;if(!(J.mode&1)&&(te===0||te===11||te===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var le=iy(T);if(le!==null){le.flags&=-257,sy(le,T,k,y,s),le.mode&1&&ry(y,G,s),s=le,O=G;var he=s.updateQueue;if(he===null){var de=new Set;de.add(O),s.updateQueue=de}else he.add(O);break e}else{if(!(s&1)){ry(y,G,s),Ld();break e}O=Error(n(426))}}else if(Xe&&k.mode&1){var ut=iy(T);if(ut!==null){!(ut.flags&65536)&&(ut.flags|=256),sy(ut,T,k,y,s),qh(mo(O,k));break e}}y=O=mo(O,k),_t!==4&&(_t=2),za===null?za=[y]:za.push(y),y=T;do{switch(y.tag){case 3:y.flags|=65536,s&=-s,y.lanes|=s;var z=ty(y,O,s);Pg(y,z);break e;case 1:k=O;var B=y.type,H=y.stateNode;if(!(y.flags&128)&&(typeof B.getDerivedStateFromError=="function"||H!==null&&typeof H.componentDidCatch=="function"&&(hi===null||!hi.has(H)))){y.flags|=65536,s&=-s,y.lanes|=s;var re=ny(y,k,s);Pg(y,re);break e}}y=y.return}while(y!==null)}Ly(l)}catch(fe){s=fe,ft===l&&l!==null&&(ft=l=l.return);continue}break}while(!0)}function Ny(){var r=Bu.current;return Bu.current=Nu,r===null?Nu:r}function Ld(){(_t===0||_t===3||_t===2)&&(_t=4),At===null||!(ss&268435455)&&!(Uu&268435455)||pi(At,Vt)}function qu(r,s){var l=Oe;Oe|=2;var d=Ny();(At!==r||Vt!==s)&&(Nr=null,as(r,s));do try{hS();break}catch(m){Dy(r,m)}while(!0);if(Qh(),Oe=l,Bu.current=d,ft!==null)throw Error(n(261));return At=null,Vt=0,_t}function hS(){for(;ft!==null;)My(ft)}function dS(){for(;ft!==null&&!Hl();)My(ft)}function My(r){var s=jy(r.alternate,r,pn);r.memoizedProps=r.pendingProps,s===null?Ly(r):ft=s,Id.current=null}function Ly(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=sS(l,s),l!==null){l.flags&=32767,ft=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{_t=6,ft=null;return}}else if(l=iS(l,s,pn),l!==null){ft=l;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=r}while(s!==null);_t===0&&(_t=5)}function ls(r,s,l){var d=Ve,m=An.transition;try{An.transition=null,Ve=1,fS(r,s,l,d)}finally{An.transition=m,Ve=d}return null}function fS(r,s,l,d){do _o();while(di!==null);if(Oe&6)throw Error(n(327));l=r.finishedWork;var m=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var y=l.lanes|l.childLanes;if(ze(r,y),r===At&&(ft=At=null,Vt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||zu||(zu=!0,By(_n,function(){return _o(),null})),y=(l.flags&15990)!==0,l.subtreeFlags&15990||y){y=An.transition,An.transition=null;var T=Ve;Ve=1;var k=Oe;Oe|=4,Id.current=null,aS(r,l),Ay(l,r),Dx(Lh),ti=!!Mh,Lh=Mh=null,r.current=l,lS(l),_h(),Oe=k,Ve=T,An.transition=y}else r.current=l;if(zu&&(zu=!1,di=r,Hu=m),y=r.pendingLanes,y===0&&(hi=null),ql(l.stateNode),sn(r,We()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)m=s[l],d(m.value,{componentStack:m.stack,digest:m.digest});if($u)throw $u=!1,r=kd,kd=null,r;return Hu&1&&r.tag!==0&&_o(),y=r.pendingLanes,y&1?r===bd?Ha++:(Ha=0,bd=r):Ha=0,ai(),null}function _o(){if(di!==null){var r=Zr(Hu),s=An.transition,l=Ve;try{if(An.transition=null,Ve=16>r?16:r,di===null)var d=!1;else{if(r=di,di=null,Hu=0,Oe&6)throw Error(n(331));var m=Oe;for(Oe|=4,ce=r.current;ce!==null;){var y=ce,T=y.child;if(ce.flags&16){var k=y.deletions;if(k!==null){for(var O=0;O<k.length;O++){var G=k[O];for(ce=G;ce!==null;){var J=ce;switch(J.tag){case 0:case 11:case 15:Ua(8,J,y)}var te=J.child;if(te!==null)te.return=J,ce=te;else for(;ce!==null;){J=ce;var X=J.sibling,le=J.return;if(Ey(J),J===G){ce=null;break}if(X!==null){X.return=le,ce=X;break}ce=le}}}var he=y.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var ut=de.sibling;de.sibling=null,de=ut}while(de!==null)}}ce=y}}if(y.subtreeFlags&2064&&T!==null)T.return=y,ce=T;else e:for(;ce!==null;){if(y=ce,y.flags&2048)switch(y.tag){case 0:case 11:case 15:Ua(9,y,y.return)}var z=y.sibling;if(z!==null){z.return=y.return,ce=z;break e}ce=y.return}}var B=r.current;for(ce=B;ce!==null;){T=ce;var H=T.child;if(T.subtreeFlags&2064&&H!==null)H.return=T,ce=H;else e:for(T=B;ce!==null;){if(k=ce,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:ju(9,k)}}catch(fe){st(k,k.return,fe)}if(k===T){ce=null;break e}var re=k.sibling;if(re!==null){re.return=k.return,ce=re;break e}ce=k.return}}if(Oe=m,ai(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Wi,r)}catch{}d=!0}return d}finally{Ve=l,An.transition=s}}return!1}function Oy(r,s,l){s=mo(l,s),s=ty(r,s,1),r=ui(r,s,1),s=Qt(),r!==null&&(Xr(r,1,s),sn(r,s))}function st(r,s,l){if(r.tag===3)Oy(r,r,l);else for(;s!==null;){if(s.tag===3){Oy(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(hi===null||!hi.has(d))){r=mo(l,r),r=ny(s,r,1),s=ui(s,r,1),r=Qt(),s!==null&&(Xr(s,1,r),sn(s,r));break}}s=s.return}}function pS(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=Qt(),r.pingedLanes|=r.suspendedLanes&l,At===r&&(Vt&l)===l&&(_t===4||_t===3&&(Vt&130023424)===Vt&&500>We()-Rd?as(r,0):Pd|=l),sn(r,s)}function Fy(r,s){s===0&&(r.mode&1?(s=Us,Us<<=1,!(Us&130023424)&&(Us=4194304)):s=1);var l=Qt();r=br(r,s),r!==null&&(Xr(r,s,l),sn(r,l))}function mS(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Fy(r,l)}function gS(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),Fy(r,l)}var jy;jy=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||en.current)nn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return nn=!1,rS(r,s,l);nn=!!(r.flags&131072)}else nn=!1,Xe&&s.flags&1048576&&vg(s,Tu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;Ou(r,s),r=s.pendingProps;var m=oo(s,Ot.current);fo(s,l),m=od(null,s,d,r,m,l);var y=ad();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,tn(d)?(y=!0,_u(s)):y=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Zh(s),m.updater=Mu,s.stateNode=m,m._reactInternals=s,fd(s,d,r,l),s=yd(null,s,d,!0,y,l)):(s.tag=0,Xe&&y&&zh(s),Kt(null,s,m,l),s=s.child),s;case 16:d=s.elementType;e:{switch(Ou(r,s),r=s.pendingProps,m=d._init,d=m(d._payload),s.type=d,m=s.tag=vS(d),r=zn(d,r),m){case 0:s=gd(null,s,d,r,l);break e;case 1:s=hy(null,s,d,r,l);break e;case 11:s=oy(null,s,d,r,l);break e;case 14:s=ay(null,s,d,zn(d.type,r),l);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:zn(d,m),gd(r,s,d,m,l);case 1:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:zn(d,m),hy(r,s,d,m,l);case 3:e:{if(dy(s),r===null)throw Error(n(387));d=s.pendingProps,y=s.memoizedState,m=y.element,Ig(r,s),Pu(s,d,null,l);var T=s.memoizedState;if(d=T.element,y.isDehydrated)if(y={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){m=mo(Error(n(423)),s),s=fy(r,s,d,l,m);break e}else if(d!==m){m=mo(Error(n(424)),s),s=fy(r,s,d,l,m);break e}else for(fn=ii(s.stateNode.containerInfo.firstChild),dn=s,Xe=!0,$n=null,l=Cg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(uo(),d===m){s=Dr(r,s,l);break e}Kt(r,s,d,l)}s=s.child}return s;case 5:return kg(s),r===null&&Gh(s),d=s.type,m=s.pendingProps,y=r!==null?r.memoizedProps:null,T=m.children,Oh(d,m)?T=null:y!==null&&Oh(d,y)&&(s.flags|=32),cy(r,s),Kt(r,s,T,l),s.child;case 6:return r===null&&Gh(s),null;case 13:return py(r,s,l);case 4:return ed(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=co(s,null,d,l):Kt(r,s,d,l),s.child;case 11:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:zn(d,m),oy(r,s,d,m,l);case 7:return Kt(r,s,s.pendingProps,l),s.child;case 8:return Kt(r,s,s.pendingProps.children,l),s.child;case 12:return Kt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,m=s.pendingProps,y=s.memoizedProps,T=m.value,Ge(Cu,d._currentValue),d._currentValue=T,y!==null)if(Un(y.value,T)){if(y.children===m.children&&!en.current){s=Dr(r,s,l);break e}}else for(y=s.child,y!==null&&(y.return=s);y!==null;){var k=y.dependencies;if(k!==null){T=y.child;for(var O=k.firstContext;O!==null;){if(O.context===d){if(y.tag===1){O=Vr(-1,l&-l),O.tag=2;var G=y.updateQueue;if(G!==null){G=G.shared;var J=G.pending;J===null?O.next=O:(O.next=J.next,J.next=O),G.pending=O}}y.lanes|=l,O=y.alternate,O!==null&&(O.lanes|=l),Xh(y.return,l,s),k.lanes|=l;break}O=O.next}}else if(y.tag===10)T=y.type===s.type?null:y.child;else if(y.tag===18){if(T=y.return,T===null)throw Error(n(341));T.lanes|=l,k=T.alternate,k!==null&&(k.lanes|=l),Xh(T,l,s),T=y.sibling}else T=y.child;if(T!==null)T.return=y;else for(T=y;T!==null;){if(T===s){T=null;break}if(y=T.sibling,y!==null){y.return=T.return,T=y;break}T=T.return}y=T}Kt(r,s,m.children,l),s=s.child}return s;case 9:return m=s.type,d=s.pendingProps.children,fo(s,l),m=Sn(m),d=d(m),s.flags|=1,Kt(r,s,d,l),s.child;case 14:return d=s.type,m=zn(d,s.pendingProps),m=zn(d.type,m),ay(r,s,d,m,l);case 15:return ly(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:zn(d,m),Ou(r,s),s.tag=1,tn(d)?(r=!0,_u(s)):r=!1,fo(s,l),Zg(s,d,m),fd(s,d,m,l),yd(null,s,d,!0,r,l);case 19:return gy(r,s,l);case 22:return uy(r,s,l)}throw Error(n(156,s.tag))};function By(r,s){return js(r,s)}function yS(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(r,s,l,d){return new yS(r,s,l,d)}function Od(r){return r=r.prototype,!(!r||!r.isReactComponent)}function vS(r){if(typeof r=="function")return Od(r)?1:0;if(r!=null){if(r=r.$$typeof,r===F)return 11;if(r===Ze)return 14}return 2}function mi(r,s){var l=r.alternate;return l===null?(l=In(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Ku(r,s,l,d,m,y){var T=2;if(d=r,typeof r=="function")Od(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case D:return us(l.children,m,y,s);case C:T=8,m|=8;break;case P:return r=In(12,l,s,m|2),r.elementType=P,r.lanes=y,r;case A:return r=In(13,l,s,m),r.elementType=A,r.lanes=y,r;case Ae:return r=In(19,l,s,m),r.elementType=Ae,r.lanes=y,r;case Te:return Qu(l,m,y,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:T=10;break e;case M:T=9;break e;case F:T=11;break e;case Ze:T=14;break e;case at:T=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=In(T,l,s,m),s.elementType=r,s.type=d,s.lanes=y,s}function us(r,s,l,d){return r=In(7,r,d,s),r.lanes=l,r}function Qu(r,s,l,d){return r=In(22,r,d,s),r.elementType=Te,r.lanes=l,r.stateNode={isHidden:!1},r}function Fd(r,s,l){return r=In(6,r,null,s),r.lanes=l,r}function jd(r,s,l){return s=In(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function _S(r,s,l,d,m){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yr(0),this.expirationTimes=Yr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Bd(r,s,l,d,m,y,T,k,O){return r=new _S(r,s,l,k,O),s===1?(s=1,y===!0&&(s|=8)):s=0,y=In(3,null,null,s),r.current=y,y.stateNode=r,y.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zh(y),r}function wS(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:se,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function Uy(r){if(!r)return oi;r=r._reactInternals;e:{if(Nn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(tn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(tn(l))return mg(r,l,s)}return s}function $y(r,s,l,d,m,y,T,k,O){return r=Bd(l,d,!0,r,m,y,T,k,O),r.context=Uy(null),l=r.current,d=Qt(),m=fi(l),y=Vr(d,m),y.callback=s??null,ui(l,y,m),r.current.lanes=m,Xr(r,m,d),sn(r,d),r}function Yu(r,s,l,d){var m=s.current,y=Qt(),T=fi(m);return l=Uy(l),s.context===null?s.context=l:s.pendingContext=l,s=Vr(y,T),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=ui(m,s,T),r!==null&&(Gn(r,m,T,y),Iu(r,m,T)),T}function Xu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function zy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Ud(r,s){zy(r,s),(r=r.alternate)&&zy(r,s)}function ES(){return null}var Hy=typeof reportError=="function"?reportError:function(r){console.error(r)};function $d(r){this._internalRoot=r}Ju.prototype.render=$d.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));Yu(r,s,null,null)},Ju.prototype.unmount=$d.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;os(function(){Yu(null,r,null,null)}),s[Ir]=null}};function Ju(r){this._internalRoot=r}Ju.prototype.unstable_scheduleHydration=function(r){if(r){var s=Jl();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Zn.length&&s!==0&&s<Zn[l].priority;l++);Zn.splice(l,0,r),l===0&&tu(r)}};function zd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Zu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Wy(){}function TS(r,s,l,d,m){if(m){if(typeof d=="function"){var y=d;d=function(){var G=Xu(T);y.call(G)}}var T=$y(s,d,r,0,null,!1,!1,"",Wy);return r._reactRootContainer=T,r[Ir]=T.current,Pa(r.nodeType===8?r.parentNode:r),os(),T}for(;m=r.lastChild;)r.removeChild(m);if(typeof d=="function"){var k=d;d=function(){var G=Xu(O);k.call(G)}}var O=Bd(r,0,!1,null,null,!1,!1,"",Wy);return r._reactRootContainer=O,r[Ir]=O.current,Pa(r.nodeType===8?r.parentNode:r),os(function(){Yu(s,O,l,d)}),O}function ec(r,s,l,d,m){var y=l._reactRootContainer;if(y){var T=y;if(typeof m=="function"){var k=m;m=function(){var O=Xu(T);k.call(O)}}Yu(s,T,r,m)}else T=TS(l,s,r,m,d);return Xu(T)}Yl=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=Qr(s.pendingLanes);l!==0&&(Jr(s,l|1),sn(s,We()),!(Oe&6)&&(vo=We()+500,ai()))}break;case 13:os(function(){var d=br(r,1);if(d!==null){var m=Qt();Gn(d,r,1,m)}}),Ud(r,1)}},$s=function(r){if(r.tag===13){var s=br(r,134217728);if(s!==null){var l=Qt();Gn(s,r,134217728,l)}Ud(r,134217728)}},Xl=function(r){if(r.tag===13){var s=fi(r),l=br(r,s);if(l!==null){var d=Qt();Gn(l,r,s,d)}Ud(r,s)}},Jl=function(){return Ve},Zl=function(r,s){var l=Ve;try{return Ve=r,s()}finally{Ve=l}},Ds=function(r,s,l){switch(s){case"input":if(Zo(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var m=yu(d);if(!m)throw Error(n(90));Is(d),Zo(d,m)}}}break;case"textarea":bs(r,l);break;case"select":s=l.value,s!=null&&_r(r,!!l.multiple,s,!1)}},Bi=Nd,ua=os;var xS={usingClientEntryPoint:!1,Events:[ba,io,yu,Xn,la,Nd]},Wa={findFiberByHostInstance:Ji,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},SS={bundleType:Wa.bundleType,version:Wa.version,rendererPackageName:Wa.rendererPackageName,rendererConfig:Wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ie.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=da(r),r===null?null:r.stateNode},findFiberByHostInstance:Wa.findFiberByHostInstance||ES,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tc.isDisabled&&tc.supportsFiber)try{Wi=tc.inject(SS),ln=tc}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xS,on.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zd(s))throw Error(n(200));return wS(r,s,null,l)},on.createRoot=function(r,s){if(!zd(r))throw Error(n(299));var l=!1,d="",m=Hy;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Bd(r,1,!1,null,null,l,!1,d,m),r[Ir]=s.current,Pa(r.nodeType===8?r.parentNode:r),new $d(s)},on.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=da(s),r=r===null?null:r.stateNode,r},on.flushSync=function(r){return os(r)},on.hydrate=function(r,s,l){if(!Zu(s))throw Error(n(200));return ec(null,r,s,!0,l)},on.hydrateRoot=function(r,s,l){if(!zd(r))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,m=!1,y="",T=Hy;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=$y(s,null,r,1,l??null,m,!1,y,T),r[Ir]=s.current,Pa(r),d)for(r=0;r<d.length;r++)l=d[r],m=l._getVersion,m=m(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,m]:s.mutableSourceEagerHydrationData.push(l,m);return new Ju(s)},on.render=function(r,s,l){if(!Zu(s))throw Error(n(200));return ec(null,r,s,!1,l)},on.unmountComponentAtNode=function(r){if(!Zu(r))throw Error(n(40));return r._reactRootContainer?(os(function(){ec(null,null,r,!1,function(){r._reactRootContainer=null,r[Ir]=null})}),!0):!1},on.unstable_batchedUpdates=Nd,on.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!Zu(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return ec(r,s,l,!1,d)},on.version="18.3.1-next-f1338f8080-20240426",on}var Zy;function L_(){if(Zy)return Gd.exports;Zy=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Gd.exports=bS(),Gd.exports}var ev;function VS(){if(ev)return nc;ev=1;var t=L_();return nc.createRoot=t.createRoot,nc.hydrateRoot=t.hydrateRoot,nc}var DS=VS();const NS=dp(DS);var qa={},tv;function MS(){if(tv)return qa;tv=1,Object.defineProperty(qa,"__esModule",{value:!0}),qa.parse=u,qa.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,S){const I=new a,L=E.length;if(L<2)return I;const V=(S==null?void 0:S.decode)||v;let j=0;do{const q=E.indexOf("=",j);if(q===-1)break;const W=E.indexOf(";",j),ie=W===-1?L:W;if(q>ie){j=E.lastIndexOf(";",q-1)+1;continue}const ee=h(E,j,q),se=f(E,q,ee),D=E.slice(ee,se);if(I[D]===void 0){let C=h(E,q+1,ie),P=f(E,ie,C);const N=V(E.slice(C,P));I[D]=N}j=ie+1}while(j<L);return I}function h(E,S,I){do{const L=E.charCodeAt(S);if(L!==32&&L!==9)return S}while(++S<I);return I}function f(E,S,I){for(;S>I;){const L=E.charCodeAt(--S);if(L!==32&&L!==9)return S+1}return I}function p(E,S,I){const L=(I==null?void 0:I.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const V=L(S);if(!e.test(V))throw new TypeError(`argument val is invalid: ${S}`);let j=E+"="+V;if(!I)return j;if(I.maxAge!==void 0){if(!Number.isInteger(I.maxAge))throw new TypeError(`option maxAge is invalid: ${I.maxAge}`);j+="; Max-Age="+I.maxAge}if(I.domain){if(!n.test(I.domain))throw new TypeError(`option domain is invalid: ${I.domain}`);j+="; Domain="+I.domain}if(I.path){if(!i.test(I.path))throw new TypeError(`option path is invalid: ${I.path}`);j+="; Path="+I.path}if(I.expires){if(!w(I.expires)||!Number.isFinite(I.expires.valueOf()))throw new TypeError(`option expires is invalid: ${I.expires}`);j+="; Expires="+I.expires.toUTCString()}if(I.httpOnly&&(j+="; HttpOnly"),I.secure&&(j+="; Secure"),I.partitioned&&(j+="; Partitioned"),I.priority)switch(typeof I.priority=="string"?I.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${I.priority}`)}if(I.sameSite)switch(typeof I.sameSite=="string"?I.sameSite.toLowerCase():I.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${I.sameSite}`)}return j}function v(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function w(E){return o.call(E)==="[object Date]"}return qa}MS();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nv="popstate";function LS(t={}){function e(i,o){let{pathname:a,search:u,hash:h}=i.location;return _f("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:dl(o)}return FS(e,n,null,t)}function rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function OS(){return Math.random().toString(36).substring(2,10)}function rv(t,e){return{usr:t.state,key:t.key,idx:e}}function _f(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?zo(e):e,state:n,key:e&&e.key||i||OS()}}function dl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function zo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function FS(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,h="POP",f=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function w(){h="POP";let V=v(),j=V==null?null:V-p;p=V,f&&f({action:h,location:L.location,delta:j})}function E(V,j){h="PUSH";let q=_f(L.location,V,j);p=v()+1;let W=rv(q,p),ie=L.createHref(q);try{u.pushState(W,"",ie)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;o.location.assign(ie)}a&&f&&f({action:h,location:L.location,delta:1})}function S(V,j){h="REPLACE";let q=_f(L.location,V,j);p=v();let W=rv(q,p),ie=L.createHref(q);u.replaceState(W,"",ie),a&&f&&f({action:h,location:L.location,delta:0})}function I(V){let j=o.location.origin!=="null"?o.location.origin:o.location.href,q=typeof V=="string"?V:dl(V);return q=q.replace(/ $/,"%20"),rt(j,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,j)}let L={get action(){return h},get location(){return t(o,u)},listen(V){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(nv,w),f=V,()=>{o.removeEventListener(nv,w),f=null}},createHref(V){return e(o,V)},createURL:I,encodeLocation(V){let j=I(V);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:E,replace:S,go(V){return u.go(V)}};return L}function O_(t,e,n="/"){return jS(t,e,n,!1)}function jS(t,e,n,i){let o=typeof e=="string"?zo(e):e,a=Si(o.pathname||"/",n);if(a==null)return null;let u=F_(t);BS(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=XS(a);h=QS(u[f],p,i)}return h}function F_(t,e=[],n=[],i=""){let o=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(rt(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=Mr([i,f.relativePath]),v=n.concat(f);a.children&&a.children.length>0&&(rt(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),F_(a.children,e,v,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:qS(p,a.index),routesMeta:v})};return t.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let f of j_(a.path))o(a,u,f)}),e}function j_(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=j_(i.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function BS(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:KS(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var US=/^:[\w-]+$/,$S=3,zS=2,HS=1,WS=10,GS=-2,iv=t=>t==="*";function qS(t,e){let n=t.split("/"),i=n.length;return n.some(iv)&&(i+=GS),e&&(i+=zS),n.filter(o=>!iv(o)).reduce((o,a)=>o+(US.test(a)?$S:a===""?HS:WS),i)}function KS(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function QS(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],p=h===i.length-1,v=a==="/"?e:e.slice(a.length)||"/",w=Cc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},v),E=f.route;if(!w&&p&&n&&!i[i.length-1].route.index&&(w=Cc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},v)),!w)return null;Object.assign(o,w.params),u.push({params:o,pathname:Mr([a,w.pathname]),pathnameBase:tC(Mr([a,w.pathnameBase])),route:E}),w.pathnameBase!=="/"&&(a=Mr([a,w.pathnameBase]))}return u}function Cc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=YS(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((p,{paramName:v,isOptional:w},E)=>{if(v==="*"){let I=h[E]||"";u=a.slice(0,a.length-I.length).replace(/(.)\/+$/,"$1")}const S=h[E];return w&&!S?p[v]=void 0:p[v]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function YS(t,e=!1,n=!0){fr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function XS(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return fr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Si(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function JS(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?zo(t):t;return{pathname:n?n.startsWith("/")?n:ZS(n,e):e,search:nC(i),hash:rC(o)}}function ZS(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Qd(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function eC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function B_(t){let e=eC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function U_(t,e,n,i=!1){let o;typeof t=="string"?o=zo(t):(o={...t},rt(!o.pathname||!o.pathname.includes("?"),Qd("?","pathname","search",o)),rt(!o.pathname||!o.pathname.includes("#"),Qd("#","pathname","hash",o)),rt(!o.search||!o.search.includes("#"),Qd("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=n;else{let w=e.length-1;if(!i&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),w-=1;o.pathname=E.join("/")}h=w>=0?e[w]:"/"}let f=JS(o,h),p=u&&u!=="/"&&u.endsWith("/"),v=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||v)&&(f.pathname+="/"),f}var Mr=t=>t.join("/").replace(/\/\/+/g,"/"),tC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),nC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,rC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function iC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var $_=["POST","PUT","PATCH","DELETE"];new Set($_);var sC=["GET",...$_];new Set(sC);var Ho=b.createContext(null);Ho.displayName="DataRouter";var Xc=b.createContext(null);Xc.displayName="DataRouterState";var z_=b.createContext({isTransitioning:!1});z_.displayName="ViewTransition";var oC=b.createContext(new Map);oC.displayName="Fetchers";var aC=b.createContext(null);aC.displayName="Await";var gr=b.createContext(null);gr.displayName="Navigation";var Rl=b.createContext(null);Rl.displayName="Location";var Qn=b.createContext({outlet:null,matches:[],isDataRoute:!1});Qn.displayName="Route";var pp=b.createContext(null);pp.displayName="RouteError";function lC(t,{relative:e}={}){rt(kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=b.useContext(gr),{hash:o,pathname:a,search:u}=bl(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:Mr([n,a])),i.createHref({pathname:h,search:u,hash:o})}function kl(){return b.useContext(Rl)!=null}function Ni(){return rt(kl(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Rl).location}var H_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function W_(t){b.useContext(gr).static||b.useLayoutEffect(t)}function mp(){let{isDataRoute:t}=b.useContext(Qn);return t?xC():uC()}function uC(){rt(kl(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(Ho),{basename:e,navigator:n}=b.useContext(gr),{matches:i}=b.useContext(Qn),{pathname:o}=Ni(),a=JSON.stringify(B_(i)),u=b.useRef(!1);return W_(()=>{u.current=!0}),b.useCallback((f,p={})=>{if(fr(u.current,H_),!u.current)return;if(typeof f=="number"){n.go(f);return}let v=U_(f,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Mr([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,a,o,t])}var cC=b.createContext(null);function hC(t){let e=b.useContext(Qn).outlet;return e&&b.createElement(cC.Provider,{value:t},e)}function G_(){let{matches:t}=b.useContext(Qn),e=t[t.length-1];return e?e.params:{}}function bl(t,{relative:e}={}){let{matches:n}=b.useContext(Qn),{pathname:i}=Ni(),o=JSON.stringify(B_(n));return b.useMemo(()=>U_(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function dC(t,e){return q_(t,e)}function q_(t,e,n,i){var q;rt(kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=b.useContext(gr),{matches:u}=b.useContext(Qn),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let W=w&&w.path||"";K_(p,!w||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let E=Ni(),S;if(e){let W=typeof e=="string"?zo(e):e;rt(v==="/"||((q=W.pathname)==null?void 0:q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${W.pathname}" was given in the \`location\` prop.`),S=W}else S=E;let I=S.pathname||"/",L=I;if(v!=="/"){let W=v.replace(/^\//,"").split("/");L="/"+I.replace(/^\//,"").split("/").slice(W.length).join("/")}let V=!a&&n&&n.matches&&n.matches.length>0?n.matches:O_(t,{pathname:L});fr(w||V!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),fr(V==null||V[V.length-1].route.element!==void 0||V[V.length-1].route.Component!==void 0||V[V.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=yC(V&&V.map(W=>Object.assign({},W,{params:Object.assign({},f,W.params),pathname:Mr([v,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?v:Mr([v,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),u,n,i);return e&&j?b.createElement(Rl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},j):j}function fC(){let t=TC(),e=iC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=b.createElement(b.Fragment,null,b.createElement("p",null," Hey developer "),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:a},"ErrorBoundary")," or"," ",b.createElement("code",{style:a},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:o},n):null,u)}var pC=b.createElement(fC,null),mC=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?b.createElement(Qn.Provider,{value:this.props.routeContext},b.createElement(pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function gC({routeContext:t,match:e,children:n}){let i=b.useContext(Ho);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(Qn.Provider,{value:t},n)}function yC(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);rt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(n)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:v,errors:w}=n,E=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||E){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,p,v)=>{let w,E=!1,S=null,I=null;n&&(w=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||pC,u&&(h<0&&v===0?(K_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,I=null):h===v&&(E=!0,I=p.route.hydrateFallbackElement||null)));let L=e.concat(o.slice(0,v+1)),V=()=>{let j;return w?j=S:E?j=I:p.route.Component?j=b.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=f,b.createElement(gC,{match:p,routeContext:{outlet:f,matches:L,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?b.createElement(mC,{location:n.location,revalidation:n.revalidation,component:S,error:w,children:V(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):V()},null)}function gp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vC(t){let e=b.useContext(Ho);return rt(e,gp(t)),e}function _C(t){let e=b.useContext(Xc);return rt(e,gp(t)),e}function wC(t){let e=b.useContext(Qn);return rt(e,gp(t)),e}function yp(t){let e=wC(t),n=e.matches[e.matches.length-1];return rt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function EC(){return yp("useRouteId")}function TC(){var i;let t=b.useContext(pp),e=_C("useRouteError"),n=yp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function xC(){let{router:t}=vC("useNavigate"),e=yp("useNavigate"),n=b.useRef(!1);return W_(()=>{n.current=!0}),b.useCallback(async(o,a={})=>{fr(n.current,H_),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var sv={};function K_(t,e,n){!e&&!sv[t]&&(sv[t]=!0,fr(!1,n))}b.memo(SC);function SC({routes:t,future:e,state:n}){return q_(t,void 0,n,e)}function CC(t){return hC(t.context)}function mn(t){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function AC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1}){rt(!kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=b.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=zo(n));let{pathname:f="/",search:p="",hash:v="",state:w=null,key:E="default"}=n,S=b.useMemo(()=>{let I=Si(f,u);return I==null?null:{location:{pathname:I,search:p,hash:v,state:w,key:E},navigationType:i}},[u,f,p,v,w,E,i]);return fr(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:b.createElement(gr.Provider,{value:h},b.createElement(Rl.Provider,{children:e,value:S}))}function IC({children:t,location:e}){return dC(wf(t),e)}function wf(t,e=[]){let n=[];return b.Children.forEach(t,(i,o)=>{if(!b.isValidElement(i))return;let a=[...e,o];if(i.type===b.Fragment){n.push.apply(n,wf(i.props.children,a));return}rt(i.type===mn,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=wf(i.props.children,a)),n.push(u)}),n}var pc="get",mc="application/x-www-form-urlencoded";function Jc(t){return t!=null&&typeof t.tagName=="string"}function PC(t){return Jc(t)&&t.tagName.toLowerCase()==="button"}function RC(t){return Jc(t)&&t.tagName.toLowerCase()==="form"}function kC(t){return Jc(t)&&t.tagName.toLowerCase()==="input"}function bC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VC(t,e){return t.button===0&&(!e||e==="_self")&&!bC(t)}var rc=null;function DC(){if(rc===null)try{new FormData(document.createElement("form"),0),rc=!1}catch{rc=!0}return rc}var NC=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yd(t){return t!=null&&!NC.has(t)?(fr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mc}"`),null):t}function MC(t,e){let n,i,o,a,u;if(RC(t)){let h=t.getAttribute("action");i=h?Si(h,e):null,n=t.getAttribute("method")||pc,o=Yd(t.getAttribute("enctype"))||mc,a=new FormData(t)}else if(PC(t)||kC(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?Si(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||pc,o=Yd(t.getAttribute("formenctype"))||Yd(h.getAttribute("enctype"))||mc,a=new FormData(h,t),!DC()){let{name:p,type:v,value:w}=t;if(v==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,w)}}else{if(Jc(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=pc,i=null,o=mc,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:u}}function vp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function LC(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OC(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function FC(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await LC(a,n);return u.links?u.links():[]}return[]}));return $C(i.flat(1).filter(OC).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ov(t,e,n,i,o,a){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>{var v;return n[p].pathname!==f.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{var w;let v=i.routes[f.route.id];if(!v||!v.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function jC(t,e){return BC(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function BC(t){return[...new Set(t)]}function UC(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function $C(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(UC(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function zC(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function HC(){let t=b.useContext(Ho);return vp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function WC(){let t=b.useContext(Xc);return vp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _p=b.createContext(void 0);_p.displayName="FrameworkContext";function Q_(){let t=b.useContext(_p);return vp(t,"You must render this element inside a <HydratedRouter> element"),t}function GC(t,e){let n=b.useContext(_p),[i,o]=b.useState(!1),[a,u]=b.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:v,onTouchStart:w}=e,E=b.useRef(null);b.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let L=j=>{j.forEach(q=>{u(q.isIntersecting)})},V=new IntersectionObserver(L,{threshold:.5});return E.current&&V.observe(E.current),()=>{V.disconnect()}}},[t]),b.useEffect(()=>{if(i){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[i]);let S=()=>{o(!0)},I=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:Ka(h,S),onBlur:Ka(f,I),onMouseEnter:Ka(p,S),onMouseLeave:Ka(v,I),onTouchStart:Ka(w,S)}]:[!1,E,{}]}function Ka(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function qC({page:t,...e}){let{router:n}=HC(),i=b.useMemo(()=>O_(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?b.createElement(QC,{page:t,matches:i,...e}):null}function KC(t){let{manifest:e,routeModules:n}=Q_(),[i,o]=b.useState([]);return b.useEffect(()=>{let a=!1;return FC(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),i}function QC({page:t,matches:e,...n}){let i=Ni(),{manifest:o,routeModules:a}=Q_(),{loaderData:u,matches:h}=WC(),f=b.useMemo(()=>ov(t,e,h,o,i,"data"),[t,e,h,o,i]),p=b.useMemo(()=>ov(t,e,h,o,i,"assets"),[t,e,h,o,i]),v=b.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,I=!1;if(e.forEach(V=>{var q;let j=o.routes[V.route.id];!j||!j.hasLoader||(!f.some(W=>W.route.id===V.route.id)&&V.route.id in u&&((q=a[V.route.id])!=null&&q.shouldRevalidate)||j.hasClientLoader?I=!0:S.add(V.route.id))}),S.size===0)return[];let L=zC(t);return I&&S.size>0&&L.searchParams.set("_routes",e.filter(V=>S.has(V.route.id)).map(V=>V.route.id).join(",")),[L.pathname+L.search]},[u,i,o,f,e,t,a]),w=b.useMemo(()=>jC(p,o),[p,o]),E=KC(p);return b.createElement(b.Fragment,null,v.map(S=>b.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),w.map(S=>b.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),E.map(({key:S,link:I})=>b.createElement("link",{key:S,...I})))}function YC(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Y_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Y_&&(window.__reactRouterVersion="7.1.5")}catch{}function XC({basename:t,children:e,window:n}){let i=b.useRef();i.current==null&&(i.current=LS({window:n,v5Compat:!0}));let o=i.current,[a,u]=b.useState({action:o.action,location:o.location}),h=b.useCallback(f=>{b.startTransition(()=>u(f))},[u]);return b.useLayoutEffect(()=>o.listen(h),[o,h]),b.createElement(AC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var X_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Lr=b.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:v,viewTransition:w,...E},S){let{basename:I}=b.useContext(gr),L=typeof p=="string"&&X_.test(p),V,j=!1;if(typeof p=="string"&&L&&(V=p,Y_))try{let P=new URL(window.location.href),N=p.startsWith("//")?new URL(P.protocol+p):new URL(p),M=Si(N.pathname,I);N.origin===P.origin&&M!=null?p=M+N.search+N.hash:j=!0}catch{fr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=lC(p,{relative:o}),[W,ie,ee]=GC(i,E),se=tA(p,{replace:u,state:h,target:f,preventScrollReset:v,relative:o,viewTransition:w});function D(P){e&&e(P),P.defaultPrevented||se(P)}let C=b.createElement("a",{...E,...ee,href:V||q,onClick:j||a?e:D,ref:YC(S,ie),target:f,"data-discover":!L&&n==="render"?"true":void 0});return W&&!L?b.createElement(b.Fragment,null,C,b.createElement(qC,{page:q})):C});Lr.displayName="Link";var JC=b.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...p},v){let w=bl(u,{relative:p.relative}),E=Ni(),S=b.useContext(Xc),{navigator:I,basename:L}=b.useContext(gr),V=S!=null&&oA(w)&&h===!0,j=I.encodeLocation?I.encodeLocation(w).pathname:w.pathname,q=E.pathname,W=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(q=q.toLowerCase(),W=W?W.toLowerCase():null,j=j.toLowerCase()),W&&L&&(W=Si(W,L)||W);const ie=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let ee=q===j||!o&&q.startsWith(j)&&q.charAt(ie)==="/",se=W!=null&&(W===j||!o&&W.startsWith(j)&&W.charAt(j.length)==="/"),D={isActive:ee,isPending:se,isTransitioning:V},C=ee?e:void 0,P;typeof i=="function"?P=i(D):P=[i,ee?"active":null,se?"pending":null,V?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(D):a;return b.createElement(Lr,{...p,"aria-current":C,className:P,ref:v,style:N,to:u,viewTransition:h},typeof f=="function"?f(D):f)});JC.displayName="NavLink";var ZC=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:u=pc,action:h,onSubmit:f,relative:p,preventScrollReset:v,viewTransition:w,...E},S)=>{let I=iA(),L=sA(h,{relative:p}),V=u.toLowerCase()==="get"?"get":"post",j=typeof h=="string"&&X_.test(h),q=W=>{if(f&&f(W),W.defaultPrevented)return;W.preventDefault();let ie=W.nativeEvent.submitter,ee=(ie==null?void 0:ie.getAttribute("formmethod"))||u;I(ie||W.currentTarget,{fetcherKey:e,method:ee,navigate:n,replace:o,state:a,relative:p,preventScrollReset:v,viewTransition:w})};return b.createElement("form",{ref:S,method:V,action:L,onSubmit:i?f:q,...E,"data-discover":!j&&t==="render"?"true":void 0})});ZC.displayName="Form";function eA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function J_(t){let e=b.useContext(Ho);return rt(e,eA(t)),e}function tA(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=mp(),f=Ni(),p=bl(t,{relative:a});return b.useCallback(v=>{if(VC(v,e)){v.preventDefault();let w=n!==void 0?n:dl(f)===dl(p);h(t,{replace:w,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,p,n,i,e,t,o,a,u])}var nA=0,rA=()=>`__${String(++nA)}__`;function iA(){let{router:t}=J_("useSubmit"),{basename:e}=b.useContext(gr),n=EC();return b.useCallback(async(i,o={})=>{let{action:a,method:u,encType:h,formData:f,body:p}=MC(i,e);if(o.navigate===!1){let v=o.fetcherKey||rA();await t.fetch(v,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function sA(t,{relative:e}={}){let{basename:n}=b.useContext(gr),i=b.useContext(Qn);rt(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...bl(t||".",{relative:e})},u=Ni();if(t==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(v=>v==="")){h.delete("index"),f.filter(w=>w).forEach(w=>h.append("index",w));let v=h.toString();a.search=v?`?${v}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Mr([n,a.pathname])),dl(a)}function oA(t,e={}){let n=b.useContext(z_);rt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=J_("useViewTransitionState"),o=bl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Si(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Si(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Cc(o.pathname,u)!=null||Cc(o.pathname,a)!=null}new TextEncoder;var aA=L_();const ic=dp(aA);function Ac(){return Ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ac.apply(null,arguments)}function wp(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function Ef(t,e){return Ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ef(t,e)}function Ep(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Ef(t,e)}function lA(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function uA(t,e){t.classList?t.classList.add(e):lA(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function av(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function cA(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=av(t.className,e):t.setAttribute("class",av(t.className&&t.className.baseVal||"",e))}const lv={disabled:!1},Ic=bn.createContext(null);var Z_=function(e){return e.scrollTop},Ya="unmounted",hs="exited",ds="entering",Eo="entered",Tf="exiting",Wr=function(t){Ep(e,t);function e(i,o){var a;a=t.call(this,i,o)||this;var u=o,h=u&&!u.isMounting?i.enter:i.appear,f;return a.appearStatus=null,i.in?h?(f=hs,a.appearStatus=ds):f=Eo:i.unmountOnExit||i.mountOnEnter?f=Ya:f=hs,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(o,a){var u=o.in;return u&&a.status===Ya?{status:hs}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var a=null;if(o!==this.props){var u=this.state.status;this.props.in?u!==ds&&u!==Eo&&(a=ds):(u===ds||u===Eo)&&(a=Tf)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,a,u,h;return a=u=h=o,o!=null&&typeof o!="number"&&(a=o.exit,u=o.enter,h=o.appear!==void 0?o.appear:u),{exit:a,enter:u,appear:h}},n.updateStatus=function(o,a){if(o===void 0&&(o=!1),a!==null)if(this.cancelNextCallback(),a===ds){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:ic.findDOMNode(this);u&&Z_(u)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===hs&&this.setState({status:Ya})},n.performEnter=function(o){var a=this,u=this.props.enter,h=this.context?this.context.isMounting:o,f=this.props.nodeRef?[h]:[ic.findDOMNode(this),h],p=f[0],v=f[1],w=this.getTimeouts(),E=h?w.appear:w.enter;if(!o&&!u||lv.disabled){this.safeSetState({status:Eo},function(){a.props.onEntered(p)});return}this.props.onEnter(p,v),this.safeSetState({status:ds},function(){a.props.onEntering(p,v),a.onTransitionEnd(E,function(){a.safeSetState({status:Eo},function(){a.props.onEntered(p,v)})})})},n.performExit=function(){var o=this,a=this.props.exit,u=this.getTimeouts(),h=this.props.nodeRef?void 0:ic.findDOMNode(this);if(!a||lv.disabled){this.safeSetState({status:hs},function(){o.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:Tf},function(){o.props.onExiting(h),o.onTransitionEnd(u.exit,function(){o.safeSetState({status:hs},function(){o.props.onExited(h)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},n.setNextCallback=function(o){var a=this,u=!0;return this.nextCallback=function(h){u&&(u=!1,a.nextCallback=null,o(h))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(o,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:ic.findDOMNode(this),h=o==null&&!this.props.addEndListener;if(!u||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],p=f[0],v=f[1];this.props.addEndListener(p,v)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Ya)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var h=wp(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return bn.createElement(Ic.Provider,{value:null},typeof u=="function"?u(o,h):bn.cloneElement(bn.Children.only(u),h))},e}(bn.Component);Wr.contextType=Ic;Wr.propTypes={};function wo(){}Wr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:wo,onEntering:wo,onEntered:wo,onExit:wo,onExiting:wo,onExited:wo};Wr.UNMOUNTED=Ya;Wr.EXITED=hs;Wr.ENTERING=ds;Wr.ENTERED=Eo;Wr.EXITING=Tf;var hA=function(e,n){return e&&n&&n.split(" ").forEach(function(i){return uA(e,i)})},Xd=function(e,n){return e&&n&&n.split(" ").forEach(function(i){return cA(e,i)})},Tp=function(t){Ep(e,t);function e(){for(var i,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return i=t.call.apply(t,[this].concat(a))||this,i.appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(h,f){var p=i.resolveArguments(h,f),v=p[0],w=p[1];i.removeClasses(v,"exit"),i.addClass(v,w?"appear":"enter","base"),i.props.onEnter&&i.props.onEnter(h,f)},i.onEntering=function(h,f){var p=i.resolveArguments(h,f),v=p[0],w=p[1],E=w?"appear":"enter";i.addClass(v,E,"active"),i.props.onEntering&&i.props.onEntering(h,f)},i.onEntered=function(h,f){var p=i.resolveArguments(h,f),v=p[0],w=p[1],E=w?"appear":"enter";i.removeClasses(v,E),i.addClass(v,E,"done"),i.props.onEntered&&i.props.onEntered(h,f)},i.onExit=function(h){var f=i.resolveArguments(h),p=f[0];i.removeClasses(p,"appear"),i.removeClasses(p,"enter"),i.addClass(p,"exit","base"),i.props.onExit&&i.props.onExit(h)},i.onExiting=function(h){var f=i.resolveArguments(h),p=f[0];i.addClass(p,"exit","active"),i.props.onExiting&&i.props.onExiting(h)},i.onExited=function(h){var f=i.resolveArguments(h),p=f[0];i.removeClasses(p,"exit"),i.addClass(p,"exit","done"),i.props.onExited&&i.props.onExited(h)},i.resolveArguments=function(h,f){return i.props.nodeRef?[i.props.nodeRef.current,h]:[h,f]},i.getClassNames=function(h){var f=i.props.classNames,p=typeof f=="string",v=p&&f?f+"-":"",w=p?""+v+h:f[h],E=p?w+"-active":f[h+"Active"],S=p?w+"-done":f[h+"Done"];return{baseClassName:w,activeClassName:E,doneClassName:S}},i}var n=e.prototype;return n.addClass=function(o,a,u){var h=this.getClassNames(a)[u+"ClassName"],f=this.getClassNames("enter"),p=f.doneClassName;a==="appear"&&u==="done"&&p&&(h+=" "+p),u==="active"&&o&&Z_(o),h&&(this.appliedClasses[a][u]=h,hA(o,h))},n.removeClasses=function(o,a){var u=this.appliedClasses[a],h=u.base,f=u.active,p=u.done;this.appliedClasses[a]={},h&&Xd(o,h),f&&Xd(o,f),p&&Xd(o,p)},n.render=function(){var o=this.props;o.classNames;var a=wp(o,["classNames"]);return bn.createElement(Wr,Ac({},a,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(bn.Component);Tp.defaultProps={classNames:""};Tp.propTypes={};function dA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xp(t,e){var n=function(a){return e&&b.isValidElement(a)?e(a):a},i=Object.create(null);return t&&b.Children.map(t,function(o){return o}).forEach(function(o){i[o.key]=n(o)}),i}function fA(t,e){t=t||{},e=e||{};function n(v){return v in e?e[v]:t[v]}var i=Object.create(null),o=[];for(var a in t)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var u,h={};for(var f in e){if(i[f])for(u=0;u<i[f].length;u++){var p=i[f][u];h[i[f][u]]=n(p)}h[f]=n(f)}for(u=0;u<o.length;u++)h[o[u]]=n(o[u]);return h}function ms(t,e,n){return n[e]!=null?n[e]:t.props[e]}function pA(t,e){return xp(t.children,function(n){return b.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:ms(n,"appear",t),enter:ms(n,"enter",t),exit:ms(n,"exit",t)})})}function mA(t,e,n){var i=xp(t.children),o=fA(e,i);return Object.keys(o).forEach(function(a){var u=o[a];if(b.isValidElement(u)){var h=a in e,f=a in i,p=e[a],v=b.isValidElement(p)&&!p.props.in;f&&(!h||v)?o[a]=b.cloneElement(u,{onExited:n.bind(null,u),in:!0,exit:ms(u,"exit",t),enter:ms(u,"enter",t)}):!f&&h&&!v?o[a]=b.cloneElement(u,{in:!1}):f&&h&&b.isValidElement(p)&&(o[a]=b.cloneElement(u,{onExited:n.bind(null,u),in:p.props.in,exit:ms(u,"exit",t),enter:ms(u,"enter",t)}))}}),o}var gA=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},yA={component:"div",childFactory:function(e){return e}},Sp=function(t){Ep(e,t);function e(i,o){var a;a=t.call(this,i,o)||this;var u=a.handleExited.bind(dA(a));return a.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,a){var u=a.children,h=a.handleExited,f=a.firstRender;return{children:f?pA(o,h):mA(o,u,h),firstRender:!1}},n.handleExited=function(o,a){var u=xp(this.props.children);o.key in u||(o.props.onExited&&o.props.onExited(a),this.mounted&&this.setState(function(h){var f=Ac({},h.children);return delete f[o.key],{children:f}}))},n.render=function(){var o=this.props,a=o.component,u=o.childFactory,h=wp(o,["component","childFactory"]),f=this.state.contextValue,p=gA(this.state.children).map(u);return delete h.appear,delete h.enter,delete h.exit,a===null?bn.createElement(Ic.Provider,{value:f},p):bn.createElement(Ic.Provider,{value:f},bn.createElement(a,h,p))},e}(bn.Component);Sp.propTypes={};Sp.defaultProps=yA;/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ew=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _A={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wA=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:u,...h},f)=>b.createElement("svg",{ref:f,..._A,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:ew("lucide",o),...h},[...u.map(([p,v])=>b.createElement(p,v)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=(t,e)=>{const n=b.forwardRef(({className:i,...o},a)=>b.createElement(wA,{ref:a,iconNode:e,className:ew(`lucide-${vA(t)}`,i),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],xA=EA("Dog",TA);function SA(){const t=Ni(),[e,n]=b.useState(!1),{isDarkMode:i,toggleTheme:o}=b.useContext(Xt),a=[{name:"Home",href:"/"},{name:"Blog",href:"/blog"},{name:"FAQ",href:"/faq"},{name:"Quiz",href:"/quiz"},{name:"Products",href:"/products"},{name:"Contact",href:"/contact"}],u=()=>n(!e);return R.jsxs("nav",{className:`fixed top-0 left-0 w-full z-20 shadow-md transition-colors duration-300 ease-in-out ${i?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:[R.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[R.jsx("div",{className:"md:hidden",children:R.jsxs("button",{onClick:u,className:"focus:outline-none","aria-label":"Toggle menu",children:[R.jsx("span",{className:`block w-6 h-1 mb-1.5 transition-all duration-300 ${i?"bg-stone-400":"bg-red-800"} ${e?"rotate-45 translate-y-2.5":""}`}),R.jsx("span",{className:`block w-6 h-1 mb-1.5 transition-all duration-300 ${i?"bg-stone-400":"bg-red-800"} ${e?"opacity-0":""}`}),R.jsx("span",{className:`block w-6 h-1 transition-all duration-300 ${i?"bg-stone-400":"bg-red-800"} ${e?"-rotate-45 -translate-y-2.5":""}`})]})}),R.jsx("div",{className:"flex-grow text-center",children:R.jsxs(Lr,{to:"/",className:"flex justify-center items-center space-x-2",onClick:()=>n(!1),children:[R.jsx(xA,{className:`w-6 h-6 ${i?"text-stone-400":"text-red-800"}`}),R.jsx("span",{className:"text-xl font-bold",children:"Aussie Gut Pack"})]})}),R.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[a.map(h=>R.jsx(Lr,{to:h.href,className:`px-3 py-2 rounded-md transition-colors duration-200 ${t.pathname===h.href?i?"bg-red-800 text-white":"bg-red-100 text-red-800":i?"hover:bg-red-900":"hover:bg-red-200"}`,children:h.name},h.href)),R.jsx("button",{onClick:o,className:"px-3 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:i?"Light":"Dark"})]}),R.jsx("div",{className:"md:hidden",children:R.jsx("button",{onClick:o,className:"px-3 py-1 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:i?"L":"D"})})]}),e&&R.jsx("div",{className:`md:hidden flex flex-col space-y-2 py-4 px-6 transition-colors duration-300 ease-in-out ${i?"bg-stone-900 text-stone-400":"bg-white text-red-800"}`,children:a.map(h=>R.jsx(Lr,{to:h.href,className:`px-3 py-2 rounded-md transition-colors duration-200 ${t.pathname===h.href?i?"bg-red-800 text-white":"bg-red-100 text-red-800":i?"hover:bg-red-900":"hover:bg-red-200"}`,onClick:()=>n(!1),children:h.name},h.href))})]})}function CA(){const{isDarkMode:t}=b.useContext(Xt),e=[{name:"Facebook",icon:"fab fa-facebook-f",url:"https://facebook.com"},{name:"Twitter/X",icon:"fab fa-x-twitter",url:"https://x.com"},{name:"Instagram",icon:"fab fa-instagram",url:"https://instagram.com"},{name:"LinkedIn",icon:"fab fa-linkedin-in",url:"https://linkedin.com"},{name:"YouTube",icon:"fab fa-youtube",url:"https://youtube.com"},{name:"Pinterest",icon:"fab fa-pinterest-p",url:"https://pinterest.com"},{name:"TikTok",icon:"fab fa-tiktok",url:"https://tiktok.com"},{name:"GitHub",icon:"fab fa-github",url:"https://github.com"}];return R.jsxs("div",{className:`relative min-h-screen ${t?"bg-stone-900":"bg-white"}`,children:[R.jsx(SA,{}),R.jsx("main",{className:"container mx-auto px-4 py-8 md:pt-16",children:R.jsx(CC,{})}),R.jsxs("footer",{className:`py-4 text-center text-sm backdrop-blur-sm ${t?"bg-stone-900/80 text-white":"bg-white/80 text-stone-600"}`,children:[R.jsx("div",{className:"mb-2",children:" 2025 Aussie Gut Pack - Your Gut Health Companion"}),R.jsx("div",{className:"flex justify-center space-x-4",children:e.map(n=>R.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:`text-lg transition-colors duration-300 ${t?"text-stone-400 hover:text-stone-200":"text-stone-600 hover:text-red-800"}`,"aria-label":`Follow us on ${n.name}`,children:R.jsx("i",{className:n.icon})},n.name))})]})]})}function Br({to:t,children:e,variant:n,className:i,...o}){const a="px-4 py-2 rounded transition-colors duration-300 ease-in-out",u=n==="primary"?"bg-red-800 text-white hover:bg-red-900":"bg-stone-200 text-red-600 hover:bg-stone-300";return t?R.jsx(Lr,{to:t,className:`${a} ${u} ${i}`,...o,children:e}):R.jsx("button",{className:`${a} ${u} ${i}`,...o,children:e})}const AA="/aussie-gut-pack/assets/aussie-BleX4DhZ.png",IA="/aussie-gut-pack/assets/goggins-BJp9afAd.png",uv=[AA,IA],PA=()=>{const[t,e]=b.useState(0);return b.useEffect(()=>{const n=setInterval(()=>{e(i=>(i+1)%uv.length)},5e3);return()=>clearInterval(n)},[]),R.jsx("div",{className:"absolute inset-0 w-full h-full overflow-hidden bg-gray-900",children:uv.map((n,i)=>R.jsx("div",{className:`absolute inset-0 w-[120%] h-full bg-cover bg-center transition-opacity duration-1000 ease-in-out ${i===t?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${n})`}},i))})},Cp=b.createContext({});function Ap(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ip=typeof window<"u",tw=Ip?b.useLayoutEffect:b.useEffect,Zc=b.createContext(null),Pp=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class RA extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,o=i instanceof HTMLElement&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function kA({children:t,isPresent:e,anchorX:n}){const i=b.useId(),o=b.useRef(null),a=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=b.useContext(Pp);return b.useInsertionEffect(()=>{const{width:h,height:f,top:p,left:v,right:w}=a.current;if(e||!o.current||!h||!f)return;const E=n==="left"?`left: ${v}`:`right: ${w}`;o.current.dataset.motionPopId=i;const S=document.createElement("style");return u&&(S.nonce=u),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[e]),R.jsx(RA,{isPresent:e,childRef:o,sizeRef:a,children:b.cloneElement(t,{ref:o})})}const bA=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:a,mode:u,anchorX:h})=>{const f=Ap(VA),p=b.useId(),v=b.useCallback(E=>{f.set(E,!0);for(const S of f.values())if(!S)return;i&&i()},[f,i]),w=b.useMemo(()=>({id:p,initial:e,isPresent:n,custom:o,onExitComplete:v,register:E=>(f.set(E,!1),()=>f.delete(E))}),a?[Math.random(),v]:[n,v]);return b.useMemo(()=>{f.forEach((E,S)=>f.set(S,!1))},[n]),b.useEffect(()=>{!n&&!f.size&&i&&i()},[n]),u==="popLayout"&&(t=R.jsx(kA,{isPresent:n,anchorX:h,children:t})),R.jsx(Zc.Provider,{value:w,children:t})};function VA(){return new Map}function nw(t=!0){const e=b.useContext(Zc);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,a=b.useId();b.useEffect(()=>{if(t)return o(a)},[t]);const u=b.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,u]:[!0]}const sc=t=>t.key||"";function cv(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const DA=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:a="sync",propagate:u=!1,anchorX:h="left"})=>{const[f,p]=nw(u),v=b.useMemo(()=>cv(t),[t]),w=u&&!f?[]:v.map(sc),E=b.useRef(!0),S=b.useRef(v),I=Ap(()=>new Map),[L,V]=b.useState(v),[j,q]=b.useState(v);tw(()=>{E.current=!1,S.current=v;for(let ee=0;ee<j.length;ee++){const se=sc(j[ee]);w.includes(se)?I.delete(se):I.get(se)!==!0&&I.set(se,!1)}},[j,w.length,w.join("-")]);const W=[];if(v!==L){let ee=[...v];for(let se=0;se<j.length;se++){const D=j[se],C=sc(D);w.includes(C)||(ee.splice(se,0,D),W.push(D))}return a==="wait"&&W.length&&(ee=W),q(cv(ee)),V(v),null}const{forceRender:ie}=b.useContext(Cp);return R.jsx(R.Fragment,{children:j.map(ee=>{const se=sc(ee),D=u&&!f?!1:v===j||w.includes(se),C=()=>{if(I.has(se))I.set(se,!0);else return;let P=!0;I.forEach(N=>{N||(P=!1)}),P&&(ie==null||ie(),q(S.current),u&&(p==null||p()),i&&i())};return R.jsx(bA,{isPresent:D,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:a,onExitComplete:D?void 0:C,anchorX:h,children:ee},se)})})};function Rp(t,e){t.indexOf(e)===-1&&t.push(e)}function kp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const gn=t=>t;let rw=gn;const NA={useManualTiming:!1};function bp(t){let e;return()=>(e===void 0&&(e=t()),e)}const Do=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Vp{constructor(){this.subscriptions=[]}add(e){return Rp(this.subscriptions,e),()=>kp(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Or=t=>t*1e3,Fr=t=>t/1e3;function iw(t,e){return e?t*(1e3/e):0}const MA=bp(()=>window.ScrollTimeline!==void 0);class LA{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(o=>{if(MA()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{i.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class OA extends LA{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Dp(t,e){return t?t[e]||t.default||t:void 0}const xf=2e4;function sw(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<xf;)e+=n,i=t.next(e);return e>=xf?1/0:e}function Np(t){return typeof t=="function"}function hv(t,e){t.timeline=e,t.onfinish=null}const Mp=t=>Array.isArray(t)&&typeof t[0]=="number",FA={linearEasing:void 0};function jA(t,e){const n=bp(t);return()=>{var i;return(i=FA[e])!==null&&i!==void 0?i:n()}}const Pc=jA(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ow=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)i+=t(Do(0,o-1,a))+", ";return`linear(${i.substring(0,i.length-2)})`};function aw(t){return!!(typeof t=="function"&&Pc()||!t||typeof t=="string"&&(t in Sf||Pc())||Mp(t)||Array.isArray(t)&&t.every(aw))}const Xa=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Sf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Xa([0,.65,.55,1]),circOut:Xa([.55,0,1,.45]),backIn:Xa([.31,.01,.66,-.59]),backOut:Xa([.33,1.53,.69,.99])};function lw(t,e){if(t)return typeof t=="function"&&Pc()?ow(t,e):Mp(t)?Xa(t):Array.isArray(t)?t.map(n=>lw(n,e)||Sf.easeOut):Sf[t]}const oc=["read","resolveKeyframes","update","preRender","render","postRender"],dv={value:null};function BA(t,e){let n=new Set,i=new Set,o=!1,a=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},f=0;function p(w){u.has(w)&&(v.schedule(w),t()),f++,w(h)}const v={schedule:(w,E=!1,S=!1)=>{const L=S&&o?n:i;return E&&u.add(w),L.has(w)||L.add(w),w},cancel:w=>{i.delete(w),u.delete(w)},process:w=>{if(h=w,o){a=!0;return}o=!0,[n,i]=[i,n],n.forEach(p),e&&dv.value&&dv.value.frameloop[e].push(f),f=0,n.clear(),o=!1,a&&(a=!1,v.process(w))}};return v}const UA=40;function uw(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=oc.reduce((j,q)=>(j[q]=BA(a,e?q:void 0),j),{}),{read:h,resolveKeyframes:f,update:p,preRender:v,render:w,postRender:E}=u,S=()=>{const j=performance.now();n=!1,o.delta=i?1e3/60:Math.max(Math.min(j-o.timestamp,UA),1),o.timestamp=j,o.isProcessing=!0,h.process(o),f.process(o),p.process(o),v.process(o),w.process(o),E.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(S))},I=()=>{n=!0,i=!0,o.isProcessing||t(S)};return{schedule:oc.reduce((j,q)=>{const W=u[q];return j[q]=(ie,ee=!1,se=!1)=>(n||I(),W.schedule(ie,ee,se)),j},{}),cancel:j=>{for(let q=0;q<oc.length;q++)u[oc[q]].cancel(j)},state:o,steps:u}}const{schedule:qe,cancel:Ci,state:Dt,steps:Jd}=uw(typeof requestAnimationFrame<"u"?requestAnimationFrame:gn,!0),{schedule:Lp}=uw(queueMicrotask,!1);let gc;function $A(){gc=void 0}const lr={now:()=>(gc===void 0&&lr.set(Dt.isProcessing||NA.useManualTiming?Dt.timestamp:performance.now()),gc),set:t=>{gc=t,queueMicrotask($A)}},qn={x:!1,y:!1};function cw(){return qn.x||qn.y}function zA(t){return t==="x"||t==="y"?qn[t]?null:(qn[t]=!0,()=>{qn[t]=!1}):qn.x||qn.y?null:(qn.x=qn.y=!0,()=>{qn.x=qn.y=!1})}function HA(t,e,n){var i;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let o=document;const a=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function hw(t,e){const n=HA(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function fv(t){return!(t.pointerType==="touch"||cw())}function WA(t,e,n={}){const[i,o,a]=hw(t,n),u=h=>{if(!fv(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const v=w=>{fv(w)&&(p(w),f.removeEventListener("pointerleave",v))};f.addEventListener("pointerleave",v,o)};return i.forEach(h=>{h.addEventListener("pointerenter",u,o)}),a}function pv(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const dw=(t,e)=>e?t===e?!0:dw(t,e.parentElement):!1,Op=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,GA=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function qA(t){return GA.has(t.tagName)||t.tabIndex!==-1}const Ja=new WeakSet;function mv(t){return e=>{e.key==="Enter"&&t(e)}}function Zd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const KA=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=mv(()=>{if(Ja.has(n))return;Zd(n,"down");const o=mv(()=>{Zd(n,"up")}),a=()=>Zd(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function gv(t){return Op(t)&&!cw()}function QA(t,e,n={}){const[i,o,a]=hw(t,n),u=h=>{const f=h.currentTarget;if(!f||!gv(h)||Ja.has(f))return;Ja.add(f),pv(h,"set");const p=e(f,h),v=(S,I)=>{f.removeEventListener("pointerup",w),f.removeEventListener("pointercancel",E),pv(S,"release"),!(!gv(S)||!Ja.has(f))&&(Ja.delete(f),typeof p=="function"&&p(S,{success:I}))},w=S=>{(S.isTrusted?YA(S,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?v(S,!1):v(S,!(f instanceof Element)||dw(f,S.target))},E=S=>{v(S,!1)};f.addEventListener("pointerup",w,o),f.addEventListener("pointercancel",E,o),f.addEventListener("lostpointercapture",E,o)};return i.forEach(h=>{h=n.useGlobalTarget?window:h;let f=!1;h instanceof HTMLElement&&(f=!0,!qA(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0)),h.addEventListener("pointerdown",u,o),f&&h.addEventListener("focus",p=>KA(p,o),o)}),a}function YA(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const yv=30,XA=t=>!isNaN(parseFloat(t));class JA{constructor(e,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const a=lr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=lr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=XA(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Vp);const i=this.events[e].add(n);return e==="change"?()=>{i(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=lr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>yv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,yv);return iw(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fl(t,e){return new JA(t,e)}const fw=b.createContext({strict:!1}),vv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},No={};for(const t in vv)No[t]={isEnabled:e=>vv[t].some(n=>!!e[n])};function ZA(t){for(const e in t)No[e]={...No[e],...t[e]}}const e1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||e1.has(t)}let pw=t=>!Rc(t);function t1(t){t&&(pw=e=>e.startsWith("on")?!Rc(e):t(e))}try{t1(require("@emotion/is-prop-valid").default)}catch{}function n1(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(pw(o)||n===!0&&Rc(o)||!e&&!Rc(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}function r1(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const eh=b.createContext({});function th(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pl(t){return typeof t=="string"||Array.isArray(t)}const Fp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],jp=["initial",...Fp];function nh(t){return th(t.animate)||jp.some(e=>pl(t[e]))}function mw(t){return!!(nh(t)||t.variants)}function i1(t,e){if(nh(t)){const{initial:n,animate:i}=t;return{initial:n===!1||pl(n)?n:void 0,animate:pl(i)?i:void 0}}return t.inherit!==!1?e:{}}function s1(t){const{initial:e,animate:n}=i1(t,b.useContext(eh));return b.useMemo(()=>({initial:e,animate:n}),[_v(e),_v(n)])}function _v(t){return Array.isArray(t)?t.join(" "):t}const o1=Symbol.for("motionComponentSymbol");function Ao(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function a1(t,e,n){return b.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):Ao(n)&&(n.current=i))},[e])}const Bp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),l1="framerAppearId",gw="data-"+Bp(l1),yw=b.createContext({});function u1(t,e,n,i,o){var a,u;const{visualElement:h}=b.useContext(eh),f=b.useContext(fw),p=b.useContext(Zc),v=b.useContext(Pp).reducedMotion,w=b.useRef(null);i=i||f.renderer,!w.current&&i&&(w.current=i(t,{visualState:e,parent:h,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:v}));const E=w.current,S=b.useContext(yw);E&&!E.projection&&o&&(E.type==="html"||E.type==="svg")&&c1(w.current,n,o,S);const I=b.useRef(!1);b.useInsertionEffect(()=>{E&&I.current&&E.update(n,p)});const L=n[gw],V=b.useRef(!!L&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,L))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,L)));return tw(()=>{E&&(I.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),Lp.render(E.render),V.current&&E.animationState&&E.animationState.animateChanges())}),b.useEffect(()=>{E&&(!V.current&&E.animationState&&E.animationState.animateChanges(),V.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,L)}),V.current=!1))}),E}function c1(t,e,n,i){const{layoutId:o,layout:a,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:vw(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||h&&Ao(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:p})}function vw(t){if(t)return t.options.allowProjection!==!1?t.projection:vw(t.parent)}function h1({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:o}){var a,u;t&&ZA(t);function h(p,v){let w;const E={...b.useContext(Pp),...p,layoutId:d1(p)},{isStatic:S}=E,I=s1(p),L=i(p,S);if(!S&&Ip){f1();const V=p1(E);w=V.MeasureLayout,I.visualElement=u1(o,L,E,e,V.ProjectionNode)}return R.jsxs(eh.Provider,{value:I,children:[w&&I.visualElement?R.jsx(w,{visualElement:I.visualElement,...E}):null,n(o,p,a1(L,I.visualElement,v),L,S,I.visualElement)]})}h.displayName=`motion.${typeof o=="string"?o:`create(${(u=(a=o.displayName)!==null&&a!==void 0?a:o.name)!==null&&u!==void 0?u:""})`}`;const f=b.forwardRef(h);return f[o1]=o,f}function d1({layoutId:t}){const e=b.useContext(Cp).id;return e&&t!==void 0?e+"-"+t:t}function f1(t,e){b.useContext(fw).strict}function p1(t){const{drag:e,layout:n}=No;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const _w=t=>e=>typeof e=="string"&&e.startsWith(t),Up=_w("--"),m1=_w("var(--"),$p=t=>m1(t)?g1.test(t.split("/*")[0].trim()):!1,g1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ml={};function y1(t){for(const e in t)ml[e]=t[e],Up(e)&&(ml[e].isCSSVariable=!0)}const Wo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ts=new Set(Wo);function ww(t,{layout:e,layoutId:n}){return Ts.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ml[t]||t==="opacity")}const Wt=t=>!!(t&&t.getVelocity),Ew=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ur=(t,e,n)=>n>e?e:n<t?t:n,Go={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},gl={...Go,transform:t=>Ur(0,1,t)},ac={...Go,default:1},Vl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),yi=Vl("deg"),ur=Vl("%"),we=Vl("px"),v1=Vl("vh"),_1=Vl("vw"),wv={...ur,parse:t=>ur.parse(t)/100,transform:t=>ur.transform(t*100)},w1={borderWidth:we,borderTopWidth:we,borderRightWidth:we,borderBottomWidth:we,borderLeftWidth:we,borderRadius:we,radius:we,borderTopLeftRadius:we,borderTopRightRadius:we,borderBottomRightRadius:we,borderBottomLeftRadius:we,width:we,maxWidth:we,height:we,maxHeight:we,top:we,right:we,bottom:we,left:we,padding:we,paddingTop:we,paddingRight:we,paddingBottom:we,paddingLeft:we,margin:we,marginTop:we,marginRight:we,marginBottom:we,marginLeft:we,backgroundPositionX:we,backgroundPositionY:we},E1={rotate:yi,rotateX:yi,rotateY:yi,rotateZ:yi,scale:ac,scaleX:ac,scaleY:ac,scaleZ:ac,skew:yi,skewX:yi,skewY:yi,distance:we,translateX:we,translateY:we,translateZ:we,x:we,y:we,z:we,perspective:we,transformPerspective:we,opacity:gl,originX:wv,originY:wv,originZ:we},Ev={...Go,transform:Math.round},zp={...w1,...E1,zIndex:Ev,size:we,fillOpacity:gl,strokeOpacity:gl,numOctaves:Ev},T1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},x1=Wo.length;function S1(t,e,n){let i="",o=!0;for(let a=0;a<x1;a++){const u=Wo[a],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=Ew(h,zp[u]);if(!f){o=!1;const v=T1[u]||u;i+=`${v}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function Hp(t,e,n){const{style:i,vars:o,transformOrigin:a}=t;let u=!1,h=!1;for(const f in e){const p=e[f];if(Ts.has(f)){u=!0;continue}else if(Up(f)){o[f]=p;continue}else{const v=Ew(p,zp[f]);f.startsWith("origin")?(h=!0,a[f]=v):i[f]=v}}if(e.transform||(u||n?i.transform=S1(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:v=0}=a;i.transformOrigin=`${f} ${p} ${v}`}}const Wp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Tw(t,e,n){for(const i in e)!Wt(e[i])&&!ww(i,n)&&(t[i]=e[i])}function C1({transformTemplate:t},e){return b.useMemo(()=>{const n=Wp();return Hp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function A1(t,e){const n=t.style||{},i={};return Tw(i,n,t),Object.assign(i,C1(t,e)),i}function I1(t,e){const n={},i=A1(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const P1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Gp(t){return typeof t!="string"||t.includes("-")?!1:!!(P1.indexOf(t)>-1||/[A-Z]/u.test(t))}const R1={offset:"stroke-dashoffset",array:"stroke-dasharray"},k1={offset:"strokeDashoffset",array:"strokeDasharray"};function b1(t,e,n=1,i=0,o=!0){t.pathLength=1;const a=o?R1:k1;t[a.offset]=we.transform(-i);const u=we.transform(e),h=we.transform(n);t[a.array]=`${u} ${h}`}function Tv(t,e,n){return typeof t=="string"?t:we.transform(e+n*t)}function V1(t,e,n){const i=Tv(e,t.x,t.width),o=Tv(n,t.y,t.height);return`${i} ${o}`}function qp(t,{attrX:e,attrY:n,attrScale:i,originX:o,originY:a,pathLength:u,pathSpacing:h=1,pathOffset:f=0,...p},v,w){if(Hp(t,p,w),v){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:S,dimensions:I}=t;E.transform&&(I&&(S.transform=E.transform),delete E.transform),I&&(o!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=V1(I,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),i!==void 0&&(E.scale=i),u!==void 0&&b1(E,u,h,f,!1)}const xw=()=>({...Wp(),attrs:{}}),Kp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function D1(t,e,n,i){const o=b.useMemo(()=>{const a=xw();return qp(a,e,Kp(i),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};Tw(a,t.style,t),o.style={...a,...o.style}}return o}function N1(t=!1){return(n,i,o,{latestValues:a},u)=>{const f=(Gp(n)?D1:I1)(i,a,u,n),p=n1(i,typeof n=="string",t),v=n!==b.Fragment?{...p,...f,ref:o}:{},{children:w}=i,E=b.useMemo(()=>Wt(w)?w.get():w,[w]);return b.createElement(n,{...v,children:E})}}function xv(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Qp(t,e,n,i){if(typeof e=="function"){const[o,a]=xv(i);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=xv(i);e=e(n!==void 0?n:t.custom,o,a)}return e}const Cf=t=>Array.isArray(t),M1=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),L1=t=>Cf(t)?t[t.length-1]||0:t;function yc(t){const e=Wt(t)?t.get():t;return M1(e)?e.toValue():e}function O1({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,o,a){const u={latestValues:F1(i,o,a,t),renderState:e()};return n&&(u.onMount=h=>n({props:i,current:h,...u}),u.onUpdate=h=>n(h)),u}const Sw=t=>(e,n)=>{const i=b.useContext(eh),o=b.useContext(Zc),a=()=>O1(t,e,i,o);return n?a():Ap(a)};function F1(t,e,n,i){const o={},a=i(t,{});for(const E in a)o[E]=yc(a[E]);let{initial:u,animate:h}=t;const f=nh(t),p=mw(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const w=v?h:u;if(w&&typeof w!="boolean"&&!th(w)){const E=Array.isArray(w)?w:[w];for(let S=0;S<E.length;S++){const I=Qp(t,E[S]);if(I){const{transitionEnd:L,transition:V,...j}=I;for(const q in j){let W=j[q];if(Array.isArray(W)){const ie=v?W.length-1:0;W=W[ie]}W!==null&&(o[q]=W)}for(const q in L)o[q]=L[q]}}}return o}function Yp(t,e,n){var i;const{style:o}=t,a={};for(const u in o)(Wt(o[u])||e.style&&Wt(e.style[u])||ww(u,t)||((i=n==null?void 0:n.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(a[u]=o[u]);return a}const j1={useVisualState:Sw({scrapeMotionValuesFromProps:Yp,createRenderState:Wp})};function Cw(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function Aw(t,{style:e,vars:n},i,o){Object.assign(t.style,e,o&&o.getProjectionStyles(i));for(const a in n)t.style.setProperty(a,n[a])}const Iw=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Pw(t,e,n,i){Aw(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(Iw.has(o)?o:Bp(o),e.attrs[o])}function Rw(t,e,n){const i=Yp(t,e,n);for(const o in t)if(Wt(t[o])||Wt(e[o])){const a=Wo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[a]=t[o]}return i}const Sv=["x","y","width","height","cx","cy","r"],B1={useVisualState:Sw({scrapeMotionValuesFromProps:Rw,createRenderState:xw,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:o})=>{if(!n)return;let a=!!t.drag;if(!a){for(const h in o)if(Ts.has(h)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let h=0;h<Sv.length;h++){const f=Sv[h];t[f]!==e[f]&&(u=!0)}u&&qe.read(()=>{Cw(n,i),qe.render(()=>{qp(i,o,Kp(n.tagName),t.transformTemplate),Pw(n,i)})})}})};function U1(t,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...Gp(i)?B1:j1,preloadedFeatures:t,useRender:N1(o),createVisualElement:e,Component:i};return h1(u)}}function yl(t,e,n){const i=t.getProps();return Qp(i,e,n!==void 0?n:i.custom,t)}const kw=new Set(["width","height","top","left","right","bottom",...Wo]);function $1(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,fl(n))}function z1(t,e){const n=yl(t,e);let{transitionEnd:i={},transition:o={},...a}=n||{};a={...a,...i};for(const u in a){const h=L1(a[u]);$1(t,u,h)}}function H1(t){return!!(Wt(t)&&t.add)}function Af(t,e){const n=t.getValue("willChange");if(H1(n))return n.add(e)}function bw(t){return t.props[gw]}const Vw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,W1=1e-7,G1=12;function q1(t,e,n,i,o){let a,u,h=0;do u=e+(n-e)/2,a=Vw(u,i,o)-t,a>0?n=u:e=u;while(Math.abs(a)>W1&&++h<G1);return u}function Dl(t,e,n,i){if(t===e&&n===i)return gn;const o=a=>q1(a,0,1,t,n);return a=>a===0||a===1?a:Vw(o(a),e,i)}const Dw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Nw=t=>e=>1-t(1-e),Mw=Dl(.33,1.53,.69,.99),Xp=Nw(Mw),Lw=Dw(Xp),Ow=t=>(t*=2)<1?.5*Xp(t):.5*(2-Math.pow(2,-10*(t-1))),Jp=t=>1-Math.sin(Math.acos(t)),Fw=Nw(Jp),jw=Dw(Jp),Bw=t=>/^0[^.\s]+$/u.test(t);function K1(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Bw(t):!0}const rl=t=>Math.round(t*1e5)/1e5,Zp=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Q1(t){return t==null}const Y1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,em=(t,e)=>n=>!!(typeof n=="string"&&Y1.test(n)&&n.startsWith(t)||e&&!Q1(n)&&Object.prototype.hasOwnProperty.call(n,e)),Uw=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,a,u,h]=i.match(Zp);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},X1=t=>Ur(0,255,t),ef={...Go,transform:t=>Math.round(X1(t))},gs={test:em("rgb","red"),parse:Uw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+ef.transform(t)+", "+ef.transform(e)+", "+ef.transform(n)+", "+rl(gl.transform(i))+")"};function J1(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const If={test:em("#"),parse:J1,transform:gs.transform},Io={test:em("hsl","hue"),parse:Uw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+ur.transform(rl(e))+", "+ur.transform(rl(n))+", "+rl(gl.transform(i))+")"},$t={test:t=>gs.test(t)||If.test(t)||Io.test(t),parse:t=>gs.test(t)?gs.parse(t):Io.test(t)?Io.parse(t):If.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?gs.transform(t):Io.transform(t)},Z1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eI(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Zp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Z1))===null||n===void 0?void 0:n.length)||0)>0}const $w="number",zw="color",tI="var",nI="var(",Cv="${}",rI=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vl(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let a=0;const h=e.replace(rI,f=>($t.test(f)?(i.color.push(a),o.push(zw),n.push($t.parse(f))):f.startsWith(nI)?(i.var.push(a),o.push(tI),n.push(f)):(i.number.push(a),o.push($w),n.push(parseFloat(f))),++a,Cv)).split(Cv);return{values:n,split:h,indexes:i,types:o}}function Hw(t){return vl(t).values}function Ww(t){const{split:e,types:n}=vl(t),i=e.length;return o=>{let a="";for(let u=0;u<i;u++)if(a+=e[u],o[u]!==void 0){const h=n[u];h===$w?a+=rl(o[u]):h===zw?a+=$t.transform(o[u]):a+=o[u]}return a}}const iI=t=>typeof t=="number"?0:t;function sI(t){const e=Hw(t);return Ww(t)(e.map(iI))}const Ai={test:eI,parse:Hw,createTransformer:Ww,getAnimatableNone:sI},oI=new Set(["brightness","contrast","saturate","opacity"]);function aI(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(Zp)||[];if(!i)return t;const o=n.replace(i,"");let a=oI.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+o+")"}const lI=/\b([a-z-]*)\(.*?\)/gu,Pf={...Ai,getAnimatableNone:t=>{const e=t.match(lI);return e?e.map(aI).join(" "):t}},uI={...zp,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:Pf,WebkitFilter:Pf},Gw=t=>uI[t];function qw(t,e){let n=Gw(t);return n!==Pf&&(n=Ai),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const cI=new Set(["auto","none","0"]);function hI(t,e,n){let i=0,o;for(;i<t.length&&!o;){const a=t[i];typeof a=="string"&&!cI.has(a)&&vl(a).values.length&&(o=t[i]),i++}if(o&&n)for(const a of e)t[a]=qw(n,o)}const ys=t=>t*180/Math.PI,Rf=t=>{const e=ys(Math.atan2(t[1],t[0]));return kf(e)},dI={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Rf,rotateZ:Rf,skewX:t=>ys(Math.atan(t[1])),skewY:t=>ys(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},kf=t=>(t=t%360,t<0&&(t+=360),t),Av=Rf,Iv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Pv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),fI={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Iv,scaleY:Pv,scale:t=>(Iv(t)+Pv(t))/2,rotateX:t=>kf(ys(Math.atan2(t[6],t[5]))),rotateY:t=>kf(ys(Math.atan2(-t[2],t[0]))),rotateZ:Av,rotate:Av,skewX:t=>ys(Math.atan(t[4])),skewY:t=>ys(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Rv(t){return t.includes("scale")?1:0}function bf(t,e){if(!t||t==="none")return Rv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=fI,o=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=dI,o=h}if(!o)return Rv(e);const a=i[e],u=o[1].split(",").map(mI);return typeof a=="function"?a(u):u[a]}const pI=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return bf(n,e)};function mI(t){return parseFloat(t.trim())}const kv=t=>t===Go||t===we,gI=new Set(["x","y","z"]),yI=Wo.filter(t=>!gI.has(t));function vI(t){const e=[];return yI.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Mo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>bf(e,"x"),y:(t,{transform:e})=>bf(e,"y")};Mo.translateX=Mo.x;Mo.translateY=Mo.y;const _s=new Set;let Vf=!1,Df=!1;function Kw(){if(Df){const t=Array.from(_s).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=vI(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([a,u])=>{var h;(h=i.getValue(a))===null||h===void 0||h.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Df=!1,Vf=!1,_s.forEach(t=>t.complete()),_s.clear()}function Qw(){_s.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Df=!0)})}function _I(){Qw(),Kw()}class tm{constructor(e,n,i,o,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(_s.add(this),Vf||(Vf=!0,qe.read(Qw),qe.resolveKeyframes(Kw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=o==null?void 0:o.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&n){const f=i.readValue(n,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),o&&u===void 0&&o.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),_s.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,_s.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Yw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),wI=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function EI(t){const e=wI.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function Xw(t,e,n=1){const[i,o]=EI(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const u=a.trim();return Yw(u)?parseFloat(u):u}return $p(o)?Xw(o,e,n+1):o}const Jw=t=>e=>e.test(t),TI={test:t=>t==="auto",parse:t=>t},Zw=[Go,we,ur,yi,_1,v1,TI],bv=t=>Zw.find(Jw(t));class eE extends tm{constructor(e,n,i,o,a){super(e,n,i,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),$p(p))){const v=Xw(p,n.current);v!==void 0&&(e[f]=v),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!kw.has(i)||e.length!==2)return;const[o,a]=e,u=bv(o),h=bv(a);if(u!==h)if(kv(u)&&kv(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)K1(e[o])&&i.push(o);i.length&&hI(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const a=n.getValue(i);a&&a.jump(this.measuredOrigin,!1);const u=o.length-1,h=o[u];o[u]=Mo[i](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const Vv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ai.test(t)||t==="0")&&!t.startsWith("url("));function xI(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function SI(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=Vv(o,e),h=Vv(a,e);return!u||!h?!1:xI(t)||(n==="spring"||Np(n))&&i}const CI=t=>t!==null;function rh(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(CI),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return!a||i===void 0?o[a]:i}const AI=40;class tE{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=lr.now(),this.options={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:a,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>AI?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&_I(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=lr.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:a,delay:u,onComplete:h,onUpdate:f,isGenerator:p}=this.options;if(!p&&!SI(e,i,o,a))if(u)this.options.duration=0;else{f&&f(rh(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const v=this.initPlayback(e,n);v!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...v},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const nt=(t,e,n)=>t+(e-t)*n;function tf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function II({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,a=0,u=0;if(!e)o=a=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;o=tf(f,h,t+1/3),a=tf(f,h,t),u=tf(f,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function kc(t,e){return n=>n>0?e:t}const nf=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},PI=[If,gs,Io],RI=t=>PI.find(e=>e.test(t));function Dv(t){const e=RI(t);if(!e)return!1;let n=e.parse(t);return e===Io&&(n=II(n)),n}const Nv=(t,e)=>{const n=Dv(t),i=Dv(e);if(!n||!i)return kc(t,e);const o={...n};return a=>(o.red=nf(n.red,i.red,a),o.green=nf(n.green,i.green,a),o.blue=nf(n.blue,i.blue,a),o.alpha=nt(n.alpha,i.alpha,a),gs.transform(o))},kI=(t,e)=>n=>e(t(n)),Nl=(...t)=>t.reduce(kI),Nf=new Set(["none","hidden"]);function bI(t,e){return Nf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function VI(t,e){return n=>nt(t,e,n)}function nm(t){return typeof t=="number"?VI:typeof t=="string"?$p(t)?kc:$t.test(t)?Nv:MI:Array.isArray(t)?nE:typeof t=="object"?$t.test(t)?Nv:DI:kc}function nE(t,e){const n=[...t],i=n.length,o=t.map((a,u)=>nm(a)(a,e[u]));return a=>{for(let u=0;u<i;u++)n[u]=o[u](a);return n}}function DI(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=nm(t[o])(t[o],e[o]));return o=>{for(const a in i)n[a]=i[a](o);return n}}function NI(t,e){var n;const i=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],h=t.indexes[u][o[u]],f=(n=t.values[h])!==null&&n!==void 0?n:0;i[a]=f,o[u]++}return i}const MI=(t,e)=>{const n=Ai.createTransformer(e),i=vl(t),o=vl(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Nf.has(t)&&!o.values.length||Nf.has(e)&&!i.values.length?bI(t,e):Nl(nE(NI(i,o),o.values),n):kc(t,e)};function rE(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?nt(t,e,n):nm(t)(t,e)}const LI=5;function iE(t,e,n){const i=Math.max(e-LI,0);return iw(n-t(i),e-i)}const ot={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mv=.001;function OI({duration:t=ot.duration,bounce:e=ot.bounce,velocity:n=ot.velocity,mass:i=ot.mass}){let o,a,u=1-e;u=Ur(ot.minDamping,ot.maxDamping,u),t=Ur(ot.minDuration,ot.maxDuration,Fr(t)),u<1?(o=p=>{const v=p*u,w=v*t,E=v-n,S=Mf(p,u),I=Math.exp(-w);return Mv-E/S*I},a=p=>{const w=p*u*t,E=w*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,I=Math.exp(-w),L=Mf(Math.pow(p,2),u);return(-o(p)+Mv>0?-1:1)*((E-S)*I)/L}):(o=p=>{const v=Math.exp(-p*t),w=(p-n)*t+1;return-.001+v*w},a=p=>{const v=Math.exp(-p*t),w=(n-p)*(t*t);return v*w});const h=5/t,f=jI(o,a,h);if(t=Or(t),isNaN(f))return{stiffness:ot.stiffness,damping:ot.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const FI=12;function jI(t,e,n){let i=n;for(let o=1;o<FI;o++)i=i-t(i)/e(i);return i}function Mf(t,e){return t*Math.sqrt(1-e*e)}const BI=["duration","bounce"],UI=["stiffness","damping","mass"];function Lv(t,e){return e.some(n=>t[n]!==void 0)}function $I(t){let e={velocity:ot.velocity,stiffness:ot.stiffness,damping:ot.damping,mass:ot.mass,isResolvedFromDuration:!1,...t};if(!Lv(t,UI)&&Lv(t,BI))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,a=2*Ur(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:ot.mass,stiffness:o,damping:a}}else{const n=OI(t);e={...e,...n,mass:ot.mass},e.isResolvedFromDuration=!0}return e}function sE(t=ot.visualDuration,e=ot.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:v,duration:w,velocity:E,isResolvedFromDuration:S}=$I({...n,velocity:-Fr(n.velocity||0)}),I=E||0,L=p/(2*Math.sqrt(f*v)),V=u-a,j=Fr(Math.sqrt(f/v)),q=Math.abs(V)<5;i||(i=q?ot.restSpeed.granular:ot.restSpeed.default),o||(o=q?ot.restDelta.granular:ot.restDelta.default);let W;if(L<1){const ee=Mf(j,L);W=se=>{const D=Math.exp(-L*j*se);return u-D*((I+L*j*V)/ee*Math.sin(ee*se)+V*Math.cos(ee*se))}}else if(L===1)W=ee=>u-Math.exp(-j*ee)*(V+(I+j*V)*ee);else{const ee=j*Math.sqrt(L*L-1);W=se=>{const D=Math.exp(-L*j*se),C=Math.min(ee*se,300);return u-D*((I+L*j*V)*Math.sinh(C)+ee*V*Math.cosh(C))/ee}}const ie={calculatedDuration:S&&w||null,next:ee=>{const se=W(ee);if(S)h.done=ee>=w;else{let D=0;L<1&&(D=ee===0?Or(I):iE(W,ee,se));const C=Math.abs(D)<=i,P=Math.abs(u-se)<=o;h.done=C&&P}return h.value=h.done?u:se,h},toString:()=>{const ee=Math.min(sw(ie),xf),se=ow(D=>ie.next(ee*D).value,ee,30);return ee+"ms "+se}};return ie}function Ov({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:v}){const w=t[0],E={done:!1,value:w},S=C=>h!==void 0&&C<h||f!==void 0&&C>f,I=C=>h===void 0?f:f===void 0||Math.abs(h-C)<Math.abs(f-C)?h:f;let L=n*e;const V=w+L,j=u===void 0?V:u(V);j!==V&&(L=j-w);const q=C=>-L*Math.exp(-C/i),W=C=>j+q(C),ie=C=>{const P=q(C),N=W(C);E.done=Math.abs(P)<=p,E.value=E.done?j:N};let ee,se;const D=C=>{S(E.value)&&(ee=C,se=sE({keyframes:[E.value,I(E.value)],velocity:iE(W,C,E.value),damping:o,stiffness:a,restDelta:p,restSpeed:v}))};return D(0),{calculatedDuration:null,next:C=>{let P=!1;return!se&&ee===void 0&&(P=!0,ie(C),D(C)),ee!==void 0&&C>=ee?se.next(C-ee):(!P&&ie(C),E)}}}const zI=Dl(.42,0,1,1),HI=Dl(0,0,.58,1),oE=Dl(.42,0,.58,1),WI=t=>Array.isArray(t)&&typeof t[0]!="number",GI={linear:gn,easeIn:zI,easeInOut:oE,easeOut:HI,circIn:Jp,circInOut:jw,circOut:Fw,backIn:Xp,backInOut:Lw,backOut:Mw,anticipate:Ow},Fv=t=>{if(Mp(t)){rw(t.length===4);const[e,n,i,o]=t;return Dl(e,n,i,o)}else if(typeof t=="string")return GI[t];return t};function qI(t,e,n){const i=[],o=n||rE,a=t.length-1;for(let u=0;u<a;u++){let h=o(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||gn:e;h=Nl(f,h)}i.push(h)}return i}function KI(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const a=t.length;if(rw(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=qI(e,i,o),f=h.length,p=v=>{if(u&&v<t[0])return e[0];let w=0;if(f>1)for(;w<t.length-2&&!(v<t[w+1]);w++);const E=Do(t[w],t[w+1],v);return h[w](E)};return n?v=>p(Ur(t[0],t[a-1],v)):p}function QI(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=Do(0,e,i);t.push(nt(n,1,o))}}function YI(t){const e=[0];return QI(e,t.length-1),e}function XI(t,e){return t.map(n=>n*e)}function JI(t,e){return t.map(()=>e||oE).splice(0,t.length-1)}function bc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=WI(i)?i.map(Fv):Fv(i),a={done:!1,value:e[0]},u=XI(n&&n.length===e.length?n:YI(e),t),h=KI(u,e,{ease:Array.isArray(o)?o:JI(e,o)});return{calculatedDuration:t,next:f=>(a.value=h(f),a.done=f>=t,a)}}const ZI=t=>{const e=({timestamp:n})=>t(n);return{start:()=>qe.update(e,!0),stop:()=>Ci(e),now:()=>Dt.isProcessing?Dt.timestamp:lr.now()}},eP={decay:Ov,inertia:Ov,tween:bc,keyframes:bc,spring:sE},tP=t=>t/100;class rm extends tE{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:i,element:o,keyframes:a}=this.options,u=(o==null?void 0:o.KeyframeResolver)||tm,h=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new u(a,h,n,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=this.options,h=Np(n)?n:eP[n]||bc;let f,p;h!==bc&&typeof e[0]!="number"&&(f=Nl(tP,rE(e[0],e[1])),e=[0,100]);const v=h({...this.options,keyframes:e});a==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-u})),v.calculatedDuration===null&&(v.calculatedDuration=sw(v));const{calculatedDuration:w}=v,E=w+o,S=E*(i+1)-o;return{generator:v,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:w,resolvedDuration:E,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:o,generator:a,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:p,totalDuration:v,resolvedDuration:w}=i;if(this.startTime===null)return a.next(0);const{delay:E,repeat:S,repeatType:I,repeatDelay:L,onUpdate:V}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-v/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const j=this.currentTime-E*(this.speed>=0?1:-1),q=this.speed>=0?j<0:j>v;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let W=this.currentTime,ie=a;if(S){const C=Math.min(this.currentTime,v)/w;let P=Math.floor(C),N=C%1;!N&&C>=1&&(N=1),N===1&&P--,P=Math.min(P,S+1),!!(P%2)&&(I==="reverse"?(N=1-N,L&&(N-=L/w)):I==="mirror"&&(ie=u)),W=Ur(0,1,N)*w}const ee=q?{done:!1,value:f[0]}:ie.next(W);h&&(ee.value=h(ee.value));let{done:se}=ee;!q&&p!==null&&(se=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&se);return D&&o!==void 0&&(ee.value=rh(f,this.options,o)),V&&V(ee.value),D&&this.finish(),ee}get duration(){const{resolved:e}=this;return e?Fr(e.calculatedDuration):0}get time(){return Fr(this.currentTime)}set time(e){e=Or(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Fr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ZI,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const nP=new Set(["opacity","clipPath","filter","transform"]);function rP(t,e,n,{delay:i=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:h="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const v=lw(h,o);return Array.isArray(v)&&(p.easing=v),t.animate(p,{delay:i,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const iP=bp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Vc=10,sP=2e4;function oP(t){return Np(t.type)||t.type==="spring"||!aw(t.ease)}function aP(t,e){const n=new rm({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const o=[];let a=0;for(;!i.done&&a<sP;)i=n.sample(a),o.push(i.value),a+=Vc;return{times:void 0,keyframes:o,duration:a-Vc,ease:"linear"}}const aE={anticipate:Ow,backInOut:Lw,circInOut:jw};function lP(t){return t in aE}class jv extends tE{constructor(e){super(e);const{name:n,motionValue:i,element:o,keyframes:a}=this.options;this.resolver=new eE(a,(u,h)=>this.onKeyframesResolved(u,h),n,i,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:o,ease:a,type:u,motionValue:h,name:f,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof a=="string"&&Pc()&&lP(a)&&(a=aE[a]),oP(this.options)){const{onComplete:w,onUpdate:E,motionValue:S,element:I,...L}=this.options,V=aP(e,L);e=V.keyframes,e.length===1&&(e[1]=e[0]),i=V.duration,o=V.times,a=V.ease,u="keyframes"}const v=rP(h.owner.current,f,e,{...this.options,duration:i,times:o,ease:a});return v.startTime=p??this.calcStartTime(),this.pendingTimeline?(hv(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:w}=this.options;h.set(rh(e,this.options,n)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:i,times:o,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Fr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Fr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Or(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return gn;const{animation:i}=n;hv(i,e)}return gn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:o,type:a,ease:u,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:v,onComplete:w,element:E,...S}=this.options,I=new rm({...S,keyframes:i,duration:o,type:a,ease:u,times:h,isGenerator:!0}),L=Or(this.time);p.setWithVelocity(I.sample(L-Vc).value,I.sample(L).value,Vc)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:o,repeatType:a,damping:u,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return iP()&&i&&nP.has(i)&&!f&&!p&&!o&&a!=="mirror"&&u!==0&&h!=="inertia"}}const uP={type:"spring",stiffness:500,damping:25,restSpeed:10},cP=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hP={type:"keyframes",duration:.8},dP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fP=(t,{keyframes:e})=>e.length>2?hP:Ts.has(t)?t.startsWith("scale")?cP(e[1]):uP:dP;function pP({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:p,...v}){return!!Object.keys(v).length}const im=(t,e,n,i={},o,a)=>u=>{const h=Dp(i,t)||{},f=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Or(f);let v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:E=>{e.set(E),h.onUpdate&&h.onUpdate(E)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:o};pP(h)||(v={...v,...fP(t,v)}),v.duration&&(v.duration=Or(v.duration)),v.repeatDelay&&(v.repeatDelay=Or(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let w=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(w=!0)),v.allowFlatten=!h.type&&!h.ease,w&&!a&&e.get()!==void 0){const E=rh(v.keyframes,h);if(E!==void 0)return qe.update(()=>{v.onUpdate(E),v.onComplete()}),new OA([])}return!a&&jv.supports(v)?new jv(v):new rm(v)};function mP({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function lE(t,e,{delay:n=0,transitionOverride:i,type:o}={}){var a;let{transition:u=t.getDefaultTransition(),transitionEnd:h,...f}=e;i&&(u=i);const p=[],v=o&&t.animationState&&t.animationState.getState()[o];for(const w in f){const E=t.getValue(w,(a=t.latestValues[w])!==null&&a!==void 0?a:null),S=f[w];if(S===void 0||v&&mP(v,w))continue;const I={delay:n,...Dp(u||{},w)};let L=!1;if(window.MotionHandoffAnimation){const j=bw(t);if(j){const q=window.MotionHandoffAnimation(j,w,qe);q!==null&&(I.startTime=q,L=!0)}}Af(t,w),E.start(im(w,E,S,t.shouldReduceMotion&&kw.has(w)?{type:!1}:I,t,L));const V=E.animation;V&&p.push(V)}return h&&Promise.all(p).then(()=>{qe.update(()=>{h&&z1(t,h)})}),p}function Lf(t,e,n={}){var i;const o=yl(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(a=n.transitionOverride);const u=o?()=>Promise.all(lE(t,o,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:w,staggerDirection:E}=a;return gP(t,e,v+p,w,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,v]=f==="beforeChildren"?[u,h]:[h,u];return p().then(()=>v())}else return Promise.all([u(),h(n.delay)])}function gP(t,e,n=0,i=0,o=1,a){const u=[],h=(t.variantChildren.size-1)*i,f=o===1?(p=0)=>p*i:(p=0)=>h-p*i;return Array.from(t.variantChildren).sort(yP).forEach((p,v)=>{p.notify("AnimationStart",e),u.push(Lf(p,e,{...a,delay:n+f(v)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function yP(t,e){return t.sortNodePosition(e)}function vP(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(a=>Lf(t,a,n));i=Promise.all(o)}else if(typeof e=="string")i=Lf(t,e,n);else{const o=typeof e=="function"?yl(t,e,n.custom):e;i=Promise.all(lE(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function uE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const _P=jp.length;function cE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?cE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<_P;n++){const i=jp[n],o=t.props[i];(pl(o)||o===!1)&&(e[i]=o)}return e}const wP=[...Fp].reverse(),EP=Fp.length;function TP(t){return e=>Promise.all(e.map(({animation:n,options:i})=>vP(t,n,i)))}function xP(t){let e=TP(t),n=Bv(),i=!0;const o=f=>(p,v)=>{var w;const E=yl(t,v,f==="exit"?(w=t.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(E){const{transition:S,transitionEnd:I,...L}=E;p={...p,...L,...I}}return p};function a(f){e=f(t)}function u(f){const{props:p}=t,v=cE(t.parent)||{},w=[],E=new Set;let S={},I=1/0;for(let V=0;V<EP;V++){const j=wP[V],q=n[j],W=p[j]!==void 0?p[j]:v[j],ie=pl(W),ee=j===f?q.isActive:null;ee===!1&&(I=V);let se=W===v[j]&&W!==p[j]&&ie;if(se&&i&&t.manuallyAnimateOnMount&&(se=!1),q.protectedKeys={...S},!q.isActive&&ee===null||!W&&!q.prevProp||th(W)||typeof W=="boolean")continue;const D=SP(q.prevProp,W);let C=D||j===f&&q.isActive&&!se&&ie||V>I&&ie,P=!1;const N=Array.isArray(W)?W:[W];let M=N.reduce(o(j),{});ee===!1&&(M={});const{prevResolvedValues:F={}}=q,A={...F,...M},Ae=Te=>{C=!0,E.has(Te)&&(P=!0,E.delete(Te)),q.needsAnimating[Te]=!0;const ne=t.getValue(Te);ne&&(ne.liveStyle=!1)};for(const Te in A){const ne=M[Te],pe=F[Te];if(S.hasOwnProperty(Te))continue;let ae=!1;Cf(ne)&&Cf(pe)?ae=!uE(ne,pe):ae=ne!==pe,ae?ne!=null?Ae(Te):E.add(Te):ne!==void 0&&E.has(Te)?Ae(Te):q.protectedKeys[Te]=!0}q.prevProp=W,q.prevResolvedValues=M,q.isActive&&(S={...S,...M}),i&&t.blockInitialAnimation&&(C=!1),C&&(!(se&&D)||P)&&w.push(...N.map(Te=>({animation:Te,options:{type:j}})))}if(E.size){const V={};if(typeof p.initial!="boolean"){const j=yl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(V.transition=j.transition)}E.forEach(j=>{const q=t.getBaseTarget(j),W=t.getValue(j);W&&(W.liveStyle=!0),V[j]=q??null}),w.push({animation:V})}let L=!!w.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(L=!1),i=!1,L?e(w):Promise.resolve()}function h(f,p){var v;if(n[f].isActive===p)return Promise.resolve();(v=t.variantChildren)===null||v===void 0||v.forEach(E=>{var S;return(S=E.animationState)===null||S===void 0?void 0:S.setActive(f,p)}),n[f].isActive=p;const w=u(f);for(const E in n)n[E].protectedKeys={};return w}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Bv(),i=!0}}}function SP(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uE(e,t):!1}function cs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bv(){return{animate:cs(!0),whileInView:cs(),whileHover:cs(),whileTap:cs(),whileDrag:cs(),whileFocus:cs(),exit:cs()}}class Mi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class CP extends Mi{constructor(e){super(e),e.animationState||(e.animationState=xP(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();th(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let AP=0;class IP extends Mi{constructor(){super(...arguments),this.id=AP++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const PP={animation:{Feature:CP},exit:{Feature:IP}};function _l(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Ml(t){return{point:{x:t.pageX,y:t.pageY}}}const RP=t=>e=>Op(e)&&t(e,Ml(e));function il(t,e,n,i){return _l(t,e,RP(n),i)}function hE({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function kP({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function bP(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const dE=1e-4,VP=1-dE,DP=1+dE,fE=.01,NP=0-fE,MP=0+fE;function Yt(t){return t.max-t.min}function LP(t,e,n){return Math.abs(t-e)<=n}function Uv(t,e,n,i=.5){t.origin=i,t.originPoint=nt(e.min,e.max,t.origin),t.scale=Yt(n)/Yt(e),t.translate=nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=VP&&t.scale<=DP||isNaN(t.scale))&&(t.scale=1),(t.translate>=NP&&t.translate<=MP||isNaN(t.translate))&&(t.translate=0)}function sl(t,e,n,i){Uv(t.x,e.x,n.x,i?i.originX:void 0),Uv(t.y,e.y,n.y,i?i.originY:void 0)}function $v(t,e,n){t.min=n.min+e.min,t.max=t.min+Yt(e)}function OP(t,e,n){$v(t.x,e.x,n.x),$v(t.y,e.y,n.y)}function zv(t,e,n){t.min=e.min-n.min,t.max=t.min+Yt(e)}function ol(t,e,n){zv(t.x,e.x,n.x),zv(t.y,e.y,n.y)}const Hv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Po=()=>({x:Hv(),y:Hv()}),Wv=()=>({min:0,max:0}),ct=()=>({x:Wv(),y:Wv()});function Rn(t){return[t("x"),t("y")]}function rf(t){return t===void 0||t===1}function Of({scale:t,scaleX:e,scaleY:n}){return!rf(t)||!rf(e)||!rf(n)}function fs(t){return Of(t)||pE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function pE(t){return Gv(t.x)||Gv(t.y)}function Gv(t){return t&&t!=="0%"}function Dc(t,e,n){const i=t-n,o=e*i;return n+o}function qv(t,e,n,i,o){return o!==void 0&&(t=Dc(t,o,i)),Dc(t,n,i)+e}function Ff(t,e=0,n=1,i,o){t.min=qv(t.min,e,n,i,o),t.max=qv(t.max,e,n,i,o)}function mE(t,{x:e,y:n}){Ff(t.x,e.translate,e.scale,e.originPoint),Ff(t.y,n.translate,n.scale,n.originPoint)}const Kv=.999999999999,Qv=1.0000000000001;function FP(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let h=0;h<o;h++){a=n[h],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ko(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,mE(t,u)),i&&fs(a.latestValues)&&ko(t,a.latestValues))}e.x<Qv&&e.x>Kv&&(e.x=1),e.y<Qv&&e.y>Kv&&(e.y=1)}function Ro(t,e){t.min=t.min+e,t.max=t.max+e}function Yv(t,e,n,i,o=.5){const a=nt(t.min,t.max,o);Ff(t,e,n,a,i)}function ko(t,e){Yv(t.x,e.x,e.scaleX,e.scale,e.originX),Yv(t.y,e.y,e.scaleY,e.scale,e.originY)}function gE(t,e){return hE(bP(t.getBoundingClientRect(),e))}function jP(t,e,n){const i=gE(t,n),{scroll:o}=e;return o&&(Ro(i.x,o.offset.x),Ro(i.y,o.offset.y)),i}const yE=({current:t})=>t?t.ownerDocument.defaultView:null,Xv=(t,e)=>Math.abs(t-e);function BP(t,e){const n=Xv(t.x,e.x),i=Xv(t.y,e.y);return Math.sqrt(n**2+i**2)}class vE{constructor(e,n,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=of(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,S=BP(w.offset,{x:0,y:0})>=3;if(!E&&!S)return;const{point:I}=w,{timestamp:L}=Dt;this.history.push({...I,timestamp:L});const{onStart:V,onMove:j}=this.handlers;E||(V&&V(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,w)},this.handlePointerMove=(w,E)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=sf(E,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(w,E)=>{this.end();const{onEnd:S,onSessionEnd:I,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const V=of(w.type==="pointercancel"?this.lastMoveEventInfo:sf(E,this.transformPagePoint),this.history);this.startEvent&&S&&S(w,V),I&&I(w,V)},!Op(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.contextWindow=o||window;const u=Ml(e),h=sf(u,this.transformPagePoint),{point:f}=h,{timestamp:p}=Dt;this.history=[{...f,timestamp:p}];const{onSessionStart:v}=n;v&&v(e,of(h,this.history)),this.removeListeners=Nl(il(this.contextWindow,"pointermove",this.handlePointerMove),il(this.contextWindow,"pointerup",this.handlePointerUp),il(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ci(this.updatePoint)}}function sf(t,e){return e?{point:e(t.point)}:t}function Jv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function of({point:t},e){return{point:t,delta:Jv(t,_E(e)),offset:Jv(t,UP(e)),velocity:$P(e,.1)}}function UP(t){return t[0]}function _E(t){return t[t.length-1]}function $P(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=_E(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>Or(e)));)n--;if(!i)return{x:0,y:0};const a=Fr(o.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-i.x)/a,y:(o.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function zP(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?nt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?nt(n,t,i.max):Math.min(t,n)),t}function Zv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function HP(t,{top:e,left:n,bottom:i,right:o}){return{x:Zv(t.x,n,o),y:Zv(t.y,e,i)}}function e0(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function WP(t,e){return{x:e0(t.x,e.x),y:e0(t.y,e.y)}}function GP(t,e){let n=.5;const i=Yt(t),o=Yt(e);return o>i?n=Do(e.min,e.max-i,t.min):i>o&&(n=Do(t.min,t.max-o,e.min)),Ur(0,1,n)}function qP(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const jf=.35;function KP(t=jf){return t===!1?t=0:t===!0&&(t=jf),{x:t0(t,"left","right"),y:t0(t,"top","bottom")}}function t0(t,e,n){return{min:n0(t,e),max:n0(t,n)}}function n0(t,e){return typeof t=="number"?t:t[e]||0}const QP=new WeakMap;class YP{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ct(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ml(v).point)},a=(v,w)=>{const{drag:E,dragPropagation:S,onDragStart:I}=this.getProps();if(E&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=zA(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rn(V=>{let j=this.getAxisMotionValue(V).get()||0;if(ur.test(j)){const{projection:q}=this.visualElement;if(q&&q.layout){const W=q.layout.layoutBox[V];W&&(j=Yt(W)*(parseFloat(j)/100))}}this.originPoint[V]=j}),I&&qe.postRender(()=>I(v,w)),Af(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},u=(v,w)=>{const{dragPropagation:E,dragDirectionLock:S,onDirectionLock:I,onDrag:L}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:V}=w;if(S&&this.currentDirection===null){this.currentDirection=XP(V),this.currentDirection!==null&&I&&I(this.currentDirection);return}this.updateAxis("x",w.point,V),this.updateAxis("y",w.point,V),this.visualElement.render(),L&&L(v,w)},h=(v,w)=>this.stop(v,w),f=()=>Rn(v=>{var w;return this.getAnimationState(v)==="paused"&&((w=this.getAxisMotionValue(v).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new vE(e,{onSessionStart:o,onStart:a,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:yE(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&qe.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!lc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=zP(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&Ao(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=HP(o.layoutBox,n):this.constraints=!1,this.elastic=KP(i),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Rn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=qP(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ao(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=jP(i,o.root,this.visualElement.getTransformPagePoint());let u=WP(o.layout.layoutBox,a);if(n){const h=n(kP(u));this.hasMutatedConstraints=!!h,h&&(u=hE(h))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Rn(v=>{if(!lc(v,n,this.currentDirection))return;let w=f&&f[v]||{};u&&(w={min:0,max:0});const E=o?200:1e6,S=o?40:1e7,I={type:"inertia",velocity:i?e[v]:0,bounceStiffness:E,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(v,I)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Af(this.visualElement,e),i.start(im(e,i,0,n,this.visualElement,!1))}stopAnimation(){Rn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Rn(n=>{const{drag:i}=this.getProps();if(!lc(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:h}=o.layout.layoutBox[n];a.set(e[n]-nt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!Ao(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Rn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();o[u]=GP({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Rn(u=>{if(!lc(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(nt(f,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;QP.set(this.visualElement,this);const e=this.visualElement.current,n=il(e,"pointerdown",f=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();Ao(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),qe.read(i);const u=_l(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Rn(v=>{const w=this.getAxisMotionValue(v);w&&(this.originPoint[v]+=f[v].translate,w.set(w.get()+f[v].translate))}),this.visualElement.render())});return()=>{u(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=jf,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function lc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function XP(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class JP extends Mi{constructor(e){super(e),this.removeGroupControls=gn,this.removeListeners=gn,this.controls=new YP(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gn}unmount(){this.removeGroupControls(),this.removeListeners()}}const r0=t=>(e,n)=>{t&&qe.postRender(()=>t(e,n))};class ZP extends Mi{constructor(){super(...arguments),this.removePointerDownListener=gn}onPointerDown(e){this.session=new vE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:r0(e),onStart:r0(n),onMove:i,onEnd:(a,u)=>{delete this.session,o&&qe.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=il(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const vc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function i0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Qa={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(we.test(t))t=parseFloat(t);else return t;const n=i0(t,e.target.x),i=i0(t,e.target.y);return`${n}% ${i}%`}},eR={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=Ai.parse(t);if(o.length>5)return i;const a=Ai.createTransformer(t),u=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;o[0+u]/=h,o[1+u]/=f;const p=nt(h,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}};class tR extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:a}=e;y1(nR),a&&(n.group&&n.group.add(a),i&&i.register&&o&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),vc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:a}=this.props,u=i.projection;return u&&(u.isPresent=a,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||qe.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Lp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function wE(t){const[e,n]=nw(),i=b.useContext(Cp);return R.jsx(tR,{...t,layoutGroup:i,switchLayoutGroup:b.useContext(yw),isPresent:e,safeToRemove:n})}const nR={borderRadius:{...Qa,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Qa,borderTopRightRadius:Qa,borderBottomLeftRadius:Qa,borderBottomRightRadius:Qa,boxShadow:eR};function rR(t,e,n){const i=Wt(t)?t:fl(t);return i.start(im("",i,e,n)),i.animation}function iR(t){return t instanceof SVGElement&&t.tagName!=="svg"}const sR=(t,e)=>t.depth-e.depth;class oR{constructor(){this.children=[],this.isDirty=!1}add(e){Rp(this.children,e),this.isDirty=!0}remove(e){kp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(sR),this.isDirty=!1,this.children.forEach(e)}}function aR(t,e){const n=lr.now(),i=({timestamp:o})=>{const a=o-n;a>=e&&(Ci(i),t(a-e))};return qe.read(i,!0),()=>Ci(i)}const EE=["TopLeft","TopRight","BottomLeft","BottomRight"],lR=EE.length,s0=t=>typeof t=="string"?parseFloat(t):t,o0=t=>typeof t=="number"||we.test(t);function uR(t,e,n,i,o,a){o?(t.opacity=nt(0,n.opacity!==void 0?n.opacity:1,cR(i)),t.opacityExit=nt(e.opacity!==void 0?e.opacity:1,0,hR(i))):a&&(t.opacity=nt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let u=0;u<lR;u++){const h=`border${EE[u]}Radius`;let f=a0(e,h),p=a0(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||o0(f)===o0(p)?(t[h]=Math.max(nt(s0(f),s0(p),i),0),(ur.test(p)||ur.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=nt(e.rotate||0,n.rotate||0,i))}function a0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const cR=TE(0,.5,Fw),hR=TE(.5,.95,gn);function TE(t,e,n){return i=>i<t?0:i>e?1:n(Do(t,e,i))}function l0(t,e){t.min=e.min,t.max=e.max}function Pn(t,e){l0(t.x,e.x),l0(t.y,e.y)}function u0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function c0(t,e,n,i,o){return t-=e,t=Dc(t,1/n,i),o!==void 0&&(t=Dc(t,1/o,i)),t}function dR(t,e=0,n=1,i=.5,o,a=t,u=t){if(ur.test(e)&&(e=parseFloat(e),e=nt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=nt(a.min,a.max,i);t===a&&(h-=e),t.min=c0(t.min,e,n,h,o),t.max=c0(t.max,e,n,h,o)}function h0(t,e,[n,i,o],a,u){dR(t,e[n],e[i],e[o],e.scale,a,u)}const fR=["x","scaleX","originX"],pR=["y","scaleY","originY"];function d0(t,e,n,i){h0(t.x,e,fR,n?n.x:void 0,i?i.x:void 0),h0(t.y,e,pR,n?n.y:void 0,i?i.y:void 0)}function f0(t){return t.translate===0&&t.scale===1}function xE(t){return f0(t.x)&&f0(t.y)}function p0(t,e){return t.min===e.min&&t.max===e.max}function mR(t,e){return p0(t.x,e.x)&&p0(t.y,e.y)}function m0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function SE(t,e){return m0(t.x,e.x)&&m0(t.y,e.y)}function g0(t){return Yt(t.x)/Yt(t.y)}function y0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class gR{constructor(){this.members=[]}add(e){Rp(this.members,e),e.scheduleRender()}remove(e){if(kp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yR(t,e,n){let i="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||a||u)&&(i=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:w,rotateY:E,skewX:S,skewY:I}=n;p&&(i=`perspective(${p}px) ${i}`),v&&(i+=`rotate(${v}deg) `),w&&(i+=`rotateX(${w}deg) `),E&&(i+=`rotateY(${E}deg) `),S&&(i+=`skewX(${S}deg) `),I&&(i+=`skewY(${I}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const af=["","X","Y","Z"],vR={visibility:"hidden"},v0=1e3;let _R=0;function lf(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function CE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=bw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",qe,!(o||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&CE(i)}function AE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},h=e==null?void 0:e()){this.id=_R++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(TR),this.nodes.forEach(IR),this.nodes.forEach(PR),this.nodes.forEach(xR)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new oR)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Vp),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=iR(u),this.instance=u;const{layoutId:f,layout:p,visualElement:v}=this.options;if(v&&!v.current&&v.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||f)&&(this.isLayoutDirty=!0),t){let w;const E=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=aR(E,250),vc.hasAnimatedSinceResize&&(vc.hasAnimatedSinceResize=!1,this.nodes.forEach(w0))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&v&&(f||p)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||v.getDefaultTransition()||DR,{onLayoutAnimationStart:V,onLayoutAnimationComplete:j}=v.getProps(),q=!this.targetLayout||!SE(this.targetLayout,I),W=!E&&S;if(this.options.layoutRoot||this.resumeFrom||W||E&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,W);const ie={...Dp(L,"layout"),onPlay:V,onComplete:j};(v.shouldReduceMotion||this.options.layoutRoot)&&(ie.delay=0,ie.type=!1),this.startAnimation(ie)}else E||w0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ci(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(RR),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&CE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const w=this.path[v];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_0);return}this.isUpdating||this.nodes.forEach(CR),this.isUpdating=!1,this.nodes.forEach(AR),this.nodes.forEach(wR),this.nodes.forEach(ER),this.clearAllSnapshots();const h=lr.now();Dt.delta=Ur(0,1e3/60,h-Dt.timestamp),Dt.timestamp=h,Dt.isProcessing=!0,Jd.update.process(Dt),Jd.preRender.process(Dt),Jd.render.process(Dt),Dt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Lp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(SR),this.sharedNodes.forEach(kR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Yt(this.snapshot.measuredBox.x)&&!Yt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ct(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!xE(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;u&&(h||fs(this.latestValues)||v)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),NR(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return ct();const f=h.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(MR))){const{scroll:v}=this.root;v&&(Ro(f.x,v.offset.x),Ro(f.y,v.offset.y))}return f}removeElementScroll(u){var h;const f=ct();if(Pn(f,u),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:w,options:E}=v;v!==this.root&&w&&E.layoutScroll&&(w.wasRoot&&Pn(f,u),Ro(f.x,w.offset.x),Ro(f.y,w.offset.y))}return f}applyTransform(u,h=!1){const f=ct();Pn(f,u);for(let p=0;p<this.path.length;p++){const v=this.path[p];!h&&v.options.layoutScroll&&v.scroll&&v!==v.root&&ko(f,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),fs(v.latestValues)&&ko(f,v.latestValues)}return fs(this.latestValues)&&ko(f,this.latestValues),f}removeTransform(u){const h=ct();Pn(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!fs(p.latestValues))continue;Of(p.latestValues)&&p.updateSnapshot();const v=ct(),w=p.measurePageBox();Pn(v,w),d0(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return fs(this.latestValues)&&d0(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Dt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:E}=this.options;if(!(!this.layout||!(w||E))){if(this.resolvedRelativeTargetAt=Dt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),ol(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ct(),this.targetWithTransforms=ct()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pn(this.target,this.layout.layoutBox),mE(this.target,this.targetDelta)):Pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ct(),this.relativeTargetOrigin=ct(),ol(this.relativeTargetOrigin,this.target,S.target),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Of(this.parent.latestValues)||pE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Dt.timestamp&&(p=!1),p)return;const{layout:v,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||w))return;Pn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;FP(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=ct());const{target:I}=h;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(u0(this.prevProjectionDelta.x,this.projectionDelta.x),u0(this.prevProjectionDelta.y,this.projectionDelta.y)),sl(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!y0(this.projectionDelta.x,this.prevProjectionDelta.x)||!y0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Po(),this.projectionDelta=Po(),this.projectionDeltaWithTransform=Po()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},v={...this.latestValues},w=Po();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const E=ct(),S=f?f.source:void 0,I=this.layout?this.layout.source:void 0,L=S!==I,V=this.getStack(),j=!V||V.members.length<=1,q=!!(L&&!j&&this.options.crossfade===!0&&!this.path.some(VR));this.animationProgress=0;let W;this.mixTargetDelta=ie=>{const ee=ie/1e3;E0(w.x,u.x,ee),E0(w.y,u.y,ee),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ol(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bR(this.relativeTarget,this.relativeTargetOrigin,E,ee),W&&mR(this.relativeTarget,W)&&(this.isProjectionDirty=!1),W||(W=ct()),Pn(W,this.relativeTarget)),L&&(this.animationValues=v,uR(v,p,this.latestValues,ee,q,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=ee},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ci(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{vc.hasAnimatedSinceResize=!0,this.currentAnimation=rR(0,v0,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(v0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:v}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&IE(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ct();const w=Yt(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+w;const E=Yt(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Pn(h,f),ko(h,v),sl(this.projectionDeltaWithTransform,this.layoutCorrected,h,v)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new gR),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&lf("z",u,p,this.animationValues);for(let v=0;v<af.length;v++)lf(`rotate${af[v]}`,u,p,this.animationValues),lf(`skew${af[v]}`,u,p,this.animationValues);u.render();for(const v in p)u.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);u.scheduleRender()}getProjectionStyles(u){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return vR;const p={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=yc(u==null?void 0:u.pointerEvents)||"",p.transform=v?v(this.latestValues,""):"none",p;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const L={};return this.options.layoutId&&(L.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,L.pointerEvents=yc(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!fs(this.latestValues)&&(L.transform=v?v({},""):"none",this.hasProjected=!1),L}const E=w.animationValues||w.latestValues;this.applyTransformsToTarget(),p.transform=yR(this.projectionDeltaWithTransform,this.treeScale,E),v&&(p.transform=v(E,p.transform));const{x:S,y:I}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${I.origin*100}% 0`,w.animationValues?p.opacity=w===this?(f=(h=E.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=w===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const L in ml){if(E[L]===void 0)continue;const{correct:V,applyTo:j,isCSSVariable:q}=ml[L],W=p.transform==="none"?E[L]:V(E[L],w);if(j){const ie=j.length;for(let ee=0;ee<ie;ee++)p[j[ee]]=W}else q?this.options.visualElement.renderState.vars[L]=W:p[L]=W}return this.options.layoutId&&(p.pointerEvents=w===this?yc(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(_0),this.root.sharedNodes.clear()}}}function wR(t){t.updateLayout()}function ER(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:a}=t.options,u=n.source!==t.layout.source;a==="size"?Rn(w=>{const E=u?n.measuredBox[w]:n.layoutBox[w],S=Yt(E);E.min=i[w].min,E.max=E.min+S}):IE(a,n.layoutBox,i)&&Rn(w=>{const E=u?n.measuredBox[w]:n.layoutBox[w],S=Yt(i[w]);E.max=E.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[w].max=t.relativeTarget[w].min+S)});const h=Po();sl(h,i,n.layoutBox);const f=Po();u?sl(f,t.applyTransform(o,!0),n.measuredBox):sl(f,i,n.layoutBox);const p=!xE(h);let v=!1;if(!t.resumeFrom){const w=t.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:E,layout:S}=w;if(E&&S){const I=ct();ol(I,n.layoutBox,E.layoutBox);const L=ct();ol(L,i,S.layoutBox),SE(I,L)||(v=!0),w.options.layoutRoot&&(t.relativeTarget=L,t.relativeTargetOrigin=I,t.relativeParent=w)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function TR(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function SR(t){t.clearSnapshot()}function _0(t){t.clearMeasurements()}function CR(t){t.isLayoutDirty=!1}function AR(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function w0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function IR(t){t.resolveTargetDelta()}function PR(t){t.calcProjection()}function RR(t){t.resetSkewAndRotation()}function kR(t){t.removeLeadSnapshot()}function E0(t,e,n){t.translate=nt(e.translate,0,n),t.scale=nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function T0(t,e,n,i){t.min=nt(e.min,n.min,i),t.max=nt(e.max,n.max,i)}function bR(t,e,n,i){T0(t.x,e.x,n.x,i),T0(t.y,e.y,n.y,i)}function VR(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const DR={duration:.45,ease:[.4,0,.1,1]},x0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),S0=x0("applewebkit/")&&!x0("chrome/")?Math.round:gn;function C0(t){t.min=S0(t.min),t.max=S0(t.max)}function NR(t){C0(t.x),C0(t.y)}function IE(t,e,n){return t==="position"||t==="preserve-aspect"&&!LP(g0(e),g0(n),.2)}function MR(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const LR=AE({attachResizeListener:(t,e)=>_l(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),uf={current:void 0},PE=AE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!uf.current){const t=new LR({});t.mount(window),t.setOptions({layoutScroll:!0}),uf.current=t}return uf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),OR={pan:{Feature:ZP},drag:{Feature:JP,ProjectionNode:PE,MeasureLayout:wE}};function A0(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=i[o];a&&qe.postRender(()=>a(e,Ml(e)))}class FR extends Mi{mount(){const{current:e}=this.node;e&&(this.unmount=WA(e,(n,i)=>(A0(this.node,i,"Start"),o=>A0(this.node,o,"End"))))}unmount(){}}class jR extends Mi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Nl(_l(this.node.current,"focus",()=>this.onFocus()),_l(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function I0(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=i[o];a&&qe.postRender(()=>a(e,Ml(e)))}class BR extends Mi{mount(){const{current:e}=this.node;e&&(this.unmount=QA(e,(n,i)=>(I0(this.node,i,"Start"),(o,{success:a})=>I0(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Bf=new WeakMap,cf=new WeakMap,UR=t=>{const e=Bf.get(t.target);e&&e(t)},$R=t=>{t.forEach(UR)};function zR({root:t,...e}){const n=t||document;cf.has(n)||cf.set(n,{});const i=cf.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver($R,{root:t,...e})),i[o]}function HR(t,e,n){const i=zR(e);return Bf.set(t,n),i.observe(t),()=>{Bf.delete(t),i.unobserve(t)}}const WR={some:0,all:1};class GR extends Mi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:WR[o]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:w}=this.node.getProps(),E=p?v:w;E&&E(f)};return HR(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(qR(e,n))&&this.startObserver()}unmount(){}}function qR({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const KR={inView:{Feature:GR},tap:{Feature:BR},focus:{Feature:jR},hover:{Feature:FR}},QR={layout:{ProjectionNode:PE,MeasureLayout:wE}},Uf={current:null},RE={current:!1};function YR(){if(RE.current=!0,!!Ip)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Uf.current=t.matches;t.addListener(e),e()}else Uf.current=!1}const XR=[...Zw,$t,Ai],JR=t=>XR.find(Jw(t)),ZR=new WeakMap;function ek(t,e,n){for(const i in e){const o=e[i],a=n[i];if(Wt(o))t.addValue(i,o);else if(Wt(a))t.addValue(i,fl(o,{owner:t}));else if(a!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,fl(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const P0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class tk{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=lr.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,qe.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:v}=u;this.onUpdate=v,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=nh(n),this.isVariantNode=mw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in E){const I=E[S];f[S]!==void 0&&Wt(I)&&I.set(f[S],!1)}}mount(e){this.current=e,ZR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),RE.current||YR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Uf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ci(this.notifyUpdate),Ci(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Ts.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&qe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in No){const n=No[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ct()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<P0.length;i++){const o=P0[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=ek(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=fl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(Yw(o)||Bw(o))?o=parseFloat(o):!JR(o)&&Ai.test(n)&&(o=qw(e,n)),this.setBaseTarget(e,Wt(o)?o.get():o)),Wt(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const u=Qp(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(o=u[e])}if(i&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Wt(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Vp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class kE extends tk{constructor(){super(...arguments),this.KeyframeResolver=eE}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Wt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function nk(t){return window.getComputedStyle(t)}class rk extends kE{constructor(){super(...arguments),this.type="html",this.renderInstance=Aw}readValueFromInstance(e,n){if(Ts.has(n))return pI(e,n);{const i=nk(e),o=(Up(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gE(e,n)}build(e,n,i){Hp(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return Yp(e,n,i)}}class ik extends kE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ct,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Cw(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ts.has(n)){const i=Gw(n);return i&&i.default||0}return n=Iw.has(n)?n:Bp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Rw(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&qe.postRender(this.updateDimensions)}build(e,n,i){qp(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,o){Pw(e,n,i,o)}mount(e){this.isSVGTag=Kp(e.tagName),super.mount(e)}}const sk=(t,e)=>Gp(t)?new ik(e):new rk(e,{allowProjection:t!==b.Fragment}),ok=U1({...PP,...KR,...OR,...QR},sk),ak=r1(ok),lk=()=>{};var R0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},uk=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],h=t[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},VE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,h=u?t[o+1]:0,f=o+2<t.length,p=f?t[o+2]:0,v=a>>2,w=(a&3)<<4|h>>4;let E=(h&15)<<2|p>>6,S=p&63;f||(S=64,u||(E=64)),i.push(n[v],n[w],n[E],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const w=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||p==null||w==null)throw new ck;const E=a<<2|h>>4;if(i.push(E),p!==64){const S=h<<4&240|p>>2;if(i.push(S),w!==64){const I=p<<6&192|w;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ck extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hk=function(t){const e=bE(t);return VE.encodeByteArray(e,!0)},Nc=function(t){return hk(t).replace(/\./g,"")},dk=function(t){try{return VE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=()=>fk().__FIREBASE_DEFAULTS__,mk=()=>{if(typeof process>"u"||typeof R0>"u")return;const t=R0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&dk(t[1]);return e&&JSON.parse(e)},sm=()=>{try{return lk()||pk()||mk()||gk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yk=t=>{var e,n;return(n=(e=sm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},vk=t=>{const e=yk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},DE=()=>{var t;return(t=sm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Nc(JSON.stringify(n)),Nc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ek(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tk(){var t;const e=(t=sm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xk(){return!Tk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Sk(){try{return typeof indexedDB=="object"}catch{return!1}}function Ck(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak="FirebaseError";class qo extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Ak,Object.setPrototypeOf(this,qo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,NE.prototype.create)}}class NE{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?Ik(a,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new qo(o,h,i)}}function Ik(t,e){return t.replace(Pk,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const Pk=/\{\$([^}]+)}/g;function Mc(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],u=e[o];if(k0(a)&&k0(u)){if(!Mc(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function k0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(t){return t&&t._delegate?t._delegate:t}class El{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new _k;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bk(e))try{this.getOrInitializeService({instanceIdentifier:ps})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=ps){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ps){return this.instances.has(e)}getOptions(e=ps){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kk(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ps){return this.component?this.component.multipleInstances?e:ps:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kk(t){return t===ps?void 0:t}function bk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Rk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const Dk={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},Nk=Le.INFO,Mk={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},Lk=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=Mk[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class ME{constructor(e){this.name=e,this._logLevel=Nk,this._logHandler=Lk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Dk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const Ok=(t,e)=>e.some(n=>t instanceof n);let b0,V0;function Fk(){return b0||(b0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jk(){return V0||(V0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LE=new WeakMap,$f=new WeakMap,OE=new WeakMap,hf=new WeakMap,om=new WeakMap;function Bk(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(wi(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&LE.set(n,t)}).catch(()=>{}),om.set(e,t),e}function Uk(t){if($f.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});$f.set(t,e)}let zf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $f.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return wi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function $k(t){zf=t(zf)}function zk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(df(this),e,...n);return OE.set(i,e.sort?e.sort():[e]),wi(i)}:jk().includes(t)?function(...e){return t.apply(df(this),e),wi(LE.get(this))}:function(...e){return wi(t.apply(df(this),e))}}function Hk(t){return typeof t=="function"?zk(t):(t instanceof IDBTransaction&&Uk(t),Ok(t,Fk())?new Proxy(t,zf):t)}function wi(t){if(t instanceof IDBRequest)return Bk(t);if(hf.has(t))return hf.get(t);const e=Hk(t);return e!==t&&(hf.set(t,e),om.set(e,t)),e}const df=t=>om.get(t);function Wk(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),h=wi(u);return i&&u.addEventListener("upgradeneeded",f=>{i(wi(u.result),f.oldVersion,f.newVersion,wi(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const Gk=["get","getKey","getAll","getAllKeys","count"],qk=["put","add","delete","clear"],ff=new Map;function D0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ff.get(e))return ff.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=qk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||Gk.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),o&&f.done]))[0]};return ff.set(e,a),a}$k(t=>({...t,get:(e,n,i)=>D0(e,n)||t.get(e,n,i),has:(e,n)=>!!D0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Qk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Qk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hf="@firebase/app",N0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $r=new ME("@firebase/app"),Yk="@firebase/app-compat",Xk="@firebase/analytics-compat",Jk="@firebase/analytics",Zk="@firebase/app-check-compat",eb="@firebase/app-check",tb="@firebase/auth",nb="@firebase/auth-compat",rb="@firebase/database",ib="@firebase/data-connect",sb="@firebase/database-compat",ob="@firebase/functions",ab="@firebase/functions-compat",lb="@firebase/installations",ub="@firebase/installations-compat",cb="@firebase/messaging",hb="@firebase/messaging-compat",db="@firebase/performance",fb="@firebase/performance-compat",pb="@firebase/remote-config",mb="@firebase/remote-config-compat",gb="@firebase/storage",yb="@firebase/storage-compat",vb="@firebase/firestore",_b="@firebase/vertexai",wb="@firebase/firestore-compat",Eb="firebase",Tb="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wf="[DEFAULT]",xb={[Hf]:"fire-core",[Yk]:"fire-core-compat",[Jk]:"fire-analytics",[Xk]:"fire-analytics-compat",[eb]:"fire-app-check",[Zk]:"fire-app-check-compat",[tb]:"fire-auth",[nb]:"fire-auth-compat",[rb]:"fire-rtdb",[ib]:"fire-data-connect",[sb]:"fire-rtdb-compat",[ob]:"fire-fn",[ab]:"fire-fn-compat",[lb]:"fire-iid",[ub]:"fire-iid-compat",[cb]:"fire-fcm",[hb]:"fire-fcm-compat",[db]:"fire-perf",[fb]:"fire-perf-compat",[pb]:"fire-rc",[mb]:"fire-rc-compat",[gb]:"fire-gcs",[yb]:"fire-gcs-compat",[vb]:"fire-fst",[wb]:"fire-fst-compat",[_b]:"fire-vertex","fire-js":"fire-js",[Eb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc=new Map,Sb=new Map,Gf=new Map;function M0(t,e){try{t.container.addComponent(e)}catch(n){$r.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Oc(t){const e=t.name;if(Gf.has(e))return $r.debug(`There were multiple attempts to register component ${e}.`),!1;Gf.set(e,t);for(const n of Lc.values())M0(n,t);for(const n of Sb.values())M0(n,t);return!0}function Cb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Ab(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new NE("app","Firebase",Ib);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new El("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb=Tb;function am(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Wf,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Ei.create("bad-app-name",{appName:String(o)});if(n||(n=DE()),!n)throw Ei.create("no-options");const a=Lc.get(o);if(a){if(Mc(n,a.options)&&Mc(i,a.config))return a;throw Ei.create("duplicate-app",{appName:o})}const u=new Vk(o);for(const f of Gf.values())u.addComponent(f);const h=new Pb(n,i,u);return Lc.set(o,h),h}function kb(t=Wf){const e=Lc.get(t);if(!e&&t===Wf&&DE())return am();if(!e)throw Ei.create("no-app",{appName:t});return e}function bo(t,e,n){var i;let o=(i=xb[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$r.warn(h.join(" "));return}Oc(new El(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="firebase-heartbeat-database",Vb=1,Tl="firebase-heartbeat-store";let pf=null;function FE(){return pf||(pf=Wk(bb,Vb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ei.create("idb-open",{originalErrorMessage:t.message})})),pf}async function Db(t){try{const n=(await FE()).transaction(Tl),i=await n.objectStore(Tl).get(jE(t));return await n.done,i}catch(e){if(e instanceof qo)$r.warn(e.message);else{const n=Ei.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$r.warn(n.message)}}}async function L0(t,e){try{const i=(await FE()).transaction(Tl,"readwrite");await i.objectStore(Tl).put(e,jE(t)),await i.done}catch(n){if(n instanceof qo)$r.warn(n.message);else{const i=Ei.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$r.warn(i.message)}}}function jE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb=1024,Mb=30;class Lb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Fb(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=O0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>Mb){const u=jb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){$r.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=O0(),{heartbeatsToSend:i,unsentEntries:o}=Ob(this._heartbeatsCache.heartbeats),a=Nc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return $r.warn(n),""}}}function O0(){return new Date().toISOString().substring(0,10)}function Ob(t,e=Nb){const n=[];let i=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),F0(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),F0(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class Fb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Sk()?Ck().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Db(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return L0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return L0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function F0(t){return Nc(JSON.stringify({version:2,heartbeats:t})).length}function jb(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(t){Oc(new El("platform-logger",e=>new Kk(e),"PRIVATE")),Oc(new El("heartbeat",e=>new Lb(e),"PRIVATE")),bo(Hf,N0,t),bo(Hf,N0,"esm2017"),bo("fire-js","")}Bb("");var Ub="firebase",$b="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bo(Ub,$b,"app");var j0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ti,BE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function P(){}P.prototype=C.prototype,D.D=C.prototype,D.prototype=new P,D.prototype.constructor=D,D.C=function(N,M,F){for(var A=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)A[Ae-2]=arguments[Ae];return C.prototype[M].apply(N,A)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,C,P){P||(P=0);var N=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)N[M]=C.charCodeAt(P++)|C.charCodeAt(P++)<<8|C.charCodeAt(P++)<<16|C.charCodeAt(P++)<<24;else for(M=0;16>M;++M)N[M]=C[P++]|C[P++]<<8|C[P++]<<16|C[P++]<<24;C=D.g[0],P=D.g[1],M=D.g[2];var F=D.g[3],A=C+(F^P&(M^F))+N[0]+3614090360&4294967295;C=P+(A<<7&4294967295|A>>>25),A=F+(M^C&(P^M))+N[1]+3905402710&4294967295,F=C+(A<<12&4294967295|A>>>20),A=M+(P^F&(C^P))+N[2]+606105819&4294967295,M=F+(A<<17&4294967295|A>>>15),A=P+(C^M&(F^C))+N[3]+3250441966&4294967295,P=M+(A<<22&4294967295|A>>>10),A=C+(F^P&(M^F))+N[4]+4118548399&4294967295,C=P+(A<<7&4294967295|A>>>25),A=F+(M^C&(P^M))+N[5]+1200080426&4294967295,F=C+(A<<12&4294967295|A>>>20),A=M+(P^F&(C^P))+N[6]+2821735955&4294967295,M=F+(A<<17&4294967295|A>>>15),A=P+(C^M&(F^C))+N[7]+4249261313&4294967295,P=M+(A<<22&4294967295|A>>>10),A=C+(F^P&(M^F))+N[8]+1770035416&4294967295,C=P+(A<<7&4294967295|A>>>25),A=F+(M^C&(P^M))+N[9]+2336552879&4294967295,F=C+(A<<12&4294967295|A>>>20),A=M+(P^F&(C^P))+N[10]+4294925233&4294967295,M=F+(A<<17&4294967295|A>>>15),A=P+(C^M&(F^C))+N[11]+2304563134&4294967295,P=M+(A<<22&4294967295|A>>>10),A=C+(F^P&(M^F))+N[12]+1804603682&4294967295,C=P+(A<<7&4294967295|A>>>25),A=F+(M^C&(P^M))+N[13]+4254626195&4294967295,F=C+(A<<12&4294967295|A>>>20),A=M+(P^F&(C^P))+N[14]+2792965006&4294967295,M=F+(A<<17&4294967295|A>>>15),A=P+(C^M&(F^C))+N[15]+1236535329&4294967295,P=M+(A<<22&4294967295|A>>>10),A=C+(M^F&(P^M))+N[1]+4129170786&4294967295,C=P+(A<<5&4294967295|A>>>27),A=F+(P^M&(C^P))+N[6]+3225465664&4294967295,F=C+(A<<9&4294967295|A>>>23),A=M+(C^P&(F^C))+N[11]+643717713&4294967295,M=F+(A<<14&4294967295|A>>>18),A=P+(F^C&(M^F))+N[0]+3921069994&4294967295,P=M+(A<<20&4294967295|A>>>12),A=C+(M^F&(P^M))+N[5]+3593408605&4294967295,C=P+(A<<5&4294967295|A>>>27),A=F+(P^M&(C^P))+N[10]+38016083&4294967295,F=C+(A<<9&4294967295|A>>>23),A=M+(C^P&(F^C))+N[15]+3634488961&4294967295,M=F+(A<<14&4294967295|A>>>18),A=P+(F^C&(M^F))+N[4]+3889429448&4294967295,P=M+(A<<20&4294967295|A>>>12),A=C+(M^F&(P^M))+N[9]+568446438&4294967295,C=P+(A<<5&4294967295|A>>>27),A=F+(P^M&(C^P))+N[14]+3275163606&4294967295,F=C+(A<<9&4294967295|A>>>23),A=M+(C^P&(F^C))+N[3]+4107603335&4294967295,M=F+(A<<14&4294967295|A>>>18),A=P+(F^C&(M^F))+N[8]+1163531501&4294967295,P=M+(A<<20&4294967295|A>>>12),A=C+(M^F&(P^M))+N[13]+2850285829&4294967295,C=P+(A<<5&4294967295|A>>>27),A=F+(P^M&(C^P))+N[2]+4243563512&4294967295,F=C+(A<<9&4294967295|A>>>23),A=M+(C^P&(F^C))+N[7]+1735328473&4294967295,M=F+(A<<14&4294967295|A>>>18),A=P+(F^C&(M^F))+N[12]+2368359562&4294967295,P=M+(A<<20&4294967295|A>>>12),A=C+(P^M^F)+N[5]+4294588738&4294967295,C=P+(A<<4&4294967295|A>>>28),A=F+(C^P^M)+N[8]+2272392833&4294967295,F=C+(A<<11&4294967295|A>>>21),A=M+(F^C^P)+N[11]+1839030562&4294967295,M=F+(A<<16&4294967295|A>>>16),A=P+(M^F^C)+N[14]+4259657740&4294967295,P=M+(A<<23&4294967295|A>>>9),A=C+(P^M^F)+N[1]+2763975236&4294967295,C=P+(A<<4&4294967295|A>>>28),A=F+(C^P^M)+N[4]+1272893353&4294967295,F=C+(A<<11&4294967295|A>>>21),A=M+(F^C^P)+N[7]+4139469664&4294967295,M=F+(A<<16&4294967295|A>>>16),A=P+(M^F^C)+N[10]+3200236656&4294967295,P=M+(A<<23&4294967295|A>>>9),A=C+(P^M^F)+N[13]+681279174&4294967295,C=P+(A<<4&4294967295|A>>>28),A=F+(C^P^M)+N[0]+3936430074&4294967295,F=C+(A<<11&4294967295|A>>>21),A=M+(F^C^P)+N[3]+3572445317&4294967295,M=F+(A<<16&4294967295|A>>>16),A=P+(M^F^C)+N[6]+76029189&4294967295,P=M+(A<<23&4294967295|A>>>9),A=C+(P^M^F)+N[9]+3654602809&4294967295,C=P+(A<<4&4294967295|A>>>28),A=F+(C^P^M)+N[12]+3873151461&4294967295,F=C+(A<<11&4294967295|A>>>21),A=M+(F^C^P)+N[15]+530742520&4294967295,M=F+(A<<16&4294967295|A>>>16),A=P+(M^F^C)+N[2]+3299628645&4294967295,P=M+(A<<23&4294967295|A>>>9),A=C+(M^(P|~F))+N[0]+4096336452&4294967295,C=P+(A<<6&4294967295|A>>>26),A=F+(P^(C|~M))+N[7]+1126891415&4294967295,F=C+(A<<10&4294967295|A>>>22),A=M+(C^(F|~P))+N[14]+2878612391&4294967295,M=F+(A<<15&4294967295|A>>>17),A=P+(F^(M|~C))+N[5]+4237533241&4294967295,P=M+(A<<21&4294967295|A>>>11),A=C+(M^(P|~F))+N[12]+1700485571&4294967295,C=P+(A<<6&4294967295|A>>>26),A=F+(P^(C|~M))+N[3]+2399980690&4294967295,F=C+(A<<10&4294967295|A>>>22),A=M+(C^(F|~P))+N[10]+4293915773&4294967295,M=F+(A<<15&4294967295|A>>>17),A=P+(F^(M|~C))+N[1]+2240044497&4294967295,P=M+(A<<21&4294967295|A>>>11),A=C+(M^(P|~F))+N[8]+1873313359&4294967295,C=P+(A<<6&4294967295|A>>>26),A=F+(P^(C|~M))+N[15]+4264355552&4294967295,F=C+(A<<10&4294967295|A>>>22),A=M+(C^(F|~P))+N[6]+2734768916&4294967295,M=F+(A<<15&4294967295|A>>>17),A=P+(F^(M|~C))+N[13]+1309151649&4294967295,P=M+(A<<21&4294967295|A>>>11),A=C+(M^(P|~F))+N[4]+4149444226&4294967295,C=P+(A<<6&4294967295|A>>>26),A=F+(P^(C|~M))+N[11]+3174756917&4294967295,F=C+(A<<10&4294967295|A>>>22),A=M+(C^(F|~P))+N[2]+718787259&4294967295,M=F+(A<<15&4294967295|A>>>17),A=P+(F^(M|~C))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(M+(A<<21&4294967295|A>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+F&4294967295}i.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var P=C-this.blockSize,N=this.B,M=this.h,F=0;F<C;){if(M==0)for(;F<=P;)o(this,D,F),F+=this.blockSize;if(typeof D=="string"){for(;F<C;)if(N[M++]=D.charCodeAt(F++),M==this.blockSize){o(this,N),M=0;break}}else for(;F<C;)if(N[M++]=D[F++],M==this.blockSize){o(this,N),M=0;break}}this.h=M,this.o+=C},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var P=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=P&255,P/=256;for(this.u(D),D=Array(16),C=P=0;4>C;++C)for(var N=0;32>N;N+=8)D[P++]=this.g[C]>>>N&255;return D};function a(D,C){var P=h;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=C(D)}function u(D,C){this.h=C;for(var P=[],N=!0,M=D.length-1;0<=M;M--){var F=D[M]|0;N&&F==C||(P[M]=F,N=!1)}this.g=P}var h={};function f(D){return-128<=D&&128>D?a(D,function(C){return new u([C|0],0>C?-1:0)}):new u([D|0],0>D?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return w;if(0>D)return V(p(-D));for(var C=[],P=1,N=0;D>=P;N++)C[N]=D/P|0,P*=4294967296;return new u(C,0)}function v(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return V(v(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=p(Math.pow(C,8)),N=w,M=0;M<D.length;M+=8){var F=Math.min(8,D.length-M),A=parseInt(D.substring(M,M+F),C);8>F?(F=p(Math.pow(C,F)),N=N.j(F).add(p(A))):(N=N.j(P),N=N.add(p(A)))}return N}var w=f(0),E=f(1),S=f(16777216);t=u.prototype,t.m=function(){if(L(this))return-V(this).m();for(var D=0,C=1,P=0;P<this.g.length;P++){var N=this.i(P);D+=(0<=N?N:4294967296+N)*C,C*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(L(this))return"-"+V(this).toString(D);for(var C=p(Math.pow(D,6)),P=this,N="";;){var M=ie(P,C).g;P=j(P,M.j(C));var F=((0<P.g.length?P.g[0]:P.h)>>>0).toString(D);if(P=M,I(P))return F+N;for(;6>F.length;)F="0"+F;N=F+N}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function L(D){return D.h==-1}t.l=function(D){return D=j(this,D),L(D)?-1:I(D)?0:1};function V(D){for(var C=D.g.length,P=[],N=0;N<C;N++)P[N]=~D.g[N];return new u(P,~D.h).add(E)}t.abs=function(){return L(this)?V(this):this},t.add=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],N=0,M=0;M<=C;M++){var F=N+(this.i(M)&65535)+(D.i(M)&65535),A=(F>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);N=A>>>16,F&=65535,A&=65535,P[M]=A<<16|F}return new u(P,P[P.length-1]&-2147483648?-1:0)};function j(D,C){return D.add(V(C))}t.j=function(D){if(I(this)||I(D))return w;if(L(this))return L(D)?V(this).j(V(D)):V(V(this).j(D));if(L(D))return V(this.j(V(D)));if(0>this.l(S)&&0>D.l(S))return p(this.m()*D.m());for(var C=this.g.length+D.g.length,P=[],N=0;N<2*C;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(var M=0;M<D.g.length;M++){var F=this.i(N)>>>16,A=this.i(N)&65535,Ae=D.i(M)>>>16,Ze=D.i(M)&65535;P[2*N+2*M]+=A*Ze,q(P,2*N+2*M),P[2*N+2*M+1]+=F*Ze,q(P,2*N+2*M+1),P[2*N+2*M+1]+=A*Ae,q(P,2*N+2*M+1),P[2*N+2*M+2]+=F*Ae,q(P,2*N+2*M+2)}for(N=0;N<C;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=C;N<2*C;N++)P[N]=0;return new u(P,0)};function q(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function W(D,C){this.g=D,this.h=C}function ie(D,C){if(I(C))throw Error("division by zero");if(I(D))return new W(w,w);if(L(D))return C=ie(V(D),C),new W(V(C.g),V(C.h));if(L(C))return C=ie(D,V(C)),new W(V(C.g),C.h);if(30<D.g.length){if(L(D)||L(C))throw Error("slowDivide_ only works with positive integers.");for(var P=E,N=C;0>=N.l(D);)P=ee(P),N=ee(N);var M=se(P,1),F=se(N,1);for(N=se(N,2),P=se(P,2);!I(N);){var A=F.add(N);0>=A.l(D)&&(M=M.add(P),F=A),N=se(N,1),P=se(P,1)}return C=j(D,M.j(C)),new W(M,C)}for(M=w;0<=D.l(C);){for(P=Math.max(1,Math.floor(D.m()/C.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),F=p(P),A=F.j(C);L(A)||0<A.l(D);)P-=N,F=p(P),A=F.j(C);I(F)&&(F=E),M=M.add(F),D=j(D,A)}return new W(M,D)}t.A=function(D){return ie(this,D).h},t.and=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],N=0;N<C;N++)P[N]=this.i(N)&D.i(N);return new u(P,this.h&D.h)},t.or=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],N=0;N<C;N++)P[N]=this.i(N)|D.i(N);return new u(P,this.h|D.h)},t.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),P=[],N=0;N<C;N++)P[N]=this.i(N)^D.i(N);return new u(P,this.h^D.h)};function ee(D){for(var C=D.g.length+1,P=[],N=0;N<C;N++)P[N]=D.i(N)<<1|D.i(N-1)>>>31;return new u(P,D.h)}function se(D,C){var P=C>>5;C%=32;for(var N=D.g.length-P,M=[],F=0;F<N;F++)M[F]=0<C?D.i(F+P)>>>C|D.i(F+P+1)<<32-C:D.i(F+P);return new u(M,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,BE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,Ti=u}).apply(typeof j0<"u"?j0:typeof self<"u"?self:typeof window<"u"?window:{});var uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var UE,Za,$E,_c,qf,zE,HE,WE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof uc=="object"&&uc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=n(this);function o(c,g){if(g)e:{var _=i;c=c.split(".");for(var x=0;x<c.length-1;x++){var $=c[x];if(!($ in _))break e;_=_[$]}c=c[c.length-1],x=_[c],g=g(x),g!=x&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var _=0,x=!1,$={next:function(){if(!x&&_<c.length){var K=_++;return{value:g(K,c[K]),done:!1}}return x=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function v(c,g,_){return c.call.apply(c.bind,arguments)}function w(c,g,_){if(!c)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,x),c.apply(g,$)}}return function(){return c.apply(g,arguments)}}function E(c,g,_){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:w,E.apply(null,arguments)}function S(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var x=_.slice();return x.push.apply(x,arguments),c.apply(this,x)}}function I(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(x,$,K){for(var oe=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)oe[$e-2]=arguments[$e];return g.prototype[$].apply(x,oe)}}function L(c){const g=c.length;if(0<g){const _=Array(g);for(let x=0;x<g;x++)_[x]=c[x];return _}return[]}function V(c,g){for(let _=1;_<arguments.length;_++){const x=arguments[_];if(f(x)){const $=c.length||0,K=x.length||0;c.length=$+K;for(let oe=0;oe<K;oe++)c[$+oe]=x[oe]}else c.push(x)}}class j{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function q(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function ie(c){return ie[" "](c),c}ie[" "]=function(){};var ee=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function se(c,g,_){for(const x in c)g.call(_,c[x],x,c)}function D(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function C(c){const g={};for(const _ in c)g[_]=c[_];return g}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let _,x;for(let $=1;$<arguments.length;$++){x=arguments[$];for(_ in x)c[_]=x[_];for(let K=0;K<P.length;K++)_=P[K],Object.prototype.hasOwnProperty.call(x,_)&&(c[_]=x[_])}}function M(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function F(c){h.setTimeout(()=>{throw c},0)}function A(){var c=pe;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ae{constructor(){this.h=this.g=null}add(g,_){const x=Ze.get();x.set(g,_),this.h?this.h.next=x:this.g=x,this.h=x}}var Ze=new j(()=>new at,c=>c.reset());class at{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ne=!1,pe=new Ae,ae=()=>{const c=h.Promise.resolve(void 0);Te=()=>{c.then(U)}};var U=()=>{for(var c;c=A();){try{c.h.call(c.g)}catch(_){F(_)}var g=Ze;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ne=!1};function Y(){this.s=this.s,this.C=this.C}Y.prototype.s=!1,Y.prototype.ma=function(){this.s||(this.s=!0,this.N())},Y.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function me(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}me.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};h.addEventListener("test",_,g),h.removeEventListener("test",_,g)}catch{}return c}();function Re(c,g){if(me.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,x=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ee){e:{try{ie(g.nodeName);var $=!0;break e}catch{}$=!1}$||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:De[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Re.aa.h.call(this)}}I(Re,me);var De={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Be=0;function He(c,g,_,x,$){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!x,this.ha=$,this.key=++Be,this.da=this.fa=!1}function xt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function yr(c){this.src=c,this.g={},this.h=0}yr.prototype.add=function(c,g,_,x,$){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var oe=Gr(c,g,x,$);return-1<oe?(g=c[oe],_||(g.fa=!1)):(g=new He(g,this.src,K,!!x,$),g.fa=_,c.push(g)),g};function Is(c,g){var _=g.type;if(_ in c.g){var x=c.g[_],$=Array.prototype.indexOf.call(x,g,void 0),K;(K=0<=$)&&Array.prototype.splice.call(x,$,1),K&&(xt(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Gr(c,g,_,x){for(var $=0;$<c.length;++$){var K=c[$];if(!K.da&&K.listener==g&&K.capture==!!_&&K.ha==x)return $}return-1}var Li="closure_lm_"+(1e6*Math.random()|0),Ps={};function Jo(c,g,_,x,$){if(Array.isArray(g)){for(var K=0;K<g.length;K++)Jo(c,g[K],_,x,$);return null}return _=ta(_),c&&c[je]?c.K(g,_,p(x)?!!x.capture:!1,$):Zo(c,g,_,!1,x,$)}function Zo(c,g,_,x,$,K){if(!g)throw Error("Invalid event type");var oe=p($)?!!$.capture:!!$,$e=ks(c);if($e||(c[Li]=$e=new yr(c)),_=$e.add(g,_,x,oe,K),_.proxy)return _;if(x=Ul(),_.proxy=x,x.src=c,x.listener=_,c.addEventListener)Ie||($=oe),$===void 0&&($=!1),c.addEventListener(g.toString(),x,$);else if(c.attachEvent)c.attachEvent(_r(g.toString()),x);else if(c.addListener&&c.removeListener)c.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Ul(){function c(_){return g.call(c.src,c.listener,_)}const g=ea;return c}function Rs(c,g,_,x,$){if(Array.isArray(g))for(var K=0;K<g.length;K++)Rs(c,g[K],_,x,$);else x=p(x)?!!x.capture:!!x,_=ta(_),c&&c[je]?(c=c.i,g=String(g).toString(),g in c.g&&(K=c.g[g],_=Gr(K,_,x,$),-1<_&&(xt(K[_]),Array.prototype.splice.call(K,_,1),K.length==0&&(delete c.g[g],c.h--)))):c&&(c=ks(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Gr(g,_,x,$)),(_=-1<c?g[c]:null)&&vr(_))}function vr(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[je])Is(g.i,c);else{var _=c.type,x=c.proxy;g.removeEventListener?g.removeEventListener(_,x,c.capture):g.detachEvent?g.detachEvent(_r(_),x):g.addListener&&g.removeListener&&g.removeListener(x),(_=ks(g))?(Is(_,c),_.h==0&&(_.src=null,g[Li]=null)):xt(c)}}}function _r(c){return c in Ps?Ps[c]:Ps[c]="on"+c}function ea(c,g){if(c.da)c=!0;else{g=new Re(g,this);var _=c.listener,x=c.ha||c.src;c.fa&&vr(c),c=_.call(x,g)}return c}function ks(c){return c=c[Li],c instanceof yr?c:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function ta(c){return typeof c=="function"?c:(c[bs]||(c[bs]=function(g){return c.handleEvent(g)}),c[bs])}function mt(){Y.call(this),this.i=new yr(this),this.M=this,this.F=null}I(mt,Y),mt.prototype[je]=!0,mt.prototype.removeEventListener=function(c,g,_,x){Rs(this,c,g,_,x)};function gt(c,g){var _,x=c.F;if(x)for(_=[];x;x=x.F)_.push(x);if(c=c.M,x=g.type||g,typeof g=="string")g=new me(g,c);else if(g instanceof me)g.target=g.target||c;else{var $=g;g=new me(x,c),N(g,$)}if($=!0,_)for(var K=_.length-1;0<=K;K--){var oe=g.g=_[K];$=wr(oe,x,!0,g)&&$}if(oe=g.g=c,$=wr(oe,x,!0,g)&&$,$=wr(oe,x,!1,g)&&$,_)for(K=0;K<_.length;K++)oe=g.g=_[K],$=wr(oe,x,!1,g)&&$}mt.prototype.N=function(){if(mt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],x=0;x<_.length;x++)xt(_[x]);delete c.g[g],c.h--}}this.F=null},mt.prototype.K=function(c,g,_,x){return this.i.add(String(c),g,!1,_,x)},mt.prototype.L=function(c,g,_,x){return this.i.add(String(c),g,!0,_,x)};function wr(c,g,_,x){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var $=!0,K=0;K<g.length;++K){var oe=g[K];if(oe&&!oe.da&&oe.capture==_){var $e=oe.listener,yt=oe.ha||oe.src;oe.fa&&Is(c.i,oe),$=$e.call(yt,x)!==!1&&$}}return $&&!x.defaultPrevented}function na(c,g,_){if(typeof c=="function")_&&(c=E(c,_));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function qr(c){c.g=na(()=>{c.g=null,c.i&&(c.i=!1,qr(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Oi extends Y{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:qr(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fi(c){Y.call(this),this.h=c,this.g={}}I(Fi,Y);var ra=[];function ia(c){se(c.g,function(g,_){this.g.hasOwnProperty(_)&&vr(g)},c),c.g={}}Fi.prototype.N=function(){Fi.aa.N.call(this),ia(this)},Fi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sa=h.JSON.stringify,oa=h.JSON.parse,aa=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function ji(){}ji.prototype.h=null;function Vs(c){return c.h||(c.h=c.i())}function Ds(){}var vn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Yn(){me.call(this,"d")}I(Yn,me);function Ns(){me.call(this,"c")}I(Ns,me);var Xn={},la=null;function Bi(){return la=la||new mt}Xn.La="serverreachability";function ua(c){me.call(this,Xn.La,c)}I(ua,me);function Er(c){const g=Bi();gt(g,new ua(g))}Xn.STAT_EVENT="statevent";function ca(c,g){me.call(this,Xn.STAT_EVENT,c),this.stat=g}I(ca,me);function lt(c){const g=Bi();gt(g,new ca(g,c))}Xn.Ma="timingevent";function Ms(c,g){me.call(this,Xn.Ma,c),this.size=g}I(Ms,me);function Vn(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function Ui(){this.g=!0}Ui.prototype.xa=function(){this.g=!1};function $i(c,g,_,x,$,K){c.info(function(){if(c.g)if(K)for(var oe="",$e=K.split("&"),yt=0;yt<$e.length;yt++){var Ne=$e[yt].split("=");if(1<Ne.length){var St=Ne[0];Ne=Ne[1];var dt=St.split("_");oe=2<=dt.length&&dt[1]=="type"?oe+(St+"="+Ne+"&"):oe+(St+"=redacted&")}}else oe=null;else oe=K;return"XMLHTTP REQ ("+x+") [attempt "+$+"]: "+g+`
`+_+`
`+oe})}function Ls(c,g,_,x,$,K,oe){c.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+$+"]: "+g+`
`+_+`
`+K+" "+oe})}function Dn(c,g,_,x){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+vh(c,_)+(x?" "+x:"")})}function ha(c,g){c.info(function(){return"TIMEOUT: "+g})}Ui.prototype.info=function(){};function vh(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var x=_[c];if(!(2>x.length)){var $=x[1];if(Array.isArray($)&&!(1>$.length)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(var oe=1;oe<$.length;oe++)$[oe]=""}}}}return sa(_)}catch{return g}}var Os={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},$l={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nn;function zi(){}I(zi,ji),zi.prototype.g=function(){return new XMLHttpRequest},zi.prototype.i=function(){return{}},Nn=new zi;function Mn(c,g,_,x){this.j=c,this.i=g,this.l=_,this.R=x||1,this.U=new Fi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zl}function zl(){this.i=null,this.g="",this.h=!1}var da={},Fs={};function js(c,g,_){c.L=1,c.v=Jr(un(g)),c.m=_,c.P=!0,fa(c,null)}function fa(c,g){c.F=Date.now(),We(c),c.A=un(c.v);var _=c.A,x=c.R;Array.isArray(x)||(x=[String(x)]),ei(_.i,"t",x),c.C=0,_=c.j.J,c.h=new zl,c.g=au(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Oi(E(c.Y,c,c.g),c.O)),g=c.U,_=c.g,x=c.ca;var $="readystatechange";Array.isArray($)||($&&(ra[0]=$.toString()),$=ra);for(var K=0;K<$.length;K++){var oe=Jo(_,$[K],x||g.handleEvent,!1,g.h||g);if(!oe)break;g.g[oe.key]=oe}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Er(),$i(c.i,c.u,c.A,c.l,c.R,c.m)}Mn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Zt(c)==3?g.j():this.Y(c)},Mn.prototype.Y=function(c){try{if(c==this.g)e:{const dt=Zt(this.g);var g=this.g.Ba();const En=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||_a(this.g)))){this.J||dt!=4||g==7||(g==8||0>=En?Er(3):Er(2)),Hi(this);var _=this.g.Z();this.X=_;t:if(Hl(this)){var x=_a(this.g);c="";var $=x.length,K=Zt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),Kr(this);var oe="";break t}this.h.i=new h.TextDecoder}for(g=0;g<$;g++)this.h.h=!0,c+=this.h.i.decode(x[g],{stream:!(K&&g==$-1)});x.length=0,this.h.g+=c,this.C=0,oe=this.h.g}else oe=this.g.oa();if(this.o=_==200,Ls(this.i,this.u,this.A,this.l,this.R,dt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,yt=this.g;if(($e=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q($e)){var Ne=$e;break t}}Ne=null}if(_=Ne)Dn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pa(this,_);else{this.o=!1,this.s=3,lt(12),_n(this),Kr(this);break e}}if(this.P){_=!0;let hn;for(;!this.J&&this.C<oe.length;)if(hn=_h(this,oe),hn==Fs){dt==4&&(this.s=4,lt(14),_=!1),Dn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==da){this.s=4,lt(15),Dn(this.i,this.l,oe,"[Invalid Chunk]"),_=!1;break}else Dn(this.i,this.l,hn,null),pa(this,hn);if(Hl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||oe.length!=0||this.h.h||(this.s=1,lt(16),_=!1),this.o=this.o&&_,!_)Dn(this.i,this.l,oe,"[Invalid Chunked Response]"),_n(this),Kr(this);else if(0<oe.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+oe.length),Ea(St),St.M=!0,lt(11))}}else Dn(this.i,this.l,oe,null),pa(this,oe);dt==4&&_n(this),this.o&&!this.J&&(dt==4?Ys(this.j,this):(this.o=!1,We(this)))}else Ws(this.g),_==400&&0<oe.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),_n(this),Kr(this)}}}catch{}finally{}};function Hl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _h(c,g){var _=c.C,x=g.indexOf(`
`,_);return x==-1?Fs:(_=Number(g.substring(_,x)),isNaN(_)?da:(x+=1,x+_>g.length?Fs:(g=g.slice(x,x+_),c.C=x+_,g)))}Mn.prototype.cancel=function(){this.J=!0,_n(this)};function We(c){c.S=Date.now()+c.I,Wl(c,c.I)}function Wl(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Vn(E(c.ba,c),g)}function Hi(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Mn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ha(this.i,this.A),this.L!=2&&(Er(),lt(17)),_n(this),this.s=2,Kr(this)):Wl(this,this.S-c)};function Kr(c){c.j.G==0||c.J||Ys(c.j,c)}function _n(c){Hi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ia(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function pa(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Gt(_.h,c))){if(!c.K&&Gt(_.h,c)&&_.G==3){try{var x=_.Da.g.parse(g)}catch{x=null}if(Array.isArray(x)&&x.length==3){var $=x;if($[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Qs(_),Bn(_);else break e;Ks(_),lt(18)}}else _.za=$[1],0<_.za-_.T&&37500>$[2]&&_.F&&_.v==0&&!_.C&&(_.C=Vn(E(_.Za,_),6e3));if(1>=ql(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Ar(_,11)}else if((c.K||_.g==c)&&Qs(_),!q(g))for($=_.Da.g.parse(g),g=0;g<$.length;g++){let Ne=$[g];if(_.T=Ne[0],Ne=Ne[1],_.G==2)if(Ne[0]=="c"){_.K=Ne[1],_.ia=Ne[2];const St=Ne[3];St!=null&&(_.la=St,_.j.info("VER="+_.la));const dt=Ne[4];dt!=null&&(_.Aa=dt,_.j.info("SVER="+_.Aa));const En=Ne[5];En!=null&&typeof En=="number"&&0<En&&(x=1.5*En,_.L=x,_.j.info("backChannelRequestTimeoutMs_="+x)),x=_;const hn=c.g;if(hn){const Xi=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xi){var K=x.h;K.g||Xi.indexOf("spdy")==-1&&Xi.indexOf("quic")==-1&&Xi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(ma(K,K.h),K.h=null))}if(x.D){const Js=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;Js&&(x.ya=Js,ze(x.I,x.D,Js))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),x=_;var oe=c;if(x.qa=ou(x,x.J?x.ia:null,x.W),oe.K){Kl(x.h,oe);var $e=oe,yt=x.L;yt&&($e.I=yt),$e.B&&(Hi($e),We($e)),x.g=oe}else Yi(x);0<_.i.length&&tr(_)}else Ne[0]!="stop"&&Ne[0]!="close"||Ar(_,7);else _.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Ar(_,7):kt(_):Ne[0]!="noop"&&_.l&&_.l.ta(Ne),_.v=0)}}Er(4)}catch{}}var Gl=class{constructor(c,g){this.g=c,this.map=g}};function Wi(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ql(c){return c.h?1:c.g?c.g.size:0}function Gt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function ma(c,g){c.g?c.g.add(g):c.h=g}function Kl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Wi.prototype.cancel=function(){if(this.i=Ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ql(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return L(c.i)}function Bs(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],_=c.length,x=0;x<_;x++)g.push(c[x]);return g}g=[],_=0;for(x in c)g[_++]=c[x];return g}function Us(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const x in c)g[_++]=x;return g}}}function Qr(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Us(c),x=Bs(c),$=x.length,K=0;K<$;K++)g.call(void 0,x[K],_&&_[K],c)}var Gi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wh(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var x=c[_].indexOf("="),$=null;if(0<=x){var K=c[_].substring(0,x);$=c[_].substring(x+1)}else K=c[_];g(K,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Tr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Tr){this.h=c.h,qi(this,c.j),this.o=c.o,this.g=c.g,Yr(this,c.s),this.l=c.l;var g=c.i,_=new Jn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),Xr(this,_),this.m=c.m}else c&&(g=String(c).match(Gi))?(this.h=!1,qi(this,g[1]||"",!0),this.o=Ve(g[2]||""),this.g=Ve(g[3]||"",!0),Yr(this,g[4]),this.l=Ve(g[5]||"",!0),Xr(this,g[6]||"",!0),this.m=Ve(g[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}Tr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Zr(g,$s,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Zr(g,$s,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(Zr(_,_.charAt(0)=="/"?Jl:Xl,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",Zr(_,ga)),c.join("")};function un(c){return new Tr(c)}function qi(c,g,_){c.j=_?Ve(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Yr(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Xr(c,g,_){g instanceof Jn?(c.i=g,Zn(c.i,c.h)):(_||(g=Zr(g,Zl)),c.i=new Jn(g,c.h))}function ze(c,g,_){c.i.set(g,_)}function Jr(c){return ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Zr(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Yl),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Yl(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $s=/[#\/\?@]/g,Xl=/[#\?:]/g,Jl=/[#\?]/g,Zl=/[#\?@]/g,ga=/#/g;function Jn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Rt(c){c.g||(c.g=new Map,c.h=0,c.i&&wh(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=Jn.prototype,t.add=function(c,g){Rt(this),this.i=null,c=wn(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function Ln(c,g){Rt(c),g=wn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function On(c,g){return Rt(c),g=wn(c,g),c.g.has(g)}t.forEach=function(c,g){Rt(this),this.g.forEach(function(_,x){_.forEach(function($){c.call(g,$,x,this)},this)},this)},t.na=function(){Rt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let x=0;x<g.length;x++){const $=c[x];for(let K=0;K<$.length;K++)_.push(g[x])}return _},t.V=function(c){Rt(this);let g=[];if(typeof c=="string")On(this,c)&&(g=g.concat(this.g.get(wn(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},t.set=function(c,g){return Rt(this),this.i=null,c=wn(this,c),On(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ei(c,g,_){Ln(c,g),0<_.length&&(c.i=null,c.g.set(wn(c,g),L(_)),c.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var x=g[_];const K=encodeURIComponent(String(x)),oe=this.V(x);for(x=0;x<oe.length;x++){var $=K;oe[x]!==""&&($+="="+encodeURIComponent(String(oe[x]))),c.push($)}}return this.i=c.join("&")};function wn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Zn(c,g){g&&!c.j&&(Rt(c),c.i=null,c.g.forEach(function(_,x){var $=x.toLowerCase();x!=$&&(Ln(this,x),ei(this,$,_))},c)),c.j=g}function Eh(c,g){const _=new Ui;if(h.Image){const x=new Image;x.onload=S(Jt,_,"TestLoadImage: loaded",!0,g,x),x.onerror=S(Jt,_,"TestLoadImage: error",!1,g,x),x.onabort=S(Jt,_,"TestLoadImage: abort",!1,g,x),x.ontimeout=S(Jt,_,"TestLoadImage: timeout",!1,g,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=c}else g(!1)}function eu(c,g){const _=new Ui,x=new AbortController,$=setTimeout(()=>{x.abort(),Jt(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:x.signal}).then(K=>{clearTimeout($),K.ok?Jt(_,"TestPingServer: ok",!0,g):Jt(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout($),Jt(_,"TestPingServer: error",!1,g)})}function Jt(c,g,_,x,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),x(_)}catch{}}function Th(){this.g=new aa}function tu(c,g,_){const x=_||"";try{Qr(c,function($,K){let oe=$;p($)&&(oe=sa($)),g.push(x+K+"="+encodeURIComponent(oe))})}catch($){throw g.push(x+"type="+encodeURIComponent("_badmap")),$}}function xr(c){this.l=c.Ub||null,this.j=c.eb||!1}I(xr,ji),xr.prototype.g=function(){return new Ki(this.l,this.j)},xr.prototype.i=function(c){return function(){return c}}({});function Ki(c,g){mt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}I(Ki,mt),t=Ki.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,jn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;nu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function nu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Fn(this):jn(this),this.readyState==3&&nu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Fn(this))},t.Qa=function(c){this.g&&(this.response=c,Fn(this))},t.ga=function(){this.g&&Fn(this)};function Fn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,jn(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ki.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Sr(c){let g="";return se(c,function(_,x){g+=x,g+=":",g+=_,g+=`\r
`}),g}function ti(c,g,_){e:{for(x in _){var x=!1;break e}x=!0}x||(_=Sr(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):ze(c,g,_))}function Ye(c){mt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}I(Ye,mt);var xh=/^https?$/i,ya=["POST","PUT"];t=Ye.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,_,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nn.g(),this.v=this.o?Vs(this.o):Vs(Nn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(K){Qi(this,K);return}if(c=_||"",_=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var $ in x)_.set($,x[$]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const K of x.keys())_.set(K,x.get(K));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(_.keys()).find(K=>K.toLowerCase()=="content-type"),$=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ya,g,void 0))||x||$||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of _)this.g.setRequestHeader(K,oe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Hs(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Qi(this,K)}};function Qi(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,zs(c),cn(c)}function zs(c){c.A||(c.A=!0,gt(c,"complete"),gt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,gt(this,"complete"),gt(this,"abort"),cn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?va(this):this.bb())},t.bb=function(){va(this)};function va(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Zt(c)!=4||c.Z()!=2)){if(c.u&&Zt(c)==4)na(c.Ea,0,c);else if(gt(c,"readystatechange"),Zt(c)==4){c.h=!1;try{const oe=c.Z();e:switch(oe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var x;if(x=oe===0){var $=String(c.D).match(Gi)[1]||null;!$&&h.self&&h.self.location&&($=h.self.location.protocol.slice(0,-1)),x=!xh.test($?$.toLowerCase():"")}_=x}if(_)gt(c,"complete"),gt(c,"success");else{c.m=6;try{var K=2<Zt(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",zs(c)}}finally{cn(c)}}}}function cn(c,g){if(c.g){Hs(c);const _=c.g,x=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||gt(c,"ready");try{_.onreadystatechange=x}catch{}}}function Hs(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Zt(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Zt(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),oa(g)}};function _a(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ws(c){const g={};c=(c.g&&2<=Zt(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<c.length;x++){if(q(c[x]))continue;var _=M(c[x]);const $=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const K=g[$]||[];g[$]=K,K.push(_)}D(g,function(x){return x.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function er(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function wa(c){this.Aa=0,this.i=[],this.j=new Ui,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=er("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=er("baseRetryDelayMs",5e3,c),this.cb=er("retryDelaySeedMs",1e4,c),this.Wa=er("forwardChannelMaxRetries",2,c),this.wa=er("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Wi(c&&c.concurrentRequestLimit),this.Da=new Th,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wa.prototype,t.la=8,t.G=1,t.connect=function(c,g,_,x){lt(0),this.W=c,this.H=g||{},_&&x!==void 0&&(this.H.OSID=_,this.H.OAID=x),this.F=this.X,this.I=ou(this,null,this.W),tr(this)};function kt(c){if(Gs(c),c.G==3){var g=c.U++,_=un(c.I);if(ze(_,"SID",c.K),ze(_,"RID",g),ze(_,"TYPE","terminate"),Cr(c,_),g=new Mn(c,c.j,g),g.L=2,g.v=Jr(un(_)),_=!1,h.navigator&&h.navigator.sendBeacon)try{_=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&h.Image&&(new Image().src=g.v,_=!0),_||(g.g=au(g.j,null),g.g.ea(g.v)),g.F=Date.now(),We(g)}su(c)}function Bn(c){c.g&&(Ea(c),c.g.cancel(),c.g=null)}function Gs(c){Bn(c),c.u&&(h.clearTimeout(c.u),c.u=null),Qs(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function tr(c){if(!ln(c.h)&&!c.s){c.s=!0;var g=c.Ga;Te||ae(),ne||(Te(),ne=!0),pe.add(g,c),c.B=0}}function Sh(c,g){return ql(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Vn(E(c.Ga,c,g),iu(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const $=new Mn(this,this.j,c);let K=this.o;if(this.S&&(K?(K=C(K),N(K,this.S)):K=this.S),this.m!==null||this.O||($.H=K,K=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var x=this.i[_];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(g+=x,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=ni(this,$,g),_=un(this.I),ze(_,"RID",c),ze(_,"CVER",22),this.D&&ze(_,"X-HTTP-Session-Id",this.D),Cr(this,_),K&&(this.O?g="headers="+encodeURIComponent(String(Sr(K)))+"&"+g:this.m&&ti(_,this.m,K)),ma(this.h,$),this.Ua&&ze(_,"TYPE","init"),this.P?(ze(_,"$req",g),ze(_,"SID","null"),$.T=!0,js($,_,null)):js($,_,g),this.G=2}}else this.G==3&&(c?qs(this,c):this.i.length==0||ln(this.h)||qs(this))};function qs(c,g){var _;g?_=g.l:_=c.U++;const x=un(c.I);ze(x,"SID",c.K),ze(x,"RID",_),ze(x,"AID",c.T),Cr(c,x),c.m&&c.o&&ti(x,c.m,c.o),_=new Mn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ni(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ma(c.h,_),js(_,x,g)}function Cr(c,g){c.H&&se(c.H,function(_,x){ze(g,x,_)}),c.l&&Qr({},function(_,x){ze(g,x,_)})}function ni(c,g,_){_=Math.min(c.i.length,_);var x=c.l?E(c.l.Na,c.l,c):null;e:{var $=c.i;let K=-1;for(;;){const oe=["count="+_];K==-1?0<_?(K=$[0].g,oe.push("ofs="+K)):K=0:oe.push("ofs="+K);let $e=!0;for(let yt=0;yt<_;yt++){let Ne=$[yt].g;const St=$[yt].map;if(Ne-=K,0>Ne)K=Math.max(0,$[yt].g-100),$e=!1;else try{tu(St,oe,"req"+Ne+"_")}catch{x&&x(St)}}if($e){x=oe.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,x}function Yi(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Te||ae(),ne||(Te(),ne=!0),pe.add(g,c),c.v=0}}function Ks(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Vn(E(c.Fa,c),iu(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,ru(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Vn(E(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Bn(this),ru(this))};function Ea(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function ru(c){c.g=new Mn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=un(c.qa);ze(g,"RID","rpc"),ze(g,"SID",c.K),ze(g,"AID",c.T),ze(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&ze(g,"TO",c.ja),ze(g,"TYPE","xmlhttp"),Cr(c,g),c.m&&c.o&&ti(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=Jr(un(g)),_.m=null,_.P=!0,fa(_,c)}t.Za=function(){this.C!=null&&(this.C=null,Bn(this),Ks(this),lt(19))};function Qs(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function Ys(c,g){var _=null;if(c.g==g){Qs(c),Ea(c),c.g=null;var x=2}else if(Gt(c.h,g))_=g.D,Kl(c.h,g),x=1;else return;if(c.G!=0){if(g.o)if(x==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var $=c.B;x=Bi(),gt(x,new Ms(x,_)),tr(c)}else Yi(c);else if($=g.s,$==3||$==0&&0<g.X||!(x==1&&Sh(c,g)||x==2&&Ks(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),$){case 1:Ar(c,5);break;case 4:Ar(c,10);break;case 3:Ar(c,6);break;default:Ar(c,2)}}}function iu(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Ar(c,g){if(c.j.info("Error code "+g),g==2){var _=E(c.fb,c),x=c.Xa;const $=!x;x=new Tr(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||qi(x,"https"),Jr(x),$?Eh(x.toString(),_):eu(x.toString(),_)}else lt(2);c.G=0,c.l&&c.l.sa(g),su(c),Gs(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function su(c){if(c.G=0,c.ka=[],c.l){const g=Ql(c.h);(g.length!=0||c.i.length!=0)&&(V(c.ka,g),V(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function ou(c,g,_){var x=_ instanceof Tr?un(_):new Tr(_);if(x.g!="")g&&(x.g=g+"."+x.g),Yr(x,x.s);else{var $=h.location;x=$.protocol,g=g?g+"."+$.hostname:$.hostname,$=+$.port;var K=new Tr(null);x&&qi(K,x),g&&(K.g=g),$&&Yr(K,$),_&&(K.l=_),x=K}return _=c.D,g=c.ya,_&&g&&ze(x,_,g),ze(x,"VER",c.la),Cr(c,x),x}function au(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ye(new xr({eb:_})):new Ye(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ta(){}t=Ta.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xs(){}Xs.prototype.g=function(c,g){return new qt(c,g)};function qt(c,g){mt.call(this),this.g=new wa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!q(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!q(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new nr(this)}I(qt,mt),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){kt(this.g)},qt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=sa(c),c=_);g.i.push(new Gl(g.Ya++,c)),g.G==3&&tr(g)},qt.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,qt.aa.N.call(this)};function lu(c){Yn.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}I(lu,Yn);function uu(){Ns.call(this),this.status=1}I(uu,Ns);function nr(c){this.g=c}I(nr,Ta),nr.prototype.ua=function(){gt(this.g,"a")},nr.prototype.ta=function(c){gt(this.g,new lu(c))},nr.prototype.sa=function(c){gt(this.g,new uu)},nr.prototype.ra=function(){gt(this.g,"b")},Xs.prototype.createWebChannel=Xs.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,WE=function(){return new Xs},HE=function(){return Bi()},zE=Xn,qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Os.NO_ERROR=0,Os.TIMEOUT=8,Os.HTTP_ERROR=6,_c=Os,$l.COMPLETE="complete",$E=$l,Ds.EventType=vn,vn.OPEN="a",vn.CLOSE="b",vn.ERROR="c",vn.MESSAGE="d",mt.prototype.listen=mt.prototype.K,Za=Ds,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,UE=Ye}).apply(typeof uc<"u"?uc:typeof self<"u"?self:typeof window<"u"?window:{});const B0="@firebase/firestore",U0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ko="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new ME("@firebase/firestore");function To(){return ws.logLevel}function ue(t,...e){if(ws.logLevel<=Le.DEBUG){const n=e.map(lm);ws.debug(`Firestore (${Ko}): ${t}`,...n)}}function zr(t,...e){if(ws.logLevel<=Le.ERROR){const n=e.map(lm);ws.error(`Firestore (${Ko}): ${t}`,...n)}}function Lo(t,...e){if(ws.logLevel<=Le.WARN){const n=e.map(lm);ws.warn(`Firestore (${Ko}): ${t}`,...n)}}function lm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(t="Unexpected state"){const e=`FIRESTORE (${Ko}) INTERNAL ASSERTION FAILED: `+t;throw zr(e),new Error(e)}function Ue(t,e){t||Ee()}function Ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ge extends qo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class zb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class Hb{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Wb{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let a=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new jr,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},h=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new jr)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ue(typeof i.accessToken=="string"),new GE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new zt(e)}}class Gb{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class qb{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new Gb(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class $0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Kb{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Ab(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ue(this.o===void 0);const i=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new $0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new $0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=Qb(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%62))}return i}}function Pe(t,e){return t<e?-1:t>e?1:0}function Kf(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),o=e.codePointAt(n);if(i!==o){if(i<128&&o<128)return Pe(i,o);{const a=qE(),u=Yb(a.encode(z0(t,n)),a.encode(z0(e,n)));return u!==0?u:Pe(i,o)}}n+=i>65535?2:1}return Pe(t.length,e.length)}function z0(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function Yb(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Pe(t[n],e[n]);return Pe(t.length,e.length)}function Oo(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=-62135596800,W0=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*W0);return new Et(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ge(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<H0)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ge(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/W0}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-H0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Et(0,0))}static max(){return new Se(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0="__name__";class ar{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ee(),i===void 0?i=e.length-n:i>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ar?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=ar.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return Pe(e.length,n.length)}static compareSegments(e,n){const i=ar.isNumericId(e),o=ar.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?ar.extractNumericId(e).compare(ar.extractNumericId(n)):Kf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ti.fromString(e.substring(4,e.length-2))}}class Je extends ar{construct(e,n,i){return new Je(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new ge(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new Je(n)}static emptyPath(){return new Je([])}}const Xb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends ar{construct(e,n,i){return new Mt(e,n,i)}static isValidIdentifier(e){return Xb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===G0}static keyField(){return new Mt([G0])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new ge(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new ge(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ge(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(i+=h,o++):(a(),o++)}if(a(),u)throw new ge(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Je.fromString(e))}static fromName(e){return new _e(Je.fromString(e).popFirst(5))}static empty(){return new _e(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Je.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Je(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl=-1;function Jb(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(i===1e9?new Et(n+1,0):new Et(n,i));return new Ii(o,_e.empty(),e)}function Zb(t){return new Ii(t.readTime,t.key,xl)}class Ii{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Ii(Se.min(),_e.empty(),xl)}static max(){return new Ii(Se.max(),_e.empty(),xl)}}function e2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Pe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class n2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(t){if(t.code!==Z.FAILED_PRECONDITION||t.message!==t2)throw t;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Q((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Q?n:Q.resolve(n)}catch(n){return Q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Q.reject(n)}static resolve(e){return new Q((n,i)=>{n(e)})}static reject(e){return new Q((n,i)=>{i(e)})}static waitFor(e){return new Q((n,i)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&n()},f=>i(f))}),u=!0,a===o&&n()})}static or(e){let n=Q.resolve(!1);for(const i of e)n=n.next(o=>o?Q.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,a)=>{i.push(n.call(this,o,a))}),this.waitFor(i)}static mapArray(e,n){return new Q((i,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(v=>{u[p]=v,++h,h===a&&i(u)},v=>o(v))}})}static doWhile(e,n){return new Q((i,o)=>{const a=()=>{e()===!0?n().next(()=>{a()},o):i()};a()})}}function r2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Yo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ih.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const um=-1;function sh(t){return t==null}function Fc(t){return t===0&&1/t==-1/0}function i2(t){return typeof t=="number"&&Number.isInteger(t)&&!Fc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE="";function s2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=q0(e)),e=o2(t.get(n),e);return q0(e)}function o2(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case QE:n+="";break;default:n+=a}}return n}function q0(t){return t+QE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function YE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||Nt.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Nt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Nt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new cc(this.root,e,this.comparator,!0)}}class cc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Nt{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??Nt.RED,this.left=o??Nt.EMPTY,this.right=a??Nt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new Nt(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Nt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Nt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Nt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Nt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Nt.EMPTY=null,Nt.RED=!0,Nt.BLACK=!1;Nt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,i,o,a){return this}insert(e,n,i){return new Nt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Q0(this.data.getIterator())}getIteratorFrom(e){return new Q0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Tt(this.comparator);return n.data=e,n}}class Q0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new Kn([])}unionWith(e){let n=new Tt(Mt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Oo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new XE("Invalid base64 string: "+a):a}}(e);return new Lt(n)}static fromUint8Array(e){const n=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Lt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const a2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=a2.exec(t);if(Ue(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ri(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="server_timestamp",ZE="__type__",eT="__previous_value__",tT="__local_write_time__";function cm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[ZE])===null||n===void 0?void 0:n.stringValue)===JE}function oh(t){const e=t.mapValue.fields[eT];return cm(e)?oh(e):e}function Sl(t){const e=Pi(t.mapValue.fields[tT].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2{constructor(e,n,i,o,a,u,h,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}const jc="(default)";class Cl{constructor(e,n){this.projectId=e,this.database=n||jc}static empty(){return new Cl("","")}get isDefaultDatabase(){return this.database===jc}isEqual(e){return e instanceof Cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="__type__",u2="__max__",hc={mapValue:{}},rT="__vector__",Bc="value";function ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cm(t)?4:h2(t)?9007199254740991:c2(t)?10:11:Ee()}function pr(t,e){if(t===e)return!0;const n=ki(t);if(n!==ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sl(t).isEqual(Sl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Pi(o.timestampValue),h=Pi(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return Ri(o.bytesValue).isEqual(Ri(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return ht(o.geoPointValue.latitude)===ht(a.geoPointValue.latitude)&&ht(o.geoPointValue.longitude)===ht(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return ht(o.integerValue)===ht(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=ht(o.doubleValue),h=ht(a.doubleValue);return u===h?Fc(u)===Fc(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return Oo(t.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(K0(u)!==K0(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!pr(u[f],h[f])))return!1;return!0}(t,e);default:return Ee()}}function Al(t,e){return(t.values||[]).find(n=>pr(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=ki(t),i=ki(e);if(n!==i)return Pe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(t.booleanValue,e.booleanValue);case 2:return function(a,u){const h=ht(a.integerValue||a.doubleValue),f=ht(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return Y0(t.timestampValue,e.timestampValue);case 4:return Y0(Sl(t),Sl(e));case 5:return Kf(t.stringValue,e.stringValue);case 6:return function(a,u){const h=Ri(a),f=Ri(u);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const v=Pe(h[p],f[p]);if(v!==0)return v}return Pe(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const h=Pe(ht(a.latitude),ht(u.latitude));return h!==0?h:Pe(ht(a.longitude),ht(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return X0(t.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,p,v;const w=a.fields||{},E=u.fields||{},S=(h=w[Bc])===null||h===void 0?void 0:h.arrayValue,I=(f=E[Bc])===null||f===void 0?void 0:f.arrayValue,L=Pe(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((v=I==null?void 0:I.values)===null||v===void 0?void 0:v.length)||0);return L!==0?L:X0(S,I)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===hc.mapValue&&u===hc.mapValue)return 0;if(a===hc.mapValue)return 1;if(u===hc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},v=Object.keys(p);f.sort(),v.sort();for(let w=0;w<f.length&&w<v.length;++w){const E=Kf(f[w],v[w]);if(E!==0)return E;const S=Fo(h[f[w]],p[v[w]]);if(S!==0)return S}return Pe(f.length,v.length)}(t.mapValue,e.mapValue);default:throw Ee()}}function Y0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Pe(t,e);const n=Pi(t),i=Pi(e),o=Pe(n.seconds,i.seconds);return o!==0?o:Pe(n.nanos,i.nanos)}function X0(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=Fo(n[o],i[o]);if(a)return a}return Pe(n.length,i.length)}function jo(t){return Qf(t)}function Qf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Pi(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ri(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=Qf(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${Qf(n.fields[u])}`;return o+"}"}(t.mapValue):Ee()}function wc(t){switch(ki(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=oh(t);return e?16+wc(e):16;case 5:return 2*t.stringValue.length;case 6:return Ri(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+wc(a),0)}(t.arrayValue);case 10:case 11:return function(i){let o=0;return xs(i.fields,(a,u)=>{o+=a.length+wc(u)}),o}(t.mapValue);default:throw Ee()}}function Yf(t){return!!t&&"integerValue"in t}function hm(t){return!!t&&"arrayValue"in t}function J0(t){return!!t&&"nullValue"in t}function Z0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ec(t){return!!t&&"mapValue"in t}function c2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[nT])===null||n===void 0?void 0:n.stringValue)===rT}function al(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=al(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=al(t.arrayValue.values[n]);return e}return Object.assign({},t)}function h2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===u2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.value=e}static empty(){return new kn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Ec(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(n)}setAll(e){let n=Mt.emptyPath(),i={},o=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,o),i={},o=[],n=h.popLast()}u?i[h.lastSegment()]=al(u):o.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());Ec(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];Ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){xs(n,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new kn(al(this.value))}}function iT(t){const e=[];return xs(t.fields,(n,i)=>{const o=new Mt([n]);if(Ec(i)){const a=iT(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,i,o,a,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Ht(e,0,Se.min(),Se.min(),Se.min(),kn.empty(),0)}static newFoundDocument(e,n,i,o){return new Ht(e,1,n,Se.min(),i,o,0)}static newNoDocument(e,n){return new Ht(e,2,n,Se.min(),Se.min(),kn.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,Se.min(),Se.min(),kn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n){this.position=e,this.inclusive=n}}function e_(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?i=_e.comparator(_e.fromName(u.referenceValue),n.key):i=Fo(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function t_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!pr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n="asc"){this.field=e,this.dir=n}}function d2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{}class wt extends sT{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new p2(e,n,i):n==="array-contains"?new y2(e,i):n==="in"?new v2(e,i):n==="not-in"?new _2(e,i):n==="array-contains-any"?new w2(e,i):new wt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new m2(e,i):new g2(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fo(n,this.value)):n!==null&&ki(this.value)===ki(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mr extends sT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new mr(e,n)}matches(e){return oT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function oT(t){return t.op==="and"}function aT(t){return f2(t)&&oT(t)}function f2(t){for(const e of t.filters)if(e instanceof mr)return!1;return!0}function Xf(t){if(t instanceof wt)return t.field.canonicalString()+t.op.toString()+jo(t.value);if(aT(t))return t.filters.map(e=>Xf(e)).join(",");{const e=t.filters.map(n=>Xf(n)).join(",");return`${t.op}(${e})`}}function lT(t,e){return t instanceof wt?function(i,o){return o instanceof wt&&i.op===o.op&&i.field.isEqual(o.field)&&pr(i.value,o.value)}(t,e):t instanceof mr?function(i,o){return o instanceof mr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,h)=>a&&lT(u,o.filters[h]),!0):!1}(t,e):void Ee()}function uT(t){return t instanceof wt?function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`}(t):t instanceof mr?function(n){return n.op.toString()+" {"+n.getFilters().map(uT).join(" ,")+"}"}(t):"Filter"}class p2 extends wt{constructor(e,n,i){super(e,n,i),this.key=_e.fromName(i.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class m2 extends wt{constructor(e,n){super(e,"in",n),this.keys=cT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class g2 extends wt{constructor(e,n){super(e,"not-in",n),this.keys=cT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>_e.fromName(i.referenceValue))}class y2 extends wt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hm(n)&&Al(n.arrayValue,this.value)}}class v2 extends wt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Al(this.value.arrayValue,n)}}class _2 extends wt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Al(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Al(this.value.arrayValue,n)}}class w2 extends wt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Al(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n=null,i=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.le=null}}function n_(t,e=null,n=[],i=[],o=null,a=null,u=null){return new E2(t,e,n,i,o,a,u)}function dm(t){const e=Ce(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Xf(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>jo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>jo(i)).join(",")),e.le=n}return e.le}function fm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!d2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!t_(t.startAt,e.startAt)&&t_(t.endAt,e.endAt)}function Jf(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n=null,i=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function T2(t,e,n,i,o,a,u,h){return new ah(t,e,n,i,o,a,u,h)}function pm(t){return new ah(t)}function r_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function x2(t){return t.collectionGroup!==null}function ll(t){const e=Ce(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Tt(Mt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new $c(a,i))}),n.has(Mt.keyField().canonicalString())||e.he.push(new $c(Mt.keyField(),i))}return e.he}function cr(t){const e=Ce(t);return e.Pe||(e.Pe=S2(e,ll(t))),e.Pe}function S2(t,e){if(t.limitType==="F")return n_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new $c(o.field,a)});const n=t.endAt?new Uc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new Uc(t.startAt.position,t.startAt.inclusive):null;return n_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Zf(t,e,n){return new ah(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lh(t,e){return fm(cr(t),cr(e))&&t.limitType===e.limitType}function hT(t){return`${dm(cr(t))}|lt:${t.limitType}`}function xo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>uT(o)).join(", ")}]`),sh(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>jo(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>jo(o)).join(",")),`Target(${i})`}(cr(t))}; limitType=${t.limitType})`}function uh(t,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):_e.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(t,e)&&function(i,o){for(const a of ll(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(u,h,f){const p=e_(u,h,f);return u.inclusive?p<=0:p<0}(i.startAt,ll(i),o)||i.endAt&&!function(u,h,f){const p=e_(u,h,f);return u.inclusive?p>=0:p>0}(i.endAt,ll(i),o))}(t,e)}function C2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dT(t){return(e,n)=>{let i=!1;for(const o of ll(t)){const a=A2(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function A2(t,e,n){const i=t.field.isKeyField()?_e.comparator(e.key,n.key):function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?Fo(f,p):Ee()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,(n,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return YE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2=new it(_e.comparator);function Hr(){return I2}const fT=new it(_e.comparator);function el(...t){let e=fT;for(const n of t)e=e.insert(n.key,n);return e}function pT(t){let e=fT;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function vs(){return ul()}function mT(){return ul()}function ul(){return new Ss(t=>t.toString(),(t,e)=>t.isEqual(e))}const P2=new it(_e.comparator),R2=new Tt(_e.comparator);function be(...t){let e=R2;for(const n of t)e=e.add(n);return e}const k2=new Tt(Pe);function b2(){return k2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fc(e)?"-0":e}}function gT(t){return{integerValue:""+t}}function V2(t,e){return i2(e)?gT(e):mm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(){this._=void 0}}function D2(t,e,n){return t instanceof zc?function(o,a){const u={fields:{[ZE]:{stringValue:JE},[tT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&cm(a)&&(a=oh(a)),a&&(u.fields[eT]=a),{mapValue:u}}(n,e):t instanceof Il?vT(t,e):t instanceof Pl?_T(t,e):function(o,a){const u=yT(o,a),h=i_(u)+i_(o.Ie);return Yf(u)&&Yf(o.Ie)?gT(h):mm(o.serializer,h)}(t,e)}function N2(t,e,n){return t instanceof Il?vT(t,e):t instanceof Pl?_T(t,e):n}function yT(t,e){return t instanceof Hc?function(i){return Yf(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class zc extends ch{}class Il extends ch{constructor(e){super(),this.elements=e}}function vT(t,e){const n=wT(e);for(const i of t.elements)n.some(o=>pr(o,i))||n.push(i);return{arrayValue:{values:n}}}class Pl extends ch{constructor(e){super(),this.elements=e}}function _T(t,e){let n=wT(e);for(const i of t.elements)n=n.filter(o=>!pr(o,i));return{arrayValue:{values:n}}}class Hc extends ch{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function i_(t){return ht(t.integerValue||t.doubleValue)}function wT(t){return hm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function M2(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof Il&&o instanceof Il||i instanceof Pl&&o instanceof Pl?Oo(i.elements,o.elements,pr):i instanceof Hc&&o instanceof Hc?pr(i.Ie,o.Ie):i instanceof zc&&o instanceof zc}(t.transform,e.transform)}class L2{constructor(e,n){this.version=e,this.transformResults=n}}class hr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class hh{}function ET(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gm(t.key,hr.none()):new Ll(t.key,t.data,hr.none());{const n=t.data,i=kn.empty();let o=new Tt(Mt.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Cs(t.key,i,new Kn(o.toArray()),hr.none())}}function O2(t,e,n){t instanceof Ll?function(o,a,u){const h=o.value.clone(),f=o_(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Cs?function(o,a,u){if(!Tc(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=o_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(TT(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function cl(t,e,n,i){return t instanceof Ll?function(a,u,h,f){if(!Tc(a.precondition,u))return h;const p=a.value.clone(),v=a_(a.fieldTransforms,f,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof Cs?function(a,u,h,f){if(!Tc(a.precondition,u))return h;const p=a_(a.fieldTransforms,f,u),v=u.data;return v.setAll(TT(a)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(t,e,n,i):function(a,u,h){return Tc(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function F2(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),a=yT(i.transform,o||null);a!=null&&(n===null&&(n=kn.empty()),n.set(i.field,a))}return n||null}function s_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Oo(i,o,(a,u)=>M2(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ll extends hh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cs extends hh{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function TT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function o_(t,e,n){const i=new Map;Ue(t.length===n.length);for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,h=e.data.field(a.field);i.set(a.field,N2(u,h,n[o]))}return i}function a_(t,e,n){const i=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);i.set(o.field,D2(a,u,e))}return i}class gm extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class j2 extends hh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&O2(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=cl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=cl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=mT();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(o.key)?null:h;const f=ET(u,h);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(Se.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),be())}isEqual(e){return this.batchId===e.batchId&&Oo(this.mutations,e.mutations,(n,i)=>s_(n,i))&&Oo(this.baseMutations,e.baseMutations,(n,i)=>s_(n,i))}}class ym{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ue(e.mutations.length===i.length);let o=function(){return P2}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new ym(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,Me;function z2(t){switch(t){case Z.OK:return Ee();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Ee()}}function xT(t){if(t===void 0)return zr("GRPC error has no .code"),Z.UNKNOWN;switch(t){case pt.OK:return Z.OK;case pt.CANCELLED:return Z.CANCELLED;case pt.UNKNOWN:return Z.UNKNOWN;case pt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case pt.INTERNAL:return Z.INTERNAL;case pt.UNAVAILABLE:return Z.UNAVAILABLE;case pt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case pt.NOT_FOUND:return Z.NOT_FOUND;case pt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case pt.ABORTED:return Z.ABORTED;case pt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case pt.DATA_LOSS:return Z.DATA_LOSS;default:return Ee()}}(Me=pt||(pt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=new Ti([4294967295,4294967295],0);function l_(t){const e=qE().encode(t),n=new BE;return n.update(e),new Uint8Array(n.digest())}function u_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ti([n,i],0),new Ti([o,a],0)]}class vm{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new tl(`Invalid padding: ${n}`);if(i<0)throw new tl(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new tl(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new tl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ti.fromNumber(this.Ee)}Ae(e,n,i){let o=e.add(n.multiply(Ti.fromNumber(i)));return o.compare(H2)===1&&(o=new Ti([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=l_(e),[i,o]=u_(n);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);if(!this.Re(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new vm(a,o,n);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const n=l_(e),[i,o]=u_(n);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);this.Ve(u)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,Ol.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new dh(Se.min(),o,new it(Pe),Hr(),be())}}class Ol{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Ol(i,n,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n,i,o){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=o}}class ST{constructor(e,n){this.targetId=e,this.ge=n}}class CT{constructor(e,n,i=Lt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class c_{constructor(){this.pe=0,this.ye=h_(),this.we=Lt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=be(),n=be(),i=be();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ee()}}),new Ol(this.we,this.Se,e,n,i)}Me(){this.be=!1,this.ye=h_()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ue(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class W2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Hr(),this.$e=dc(),this.Ue=dc(),this.Ke=new it(Pe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,i=e.ge.count,o=this.Xe(n);if(o){const a=o.target;if(Jf(a))if(i===0){const u=new _e(a.path);this.ze(n,u,Ht.newNoDocument(u,Se.min()))}else Ue(i===1);else{const u=this.et(n);if(u!==i){const h=this.tt(e),f=h?this.nt(h,e,u):1;if(f!==0){this.Ye(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let u,h;try{u=Ri(i).toUint8Array()}catch(f){if(f instanceof XE)return Lo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new vm(u,o,a)}catch(f){return Lo(f instanceof tl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let o=0;return i.forEach(a=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.ze(n,a,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((a,u)=>{const h=this.Xe(u);if(h){if(a.current&&Jf(h.target)){const f=new _e(h.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,Ht.newNoDocument(f,e))}a.ve&&(n.set(u,a.Fe()),a.Me())}});let i=be();this.Ue.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new dh(e,n,this.Ke,this.Qe,i);return this.Qe=Hr(),this.$e=dc(),this.Ue=dc(),this.Ke=new it(Pe),o}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new c_,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Tt(Pe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Tt(Pe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new c_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function dc(){return new it(_e.comparator)}function h_(){return new it(_e.comparator)}const G2={asc:"ASCENDING",desc:"DESCENDING"},q2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K2={and:"AND",or:"OR"};class Q2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ep(t,e){return t.useProto3Json||sh(e)?e:{value:e}}function Wc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function AT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Y2(t,e){return Wc(t,e.toTimestamp())}function dr(t){return Ue(!!t),Se.fromTimestamp(function(n){const i=Pi(n);return new Et(i.seconds,i.nanos)}(t))}function _m(t,e){return tp(t,e).canonicalString()}function tp(t,e){const n=function(o){return new Je(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function IT(t){const e=Je.fromString(t);return Ue(VT(e)),e}function np(t,e){return _m(t.databaseId,e.path)}function mf(t,e){const n=IT(e);if(n.get(1)!==t.databaseId.projectId)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ge(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(RT(n))}function PT(t,e){return _m(t.databaseId,e)}function X2(t){const e=IT(t);return e.length===4?Je.emptyPath():RT(e)}function rp(t){return new Je(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function RT(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function d_(t,e,n){return{name:np(t,e),fields:n.value.mapValue.fields}}function J2(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(p,v){return p.useProto3Json?(Ue(v===void 0||typeof v=="string"),Lt.fromBase64String(v||"")):(Ue(v===void 0||v instanceof Buffer||v instanceof Uint8Array),Lt.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const v=p.code===void 0?Z.UNKNOWN:xT(p.code);return new ge(v,p.message||"")}(u);n=new CT(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=mf(t,i.document.name),a=dr(i.document.updateTime),u=i.document.createTime?dr(i.document.createTime):Se.min(),h=new kn({mapValue:{fields:i.document.fields}}),f=Ht.newFoundDocument(o,a,u,h),p=i.targetIds||[],v=i.removedTargetIds||[];n=new xc(p,v,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=mf(t,i.document),a=i.readTime?dr(i.readTime):Se.min(),u=Ht.newNoDocument(o,a),h=i.removedTargetIds||[];n=new xc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=mf(t,i.document),a=i.removedTargetIds||[];n=new xc([],a,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new $2(o,a),h=i.targetId;n=new ST(h,u)}}return n}function Z2(t,e){let n;if(e instanceof Ll)n={update:d_(t,e.key,e.value)};else if(e instanceof gm)n={delete:np(t,e.key)};else if(e instanceof Cs)n={update:d_(t,e.key,e.data),updateMask:lV(e.fieldMask)};else{if(!(e instanceof j2))return Ee();n={verify:np(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const h=u.transform;if(h instanceof zc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Il)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Pl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Hc)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Ee()}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:Y2(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ee()}(t,e.precondition)),n}function eV(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(o,a){let u=o.updateTime?dr(o.updateTime):dr(a);return u.isEqual(Se.min())&&(u=dr(a)),new L2(u,o.transformResults||[])}(n,e))):[]}function tV(t,e){return{documents:[PT(t,e.path)]}}function nV(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=PT(t,o);const a=function(p){if(p.length!==0)return bT(mr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(v=>function(E){return{field:So(E.field),direction:sV(E.dir)}}(v))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=ep(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:o}}function rV(t){let e=X2(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ue(i===1);const v=n.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];n.where&&(a=function(w){const E=kT(w);return E instanceof mr&&aT(E)?E.getFilters():[E]}(n.where));let u=[];n.orderBy&&(u=function(w){return w.map(E=>function(I){return new $c(Co(I.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction))}(E))}(n.orderBy));let h=null;n.limit&&(h=function(w){let E;return E=typeof w=="object"?w.value:w,sh(E)?null:E}(n.limit));let f=null;n.startAt&&(f=function(w){const E=!!w.before,S=w.values||[];return new Uc(S,E)}(n.startAt));let p=null;return n.endAt&&(p=function(w){const E=!w.before,S=w.values||[];return new Uc(S,E)}(n.endAt)),T2(e,o,u,a,h,"F",f,p)}function iV(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function kT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Co(n.unaryFilter.field);return wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Co(n.unaryFilter.field);return wt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Co(n.unaryFilter.field);return wt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Co(n.unaryFilter.field);return wt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(t):t.fieldFilter!==void 0?function(n){return wt.create(Co(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return mr.create(n.compositeFilter.filters.map(i=>kT(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(t):Ee()}function sV(t){return G2[t]}function oV(t){return q2[t]}function aV(t){return K2[t]}function So(t){return{fieldPath:t.canonicalString()}}function Co(t){return Mt.fromServerFormat(t.fieldPath)}function bT(t){return t instanceof wt?function(n){if(n.op==="=="){if(Z0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NAN"}};if(J0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Z0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NAN"}};if(J0(n.value))return{unaryFilter:{field:So(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:So(n.field),op:oV(n.op),value:n.value}}}(t):t instanceof mr?function(n){const i=n.getFilters().map(o=>bT(o));return i.length===1?i[0]:{compositeFilter:{op:aV(n.op),filters:i}}}(t):Ee()}function lV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e,n,i,o,a=Se.min(),u=Se.min(),h=Lt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new vi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new vi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e){this.Tt=e}}function cV(t){const e=rV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Zf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(){this.Tn=new dV}addToCollectionParentIndex(e,n){return this.Tn.add(n),Q.resolve()}getCollectionParents(e,n){return Q.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Q.resolve()}deleteFieldIndex(e,n){return Q.resolve()}deleteAllFieldIndexes(e){return Q.resolve()}createTargetIndexes(e,n){return Q.resolve()}getDocumentsMatchingTarget(e,n){return Q.resolve(null)}getIndexType(e,n){return Q.resolve(0)}getFieldIndexes(e,n){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,n){return Q.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return Q.resolve(Ii.min())}updateCollectionGroup(e,n,i){return Q.resolve()}updateIndexEntries(e,n){return Q.resolve()}}class dV{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new Tt(Je.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Tt(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DT=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(DT,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Bo(0)}static Kn(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_="LruGarbageCollector",fV=1048576;function m_([t,e],[n,i]){const o=Pe(t,n);return o===0?Pe(e,i):o}class pV{constructor(e){this.Hn=e,this.buffer=new Tt(m_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();m_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class mV{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(p_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Yo(n)?ue(p_,"Ignoring IndexedDB error during garbage collection: ",n):await Qo(n)}await this.er(3e5)})}}class gV{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return Q.resolve(ih.ae);const i=new pV(n);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Q.resolve(f_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),f_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,o,a,u,h,f,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,u=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(i=w,h=Date.now(),this.removeTargets(e,i,n))).next(w=>(a=w,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(w=>(p=Date.now(),To()<=Le.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${w} documents in `+(p-f)+`ms
Total Duration: ${p-v}ms`),Q.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:w})))}}function yV(t,e){return new gV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(){this.changes=new Ss(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?Q.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&cl(i.mutation,o,Kn.empty(),Et.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,be()).next(()=>i))}getLocalViewOfDocuments(e,n,i=be()){const o=vs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(a=>{let u=el();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=vs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,be()))}populateOverlays(e,n,i){const o=[];return i.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,i,o){let a=Hr();const u=ul(),h=function(){return ul()}();return n.forEach((f,p)=>{const v=i.get(p.key);o.has(p.key)&&(v===void 0||v.mutation instanceof Cs)?a=a.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),cl(v.mutation,p,v.mutation.getFieldMask(),Et.now())):u.set(p.key,Kn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,v)=>u.set(p,v)),n.forEach((p,v)=>{var w;return h.set(p,new _V(v,(w=u.get(p))!==null&&w!==void 0?w:null))}),h))}recalculateAndSaveOverlays(e,n){const i=ul();let o=new it((u,h)=>u-h),a=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let v=i.get(f)||Kn.empty();v=h.applyToLocalView(p,v),i.set(f,v);const w=(o.get(h.batchId)||be()).add(f);o=o.insert(h.batchId,w)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,v=f.value,w=mT();v.forEach(E=>{if(!a.has(E)){const S=ET(n.get(E),i.get(E));S!==null&&w.set(E,S),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,w))}return Q.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(u){return _e.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):x2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):Q.resolve(vs());let h=xl,f=a;return u.next(p=>Q.forEach(p,(v,w)=>(h<w.largestBatchId&&(h=w.largestBatchId),a.get(v)?Q.resolve():this.remoteDocumentCache.getEntry(e,v).next(E=>{f=f.insert(v,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,be())).next(v=>({batchId:h,changes:pT(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(i=>{let o=el();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let u=el();return this.indexManager.getCollectionParents(e,a).next(h=>Q.forEach(h,f=>{const p=function(w,E){return new ah(E,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next(v=>{v.forEach((w,E)=>{u=u.insert(w,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o))).next(u=>{a.forEach((f,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,Ht.newInvalidDocument(v)))});let h=el();return u.forEach((f,p)=>{const v=a.get(f);v!==void 0&&cl(v.mutation,p,Kn.empty(),Et.now()),uh(n,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Q.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:dr(o.createTime)}}(n)),Q.resolve()}getNamedQuery(e,n){return Q.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:cV(o.bundledQuery),readTime:dr(o.readTime)}}(n)),Q.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.overlays=new it(_e.comparator),this.Rr=new Map}getOverlay(e,n){return Q.resolve(this.overlays.get(n))}getOverlays(e,n){const i=vs();return Q.forEach(n,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,a)=>{this.Et(e,n,a)}),Q.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),Q.resolve()}getOverlaysForCollection(e,n,i){const o=vs(),a=n.length+1,u=new _e(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return Q.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new it((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let v=a.get(p.largestBatchId);v===null&&(v=vs(),a=a.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const h=vs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,v)=>h.set(p,v)),!(h.size()>=o)););return Q.resolve(h)}Et(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new U2(n,i));let a=this.Rr.get(n);a===void 0&&(a=be(),this.Rr.set(n,a)),this.Rr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return Q.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Q.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wm{constructor(){this.Vr=new Tt(Pt.mr),this.gr=new Tt(Pt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new Pt(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new Pt(e,n))}Sr(e,n){e.forEach(i=>this.removeReference(i,n))}br(e){const n=new _e(new Je([])),i=new Pt(n,e),o=new Pt(n,e+1),a=[];return this.gr.forEachInRange([i,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new _e(new Je([])),i=new Pt(n,e),o=new Pt(n,e+1);let a=be();return this.gr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new Pt(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class Pt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return _e.comparator(e.key,n.key)||Pe(e.Cr,n.Cr)}static pr(e,n){return Pe(e.Cr,n.Cr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Tt(Pt.mr)}checkEmpty(e){return Q.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new B2(a,n,i,o);this.mutationQueue.push(u);for(const h of o)this.Mr=this.Mr.add(new Pt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Q.resolve(u)}lookupMutationBatch(e,n){return Q.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Nr(i),a=o<0?0:o;return Q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(this.mutationQueue.length===0?um:this.Fr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new Pt(n,0),o=new Pt(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,o],u=>{const h=this.Or(u.Cr);a.push(h)}),Q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Tt(Pe);return n.forEach(o=>{const a=new Pt(o,0),u=new Pt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],h=>{i=i.add(h.Cr)})}),Q.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;_e.isDocumentKey(a)||(a=a.child(""));const u=new Pt(new _e(a),0);let h=new Tt(Pe);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(h=h.add(f.Cr)),!0)},u),Q.resolve(this.Br(h))}Br(e){const n=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ue(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return Q.forEach(n.mutations,o=>{const a=new Pt(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new Pt(n,0),o=this.Mr.firstAfterOrEqual(i);return Q.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e){this.kr=e,this.docs=function(){return new it(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return Q.resolve(i?i.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let i=Hr();return n.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Ht.newInvalidDocument(o))}),Q.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=Hr();const u=n.path,h=new _e(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:v}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||e2(Zb(v),i)<=0||(o.has(v.key)||uh(n,v))&&(a=a.insert(v.key,v.mutableCopy()))}return Q.resolve(a)}getAllFromCollectionGroup(e,n,i,o){Ee()}qr(e,n){return Q.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new AV(this)}getSize(e){return Q.resolve(this.size)}}class AV extends vV{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),Q.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e){this.persistence=e,this.Qr=new Ss(n=>dm(n),fm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Ur=new wm,this.targetCount=0,this.Kr=Bo.Un()}forEachTarget(e,n){return this.Qr.forEach((i,o)=>n(o)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),Q.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Bo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Q.resolve()}updateTargetData(e,n){return this.zn(n),Q.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),Q.waitFor(a).next(()=>o)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return Q.resolve(i)}addMatchingKeys(e,n,i){return this.Ur.yr(n,i),Q.resolve()}removeMatchingKeys(e,n,i){this.Ur.Sr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),Q.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),Q.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ur.vr(n);return Q.resolve(i)}containsKey(e,n){return Q.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new ih(0),this.zr=!1,this.zr=!0,this.jr=new xV,this.referenceDelegate=e(this),this.Hr=new IV(this),this.indexManager=new hV,this.remoteDocumentCache=function(o){return new CV(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new uV(n),this.Yr=new EV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new SV(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){ue("MemoryPersistence","Starting transaction:",e);const o=new PV(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,n){return Q.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class PV extends n2{constructor(e){super(),this.currentSequenceNumber=e}}class Em{constructor(e){this.persistence=e,this.ti=new wm,this.ni=null}static ri(e){return new Em(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),Q.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),Q.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Q.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.ii,i=>{const o=_e.fromPath(i);return this.si(e,o).next(a=>{a||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Q.or([()=>Q.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Gc{constructor(e,n){this.persistence=e,this.oi=new Ss(i=>s2(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=yV(this,n)}static ri(e,n){return new Gc(e,n)}Zr(){}Xr(e){return Q.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return Q.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(a=>a?Q.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,n).next(h=>{h||(i++,a.removeEntry(u,Se.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Q.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),Q.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Q.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=wc(e.data.value)),n}ar(e,n,i){return Q.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return Q.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=o}static Yi(e,n){let i=be(),o=be();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Tm(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return xk()?8:r2(Ek())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.rs(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,n,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new RV;return this._s(e,n,u).next(h=>{if(a.result=h,this.Xi)return this.us(e,n,u,h.size)})}).next(()=>a.result)}us(e,n,i,o){return i.documentReadCount<this.es?(To()<=Le.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Q.resolve()):(To()<=Le.DEBUG&&ue("QueryEngine","Query:",xo(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(To()<=Le.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(n))):Q.resolve())}rs(e,n){if(r_(n))return Q.resolve(null);let i=cr(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Zf(n,null,"F"),i=cr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=be(...a);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const p=this.cs(n,h);return this.ls(n,p,u,f.readTime)?this.rs(e,Zf(n,null,"F")):this.hs(e,p,n,f)}))})))}ss(e,n,i,o){return r_(n)||o.isEqual(Se.min())?Q.resolve(null):this.ns.getDocuments(e,i).next(a=>{const u=this.cs(n,a);return this.ls(n,u,i,o)?Q.resolve(null):(To()<=Le.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(n)),this.hs(e,u,n,Jb(o,xl)).next(h=>h))})}cs(e,n){let i=new Tt(dT(e));return n.forEach((o,a)=>{uh(e,a)&&(i=i.add(a))}),i}ls(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,n,i){return To()<=Le.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",xo(n)),this.ns.getDocumentsMatchingQuery(e,n,Ii.min(),i)}hs(e,n,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="LocalStore",bV=3e8;class VV{constructor(e,n,i,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new it(Pe),this.Is=new Ss(a=>dm(a),fm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wV(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function DV(t,e,n,i){return new VV(t,e,n,i)}async function MT(t,e){const n=Ce(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],h=[];let f=be();for(const p of o){u.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}for(const p of a){h.push(p.batchId);for(const v of p.mutations)f=f.add(v.key)}return n.localDocuments.getDocuments(i,f).next(p=>({Rs:p,removedBatchIds:u,addedBatchIds:h}))})})}function NV(t,e){const n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,p,v){const w=p.batch,E=w.keys();let S=Q.resolve();return E.forEach(I=>{S=S.next(()=>v.getEntry(f,I)).next(L=>{const V=p.docVersions.get(I);Ue(V!==null),L.version.compareTo(V)<0&&(w.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),v.addEntry(L)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(f,w))}(n,i,e,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=be();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function LT(t){const e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function MV(t,e){const n=Ce(t),i=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const h=[];e.targetChanges.forEach((v,w)=>{const E=o.get(w);if(!E)return;h.push(n.Hr.removeMatchingKeys(a,v.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(a,v.addedDocuments,w)));let S=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?S=S.withResumeToken(Lt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):v.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(v.resumeToken,i)),o=o.insert(w,S),function(L,V,j){return L.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=bV?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(E,S,v)&&h.push(n.Hr.updateTargetData(a,S))});let f=Hr(),p=be();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,v))}),h.push(LV(a,u,e.documentUpdates).next(v=>{f=v.Vs,p=v.fs})),!i.isEqual(Se.min())){const v=n.Hr.getLastRemoteSnapshotVersion(a).next(w=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(v)}return Q.waitFor(h).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.Ts=o,a))}function LV(t,e,n){let i=be(),o=be();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let u=Hr();return n.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(Se.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):ue(xm,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{Vs:u,fs:o}})}function OV(t,e){const n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=um),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function FV(t,e){const n=Ce(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Hr.getTargetData(i,e).next(a=>a?(o=a,Q.resolve(o)):n.Hr.allocateTargetId(i).next(u=>(o=new vi(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function ip(t,e,n){const i=Ce(t),o=i.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!Yo(u))throw u;ue(xm,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function g_(t,e,n){const i=Ce(t);let o=Se.min(),a=be();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,v){const w=Ce(f),E=w.Is.get(v);return E!==void 0?Q.resolve(w.Ts.get(E)):w.Hr.getTargetData(p,v)}(i,u,cr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,n?o:Se.min(),n?a:be())).next(h=>(jV(i,C2(e),h),{documents:h,gs:a})))}function jV(t,e,n){let i=t.Es.get(e)||Se.min();n.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.Es.set(e,i)}class y_{constructor(){this.activeTargetIds=b2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BV{constructor(){this.ho=new y_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new y_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_="ConnectivityMonitor";class __{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(v_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(v_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fc=null;function sp(){return fc===null?fc=function(){return 268435456+Math.round(2147483648*Math.random())}():fc++,"0x"+fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="RestConnection",$V={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zV{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===jc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,n,i,o,a){const u=sp(),h=this.bo(e,n.toUriEncodedString());ue(gf,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,o,a),this.vo(e,h,f,i).then(p=>(ue(gf,`Received RPC '${e}' ${u}: `,p),p),p=>{throw Lo(gf,`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",i),p})}Co(e,n,i,o,a,u){return this.So(e,n,i,o,a)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ko}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}bo(e,n){const i=$V[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection";class WV extends zV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,o){const a=sp();return new Promise((u,h)=>{const f=new UE;f.setWithCredentials(!0),f.listenOnce($E.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case _c.NO_ERROR:const v=f.getResponseJson();ue(Ut,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),u(v);break;case _c.TIMEOUT:ue(Ut,`RPC '${e}' ${a} timed out`),h(new ge(Z.DEADLINE_EXCEEDED,"Request time out"));break;case _c.HTTP_ERROR:const w=f.getStatus();if(ue(Ut,`RPC '${e}' ${a} failed with status:`,w,"response text:",f.getResponseText()),w>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const I=function(V){const j=V.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(j)>=0?j:Z.UNKNOWN}(S.status);h(new ge(I,S.message))}else h(new ge(Z.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new ge(Z.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{ue(Ut,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(o);ue(Ut,`RPC '${e}' ${a} sending request:`,o),f.send(n,"POST",p,i,15)})}Wo(e,n,i){const o=sp(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=WE(),h=HE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const v=a.join("");ue(Ut,`Creating RPC '${e}' stream ${o}: ${v}`,f);const w=u.createWebChannel(v,f);let E=!1,S=!1;const I=new HV({Fo:V=>{S?ue(Ut,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(E||(ue(Ut,`Opening RPC '${e}' stream ${o} transport.`),w.open(),E=!0),ue(Ut,`RPC '${e}' stream ${o} sending:`,V),w.send(V))},Mo:()=>w.close()}),L=(V,j,q)=>{V.listen(j,W=>{try{q(W)}catch(ie){setTimeout(()=>{throw ie},0)}})};return L(w,Za.EventType.OPEN,()=>{S||(ue(Ut,`RPC '${e}' stream ${o} transport opened.`),I.Qo())}),L(w,Za.EventType.CLOSE,()=>{S||(S=!0,ue(Ut,`RPC '${e}' stream ${o} transport closed`),I.Uo())}),L(w,Za.EventType.ERROR,V=>{S||(S=!0,Lo(Ut,`RPC '${e}' stream ${o} transport errored:`,V),I.Uo(new ge(Z.UNAVAILABLE,"The operation could not be completed")))}),L(w,Za.EventType.MESSAGE,V=>{var j;if(!S){const q=V.data[0];Ue(!!q);const W=q,ie=(W==null?void 0:W.error)||((j=W[0])===null||j===void 0?void 0:j.error);if(ie){ue(Ut,`RPC '${e}' stream ${o} received error:`,ie);const ee=ie.status;let se=function(P){const N=pt[P];if(N!==void 0)return xT(N)}(ee),D=ie.message;se===void 0&&(se=Z.INTERNAL,D="Unknown error status: "+ee+" with message "+ie.message),S=!0,I.Uo(new ge(se,D)),w.close()}else ue(Ut,`RPC '${e}' stream ${o} received:`,q),I.Ko(q)}}),L(h,zE.STAT_EVENT,V=>{V.stat===qf.PROXY?ue(Ut,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===qf.NOPROXY&&ue(Ut,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{I.$o()},0),I}}function yf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t){return new Q2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,n,i=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-i);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="PersistentStream";class FT{constructor(e,n,i,o,a,u,h,f){this.Ti=e,this.n_=i,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new OT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(zr(n.toString()),zr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===n&&this.V_(i,o)},i=>{e(()=>{const o=new ge(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(w_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue(w_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GV extends FT{constructor(e,n,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=J2(this.serializer,e),i=function(a){if(!("targetChange"in a))return Se.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?dr(u.readTime):Se.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=rp(this.serializer),n.addTarget=function(a,u){let h;const f=u.target;if(h=Jf(f)?{documents:tV(a,f)}:{query:nV(a,f).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=AT(a,u.resumeToken);const p=ep(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(Se.min())>0){h.readTime=Wc(a,u.snapshotVersion.toTimestamp());const p=ep(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const i=iV(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=rp(this.serializer),n.removeTarget=e,this.I_(n)}}class qV extends FT{constructor(e,n,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=eV(e.writeResults,e.commitTime),i=dr(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=rp(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>Z2(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{}class QV extends KV{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,tp(n,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ge(Z.UNKNOWN,a.toString())})}Co(e,n,i,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,tp(n,i),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ge(Z.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class YV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(zr(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="RemoteStore";class XV{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{i.enqueueAndForget(async()=>{As(this)&&(ue(Es,"Restarting streams for network reachability change."),await async function(f){const p=Ce(f);p.W_.add(4),await Fl(p),p.j_.set("Unknown"),p.W_.delete(4),await ph(p)}(this))})}),this.j_=new YV(i,o)}}async function ph(t){if(As(t))for(const e of t.G_)await e(!0)}async function Fl(t){for(const e of t.G_)await e(!1)}function jT(t,e){const n=Ce(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Im(n)?Am(n):Xo(n).c_()&&Cm(n,e))}function Sm(t,e){const n=Ce(t),i=Xo(n);n.K_.delete(e),i.c_()&&BT(n,e),n.K_.size===0&&(i.c_()?i.P_():As(n)&&n.j_.set("Unknown"))}function Cm(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xo(t).y_(e)}function BT(t,e){t.H_.Ne(e),Xo(t).w_(e)}function Am(t){t.H_=new W2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Xo(t).start(),t.j_.B_()}function Im(t){return As(t)&&!Xo(t).u_()&&t.K_.size>0}function As(t){return Ce(t).W_.size===0}function UT(t){t.H_=void 0}async function JV(t){t.j_.set("Online")}async function ZV(t){t.K_.forEach((e,n)=>{Cm(t,e)})}async function eD(t,e){UT(t),Im(t)?(t.j_.q_(e),Am(t)):t.j_.set("Unknown")}async function tD(t,e,n){if(t.j_.set("Online"),e instanceof CT&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.K_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.K_.delete(h),o.H_.removeTarget(h))}(t,e)}catch(i){ue(Es,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await qc(t,i)}else if(e instanceof xc?t.H_.We(e):e instanceof ST?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Se.min()))try{const i=await LT(t.localStore);n.compareTo(i)>=0&&await function(a,u){const h=a.H_.ot(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const v=a.K_.get(p);v&&a.K_.set(p,v.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const v=a.K_.get(f);if(!v)return;a.K_.set(f,v.withResumeToken(Lt.EMPTY_BYTE_STRING,v.snapshotVersion)),BT(a,f);const w=new vi(v.target,f,p,v.sequenceNumber);Cm(a,w)}),a.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){ue(Es,"Failed to raise snapshot:",i),await qc(t,i)}}async function qc(t,e,n){if(!Yo(e))throw e;t.W_.add(1),await Fl(t),t.j_.set("Offline"),n||(n=()=>LT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ue(Es,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await ph(t)})}function $T(t,e){return e().catch(n=>qc(t,n,e))}async function mh(t){const e=Ce(t),n=bi(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:um;for(;nD(e);)try{const o=await OV(e.localStore,i);if(o===null){e.U_.length===0&&n.P_();break}i=o.batchId,rD(e,o)}catch(o){await qc(e,o)}zT(e)&&HT(e)}function nD(t){return As(t)&&t.U_.length<10}function rD(t,e){t.U_.push(e);const n=bi(t);n.c_()&&n.S_&&n.b_(e.mutations)}function zT(t){return As(t)&&!bi(t).u_()&&t.U_.length>0}function HT(t){bi(t).start()}async function iD(t){bi(t).C_()}async function sD(t){const e=bi(t);for(const n of t.U_)e.b_(n.mutations)}async function oD(t,e,n){const i=t.U_.shift(),o=ym.from(i,e,n);await $T(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await mh(t)}async function aD(t,e){e&&bi(t).S_&&await async function(i,o){if(function(u){return z2(u)&&u!==Z.ABORTED}(o.code)){const a=i.U_.shift();bi(i).h_(),await $T(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await mh(i)}}(t,e),zT(t)&&HT(t)}async function E_(t,e){const n=Ce(t);n.asyncQueue.verifyOperationInProgress(),ue(Es,"RemoteStore received new credentials");const i=As(n);n.W_.add(3),await Fl(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await ph(n)}async function lD(t,e){const n=Ce(t);e?(n.W_.delete(2),await ph(n)):e||(n.W_.add(2),await Fl(n),n.j_.set("Unknown"))}function Xo(t){return t.J_||(t.J_=function(n,i,o){const a=Ce(n);return a.M_(),new GV(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{xo:JV.bind(null,t),No:ZV.bind(null,t),Lo:eD.bind(null,t),p_:tD.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Im(t)?Am(t):t.j_.set("Unknown")):(await t.J_.stop(),UT(t))})),t.J_}function bi(t){return t.Y_||(t.Y_=function(n,i,o){const a=Ce(n);return a.M_(),new qV(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:iD.bind(null,t),Lo:aD.bind(null,t),D_:sD.bind(null,t),v_:oD.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await mh(t)):(await t.Y_.stop(),t.U_.length>0&&(ue(Es,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const u=Date.now()+i,h=new Pm(e,n,u,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ge(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rm(t,e){if(zr("AsyncQueue",`${e}: ${t}`),Yo(t))return new ge(Z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{static emptySet(e){return new Vo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||_e.comparator(n.key,i.key):(n,i)=>_e.comparator(n.key,i.key),this.keyedMap=el(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Vo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T_{constructor(){this.Z_=new it(_e.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Uo{constructor(e,n,i,o,a,u,h,f,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,o,a){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new Uo(e,n,Vo.emptySet(n),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&lh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class cD{constructor(){this.queries=x_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const o=Ce(n),a=o.queries;o.queries=x_(),a.forEach((u,h)=>{for(const f of h.ta)f.onError(i)})})(this,new ge(Z.ABORTED,"Firestore shutting down"))}}function x_(){return new Ss(t=>hT(t),lh)}async function WT(t,e){const n=Ce(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.na()&&e.ra()&&(i=2):(a=new uD,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await n.onListen(o,!0);break;case 1:a.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const h=Rm(u,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&km(n)}async function GT(t,e){const n=Ce(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function hD(t,e){const n=Ce(t);let i=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const h of u.ta)h.oa(o)&&(i=!0);u.ea=o}}i&&km(n)}function dD(t,e,n){const i=Ce(t),o=i.queries.get(e);if(o)for(const a of o.ta)a.onError(n);i.queries.delete(e)}function km(t){t.ia.forEach(e=>{e.next()})}var op,S_;(S_=op||(op={}))._a="default",S_.Cache="cache";class qT{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Uo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==op.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.key=e}}class QT{constructor(e){this.key=e}}class fD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=be(),this.mutatedKeys=be(),this.ya=dT(e),this.wa=new Vo(this.ya)}get Sa(){return this.fa}ba(e,n){const i=n?n.Da:new T_,o=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((v,w)=>{const E=o.get(v),S=uh(this.query,w)?w:null,I=!!E&&this.mutatedKeys.has(E.key),L=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let V=!1;E&&S?E.data.isEqual(S.data)?I!==L&&(i.track({type:3,doc:S}),V=!0):this.va(E,S)||(i.track({type:2,doc:S}),V=!0,(f&&this.ya(S,f)>0||p&&this.ya(S,p)<0)&&(h=!0)):!E&&S?(i.track({type:0,doc:S}),V=!0):E&&!S&&(i.track({type:1,doc:E}),V=!0,(f||p)&&(h=!0)),V&&(S?(u=u.add(S),a=L?a.add(v):a.delete(v)):(u=u.delete(v),a=a.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),a=a.delete(v.key),i.track({type:1,doc:v})}return{wa:u,Da:i,ls:h,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((v,w)=>function(S,I){const L=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return L(S)-L(I)}(v.type,w.type)||this.ya(v.doc,w.doc)),this.Ca(i),o=o!=null&&o;const h=n&&!o?this.Fa():[],f=this.pa.size===0&&this.current&&!o?1:0,p=f!==this.ga;return this.ga=f,u.length!==0||p?{snapshot:new Uo(this.query,e.wa,a,u,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new T_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=be(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new QT(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new KT(i))}),n}Oa(e){this.fa=e.gs,this.pa=be();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Uo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const bm="SyncEngine";class pD{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class mD{constructor(e){this.key=e,this.Ba=!1}}class gD{constructor(e,n,i,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Ss(h=>hT(h),lh),this.qa=new Map,this.Qa=new Set,this.$a=new it(_e.comparator),this.Ua=new Map,this.Ka=new wm,this.Wa={},this.Ga=new Map,this.za=Bo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function yD(t,e,n=!0){const i=tx(t);let o;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await YT(i,e,n,!0),o}async function vD(t,e){const n=tx(t);await YT(n,e,!0,!1)}async function YT(t,e,n,i){const o=await FV(t.localStore,cr(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let h;return i&&(h=await _D(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&jT(t.remoteStore,o),h}async function _D(t,e,n,i,o){t.Ha=(w,E,S)=>async function(L,V,j,q){let W=V.view.ba(j);W.ls&&(W=await g_(L.localStore,V.query,!1).then(({documents:D})=>V.view.ba(D,W)));const ie=q&&q.targetChanges.get(V.targetId),ee=q&&q.targetMismatches.get(V.targetId)!=null,se=V.view.applyChanges(W,L.isPrimaryClient,ie,ee);return A_(L,V.targetId,se.Ma),se.snapshot}(t,w,E,S);const a=await g_(t.localStore,e,!0),u=new fD(e,a.gs),h=u.ba(a.documents),f=Ol.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),p=u.applyChanges(h,t.isPrimaryClient,f);A_(t,n,p.Ma);const v=new pD(e,n,u);return t.ka.set(e,v),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function wD(t,e,n){const i=Ce(t),o=i.ka.get(e),a=i.qa.get(o.targetId);if(a.length>1)return i.qa.set(o.targetId,a.filter(u=>!lh(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await ip(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Sm(i.remoteStore,o.targetId),ap(i,o.targetId)}).catch(Qo)):(ap(i,o.targetId),await ip(i.localStore,o.targetId,!0))}async function ED(t,e){const n=Ce(t),i=n.ka.get(e),o=n.qa.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Sm(n.remoteStore,i.targetId))}async function TD(t,e,n){const i=RD(t);try{const o=await function(u,h){const f=Ce(u),p=Et.now(),v=h.reduce((S,I)=>S.add(I.key),be());let w,E;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let I=Hr(),L=be();return f.ds.getEntries(S,v).next(V=>{I=V,I.forEach((j,q)=>{q.isValidDocument()||(L=L.add(j))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,I)).next(V=>{w=V;const j=[];for(const q of h){const W=F2(q,w.get(q.key).overlayedDocument);W!=null&&j.push(new Cs(q.key,W,iT(W.value.mapValue),hr.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,j,h)}).next(V=>{E=V;const j=V.applyToLocalDocumentSet(w,L);return f.documentOverlayCache.saveOverlays(S,V.batchId,j)})}).then(()=>({batchId:E.batchId,changes:pT(w)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,h,f){let p=u.Wa[u.currentUser.toKey()];p||(p=new it(Pe)),p=p.insert(h,f),u.Wa[u.currentUser.toKey()]=p}(i,o.batchId,n),await jl(i,o.changes),await mh(i.remoteStore)}catch(o){const a=Rm(o,"Failed to persist write");n.reject(a)}}async function XT(t,e){const n=Ce(t);try{const i=await MV(n.localStore,e);e.targetChanges.forEach((o,a)=>{const u=n.Ua.get(a);u&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?Ue(u.Ba):o.removedDocuments.size>0&&(Ue(u.Ba),u.Ba=!1))}),await jl(n,i,e)}catch(i){await Qo(i)}}function C_(t,e,n){const i=Ce(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.ka.forEach((a,u)=>{const h=u.view.sa(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const f=Ce(u);f.onlineState=h;let p=!1;f.queries.forEach((v,w)=>{for(const E of w.ta)E.sa(h)&&(p=!0)}),p&&km(f)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function xD(t,e,n){const i=Ce(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Ua.get(e),a=o&&o.key;if(a){let u=new it(_e.comparator);u=u.insert(a,Ht.newNoDocument(a,Se.min()));const h=be().add(a),f=new dh(Se.min(),new Map,new it(Pe),u,h);await XT(i,f),i.$a=i.$a.remove(a),i.Ua.delete(e),Vm(i)}else await ip(i.localStore,e,!1).then(()=>ap(i,e,n)).catch(Qo)}async function SD(t,e){const n=Ce(t),i=e.batch.batchId;try{const o=await NV(n.localStore,e);ZT(n,i,null),JT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await jl(n,o)}catch(o){await Qo(o)}}async function CD(t,e,n){const i=Ce(t);try{const o=await function(u,h){const f=Ce(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return f.mutationQueue.lookupMutationBatch(p,h).next(w=>(Ue(w!==null),v=w.keys(),f.mutationQueue.removeMutationBatch(p,w))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,v,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>f.localDocuments.getDocuments(p,v))})}(i.localStore,e);ZT(i,e,n),JT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await jl(i,o)}catch(o){await Qo(o)}}function JT(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function ZT(t,e,n){const i=Ce(t);let o=i.Wa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function ap(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(i=>{t.Ka.containsKey(i)||ex(t,i)})}function ex(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Sm(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),Vm(t))}function A_(t,e,n){for(const i of n)i instanceof KT?(t.Ka.addReference(i.key,e),AD(t,i)):i instanceof QT?(ue(bm,"Document no longer in limbo: "+i.key),t.Ka.removeReference(i.key,e),t.Ka.containsKey(i.key)||ex(t,i.key)):Ee()}function AD(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(ue(bm,"New document in limbo: "+n),t.Qa.add(i),Vm(t))}function Vm(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new _e(Je.fromString(e)),i=t.za.next();t.Ua.set(i,new mD(n)),t.$a=t.$a.insert(n,i),jT(t.remoteStore,new vi(cr(pm(n.path)),i,"TargetPurposeLimboResolution",ih.ae))}}async function jl(t,e,n){const i=Ce(t),o=[],a=[],u=[];i.ka.isEmpty()||(i.ka.forEach((h,f)=>{u.push(i.Ha(f,e,n).then(p=>{var v;if((p||n)&&i.isPrimaryClient){const w=p?!p.fromCache:(v=n==null?void 0:n.targetChanges.get(f.targetId))===null||v===void 0?void 0:v.current;i.sharedClientState.updateQueryState(f.targetId,w?"current":"not-current")}if(p){o.push(p);const w=Tm.Yi(f.targetId,p);a.push(w)}}))}),await Promise.all(u),i.La.p_(o),await async function(f,p){const v=Ce(f);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>Q.forEach(p,E=>Q.forEach(E.Hi,S=>v.persistence.referenceDelegate.addReference(w,E.targetId,S)).next(()=>Q.forEach(E.Ji,S=>v.persistence.referenceDelegate.removeReference(w,E.targetId,S)))))}catch(w){if(!Yo(w))throw w;ue(xm,"Failed to update sequence numbers: "+w)}for(const w of p){const E=w.targetId;if(!w.fromCache){const S=v.Ts.get(E),I=S.snapshotVersion,L=S.withLastLimboFreeSnapshotVersion(I);v.Ts=v.Ts.insert(E,L)}}}(i.localStore,a))}async function ID(t,e){const n=Ce(t);if(!n.currentUser.isEqual(e)){ue(bm,"User change. New user:",e.toKey());const i=await MT(n.localStore,e);n.currentUser=e,function(a,u){a.Ga.forEach(h=>{h.forEach(f=>{f.reject(new ge(Z.CANCELLED,u))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await jl(n,i.Rs)}}function PD(t,e){const n=Ce(t),i=n.Ua.get(e);if(i&&i.Ba)return be().add(i.key);{let o=be();const a=n.qa.get(e);if(!a)return o;for(const u of a){const h=n.ka.get(u);o=o.unionWith(h.view.Sa)}return o}}function tx(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xD.bind(null,e),e.La.p_=hD.bind(null,e.eventManager),e.La.Ja=dD.bind(null,e.eventManager),e}function RD(t){const e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CD.bind(null,e),e}class Kc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return DV(this.persistence,new kV,e.initialUser,this.serializer)}Xa(e){return new NT(Em.ri,this.serializer)}Za(e){return new BV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Kc.provider={build:()=>new Kc};class kD extends Kc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ue(this.persistence.referenceDelegate instanceof Gc);const i=this.persistence.referenceDelegate.garbageCollector;return new mV(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new NT(i=>Gc.ri(i,n),this.serializer)}}class lp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>C_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=ID.bind(null,this.syncEngine),await lD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cD}()}createDatastore(e){const n=fh(e.databaseInfo.databaseId),i=function(a){return new WV(a)}(e.databaseInfo);return function(a,u,h,f){return new QV(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,a,u,h){return new XV(i,o,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>C_(this.syncEngine,n,0),function(){return __.D()?new __:new UV}())}createSyncEngine(e,n){return function(o,a,u,h,f,p,v){const w=new gD(o,a,u,h,f,p);return v&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const a=Ce(o);ue(Es,"RemoteStore shutting down."),a.W_.add(5),await Fl(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}lp.provider={build:()=>new lp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):zr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi="FirestoreClient";class bD{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=KE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{ue(Vi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ue(Vi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Rm(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function vf(t,e){t.asyncQueue.verifyOperationInProgress(),ue(Vi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await MT(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function I_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VD(t);ue(Vi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>E_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>E_(e.remoteStore,o)),t._onlineComponents=e}async function VD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ue(Vi,"Using user provided OfflineComponentProvider");try{await vf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),await vf(t,new Kc)}}else ue(Vi,"Using default OfflineComponentProvider"),await vf(t,new kD(void 0));return t._offlineComponents}async function rx(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ue(Vi,"Using user provided OnlineComponentProvider"),await I_(t,t._uninitializedComponentsProvider._online)):(ue(Vi,"Using default OnlineComponentProvider"),await I_(t,new lp))),t._onlineComponents}function DD(t){return rx(t).then(e=>e.syncEngine)}async function ix(t){const e=await rx(t),n=e.eventManager;return n.onListen=yD.bind(null,e.syncEngine),n.onUnlisten=wD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ED.bind(null,e.syncEngine),n}function ND(t,e,n={}){const i=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const v=new nx({next:E=>{v.su(),u.enqueueAndForget(()=>GT(a,w));const S=E.docs.has(h);!S&&E.fromCache?p.reject(new ge(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&f&&f.source==="server"?p.reject(new ge(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new qT(pm(h.path),v,{includeMetadataChanges:!0,Ta:!0});return WT(a,w)}(await ix(t),t.asyncQueue,e,n,i)),i.promise}function MD(t,e,n={}){const i=new jr;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const v=new nx({next:E=>{v.su(),u.enqueueAndForget(()=>GT(a,w)),E.fromCache&&f.source==="server"?p.reject(new ge(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),w=new qT(h,v,{includeMetadataChanges:!0,Ta:!0});return WT(a,w)}(await ix(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ox(t,e,n){if(!n)throw new ge(Z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LD(t,e,n,i){if(e===!0&&i===!0)throw new ge(Z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R_(t){if(!_e.isDocumentKey(t))throw new ge(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function k_(t){if(_e.isDocumentKey(t))throw new ge(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Dm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ee()}function Di(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ge(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dm(t);throw new ge(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="firestore.googleapis.com",b_=!0;class V_{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ge(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ax,this.ssl=b_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:b_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fV)throw new ge(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sx((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ge(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gh{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ge(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ge(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new zb;switch(i.type){case"firstParty":return new qb(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ge(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=P_.get(n);i&&(ue("ComponentProvider","Removing Datastore"),P_.delete(n),i.terminate())}(this),Promise.resolve()}}function OD(t,e,n,i={}){var o;const a=(t=Di(t,gh))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a.host!==ax&&a.host!==h&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:h,ssl:!1,emulatorOptions:i});if(!Mc(f,u)&&(t._setSettings(f),i.mockUserToken)){let p,v;if(typeof i.mockUserToken=="string")p=i.mockUserToken,v=zt.MOCK_USER;else{p=wk(i.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new ge(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new zt(w)}t._authCredentials=new Hb(new GE(p,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new yh(this.firestore,e,this._query)}}class yn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class xi extends yh{constructor(e,n,i){super(e,n,pm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new _e(e))}withConverter(e){return new xi(this.firestore,e,this._path)}}function up(t,e,...n){if(t=wl(t),ox("collection","path",e),t instanceof gh){const i=Je.fromString(e,...n);return k_(i),new xi(t,null,i)}{if(!(t instanceof yn||t instanceof xi))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Je.fromString(e,...n));return k_(i),new xi(t.firestore,null,i)}}function hl(t,e,...n){if(t=wl(t),arguments.length===1&&(e=KE.newId()),ox("doc","path",e),t instanceof gh){const i=Je.fromString(e,...n);return R_(i),new yn(t,null,new _e(i))}{if(!(t instanceof yn||t instanceof xi))throw new ge(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Je.fromString(e,...n));return R_(i),new yn(t.firestore,t instanceof xi?t.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="AsyncQueue";class N_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new OT(this,"async_queue_retry"),this.Su=()=>{const i=yf();i&&ue(D_,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const n=yf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=yf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new jr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Yo(e))throw e;ue(D_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(i);throw zr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Pm.createAndSchedule(this,e,n,i,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Bl extends gh{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new N_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N_(e),this._firestoreClient=void 0,await e}}}function lx(t,e){const n=typeof t=="object"?t:kb(),i=typeof t=="string"?t:e||jc,o=Cb(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=vk("firestore");a&&OD(o,...a)}return o}function Nm(t){if(t._terminated)throw new ge(Z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||FD(t),t._firestoreClient}function FD(t){var e,n,i;const o=t._freezeSettings(),a=function(h,f,p,v){return new l2(h,f,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,sx(v.experimentalLongPollingOptions),v.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new bD(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $o(Lt.fromBase64String(e))}catch(n){throw new ge(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $o(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ge(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ge(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ge(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=/^__.*__$/;class BD{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ll(e,this.data,n,this.fieldTransforms)}}function cx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class Fm{constructor(e,n,i,o,a,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Fm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Uu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Qc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(cx(this.Lu)&&jD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class UD{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||fh(e)}ju(e,n,i,o=!1){return new Fm({Lu:e,methodName:n,zu:i,path:Mt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $D(t){const e=t._freezeSettings(),n=fh(t._databaseId);return new UD(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zD(t,e,n,i,o,a={}){const u=t.ju(a.merge||a.mergeFields?2:0,e,n,o);px("Data must be an object, but it was:",u,i);const h=dx(i,u);let f,p;if(a.merge)f=new Kn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const v=[];for(const w of a.mergeFields){const E=HD(e,w,n);if(!u.contains(E))throw new ge(Z.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);GD(v,E)||v.push(E)}f=new Kn(v),p=u.fieldTransforms.filter(w=>f.covers(w.field))}else f=null,p=u.fieldTransforms;return new BD(new kn(h),f,p)}function hx(t,e){if(fx(t=wl(t)))return px("Unsupported field value:",e,t),dx(t,e);if(t instanceof ux)return function(i,o){if(!cx(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const h of i){let f=hx(h,o.Ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(t,e)}return function(i,o){if((i=wl(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return V2(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Et.fromDate(i);return{timestampValue:Wc(o.serializer,a)}}if(i instanceof Et){const a=new Et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Wc(o.serializer,a)}}if(i instanceof Lm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof $o)return{bytesValue:AT(o.serializer,i._byteString)};if(i instanceof yn){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:_m(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Om)return function(u,h){return{mapValue:{fields:{[nT]:{stringValue:rT},[Bc]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return mm(h.serializer,p)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${Dm(i)}`)}(t,e)}function dx(t,e){const n={};return YE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(t,(i,o)=>{const a=hx(o,e.qu(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function fx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Et||t instanceof Lm||t instanceof $o||t instanceof yn||t instanceof ux||t instanceof Om)}function px(t,e,n){if(!fx(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=Dm(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function HD(t,e,n){if((e=wl(e))instanceof Mm)return e._internalPath;if(typeof e=="string")return mx(t,e);throw Qc("Field path arguments must be of type string or ",t,!1,void 0,n)}const WD=new RegExp("[~\\*/\\[\\]]");function mx(t,e,n){if(e.search(WD)>=0)throw Qc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mm(...e.split("."))._internalPath}catch{throw Qc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Qc(t,e,n,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new ge(Z.INVALID_ARGUMENT,h+t+f)}function GD(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new qD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yx("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class qD extends gx{data(){return super.data()}}function yx(t,e){return typeof e=="string"?mx(t,e):e instanceof Mm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ge(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class QD{convertValue(e,n="none"){switch(ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ri(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return xs(e,(o,a)=>{i[o]=this.convertValue(a,n)}),i}convertVectorValue(e){var n,i,o;const a=(o=(i=(n=e.fields)===null||n===void 0?void 0:n[Bc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>ht(u.doubleValue));return new Om(a)}convertGeoPoint(e){return new Lm(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=oh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Sl(e));default:return null}}convertTimestamp(e){const n=Pi(e);return new Et(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Je.fromString(e);Ue(VT(i));const o=new Cl(i.get(1),i.get(3)),a=new _e(i.popFirst(5));return o.isEqual(n)||zr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YD(t,e,n){let i;return i=t?t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vx extends gx{constructor(e,n,i,o,a,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(yx("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Sc extends vx{data(e={}){return super.data(e)}}class XD{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new nl(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Sc(this._firestore,this._userDataWriter,i.key,i,new nl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ge(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const f=new Sc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new nl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new Sc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new nl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,v=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),v=u.indexOf(h.doc.key)),{type:JD(h.type),doc:f,oldIndex:p,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function JD(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t){t=Di(t,yn);const e=Di(t.firestore,Bl);return ND(Nm(e),t._key).then(n=>eN(e,t,n))}class _x extends QD{constructor(e){super(),this.firestore=e}convertBytes(e){return new $o(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function cp(t){t=Di(t,yh);const e=Di(t.firestore,Bl),n=Nm(e),i=new _x(e);return KD(t._query),MD(n,t._query).then(o=>new XD(e,i,t,o))}function M_(t,e,n){t=Di(t,yn);const i=Di(t.firestore,Bl),o=YD(t.converter,e);return wx(i,[zD($D(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,hr.none())])}function ZD(t){return wx(Di(t.firestore,Bl),[new gm(t._key,hr.none())])}function wx(t,e){return function(i,o){const a=new jr;return i.asyncQueue.enqueueAndForget(async()=>TD(await DD(i),o,a)),a.promise}(Nm(t),e)}function eN(t,e,n){const i=n.docs.get(e._key),o=new _x(t);return new vx(t,o,e._key,i,new nl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){Ko=o})(Rb),Oc(new El("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new Bl(new Wb(i.getProvider("auth-internal")),new Kb(u,i.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ge(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cl(p.options.projectId,v)}(u,o),u);return a=Object.assign({useFetchStreams:n},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),bo(B0,U0,e),bo(B0,U0,"esm2017")})();console.log("initializeApp:",typeof am);console.log("getFirestore:",typeof lx);const tN={apiKey:"AIzaSyBOM041d620q5TBYfl7E6SexEqR8NGrWQE",authDomain:"aussie-gut-pack.firebaseapp.com",projectId:"aussie-gut-pack",storageBucket:"aussie-gut-pack.firebasestorage.app",messagingSenderId:"834797498886",appId:"1:834797498886:web:cb2f88ab4523480400c987"},Ex=am(tN);console.log("Firebase app:",Ex);const _i=lx(Ex);console.log("Firestore db:",_i);function nN(){const{isDarkMode:t}=b.useContext(Xt),e=b.useRef(null),n=b.useRef(null),[i,o]=b.useState(!1),[a,u]=b.useState(!1),[h,f]=b.useState({quotes:[],dailyFitnessBoost:{description:"",exercises:[]}}),[p,v]=b.useState(0);b.useEffect(()=>{(async()=>{const S=hl(_i,"content","home"),I=await jm(S);I.exists()?f(I.data()):f({quotes:["An athlete won't judge you for working out.","A millionaire won't judge you for starting a business.","A musician won't judge you for trying to sing a song.","It's always the people going nowhere that have something to say.","Idle hands do the devil's work"],dailyFitnessBoost:{description:"A quick 20-minute routine to kickstart your metabolism and improve digestion.",exercises:["5-minute brisk walk or jog","3 sets of 15 squats","3 sets of 10 push-ups","2 sets of 20 jumping jacks","1-minute plank hold"]}})})()},[]),b.useEffect(()=>{const E=new IntersectionObserver(S=>{S.forEach(I=>{const L=I.isIntersecting;I.target===e.current&&o(L),I.target===n.current&&u(L)})},{threshold:.2});return e.current&&E.observe(e.current),n.current&&E.observe(n.current),()=>{e.current&&E.unobserve(e.current),n.current&&E.unobserve(n.current)}},[]),b.useEffect(()=>{const E=setInterval(()=>{v(S=>(S+1)%h.quotes.length)},4e3);return()=>clearInterval(E)},[h.quotes.length]);const w={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}},exit:{opacity:0,y:-20,transition:{duration:.5,ease:"easeIn"}}};return R.jsxs("div",{className:`min-h-screen flex flex-col ${t?"bg-stone-900":"bg-white"}`,children:[R.jsx("section",{ref:e,className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:R.jsxs("div",{className:"container mx-auto text-center",children:[R.jsx("h1",{className:`text-5xl md:text-6xl font-extrabold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Welcome to Aussie Gut Pack"}),R.jsx("p",{className:`text-xl md:text-2xl max-w-2xl mx-auto mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Empowering Your Digestive Health, Naturally."}),R.jsxs("div",{className:`flex flex-col md:flex-row gap-6 transition-all duration-700 ease-in-out ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[R.jsxs("div",{className:"md:w-1/2 p-6 flex flex-col justify-center",children:[R.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"About Us"}),R.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"We are dedicated to bringing you information about Australian Shepherds and how to maintain a healthy gut. Our mission is to educate and inspire a natural approach to wellness for you and your furry friends."}),R.jsx(Br,{to:"/fitness-tips",variant:"primary",className:"mx-auto mt-6 bg-red-800 text-white hover:bg-red-900",children:"Learn More"})]}),R.jsx("div",{className:"md:w-1/2 flex justify-center items-center",children:R.jsx("div",{className:"h-80 w-80 md:h-[400px] md:w-[400px] overflow-hidden relative rounded-full",children:R.jsx(PA,{className:"w-full h-full object-cover"})})})]})]})}),R.jsx("section",{ref:n,className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:R.jsxs("div",{className:`container mx-auto text-center transition-all duration-700 ease-in-out ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[R.jsx("h2",{className:`text-3xl md:text-4xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Wisdom to Win The Day"}),R.jsx("div",{className:"max-w-2xl mx-auto",children:R.jsx(DA,{mode:"wait",children:R.jsxs(ak.p,{variants:w,initial:"hidden",animate:"visible",exit:"exit",className:`text-lg italic mb-6 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:['"',h.quotes[p],'"']},p)})}),R.jsx("p",{className:`text-lg mb-6 max-w-3xl mx-auto transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:h.dailyFitnessBoost.description}),R.jsx("ul",{className:`text-left list-disc pl-6 mb-8 max-w-md mx-auto transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:h.dailyFitnessBoost.exercises.map((E,S)=>R.jsx("li",{className:"mb-2 text-lg",children:E},S))}),R.jsx(Br,{to:"/fitness-tips",variant:"primary",className:"mx-auto bg-red-800 text-white hover:bg-red-900",children:"More Fitness Tips"})]})})]})}function Yc({title:t,content:e,footer:n,className:i}){const{isDarkMode:o}=b.useContext(Xt);return R.jsxs("div",{className:`p-4 border rounded-lg shadow-md ${o?"bg-stone-800 border-stone-700":"bg-white border-red-300"} ${i}`,children:[R.jsx("h3",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${o?"text-red-400":"text-red-800"}`,children:t}),e&&R.jsx("p",{className:`mt-2 transition-colors duration-300 ease-in-out ${o?"text-white":"text-red-600"}`,children:e}),n&&R.jsx("p",{className:`mt-2 text-sm transition-colors duration-300 ease-in-out ${o?"text-white":"text-red-600"}`,children:n})]})}const rN=({product:t})=>R.jsx(Yc,{title:t.name,content:t.description,footer:`$${t.price}`,className:"hover:shadow-lg"}),Tx=[{id:1,name:"Enterogermina",description:"spore-forming probiotic that survives antibiotics and stomach acids, promoting gut health and recovery.",price:"",category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"],url:"https://a.co/d/ePluKSI"},{id:2,name:"Just thrive probiotic",description:"Something here about the product",price:29.99,category:"Long Term",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:3,name:"Megasporebiotic",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]}],iN=[{id:1,name:"Florastor",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"HU58",description:"Something here about the product",price:29.99,category:"Long Term",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:3,name:"Restorfiora",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:4,name:"Lacto Ramno GG",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]}],sN=[{id:1,name:"Megapre",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"Psyllium Husk",description:"Something here about the product",price:29.99,category:"Long Term",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:3,name:"Fructoollgosaccharides",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:4,name:"Galactoollgosaccharides",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:5,name:"Acacia Gum",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]}],oN=[{id:1,name:"Berberine",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],aN=[{id:1,name:"Lactoferrin",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],lN=[{id:1,name:"N1O1 nitric oxide lozenge",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],uN=[{id:1,name:"Enterogermina",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"HU58",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:3,name:"Zenbiome Dual",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],cN=[{id:1,name:"L-theanine",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],hN=[{id:1,name:"Creatine",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"Beta-alanine",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:3,name:"N1O1 Iozenge",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:4,name:"Caffeine",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:5,name:"Protein",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],dN=[{id:1,name:"N1O1 Serum",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"Young Goose",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],fN=[{id:1,name:"MBL Pregnancy Support",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"MBL Vaginal Support",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:3,name:"Metagenics Womens Probiotic",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],pN=[{title:"Long-Term Supplements",data:Tx},{title:"Beginner Probiotics",data:iN},{title:"Prebiotics",data:sN},{title:"Blood Sugar Support",data:oN},{title:"Anemia Support",data:aN},{title:"Nitric Oxide Boosters",data:lN},{title:"IBS (Irritable Bowel Syndrome)",data:uN},{title:"Sleep Aids",data:cN},{title:"Sports Nutrition",data:hN},{title:"Skincare Essentials",data:dN},{title:"Women's Health",data:fN}];function mN(){const{isDarkMode:t}=b.useContext(Xt);return R.jsx("div",{className:`min-h-screen py-12 ${t?"bg-gray-900":"bg-gray-50"}`,children:R.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[R.jsxs("header",{className:"mb-10",children:[R.jsx("h1",{className:`text-3xl font-semibold tracking-tight ${t?"text-green-300":"text-green-900"}`,children:"Shop Supplements"}),R.jsx("p",{className:`mt-2 text-sm ${t?"text-gray-400":"text-gray-600"}`,children:"Explore our curated selection of high-quality supplements."})]}),pN.map((e,n)=>R.jsxs("section",{className:"mb-12",children:[R.jsx("h2",{className:`text-xl font-medium mb-4 pb-2 border-b ${t?"text-green-200 border-gray-700":"text-green-800 border-gray-200"}`,children:e.title}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:e.data.map(i=>R.jsx(rN,{product:i},i.id))})]},n))]})})}const hp=[{id:1,title:"Microbiome Basics",content:"Your gut contains over 100 trillion bacteria, with more than 1000 different species playing crucial roles in digestion, immunity, and overall health.",category:"Fundamentals"},{id:2,title:"Probiotics Matter",content:"Probiotics are live bacteria that can improve digestive health, boost immune function, and potentially help with mental health.",category:"Nutrition"},{id:3,title:"This means nothing to me",content:"This is all just filler crap",category:"Nutrition"},{id:4,title:"Worst for Gut Microbiome",content:["The following harm gut health (in order of severity):"," Stress: Elevates cortisol, disrupting gut flora and increasing permeability"," Glyphosate: Kills beneficial bacteria, feeds pathogenic ones"," Antibiotics: Kills good and bad bacteria; pair with spore-based probiotics to avoid yeast infections"," Seed Oils: Feed pathogenic bacteria, have a long half-life"," Refined Sugars: Feed harmful bacteria, promote dysbiosis"," Long-term Restrictive Diets: Reduce microbiome diversity"," Processed Foods: Contain antibiotics, glyphosate, and dyes that feed pathogenic bacteria and cancer cells"],category:"Gut Microbiome Education"},{id:5,title:"Types of Probiotics",content:`Key probiotic types include:
 Bacillus (subtilis, coagulans, clausii, indicus): Endospore-protected, survives gastric system and antibiotics, colonizes all gut areas, called 'next-generation probiotics'
 Lactobacillus (acidophilus, rhamnosus, reuteri, plantarum, casei, gasseri): Some strains survive gastric system, mainly colonize upper intestines
 Bifidobacterium (longum, infantis, bifidum, animalis, lactis): Doesnt survive gastric system or antibiotics, functions in lower intestines; seek exopolysaccharide strains for dendritic cell communication
 Saccharomyces (boulardii, cerevisiae): Gram-positive yeast, survives antibiotics but not gastric system, aids antibiotic-associated diarrhea`,category:"Gut Microbiome Education"},{id:6,title:"Pillars of a Healthy Gut",content:`Build a resilient gut with:
 A nutrient-dense, diverse, unprocessed diet with prebiotics
 Healthy exercise, sleep, and an uplifting social life worth enjoying
 Sun exposure and skin contact with nature
 Research-backed, third-party-tested supplements tailored to your needs`,category:"Gut Microbiome Education"},{id:7,title:"Boosts Cognition",content:"A healthy gut strengthens your immune system and helps fight off infections.",category:"Benefits"},{id:8,title:"Improves Digestion",content:"Proper gut health aids digestion, prevents bloating, and reduces stomach discomfort.",category:"Benefits"},{id:9,title:"Enhances Mental Health",content:"Your gut and brain are connectedgood gut health can help reduce anxiety and improve mood.",category:"Benefits"}];function gN(){const{isDarkMode:t}=b.useContext(Xt);b.useEffect(()=>{});const e=hp.filter(i=>i.category==="Benefits"),n=hp.filter(i=>i.category!=="Benefits");return R.jsxs("div",{className:`container mx-auto px-4 py-8 min-h-screen flex flex-col ${t?"bg-stone-900":"bg-white"}`,children:[R.jsx("div",{className:"pt-16"}),R.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Understanding Gut Health"}),R.jsxs("section",{className:"mb-8 flex-grow",children:[R.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"What is Gut Health?"}),R.jsx("p",{className:`leading-relaxed transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Gut health refers to the balance and function of bacteria in the digestive system..."})]}),R.jsxs("section",{className:"py-12 px-6 flex-grow",children:[R.jsx("h2",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Why Gut Health Matters"}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map(i=>R.jsx(Lr,{to:`/gut-health/${i.id}`,children:R.jsx(Yc,{title:i.title,content:i.content,className:"hover:shadow-lg transition-shadow duration-300 ease-in-out"})},i.id))})]}),R.jsxs("section",{className:"flex-grow",children:[R.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Gut Health Facts"}),R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-4",children:n.map(i=>R.jsx(Lr,{to:`/gut-health/${i.id}`,children:R.jsx(Yc,{title:i.title,content:i.content,footer:`Category: ${i.category}`,className:`border-l-4 border-red-500 hover:shadow-lg transition-shadow duration-300 ease-in-out ${t?"bg-stone-800":"bg-stone-50"}`})},i.id))})]})]})}function yN(){const{id:t}=G_(),{isDarkMode:e}=b.useContext(Xt);mp();const n=hp.find(i=>i.id.toString()===t);return n?R.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${e?"bg-stone-900":"bg-white"}`,children:[R.jsx("h1",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:n.title}),R.jsxs("p",{className:`mb-4 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:["Category: ",n.category]}),Array.isArray(n.content)?R.jsx("ul",{className:`text-lg mb-6 list-disc pl-6 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:n.content.map((i,o)=>R.jsx("li",{className:"mb-2",children:i},o))}):R.jsx("p",{className:`text-lg mb-6 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:n.content}),R.jsx(Br,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]}):R.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${e?"bg-stone-900":"bg-white"}`,children:[R.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:"Fact Not Found"}),R.jsx(Br,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]})}function vN(){const{isDarkMode:t}=b.useContext(Xt),[e,n]=b.useState([]),i=u=>n([...e,u]),o=u=>n(e.filter(h=>h.id!==u)),a=e.reduce((u,h)=>u+h.price,0);return R.jsxs("div",{className:"container mx-auto px-4 py-8",children:[R.jsx("h1",{className:`text-3xl font-bold mb-6 ${t?"text-green-300":"text-green-800"}`,children:"Purchase Gut Health Supplements"}),R.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[R.jsxs("div",{children:[R.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-green-200":"text-green-700"}`,children:"Available Products"}),Tx.map(u=>R.jsxs("div",{className:`border p-4 mb-4 rounded-lg flex justify-between items-center ${t?"border-gray-700 bg-gray-800":"border-gray-300 bg-white"}`,children:[R.jsxs("div",{children:[R.jsx("h3",{className:`font-bold ${t?"text-gray-300":"text-gray-800"}`,children:u.name}),R.jsxs("p",{className:`${t?"text-green-400":"text-green-700"}`,children:["$",u.price]})]}),R.jsx(Br,{onClick:()=>i(u),variant:"primary",children:"Add to Cart"})]},u.id))]}),R.jsxs("div",{children:[R.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-green-200":"text-green-700"}`,children:"Your Cart"}),e.length===0?R.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"}):R.jsxs(R.Fragment,{children:[e.map(u=>R.jsxs("div",{className:`flex justify-between items-center border-b py-2 ${t?"border-gray-700":"border-gray-300"}`,children:[R.jsx("span",{className:`${t?"text-gray-300":"text-gray-800"}`,children:u.name}),R.jsxs("div",{children:[R.jsxs("span",{className:`mr-4 ${t?"text-green-400":"text-green-700"}`,children:["$",u.price]}),R.jsx("button",{onClick:()=>o(u.id),className:"text-red-500 hover:text-red-600",children:"Remove"})]})]},u.id)),R.jsxs("div",{className:`mt-4 font-bold ${t?"text-green-300":"text-green-800"}`,children:["Total: $",a.toFixed(2)]}),R.jsx(Br,{className:"mt-4 w-full",variant:"primary",disabled:e.length===0,children:"Checkout"})]})]})]})]})}const _N=()=>{const{isDarkMode:t}=b.useContext(Xt),[e,n]=b.useState([]),[i,o]=b.useState(!0),[a,u]=b.useState(null);return b.useEffect(()=>{(async()=>{try{const f=up(_i,"content","blog","posts"),v=(await cp(f)).docs.map(w=>({id:w.id,...w.data()}));console.log("Fetched blog posts:",v),v.length>0?n(v):n([{id:"1",title:"The Importance of Gut Health",date:"January 15, 2025"},{id:"2",title:"How to Maintain a Healthy Gut",date:"February 3, 2025"},{id:"3",title:"The Role of Fiber in Maintaining Gut Health",date:"December 15, 2024"},{id:"4",title:"Why Gut Health Affects Your Immune System",date:"November 10, 2024"}])}catch(f){console.error("Error fetching blog posts:",f),u("Failed to load blog posts: "+f.message),n([{id:"1",title:"The Importance of Gut Health",date:"January 15, 2025"},{id:"2",title:"How to Maintain a Healthy Gut",date:"February 3, 2025"},{id:"3",title:"The Role of Fiber in Maintaining Gut Health",date:"December 15, 2024"},{id:"4",title:"Why Gut Health Affects Your Immune System",date:"November 10, 2024"}])}finally{o(!1)}})()},[]),i?R.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${t?"bg-stone-900":"bg-white"}`,children:[R.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),R.jsx("p",{className:`transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Loading..."})]}):a?R.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${t?"bg-stone-900":"bg-white"}`,children:[R.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),R.jsx("p",{className:`text-red-500 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:a})]}):R.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${t?"bg-stone-900":"bg-white"}`,children:[R.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),e.length===0?R.jsx("p",{className:`transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"No blog posts available yet."}):R.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(h=>R.jsx(Lr,{to:`/blog/${h.id}`,children:R.jsx(Yc,{title:h.title,footer:h.date,className:"hover:shadow-lg transition-shadow duration-300 ease-in-out"})},h.id))})]})},wN=()=>{const{id:t}=G_(),{isDarkMode:e}=b.useContext(Xt),[n,i]=b.useState(null);return b.useEffect(()=>{(async()=>{const a=hl(_i,"content","blog","posts",t),u=await jm(a);u.exists()?i({id:u.id,...u.data()}):i([{id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",content:"Gut health is crucial for overall well-being..."},{id:"2",title:"How to Maintain a Healthy Gut",date:"February 3, 2025",content:"Maintaining a healthy gut involves a diet rich in fiber..."},{id:"3",title:"The Role of Fiber in Maintaining Gut Health",date:"December 15, 2024",content:"Fiber acts as fuel for gut bacteria..."},{id:"4",title:"Why Gut Health Affects Your Immune System",date:"November 10, 2024",content:"A healthy gut strengthens your immune system..."}].find(f=>f.id===t)||null)})()},[t]),n?R.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${e?"bg-stone-900":"bg-white"}`,children:[R.jsx("h1",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:n.title}),R.jsx("p",{className:`mb-4 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:n.date}),R.jsx("p",{className:`text-lg mb-6 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:n.content}),R.jsx(Br,{to:"/blog",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]}):R.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${e?"bg-stone-900":"bg-white"}`,children:[R.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:"Post Not Found"}),R.jsx(Br,{to:"/blog",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]})},EN=[{question:"What is gut health?",answer:"Gut health refers to the balance of microorganisms in your digestive tract."},{question:"How can I improve my gut health?",answer:"Eating fiber-rich foods, fermented foods, and avoiding processed sugars can help."},{question:"What foods are good for gut health?",answer:"Fermented foods like yogurt, kimchi, and kefir, along with fiber-rich vegetables like broccoli and beans, are great for gut health."},{question:"Can stress affect gut health?",answer:"Yes, stress can alter the balance of gut bacteria and affect digestion, leading to issues like bloating or stomach discomfort."}];function TN(){const{isDarkMode:t}=b.useContext(Xt);return R.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[R.jsx("h1",{className:`text-4xl font-extrabold text-center mb-6 ${t?"text-green-300":"text-green-700"}`,children:"Frequently Asked Questions"}),R.jsx("div",{className:"space-y-4",children:EN.map((e,n)=>R.jsxs("details",{className:`group border p-4 rounded-lg shadow-md transition-all duration-300 ease-in-out ${t?"bg-gray-800 border-gray-700 text-gray-300":"bg-white border-gray-300 text-gray-800"}`,children:[R.jsxs("summary",{className:`cursor-pointer font-semibold text-lg flex justify-between items-center ${t?"group-open:text-green-400":"group-open:text-green-600"}`,children:[e.question,R.jsx("span",{className:"text-green-500 group-open:rotate-180 transition-transform duration-300",children:""})]}),R.jsx("p",{className:"mt-2 text-gray-600",children:e.answer})]},n))})]})}function xN(){const{isDarkMode:t}=b.useContext(Xt),[e,n]=b.useState(null),i=o=>{o.preventDefault();const u=new FormData(o.target).getAll("question"),h=["fiber","probiotic"];let f=0;u.forEach((p,v)=>{p===h[v]&&f++}),n(f)};return R.jsxs("div",{className:"p-6",children:[R.jsx("h1",{className:`text-3xl font-bold mb-4 ${t?"text-green-300":"text-green-900"}`,children:"Gut Health Quiz"}),R.jsxs("form",{onSubmit:i,className:"space-y-6",children:[R.jsxs("div",{className:`p-4 rounded-lg shadow-md ${t?"bg-gray-800":"bg-white"}`,children:[R.jsx("p",{className:`${t?"text-gray-300":"text-gray-800"}`,children:"1. What nutrient is essential for gut health?"}),R.jsxs("div",{className:"mt-2 space-x-4",children:[R.jsxs("label",{className:`inline-flex items-center ${t?"text-gray-300":"text-gray-800"}`,children:[R.jsx("input",{type:"radio",name:"question1",value:"fiber",className:"mr-2"}),"Fiber"]}),R.jsxs("label",{className:`inline-flex items-center ${t?"text-gray-300":"text-gray-800"}`,children:[R.jsx("input",{type:"radio",name:"question1",value:"sugar",className:"mr-2"}),"Sugar"]})]})]}),R.jsxs("div",{className:`p-4 rounded-lg shadow-md ${t?"bg-gray-800":"bg-white"}`,children:[R.jsx("p",{className:`${t?"text-gray-300":"text-gray-800"}`,children:"2. What type of food contains good bacteria for your gut?"}),R.jsxs("div",{className:"mt-2 space-x-4",children:[R.jsxs("label",{className:`inline-flex items-center ${t?"text-gray-300":"text-gray-800"}`,children:[R.jsx("input",{type:"radio",name:"question2",value:"probiotic",className:"mr-2"}),"Probiotic foods"]}),R.jsxs("label",{className:`inline-flex items-center ${t?"text-gray-300":"text-gray-800"}`,children:[R.jsx("input",{type:"radio",name:"question2",value:"fried",className:"mr-2"}),"Fried foods"]})]})]}),R.jsx(Br,{type:"submit",variant:"primary",children:"Submit"})]}),e!==null&&R.jsxs("p",{className:`mt-4 text-xl font-bold ${t?"text-green-300":"text-green-900"}`,children:["Your score: ",e,"/2"]})]})}function SN(){const{isDarkMode:t}=b.useContext(Xt),[e,n]=b.useState({name:"",email:"",message:""}),[i,o]=b.useState(""),a=h=>{const{name:f,value:p}=h.target;n(v=>({...v,[f]:p}))},u=h=>{h.preventDefault(),console.log("Form submitted:",e),o("Thank you! Your inquiry has been received."),n({name:"",email:"",message:""}),setTimeout(()=>o(""),3e3)};return R.jsx("div",{className:`min-h-screen py-12 px-4 ${t?"bg-stone-900":"bg-white"}`,children:R.jsxs("div",{className:"max-w-2xl mx-auto",children:[R.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Contact Us"}),R.jsx("p",{className:`mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Have any questions or inquiries? Fill out the form below, and we'll get back to you as soon as possible!"}),R.jsxs("form",{onSubmit:u,className:"space-y-6",children:[R.jsxs("div",{children:[R.jsx("label",{htmlFor:"name",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Name"}),R.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:a,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your Name"})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Email"}),R.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:a,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"your@email.com"})]}),R.jsxs("div",{children:[R.jsx("label",{htmlFor:"message",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Message"}),R.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:a,required:!0,rows:"5",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your inquiry or message..."})]}),R.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Send Message"}),i&&R.jsx("p",{className:`mt-4 text-center transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:i})]})]})})}function CN(){const{isDarkMode:t}=b.useContext(Xt),[e,n]=b.useState(""),[i,o]=b.useState(!1),[a,u]=b.useState([""]),[h,f]=b.useState(""),[p,v]=b.useState([""]),[w,E]=b.useState([]),[S,I]=b.useState(null),L=mp();b.useEffect(()=>{i&&(async()=>{var F,A,Ae,Ze;try{const at=hl(_i,"content","home"),Te=await jm(at);if(Te.exists()){const U=Te.data();u((F=U.quotes)!=null&&F.length?U.quotes:[""]),f(((A=U.dailyFitnessBoost)==null?void 0:A.description)||""),v((Ze=(Ae=U.dailyFitnessBoost)==null?void 0:Ae.exercises)!=null&&Ze.length?U.dailyFitnessBoost.exercises:[""])}const ne=up(_i,"content","blog","posts"),ae=(await cp(ne)).docs.map(U=>({id:U.id,...U.data()}));E(ae.length?ae:[{id:"",title:"",date:"",content:""}])}catch(at){I("Failed to load content: "+at.message)}})()},[i]);const V=()=>{e==="aussie123"?o(!0):alert("Incorrect password")},j=async()=>{I(null);const M={quotes:a.filter(F=>F.trim()!==""),dailyFitnessBoost:{description:h,exercises:p.filter(F=>F.trim()!=="")}};try{await M_(hl(_i,"content","home"),M);const F=up(_i,"content","blog","posts"),A=await cp(F);for(const Ae of A.docs)await ZD(Ae.ref);for(const Ae of w)if(Ae.title.trim()&&Ae.date.trim()&&Ae.content.trim()){const Ze=Ae.id||Date.now().toString();await M_(hl(F,Ze),{id:Ze,title:Ae.title,date:Ae.date,content:Ae.content})}alert("Changes saved successfully!"),L("/")}catch(F){I("Error saving changes: "+F.message)}},q=()=>u([...a,""]),W=M=>u(a.filter((F,A)=>A!==M)),ie=(M,F)=>{const A=[...a];A[M]=F,u(A)},ee=()=>v([...p,""]),se=M=>v(p.filter((F,A)=>A!==M)),D=(M,F)=>{const A=[...p];A[M]=F,v(A)},C=()=>E([...w,{id:"",title:"",date:"",content:""}]),P=M=>E(w.filter((F,A)=>A!==M)),N=(M,F,A)=>{const Ae=[...w];Ae[M]={...Ae[M],[F]:A},E(Ae)};return i?R.jsxs("div",{className:`min-h-screen p-6 ${t?"bg-stone-900":"bg-white"}`,children:[R.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-6`,children:"Edit Website Content"}),S&&R.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:S}),R.jsxs("div",{className:"mb-6",children:[R.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Quotes"}),a.map((M,F)=>R.jsxs("div",{className:"flex mb-2",children:[R.jsx("input",{type:"text",value:M,onChange:A=>ie(F,A.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Quote ${F+1}`}),R.jsx("button",{onClick:()=>W(F),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:a.length===1,children:"Remove"})]},F)),R.jsx("button",{onClick:q,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Quote"})]}),R.jsxs("div",{className:"mb-6",children:[R.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Workout Description"}),R.jsx("textarea",{value:h,onChange:M=>f(M.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`})]}),R.jsxs("div",{className:"mb-6",children:[R.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Exercises"}),p.map((M,F)=>R.jsxs("div",{className:"flex mb-2",children:[R.jsx("input",{type:"text",value:M,onChange:A=>D(F,A.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Exercise ${F+1}`}),R.jsx("button",{onClick:()=>se(F),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:p.length===1,children:"Remove"})]},F)),R.jsx("button",{onClick:ee,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Exercise"})]}),R.jsxs("div",{className:"mb-6",children:[R.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Blog Posts"}),w.map((M,F)=>R.jsxs("div",{className:`mb-4 border p-4 rounded ${t?"border-stone-600":"border-red-300"}`,children:[R.jsx("input",{type:"text",value:M.title,onChange:A=>N(F,"title",A.target.value),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Blog Title"}),R.jsx("input",{type:"text",value:M.date,onChange:A=>N(F,"date",A.target.value),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Date (e.g., January 15, 2025)"}),R.jsx("textarea",{value:M.content,onChange:A=>N(F,"content",A.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Blog Content"}),R.jsx("button",{onClick:()=>P(F),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",disabled:w.length===1,children:"Remove Post"})]},F)),R.jsx("button",{onClick:C,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Blog Post"})]}),R.jsx("button",{onClick:j,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Save Changes"}),R.jsx("button",{onClick:()=>L("/"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Home"})]}):R.jsx("div",{className:`min-h-screen flex items-center justify-center ${t?"bg-stone-900":"bg-white"}`,children:R.jsxs("div",{className:`p-6 ${t?"bg-stone-800":"bg-stone-100"} rounded shadow`,children:[R.jsx("h2",{className:`text-2xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-4`,children:"Admin Login"}),R.jsx("input",{type:"password",value:e,onChange:M=>n(M.target.value),className:`border p-2 w-full mb-4 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Enter password"}),R.jsx("button",{onClick:V,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Login"})]})})}const Xt=b.createContext();function AN(){const[t,e]=b.useState(!1),n=()=>e(i=>!i);return R.jsx(Xt.Provider,{value:{isDarkMode:t,toggleTheme:n},children:R.jsx(XC,{basename:"/aussie-gut-pack",children:R.jsx(Sp,{children:R.jsx(Tp,{classNames:"fade",timeout:300,children:R.jsx(IC,{children:R.jsxs(mn,{path:"/",element:R.jsx(CA,{}),children:[R.jsx(mn,{index:!0,element:R.jsx(nN,{})}),R.jsx(mn,{path:"products",element:R.jsx(mN,{})}),R.jsx(mn,{path:"gut-health",element:R.jsx(gN,{})}),R.jsx(mn,{path:"gut-health/:id",element:R.jsx(yN,{})}),R.jsx(mn,{path:"purchase",element:R.jsx(vN,{})}),R.jsx(mn,{path:"blog",element:R.jsx(_N,{})}),R.jsx(mn,{path:"blog/:id",element:R.jsx(wN,{})}),R.jsx(mn,{path:"faq",element:R.jsx(TN,{})}),R.jsx(mn,{path:"quiz",element:R.jsx(xN,{})}),R.jsx(mn,{path:"contact",element:R.jsx(SN,{})}),R.jsx(mn,{path:"admin",element:R.jsx(CN,{})})," "]})})},window.location.pathname)})})})}console.log("Main.jsx is running");NS.createRoot(document.getElementById("root")).render(R.jsx(bn.StrictMode,{children:R.jsx(AN,{})}));
