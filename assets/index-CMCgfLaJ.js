(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function Xm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vp={exports:{}},jl={},_p={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qv;function uA(){if(Qv)return Oe;Qv=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),w=Symbol.iterator;function x(z){return z===null||typeof z!="object"?null:(z=w&&z[w]||z["@@iterator"],typeof z=="function"?z:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},R=Object.assign,L={};function N(z,Z,xe){this.props=z,this.context=Z,this.refs=L,this.updater=xe||S}N.prototype.isReactComponent={},N.prototype.setState=function(z,Z){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Z,"setState")},N.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function O(){}O.prototype=N.prototype;function q(z,Z,xe){this.props=z,this.context=Z,this.refs=L,this.updater=xe||S}var B=q.prototype=new O;B.constructor=q,R(B,N.prototype),B.isPureReactComponent=!0;var Y=Array.isArray,Q=Object.prototype.hasOwnProperty,$={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function T(z,Z,xe){var Ve,se={},J=null,le=null;if(Z!=null)for(Ve in Z.ref!==void 0&&(le=Z.ref),Z.key!==void 0&&(J=""+Z.key),Z)Q.call(Z,Ve)&&!P.hasOwnProperty(Ve)&&(se[Ve]=Z[Ve]);var Te=arguments.length-2;if(Te===1)se.children=xe;else if(1<Te){for(var Me=Array(Te),ht=0;ht<Te;ht++)Me[ht]=arguments[ht+2];se.children=Me}if(z&&z.defaultProps)for(Ve in Te=z.defaultProps,Te)se[Ve]===void 0&&(se[Ve]=Te[Ve]);return{$$typeof:t,type:z,key:J,ref:le,props:se,_owner:$.current}}function C(z,Z){return{$$typeof:t,type:z.type,key:Z,ref:z.ref,props:z.props,_owner:z._owner}}function A(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function M(z){var Z={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(xe){return Z[xe]})}var U=/\/+/g;function D(z,Z){return typeof z=="object"&&z!==null&&z.key!=null?M(""+z.key):Z.toString(36)}function te(z,Z,xe,Ve,se){var J=typeof z;(J==="undefined"||J==="boolean")&&(z=null);var le=!1;if(z===null)le=!0;else switch(J){case"string":case"number":le=!0;break;case"object":switch(z.$$typeof){case t:case e:le=!0}}if(le)return le=z,se=se(le),z=Ve===""?"."+D(le,0):Ve,Y(se)?(xe="",z!=null&&(xe=z.replace(U,"$&/")+"/"),te(se,Z,xe,"",function(ht){return ht})):se!=null&&(A(se)&&(se=C(se,xe+(!se.key||le&&le.key===se.key?"":(""+se.key).replace(U,"$&/")+"/")+z)),Z.push(se)),1;if(le=0,Ve=Ve===""?".":Ve+":",Y(z))for(var Te=0;Te<z.length;Te++){J=z[Te];var Me=Ve+D(J,Te);le+=te(J,Z,xe,Me,se)}else if(Me=x(z),typeof Me=="function")for(z=Me.call(z),Te=0;!(J=z.next()).done;)J=J.value,Me=Ve+D(J,Te++),le+=te(J,Z,xe,Me,se);else if(J==="object")throw Z=String(z),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return le}function de(z,Z,xe){if(z==null)return z;var Ve=[],se=0;return te(z,Ve,"","",function(J){return Z.call(xe,J,se++)}),Ve}function De(z){if(z._status===-1){var Z=z._result;Z=Z(),Z.then(function(xe){(z._status===0||z._status===-1)&&(z._status=1,z._result=xe)},function(xe){(z._status===0||z._status===-1)&&(z._status=2,z._result=xe)}),z._status===-1&&(z._status=0,z._result=Z)}if(z._status===1)return z._result.default;throw z._result}var _e={current:null},oe={transition:null},fe={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:oe,ReactCurrentOwner:$};function he(){throw Error("act(...) is not supported in production builds of React.")}return Oe.Children={map:de,forEach:function(z,Z,xe){de(z,function(){Z.apply(this,arguments)},xe)},count:function(z){var Z=0;return de(z,function(){Z++}),Z},toArray:function(z){return de(z,function(Z){return Z})||[]},only:function(z){if(!A(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},Oe.Component=N,Oe.Fragment=n,Oe.Profiler=s,Oe.PureComponent=q,Oe.StrictMode=r,Oe.Suspense=h,Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fe,Oe.act=he,Oe.cloneElement=function(z,Z,xe){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var Ve=R({},z.props),se=z.key,J=z.ref,le=z._owner;if(Z!=null){if(Z.ref!==void 0&&(J=Z.ref,le=$.current),Z.key!==void 0&&(se=""+Z.key),z.type&&z.type.defaultProps)var Te=z.type.defaultProps;for(Me in Z)Q.call(Z,Me)&&!P.hasOwnProperty(Me)&&(Ve[Me]=Z[Me]===void 0&&Te!==void 0?Te[Me]:Z[Me])}var Me=arguments.length-2;if(Me===1)Ve.children=xe;else if(1<Me){Te=Array(Me);for(var ht=0;ht<Me;ht++)Te[ht]=arguments[ht+2];Ve.children=Te}return{$$typeof:t,type:z.type,key:se,ref:J,props:Ve,_owner:le}},Oe.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:a,_context:z},z.Consumer=z},Oe.createElement=T,Oe.createFactory=function(z){var Z=T.bind(null,z);return Z.type=z,Z},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(z){return{$$typeof:c,render:z}},Oe.isValidElement=A,Oe.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:De}},Oe.memo=function(z,Z){return{$$typeof:p,type:z,compare:Z===void 0?null:Z}},Oe.startTransition=function(z){var Z=oe.transition;oe.transition={};try{z()}finally{oe.transition=Z}},Oe.unstable_act=he,Oe.useCallback=function(z,Z){return _e.current.useCallback(z,Z)},Oe.useContext=function(z){return _e.current.useContext(z)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(z){return _e.current.useDeferredValue(z)},Oe.useEffect=function(z,Z){return _e.current.useEffect(z,Z)},Oe.useId=function(){return _e.current.useId()},Oe.useImperativeHandle=function(z,Z,xe){return _e.current.useImperativeHandle(z,Z,xe)},Oe.useInsertionEffect=function(z,Z){return _e.current.useInsertionEffect(z,Z)},Oe.useLayoutEffect=function(z,Z){return _e.current.useLayoutEffect(z,Z)},Oe.useMemo=function(z,Z){return _e.current.useMemo(z,Z)},Oe.useReducer=function(z,Z,xe){return _e.current.useReducer(z,Z,xe)},Oe.useRef=function(z){return _e.current.useRef(z)},Oe.useState=function(z){return _e.current.useState(z)},Oe.useSyncExternalStore=function(z,Z,xe){return _e.current.useSyncExternalStore(z,Z,xe)},Oe.useTransition=function(){return _e.current.useTransition()},Oe.version="18.3.1",Oe}var Yv;function Jm(){return Yv||(Yv=1,_p.exports=uA()),_p.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xv;function cA(){if(Xv)return jl;Xv=1;var t=Jm(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,h,p){var g,w={},x=null,S=null;p!==void 0&&(x=""+p),h.key!==void 0&&(x=""+h.key),h.ref!==void 0&&(S=h.ref);for(g in h)r.call(h,g)&&!a.hasOwnProperty(g)&&(w[g]=h[g]);if(c&&c.defaultProps)for(g in h=c.defaultProps,h)w[g]===void 0&&(w[g]=h[g]);return{$$typeof:e,type:c,key:x,ref:S,props:w,_owner:s.current}}return jl.Fragment=n,jl.jsx=l,jl.jsxs=l,jl}var Jv;function dA(){return Jv||(Jv=1,vp.exports=cA()),vp.exports}var _=dA(),k=Jm();const Wn=Xm(k);var rd={},wp={exports:{}},gn={},xp={exports:{}},Ep={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function hA(){return Zv||(Zv=1,function(t){function e(oe,fe){var he=oe.length;oe.push(fe);e:for(;0<he;){var z=he-1>>>1,Z=oe[z];if(0<s(Z,fe))oe[z]=fe,oe[he]=Z,he=z;else break e}}function n(oe){return oe.length===0?null:oe[0]}function r(oe){if(oe.length===0)return null;var fe=oe[0],he=oe.pop();if(he!==fe){oe[0]=he;e:for(var z=0,Z=oe.length,xe=Z>>>1;z<xe;){var Ve=2*(z+1)-1,se=oe[Ve],J=Ve+1,le=oe[J];if(0>s(se,he))J<Z&&0>s(le,se)?(oe[z]=le,oe[J]=he,z=J):(oe[z]=se,oe[Ve]=he,z=Ve);else if(J<Z&&0>s(le,he))oe[z]=le,oe[J]=he,z=J;else break e}}return fe}function s(oe,fe){var he=oe.sortIndex-fe.sortIndex;return he!==0?he:oe.id-fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var h=[],p=[],g=1,w=null,x=3,S=!1,R=!1,L=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function B(oe){for(var fe=n(p);fe!==null;){if(fe.callback===null)r(p);else if(fe.startTime<=oe)r(p),fe.sortIndex=fe.expirationTime,e(h,fe);else break;fe=n(p)}}function Y(oe){if(L=!1,B(oe),!R)if(n(h)!==null)R=!0,De(Q);else{var fe=n(p);fe!==null&&_e(Y,fe.startTime-oe)}}function Q(oe,fe){R=!1,L&&(L=!1,O(T),T=-1),S=!0;var he=x;try{for(B(fe),w=n(h);w!==null&&(!(w.expirationTime>fe)||oe&&!M());){var z=w.callback;if(typeof z=="function"){w.callback=null,x=w.priorityLevel;var Z=z(w.expirationTime<=fe);fe=t.unstable_now(),typeof Z=="function"?w.callback=Z:w===n(h)&&r(h),B(fe)}else r(h);w=n(h)}if(w!==null)var xe=!0;else{var Ve=n(p);Ve!==null&&_e(Y,Ve.startTime-fe),xe=!1}return xe}finally{w=null,x=he,S=!1}}var $=!1,P=null,T=-1,C=5,A=-1;function M(){return!(t.unstable_now()-A<C)}function U(){if(P!==null){var oe=t.unstable_now();A=oe;var fe=!0;try{fe=P(!0,oe)}finally{fe?D():($=!1,P=null)}}else $=!1}var D;if(typeof q=="function")D=function(){q(U)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,de=te.port2;te.port1.onmessage=U,D=function(){de.postMessage(null)}}else D=function(){N(U,0)};function De(oe){P=oe,$||($=!0,D())}function _e(oe,fe){T=N(function(){oe(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(oe){oe.callback=null},t.unstable_continueExecution=function(){R||S||(R=!0,De(Q))},t.unstable_forceFrameRate=function(oe){0>oe||125<oe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<oe?Math.floor(1e3/oe):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return n(h)},t.unstable_next=function(oe){switch(x){case 1:case 2:case 3:var fe=3;break;default:fe=x}var he=x;x=fe;try{return oe()}finally{x=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(oe,fe){switch(oe){case 1:case 2:case 3:case 4:case 5:break;default:oe=3}var he=x;x=oe;try{return fe()}finally{x=he}},t.unstable_scheduleCallback=function(oe,fe,he){var z=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?z+he:z):he=z,oe){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=he+Z,oe={id:g++,callback:fe,priorityLevel:oe,startTime:he,expirationTime:Z,sortIndex:-1},he>z?(oe.sortIndex=he,e(p,oe),n(h)===null&&oe===n(p)&&(L?(O(T),T=-1):L=!0,_e(Y,he-z))):(oe.sortIndex=Z,e(h,oe),R||S||(R=!0,De(Q))),oe},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(oe){var fe=x;return function(){var he=x;x=fe;try{return oe.apply(this,arguments)}finally{x=he}}}}(Ep)),Ep}var e_;function fA(){return e_||(e_=1,xp.exports=hA()),xp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function pA(){if(t_)return gn;t_=1;var t=Jm(),e=fA();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},w={};function x(i){return h.call(w,i)?!0:h.call(g,i)?!1:p.test(i)?w[i]=!0:(g[i]=!0,!1)}function S(i,o,u,f){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function R(i,o,u,f){if(o===null||typeof o>"u"||S(i,o,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function L(i,o,u,f,m,v,b){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=v,this.removeEmptyString=b}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){N[i]=new L(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];N[o]=new L(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){N[i]=new L(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){N[i]=new L(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){N[i]=new L(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){N[i]=new L(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){N[i]=new L(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){N[i]=new L(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){N[i]=new L(i,5,!1,i.toLowerCase(),null,!1,!1)});var O=/[\-:]([a-z])/g;function q(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(O,q);N[o]=new L(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(O,q);N[o]=new L(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(O,q);N[o]=new L(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){N[i]=new L(i,1,!1,i.toLowerCase(),null,!1,!1)}),N.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){N[i]=new L(i,1,!1,i.toLowerCase(),null,!0,!0)});function B(i,o,u,f){var m=N.hasOwnProperty(o)?N[o]:null;(m!==null?m.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(R(o,u,m,f)&&(u=null),f||m===null?x(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):m.mustUseProperty?i[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,f=m.attributeNamespace,u===null?i.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,f?i.setAttributeNS(f,o,u):i.setAttribute(o,u))))}var Y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),$=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),te=Symbol.for("react.suspense_list"),de=Symbol.for("react.memo"),De=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),oe=Symbol.iterator;function fe(i){return i===null||typeof i!="object"?null:(i=oe&&i[oe]||i["@@iterator"],typeof i=="function"?i:null)}var he=Object.assign,z;function Z(i){if(z===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);z=o&&o[1]||""}return`
`+z+i}var xe=!1;function Ve(i,o){if(!i||xe)return"";xe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var f=G}Reflect.construct(i,[],o)}else{try{o.call()}catch(G){f=G}i.call(o.prototype)}else{try{throw Error()}catch(G){f=G}i()}}catch(G){if(G&&f&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),v=f.stack.split(`
`),b=m.length-1,V=v.length-1;1<=b&&0<=V&&m[b]!==v[V];)V--;for(;1<=b&&0<=V;b--,V--)if(m[b]!==v[V]){if(b!==1||V!==1)do if(b--,V--,0>V||m[b]!==v[V]){var j=`
`+m[b].replace(" at new "," at ");return i.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",i.displayName)),j}while(1<=b&&0<=V);break}}}finally{xe=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?Z(i):""}function se(i){switch(i.tag){case 5:return Z(i.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return i=Ve(i.type,!1),i;case 11:return i=Ve(i.type.render,!1),i;case 1:return i=Ve(i.type,!0),i;default:return""}}function J(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case $:return"Portal";case C:return"Profiler";case T:return"StrictMode";case D:return"Suspense";case te:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case A:return(i._context.displayName||"Context")+".Provider";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case de:return o=i.displayName||null,o!==null?o:J(i.type)||"Memo";case De:o=i._payload,i=i._init;try{return J(i(o))}catch{}}return null}function le(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return J(o);case 8:return o===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Te(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Me(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ht(i){var o=Me(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,v=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(b){f=""+b,v.call(this,b)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(b){f=""+b},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Rn(i){i._valueTracker||(i._valueTracker=ht(i))}function Br(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),f="";return i&&(f=Me(i)?i.checked?"true":"false":i.value),i=f,i!==u?(o.setValue(i),!0):!1}function qn(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Kn(i,o){var u=o.checked;return he({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function zr(i,o){var u=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;u=Te(o.value!=null?o.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Pt(i,o){o=o.checked,o!=null&&B(i,"checked",o,!1)}function Wr(i,o){Pt(i,o);var u=Te(o.value),f=o.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?_o(i,o.type,u):o.hasOwnProperty("defaultValue")&&_o(i,o.type,Te(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Bu(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function _o(i,o,u){(o!=="number"||qn(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var Hr=Array.isArray;function qr(i,o,u,f){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&f&&(i[u].defaultSelected=!0)}else{for(u=""+Te(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function qa(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return he({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function wo(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Hr(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Te(u)}}function xo(i,o){var u=Te(o.value),f=Te(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function Ka(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function xt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Et(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?xt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Kr,Ga=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,f,m){MSApp.execUnsafeLocalFunction(function(){return i(o,u,f,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Kr=Kr||document.createElement("div"),Kr.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Kr.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function Ei(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var Es={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ts=["Webkit","ms","Moz","O"];Object.keys(Es).forEach(function(i){Ts.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Es[o]=Es[i]})});function Qa(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||Es.hasOwnProperty(i)&&Es[i]?(""+o).trim():o+"px"}function Ya(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var f=u.indexOf("--")===0,m=Qa(u,o[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,m):i[u]=m}}var Xa=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ja(i,o){if(o){if(Xa[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Za(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bs=null;function Eo(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var To=null,kn=null,gr=null;function bo(i){if(i=Tl(i)){if(typeof To!="function")throw Error(n(280));var o=i.stateNode;o&&(o=vc(o),To(i.stateNode,i.type,o))}}function yr(i){kn?gr?gr.push(i):gr=[i]:kn=i}function el(){if(kn){var i=kn,o=gr;if(gr=kn=null,bo(i),o)for(i=0;i<o.length;i++)bo(o[i])}}function Ss(i,o){return i(o)}function tl(){}var Gr=!1;function nl(i,o,u){if(Gr)return i(o,u);Gr=!0;try{return Ss(i,o,u)}finally{Gr=!1,(kn!==null||gr!==null)&&(tl(),el())}}function ft(i,o){var u=i.stateNode;if(u===null)return null;var f=vc(u);if(f===null)return null;u=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var So=!1;if(c)try{var Gn={};Object.defineProperty(Gn,"passive",{get:function(){So=!0}}),window.addEventListener("test",Gn,Gn),window.removeEventListener("test",Gn,Gn)}catch{So=!1}function Cs(i,o,u,f,m,v,b,V,j){var G=Array.prototype.slice.call(arguments,3);try{o.apply(u,G)}catch(re){this.onError(re)}}var Is=!1,Co=null,Qn=!1,rl=null,Hh={onError:function(i){Is=!0,Co=i}};function Io(i,o,u,f,m,v,b,V,j){Is=!1,Co=null,Cs.apply(Hh,arguments)}function zu(i,o,u,f,m,v,b,V,j){if(Io.apply(this,arguments),Is){if(Is){var G=Co;Is=!1,Co=null}else throw Error(n(198));Qn||(Qn=!0,rl=G)}}function Yn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function As(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Xn(i){if(Yn(i)!==i)throw Error(n(188))}function Wu(i){var o=i.alternate;if(!o){if(o=Yn(i),o===null)throw Error(n(188));return o!==i?null:i}for(var u=i,f=o;;){var m=u.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){u=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===u)return Xn(m),i;if(v===f)return Xn(m),o;v=v.sibling}throw Error(n(188))}if(u.return!==f.return)u=m,f=v;else{for(var b=!1,V=m.child;V;){if(V===u){b=!0,u=m,f=v;break}if(V===f){b=!0,f=m,u=v;break}V=V.sibling}if(!b){for(V=v.child;V;){if(V===u){b=!0,u=v,f=m;break}if(V===f){b=!0,f=v,u=m;break}V=V.sibling}if(!b)throw Error(n(189))}}if(u.alternate!==f)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?i:o}function il(i){return i=Wu(i),i!==null?Ao(i):null}function Ao(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=Ao(i);if(o!==null)return o;i=i.sibling}return null}var Po=e.unstable_scheduleCallback,sl=e.unstable_cancelCallback,Hu=e.unstable_shouldYield,qh=e.unstable_requestPaint,Ge=e.unstable_now,qu=e.unstable_getCurrentPriorityLevel,Ps=e.unstable_ImmediatePriority,Ti=e.unstable_UserBlockingPriority,Nn=e.unstable_NormalPriority,ol=e.unstable_LowPriority,Ku=e.unstable_IdlePriority,Rs=null,wn=null;function Gu(i){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(Rs,i,void 0,(i.current.flags&128)===128)}catch{}}var nn=Math.clz32?Math.clz32:Yu,al=Math.log,Qu=Math.LN2;function Yu(i){return i>>>=0,i===0?32:31-(al(i)/Qu|0)|0}var Ro=64,ko=4194304;function bi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function ks(i,o){var u=i.pendingLanes;if(u===0)return 0;var f=0,m=i.suspendedLanes,v=i.pingedLanes,b=u&268435455;if(b!==0){var V=b&~m;V!==0?f=bi(V):(v&=b,v!==0&&(f=bi(v)))}else b=u&~m,b!==0?f=bi(b):v!==0&&(f=bi(v));if(f===0)return 0;if(o!==0&&o!==f&&!(o&m)&&(m=f&-f,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(f&4&&(f|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)u=31-nn(o),m=1<<u,f|=i[u],o&=~m;return f}function Kh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qr(i,o){for(var u=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes;0<v;){var b=31-nn(v),V=1<<b,j=m[b];j===-1?(!(V&u)||V&f)&&(m[b]=Kh(V,o)):j<=o&&(i.expiredLanes|=V),v&=~V}}function xn(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ns(){var i=Ro;return Ro<<=1,!(Ro&4194240)&&(Ro=64),i}function Si(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Ci(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-nn(o),i[o]=u}function Ke(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var m=31-nn(u),v=1<<m;o[m]=0,f[m]=-1,i[m]=-1,u&=~v}}function Ii(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var f=31-nn(u),m=1<<f;m&o|i[f]&o&&(i[f]|=o),u&=~m}}var Ue=0;function Ai(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Xu,No,Ju,Zu,ec,ll=!1,vr=[],Ot=null,Jn=null,Zn=null,Pi=new Map,Dn=new Map,_r=[],Gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tc(i,o){switch(i){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Jn=null;break;case"mouseover":case"mouseout":Zn=null;break;case"pointerover":case"pointerout":Pi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dn.delete(o.pointerId)}}function un(i,o,u,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:o,domEventName:u,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Tl(o),o!==null&&No(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Qh(i,o,u,f,m){switch(o){case"focusin":return Ot=un(Ot,i,o,u,f,m),!0;case"dragenter":return Jn=un(Jn,i,o,u,f,m),!0;case"mouseover":return Zn=un(Zn,i,o,u,f,m),!0;case"pointerover":var v=m.pointerId;return Pi.set(v,un(Pi.get(v)||null,i,o,u,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Dn.set(v,un(Dn.get(v)||null,i,o,u,f,m)),!0}return!1}function nc(i){var o=Ms(i.target);if(o!==null){var u=Yn(o);if(u!==null){if(o=u.tag,o===13){if(o=As(u),o!==null){i.blockedOn=o,ec(i.priority,function(){Ju(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Yr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=Do(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);bs=f,u.target.dispatchEvent(f),bs=null}else return o=Tl(u),o!==null&&No(o),i.blockedOn=u,!1;o.shift()}return!0}function Ds(i,o,u){Yr(i)&&u.delete(o)}function rc(){ll=!1,Ot!==null&&Yr(Ot)&&(Ot=null),Jn!==null&&Yr(Jn)&&(Jn=null),Zn!==null&&Yr(Zn)&&(Zn=null),Pi.forEach(Ds),Dn.forEach(Ds)}function er(i,o){i.blockedOn===o&&(i.blockedOn=null,ll||(ll=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rc)))}function tr(i){function o(m){return er(m,i)}if(0<vr.length){er(vr[0],i);for(var u=1;u<vr.length;u++){var f=vr[u];f.blockedOn===i&&(f.blockedOn=null)}}for(Ot!==null&&er(Ot,i),Jn!==null&&er(Jn,i),Zn!==null&&er(Zn,i),Pi.forEach(o),Dn.forEach(o),u=0;u<_r.length;u++)f=_r[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<_r.length&&(u=_r[0],u.blockedOn===null);)nc(u),u.blockedOn===null&&_r.shift()}var Xr=Y.ReactCurrentBatchConfig,Ri=!0;function Ze(i,o,u,f){var m=Ue,v=Xr.transition;Xr.transition=null;try{Ue=1,ul(i,o,u,f)}finally{Ue=m,Xr.transition=v}}function Yh(i,o,u,f){var m=Ue,v=Xr.transition;Xr.transition=null;try{Ue=4,ul(i,o,u,f)}finally{Ue=m,Xr.transition=v}}function ul(i,o,u,f){if(Ri){var m=Do(i,o,u,f);if(m===null)lf(i,o,f,Vs,u),tc(i,f);else if(Qh(m,i,o,u,f))f.stopPropagation();else if(tc(i,f),o&4&&-1<Gh.indexOf(i)){for(;m!==null;){var v=Tl(m);if(v!==null&&Xu(v),v=Do(i,o,u,f),v===null&&lf(i,o,f,Vs,u),v===m)break;m=v}m!==null&&f.stopPropagation()}else lf(i,o,f,null,u)}}var Vs=null;function Do(i,o,u,f){if(Vs=null,i=Eo(f),i=Ms(i),i!==null)if(o=Yn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=As(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Vs=i,null}function cl(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qu()){case Ps:return 1;case Ti:return 4;case Nn:case ol:return 16;case Ku:return 536870912;default:return 16}default:return 16}}var En=null,Vo=null,cn=null;function dl(){if(cn)return cn;var i,o=Vo,u=o.length,f,m="value"in En?En.value:En.textContent,v=m.length;for(i=0;i<u&&o[i]===m[i];i++);var b=u-i;for(f=1;f<=b&&o[u-f]===m[v-f];f++);return cn=m.slice(i,1<f?1-f:void 0)}function Lo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function wr(){return!0}function hl(){return!1}function Mt(i){function o(u,f,m,v,b){this._reactName=u,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=b,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(u=i[V],this[V]=u?u(v):v[V]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?wr:hl,this.isPropagationStopped=hl,this}return he(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=wr)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=wr)},persist:function(){},isPersistent:wr}),o}var nr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oo=Mt(nr),xr=he({},nr,{view:0,detail:0}),Xh=Mt(xr),Mo,Jr,ki,Ls=he({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ki&&(ki&&i.type==="mousemove"?(Mo=i.screenX-ki.screenX,Jr=i.screenY-ki.screenY):Jr=Mo=0,ki=i),Mo)},movementY:function(i){return"movementY"in i?i.movementY:Jr}}),jo=Mt(Ls),fl=he({},Ls,{dataTransfer:0}),ic=Mt(fl),Fo=he({},xr,{relatedTarget:0}),Uo=Mt(Fo),sc=he({},nr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zr=Mt(sc),oc=he({},nr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),ac=Mt(oc),lc=he({},nr,{data:0}),pl=Mt(lc),$o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cc(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=uc[i])?!!o[i]:!1}function Er(){return cc}var d=he({},xr,{key:function(i){if(i.key){var o=$o[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Lo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?rn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(i){return i.type==="keypress"?Lo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Lo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),y=Mt(d),E=he({},Ls,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=Mt(E),W=he({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),X=Mt(W),ce=he({},nr,{propertyName:0,elapsedTime:0,pseudoElement:0}),qe=Mt(ce),Tt=he({},Ls,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),$e=Mt(Tt),Rt=[9,13,27,32],vt=c&&"CompositionEvent"in window,Vn=null;c&&"documentMode"in document&&(Vn=document.documentMode);var Tn=c&&"TextEvent"in window&&!Vn,Os=c&&(!vt||Vn&&8<Vn&&11>=Vn),Bo=" ",zy=!1;function Wy(i,o){switch(i){case"keyup":return Rt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var zo=!1;function oI(i,o){switch(i){case"compositionend":return Hy(o);case"keypress":return o.which!==32?null:(zy=!0,Bo);case"textInput":return i=o.data,i===Bo&&zy?null:i;default:return null}}function aI(i,o){if(zo)return i==="compositionend"||!vt&&Wy(i,o)?(i=dl(),cn=Vo=En=null,zo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Os&&o.locale!=="ko"?null:o.data;default:return null}}var lI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!lI[i.type]:o==="textarea"}function Ky(i,o,u,f){yr(f),o=mc(o,"onChange"),0<o.length&&(u=new Oo("onChange","change",null,u,f),i.push({event:u,listeners:o}))}var ml=null,gl=null;function uI(i){d0(i,0)}function dc(i){var o=Go(i);if(Br(o))return i}function cI(i,o){if(i==="change")return o}var Gy=!1;if(c){var Jh;if(c){var Zh="oninput"in document;if(!Zh){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),Zh=typeof Qy.oninput=="function"}Jh=Zh}else Jh=!1;Gy=Jh&&(!document.documentMode||9<document.documentMode)}function Yy(){ml&&(ml.detachEvent("onpropertychange",Xy),gl=ml=null)}function Xy(i){if(i.propertyName==="value"&&dc(gl)){var o=[];Ky(o,gl,i,Eo(i)),nl(uI,o)}}function dI(i,o,u){i==="focusin"?(Yy(),ml=o,gl=u,ml.attachEvent("onpropertychange",Xy)):i==="focusout"&&Yy()}function hI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return dc(gl)}function fI(i,o){if(i==="click")return dc(o)}function pI(i,o){if(i==="input"||i==="change")return dc(o)}function mI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var rr=typeof Object.is=="function"?Object.is:mI;function yl(i,o){if(rr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),f=Object.keys(o);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var m=u[f];if(!h.call(o,m)||!rr(i[m],o[m]))return!1}return!0}function Jy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Zy(i,o){var u=Jy(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=o&&f>=o)return{node:u,offset:o-i};i=f}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=Jy(u)}}function e0(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?e0(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function t0(){for(var i=window,o=qn();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=qn(i.document)}return o}function ef(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function gI(i){var o=t0(),u=i.focusedElem,f=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&e0(u.ownerDocument.documentElement,u)){if(f!==null&&ef(u)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=u.textContent.length,v=Math.min(f.start,m);f=f.end===void 0?v:Math.min(f.end,m),!i.extend&&v>f&&(m=f,f=v,v=m),m=Zy(u,v);var b=Zy(u,f);m&&b&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==b.node||i.focusOffset!==b.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),v>f?(i.addRange(o),i.extend(b.node,b.offset)):(o.setEnd(b.node,b.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var yI=c&&"documentMode"in document&&11>=document.documentMode,Wo=null,tf=null,vl=null,nf=!1;function n0(i,o,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;nf||Wo==null||Wo!==qn(f)||(f=Wo,"selectionStart"in f&&ef(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),vl&&yl(vl,f)||(vl=f,f=mc(tf,"onSelect"),0<f.length&&(o=new Oo("onSelect","select",null,o,u),i.push({event:o,listeners:f}),o.target=Wo)))}function hc(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Ho={animationend:hc("Animation","AnimationEnd"),animationiteration:hc("Animation","AnimationIteration"),animationstart:hc("Animation","AnimationStart"),transitionend:hc("Transition","TransitionEnd")},rf={},r0={};c&&(r0=document.createElement("div").style,"AnimationEvent"in window||(delete Ho.animationend.animation,delete Ho.animationiteration.animation,delete Ho.animationstart.animation),"TransitionEvent"in window||delete Ho.transitionend.transition);function fc(i){if(rf[i])return rf[i];if(!Ho[i])return i;var o=Ho[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in r0)return rf[i]=o[u];return i}var i0=fc("animationend"),s0=fc("animationiteration"),o0=fc("animationstart"),a0=fc("transitionend"),l0=new Map,u0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ni(i,o){l0.set(i,o),a(o,[i])}for(var sf=0;sf<u0.length;sf++){var of=u0[sf],vI=of.toLowerCase(),_I=of[0].toUpperCase()+of.slice(1);Ni(vI,"on"+_I)}Ni(i0,"onAnimationEnd"),Ni(s0,"onAnimationIteration"),Ni(o0,"onAnimationStart"),Ni("dblclick","onDoubleClick"),Ni("focusin","onFocus"),Ni("focusout","onBlur"),Ni(a0,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wI=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function c0(i,o,u){var f=i.type||"unknown-event";i.currentTarget=u,zu(f,o,void 0,i),i.currentTarget=null}function d0(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],m=f.event;f=f.listeners;e:{var v=void 0;if(o)for(var b=f.length-1;0<=b;b--){var V=f[b],j=V.instance,G=V.currentTarget;if(V=V.listener,j!==v&&m.isPropagationStopped())break e;c0(m,V,G),v=j}else for(b=0;b<f.length;b++){if(V=f[b],j=V.instance,G=V.currentTarget,V=V.listener,j!==v&&m.isPropagationStopped())break e;c0(m,V,G),v=j}}}if(Qn)throw i=rl,Qn=!1,rl=null,i}function Xe(i,o){var u=o[pf];u===void 0&&(u=o[pf]=new Set);var f=i+"__bubble";u.has(f)||(h0(o,i,2,!1),u.add(f))}function af(i,o,u){var f=0;o&&(f|=4),h0(u,i,f,o)}var pc="_reactListening"+Math.random().toString(36).slice(2);function wl(i){if(!i[pc]){i[pc]=!0,r.forEach(function(u){u!=="selectionchange"&&(wI.has(u)||af(u,!1,i),af(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[pc]||(o[pc]=!0,af("selectionchange",!1,o))}}function h0(i,o,u,f){switch(cl(o)){case 1:var m=Ze;break;case 4:m=Yh;break;default:m=ul}u=m.bind(null,o,u,i),m=void 0,!So||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function lf(i,o,u,f,m){var v=f;if(!(o&1)&&!(o&2)&&f!==null)e:for(;;){if(f===null)return;var b=f.tag;if(b===3||b===4){var V=f.stateNode.containerInfo;if(V===m||V.nodeType===8&&V.parentNode===m)break;if(b===4)for(b=f.return;b!==null;){var j=b.tag;if((j===3||j===4)&&(j=b.stateNode.containerInfo,j===m||j.nodeType===8&&j.parentNode===m))return;b=b.return}for(;V!==null;){if(b=Ms(V),b===null)return;if(j=b.tag,j===5||j===6){f=v=b;continue e}V=V.parentNode}}f=f.return}nl(function(){var G=v,re=Eo(u),ae=[];e:{var ne=l0.get(i);if(ne!==void 0){var pe=Oo,ye=i;switch(i){case"keypress":if(Lo(u)===0)break e;case"keydown":case"keyup":pe=y;break;case"focusin":ye="focus",pe=Uo;break;case"focusout":ye="blur",pe=Uo;break;case"beforeblur":case"afterblur":pe=Uo;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pe=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pe=ic;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pe=X;break;case i0:case s0:case o0:pe=Zr;break;case a0:pe=qe;break;case"scroll":pe=Xh;break;case"wheel":pe=$e;break;case"copy":case"cut":case"paste":pe=ac;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pe=I}var ve=(o&4)!==0,pt=!ve&&i==="scroll",H=ve?ne!==null?ne+"Capture":null:ne;ve=[];for(var F=G,K;F!==null;){K=F;var ue=K.stateNode;if(K.tag===5&&ue!==null&&(K=ue,H!==null&&(ue=ft(F,H),ue!=null&&ve.push(xl(F,ue,K)))),pt)break;F=F.return}0<ve.length&&(ne=new pe(ne,ye,null,u,re),ae.push({event:ne,listeners:ve}))}}if(!(o&7)){e:{if(ne=i==="mouseover"||i==="pointerover",pe=i==="mouseout"||i==="pointerout",ne&&u!==bs&&(ye=u.relatedTarget||u.fromElement)&&(Ms(ye)||ye[ei]))break e;if((pe||ne)&&(ne=re.window===re?re:(ne=re.ownerDocument)?ne.defaultView||ne.parentWindow:window,pe?(ye=u.relatedTarget||u.toElement,pe=G,ye=ye?Ms(ye):null,ye!==null&&(pt=Yn(ye),ye!==pt||ye.tag!==5&&ye.tag!==6)&&(ye=null)):(pe=null,ye=G),pe!==ye)){if(ve=jo,ue="onMouseLeave",H="onMouseEnter",F="mouse",(i==="pointerout"||i==="pointerover")&&(ve=I,ue="onPointerLeave",H="onPointerEnter",F="pointer"),pt=pe==null?ne:Go(pe),K=ye==null?ne:Go(ye),ne=new ve(ue,F+"leave",pe,u,re),ne.target=pt,ne.relatedTarget=K,ue=null,Ms(re)===G&&(ve=new ve(H,F+"enter",ye,u,re),ve.target=K,ve.relatedTarget=pt,ue=ve),pt=ue,pe&&ye)t:{for(ve=pe,H=ye,F=0,K=ve;K;K=qo(K))F++;for(K=0,ue=H;ue;ue=qo(ue))K++;for(;0<F-K;)ve=qo(ve),F--;for(;0<K-F;)H=qo(H),K--;for(;F--;){if(ve===H||H!==null&&ve===H.alternate)break t;ve=qo(ve),H=qo(H)}ve=null}else ve=null;pe!==null&&f0(ae,ne,pe,ve,!1),ye!==null&&pt!==null&&f0(ae,pt,ye,ve,!0)}}e:{if(ne=G?Go(G):window,pe=ne.nodeName&&ne.nodeName.toLowerCase(),pe==="select"||pe==="input"&&ne.type==="file")var we=cI;else if(qy(ne))if(Gy)we=pI;else{we=hI;var be=dI}else(pe=ne.nodeName)&&pe.toLowerCase()==="input"&&(ne.type==="checkbox"||ne.type==="radio")&&(we=fI);if(we&&(we=we(i,G))){Ky(ae,we,u,re);break e}be&&be(i,ne,G),i==="focusout"&&(be=ne._wrapperState)&&be.controlled&&ne.type==="number"&&_o(ne,"number",ne.value)}switch(be=G?Go(G):window,i){case"focusin":(qy(be)||be.contentEditable==="true")&&(Wo=be,tf=G,vl=null);break;case"focusout":vl=tf=Wo=null;break;case"mousedown":nf=!0;break;case"contextmenu":case"mouseup":case"dragend":nf=!1,n0(ae,u,re);break;case"selectionchange":if(yI)break;case"keydown":case"keyup":n0(ae,u,re)}var Se;if(vt)e:{switch(i){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else zo?Wy(i,u)&&(Re="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Re="onCompositionStart");Re&&(Os&&u.locale!=="ko"&&(zo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&zo&&(Se=dl()):(En=re,Vo="value"in En?En.value:En.textContent,zo=!0)),be=mc(G,Re),0<be.length&&(Re=new pl(Re,i,null,u,re),ae.push({event:Re,listeners:be}),Se?Re.data=Se:(Se=Hy(u),Se!==null&&(Re.data=Se)))),(Se=Tn?oI(i,u):aI(i,u))&&(G=mc(G,"onBeforeInput"),0<G.length&&(re=new pl("onBeforeInput","beforeinput",null,u,re),ae.push({event:re,listeners:G}),re.data=Se))}d0(ae,o)})}function xl(i,o,u){return{instance:i,listener:o,currentTarget:u}}function mc(i,o){for(var u=o+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=ft(i,u),v!=null&&f.unshift(xl(i,v,m)),v=ft(i,o),v!=null&&f.push(xl(i,v,m))),i=i.return}return f}function qo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function f0(i,o,u,f,m){for(var v=o._reactName,b=[];u!==null&&u!==f;){var V=u,j=V.alternate,G=V.stateNode;if(j!==null&&j===f)break;V.tag===5&&G!==null&&(V=G,m?(j=ft(u,v),j!=null&&b.unshift(xl(u,j,V))):m||(j=ft(u,v),j!=null&&b.push(xl(u,j,V)))),u=u.return}b.length!==0&&i.push({event:o,listeners:b})}var xI=/\r\n?/g,EI=/\u0000|\uFFFD/g;function p0(i){return(typeof i=="string"?i:""+i).replace(xI,`
`).replace(EI,"")}function gc(i,o,u){if(o=p0(o),p0(i)!==o&&u)throw Error(n(425))}function yc(){}var uf=null,cf=null;function df(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var hf=typeof setTimeout=="function"?setTimeout:void 0,TI=typeof clearTimeout=="function"?clearTimeout:void 0,m0=typeof Promise=="function"?Promise:void 0,bI=typeof queueMicrotask=="function"?queueMicrotask:typeof m0<"u"?function(i){return m0.resolve(null).then(i).catch(SI)}:hf;function SI(i){setTimeout(function(){throw i})}function ff(i,o){var u=o,f=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(f===0){i.removeChild(m),tr(o);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=m}while(u);tr(o)}function Di(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function g0(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),Tr="__reactFiber$"+Ko,El="__reactProps$"+Ko,ei="__reactContainer$"+Ko,pf="__reactEvents$"+Ko,CI="__reactListeners$"+Ko,II="__reactHandles$"+Ko;function Ms(i){var o=i[Tr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[ei]||u[Tr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=g0(i);i!==null;){if(u=i[Tr])return u;i=g0(i)}return o}i=u,u=i.parentNode}return null}function Tl(i){return i=i[Tr]||i[ei],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Go(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function vc(i){return i[El]||null}var mf=[],Qo=-1;function Vi(i){return{current:i}}function Je(i){0>Qo||(i.current=mf[Qo],mf[Qo]=null,Qo--)}function Qe(i,o){Qo++,mf[Qo]=i.current,i.current=o}var Li={},qt=Vi(Li),dn=Vi(!1),js=Li;function Yo(i,o){var u=i.type.contextTypes;if(!u)return Li;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in u)m[v]=o[v];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function hn(i){return i=i.childContextTypes,i!=null}function _c(){Je(dn),Je(qt)}function y0(i,o,u){if(qt.current!==Li)throw Error(n(168));Qe(qt,o),Qe(dn,u)}function v0(i,o,u){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var m in f)if(!(m in o))throw Error(n(108,le(i)||"Unknown",m));return he({},u,f)}function wc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Li,js=qt.current,Qe(qt,i),Qe(dn,dn.current),!0}function _0(i,o,u){var f=i.stateNode;if(!f)throw Error(n(169));u?(i=v0(i,o,js),f.__reactInternalMemoizedMergedChildContext=i,Je(dn),Je(qt),Qe(qt,i)):Je(dn),Qe(dn,u)}var ti=null,xc=!1,gf=!1;function w0(i){ti===null?ti=[i]:ti.push(i)}function AI(i){xc=!0,w0(i)}function Oi(){if(!gf&&ti!==null){gf=!0;var i=0,o=Ue;try{var u=ti;for(Ue=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}ti=null,xc=!1}catch(m){throw ti!==null&&(ti=ti.slice(i+1)),Po(Ps,Oi),m}finally{Ue=o,gf=!1}}return null}var Xo=[],Jo=0,Ec=null,Tc=0,Ln=[],On=0,Fs=null,ni=1,ri="";function Us(i,o){Xo[Jo++]=Tc,Xo[Jo++]=Ec,Ec=i,Tc=o}function x0(i,o,u){Ln[On++]=ni,Ln[On++]=ri,Ln[On++]=Fs,Fs=i;var f=ni;i=ri;var m=32-nn(f)-1;f&=~(1<<m),u+=1;var v=32-nn(o)+m;if(30<v){var b=m-m%5;v=(f&(1<<b)-1).toString(32),f>>=b,m-=b,ni=1<<32-nn(o)+m|u<<m|f,ri=v+i}else ni=1<<v|u<<m|f,ri=i}function yf(i){i.return!==null&&(Us(i,1),x0(i,1,0))}function vf(i){for(;i===Ec;)Ec=Xo[--Jo],Xo[Jo]=null,Tc=Xo[--Jo],Xo[Jo]=null;for(;i===Fs;)Fs=Ln[--On],Ln[On]=null,ri=Ln[--On],Ln[On]=null,ni=Ln[--On],Ln[On]=null}var bn=null,Sn=null,et=!1,ir=null;function E0(i,o){var u=Un(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function T0(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,bn=i,Sn=Di(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,bn=i,Sn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=Fs!==null?{id:ni,overflow:ri}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Un(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,bn=i,Sn=null,!0):!1;default:return!1}}function _f(i){return(i.mode&1)!==0&&(i.flags&128)===0}function wf(i){if(et){var o=Sn;if(o){var u=o;if(!T0(i,o)){if(_f(i))throw Error(n(418));o=Di(u.nextSibling);var f=bn;o&&T0(i,o)?E0(f,u):(i.flags=i.flags&-4097|2,et=!1,bn=i)}}else{if(_f(i))throw Error(n(418));i.flags=i.flags&-4097|2,et=!1,bn=i}}}function b0(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;bn=i}function bc(i){if(i!==bn)return!1;if(!et)return b0(i),et=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!df(i.type,i.memoizedProps)),o&&(o=Sn)){if(_f(i))throw S0(),Error(n(418));for(;o;)E0(i,o),o=Di(o.nextSibling)}if(b0(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Sn=Di(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Sn=null}}else Sn=bn?Di(i.stateNode.nextSibling):null;return!0}function S0(){for(var i=Sn;i;)i=Di(i.nextSibling)}function Zo(){Sn=bn=null,et=!1}function xf(i){ir===null?ir=[i]:ir.push(i)}var PI=Y.ReactCurrentBatchConfig;function bl(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var f=u.stateNode}if(!f)throw Error(n(147,i));var m=f,v=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(b){var V=m.refs;b===null?delete V[v]:V[v]=b},o._stringRef=v,o)}if(typeof i!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,i))}return i}function Sc(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function C0(i){var o=i._init;return o(i._payload)}function I0(i){function o(H,F){if(i){var K=H.deletions;K===null?(H.deletions=[F],H.flags|=16):K.push(F)}}function u(H,F){if(!i)return null;for(;F!==null;)o(H,F),F=F.sibling;return null}function f(H,F){for(H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function m(H,F){return H=Wi(H,F),H.index=0,H.sibling=null,H}function v(H,F,K){return H.index=K,i?(K=H.alternate,K!==null?(K=K.index,K<F?(H.flags|=2,F):K):(H.flags|=2,F)):(H.flags|=1048576,F)}function b(H){return i&&H.alternate===null&&(H.flags|=2),H}function V(H,F,K,ue){return F===null||F.tag!==6?(F=hp(K,H.mode,ue),F.return=H,F):(F=m(F,K),F.return=H,F)}function j(H,F,K,ue){var we=K.type;return we===P?re(H,F,K.props.children,ue,K.key):F!==null&&(F.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===De&&C0(we)===F.type)?(ue=m(F,K.props),ue.ref=bl(H,F,K),ue.return=H,ue):(ue=Qc(K.type,K.key,K.props,null,H.mode,ue),ue.ref=bl(H,F,K),ue.return=H,ue)}function G(H,F,K,ue){return F===null||F.tag!==4||F.stateNode.containerInfo!==K.containerInfo||F.stateNode.implementation!==K.implementation?(F=fp(K,H.mode,ue),F.return=H,F):(F=m(F,K.children||[]),F.return=H,F)}function re(H,F,K,ue,we){return F===null||F.tag!==7?(F=Gs(K,H.mode,ue,we),F.return=H,F):(F=m(F,K),F.return=H,F)}function ae(H,F,K){if(typeof F=="string"&&F!==""||typeof F=="number")return F=hp(""+F,H.mode,K),F.return=H,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Q:return K=Qc(F.type,F.key,F.props,null,H.mode,K),K.ref=bl(H,null,F),K.return=H,K;case $:return F=fp(F,H.mode,K),F.return=H,F;case De:var ue=F._init;return ae(H,ue(F._payload),K)}if(Hr(F)||fe(F))return F=Gs(F,H.mode,K,null),F.return=H,F;Sc(H,F)}return null}function ne(H,F,K,ue){var we=F!==null?F.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return we!==null?null:V(H,F,""+K,ue);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return K.key===we?j(H,F,K,ue):null;case $:return K.key===we?G(H,F,K,ue):null;case De:return we=K._init,ne(H,F,we(K._payload),ue)}if(Hr(K)||fe(K))return we!==null?null:re(H,F,K,ue,null);Sc(H,K)}return null}function pe(H,F,K,ue,we){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return H=H.get(K)||null,V(F,H,""+ue,we);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case Q:return H=H.get(ue.key===null?K:ue.key)||null,j(F,H,ue,we);case $:return H=H.get(ue.key===null?K:ue.key)||null,G(F,H,ue,we);case De:var be=ue._init;return pe(H,F,K,be(ue._payload),we)}if(Hr(ue)||fe(ue))return H=H.get(K)||null,re(F,H,ue,we,null);Sc(F,ue)}return null}function ye(H,F,K,ue){for(var we=null,be=null,Se=F,Re=F=0,Dt=null;Se!==null&&Re<K.length;Re++){Se.index>Re?(Dt=Se,Se=null):Dt=Se.sibling;var We=ne(H,Se,K[Re],ue);if(We===null){Se===null&&(Se=Dt);break}i&&Se&&We.alternate===null&&o(H,Se),F=v(We,F,Re),be===null?we=We:be.sibling=We,be=We,Se=Dt}if(Re===K.length)return u(H,Se),et&&Us(H,Re),we;if(Se===null){for(;Re<K.length;Re++)Se=ae(H,K[Re],ue),Se!==null&&(F=v(Se,F,Re),be===null?we=Se:be.sibling=Se,be=Se);return et&&Us(H,Re),we}for(Se=f(H,Se);Re<K.length;Re++)Dt=pe(Se,H,Re,K[Re],ue),Dt!==null&&(i&&Dt.alternate!==null&&Se.delete(Dt.key===null?Re:Dt.key),F=v(Dt,F,Re),be===null?we=Dt:be.sibling=Dt,be=Dt);return i&&Se.forEach(function(Hi){return o(H,Hi)}),et&&Us(H,Re),we}function ve(H,F,K,ue){var we=fe(K);if(typeof we!="function")throw Error(n(150));if(K=we.call(K),K==null)throw Error(n(151));for(var be=we=null,Se=F,Re=F=0,Dt=null,We=K.next();Se!==null&&!We.done;Re++,We=K.next()){Se.index>Re?(Dt=Se,Se=null):Dt=Se.sibling;var Hi=ne(H,Se,We.value,ue);if(Hi===null){Se===null&&(Se=Dt);break}i&&Se&&Hi.alternate===null&&o(H,Se),F=v(Hi,F,Re),be===null?we=Hi:be.sibling=Hi,be=Hi,Se=Dt}if(We.done)return u(H,Se),et&&Us(H,Re),we;if(Se===null){for(;!We.done;Re++,We=K.next())We=ae(H,We.value,ue),We!==null&&(F=v(We,F,Re),be===null?we=We:be.sibling=We,be=We);return et&&Us(H,Re),we}for(Se=f(H,Se);!We.done;Re++,We=K.next())We=pe(Se,H,Re,We.value,ue),We!==null&&(i&&We.alternate!==null&&Se.delete(We.key===null?Re:We.key),F=v(We,F,Re),be===null?we=We:be.sibling=We,be=We);return i&&Se.forEach(function(lA){return o(H,lA)}),et&&Us(H,Re),we}function pt(H,F,K,ue){if(typeof K=="object"&&K!==null&&K.type===P&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:e:{for(var we=K.key,be=F;be!==null;){if(be.key===we){if(we=K.type,we===P){if(be.tag===7){u(H,be.sibling),F=m(be,K.props.children),F.return=H,H=F;break e}}else if(be.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===De&&C0(we)===be.type){u(H,be.sibling),F=m(be,K.props),F.ref=bl(H,be,K),F.return=H,H=F;break e}u(H,be);break}else o(H,be);be=be.sibling}K.type===P?(F=Gs(K.props.children,H.mode,ue,K.key),F.return=H,H=F):(ue=Qc(K.type,K.key,K.props,null,H.mode,ue),ue.ref=bl(H,F,K),ue.return=H,H=ue)}return b(H);case $:e:{for(be=K.key;F!==null;){if(F.key===be)if(F.tag===4&&F.stateNode.containerInfo===K.containerInfo&&F.stateNode.implementation===K.implementation){u(H,F.sibling),F=m(F,K.children||[]),F.return=H,H=F;break e}else{u(H,F);break}else o(H,F);F=F.sibling}F=fp(K,H.mode,ue),F.return=H,H=F}return b(H);case De:return be=K._init,pt(H,F,be(K._payload),ue)}if(Hr(K))return ye(H,F,K,ue);if(fe(K))return ve(H,F,K,ue);Sc(H,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,F!==null&&F.tag===6?(u(H,F.sibling),F=m(F,K),F.return=H,H=F):(u(H,F),F=hp(K,H.mode,ue),F.return=H,H=F),b(H)):u(H,F)}return pt}var ea=I0(!0),A0=I0(!1),Cc=Vi(null),Ic=null,ta=null,Ef=null;function Tf(){Ef=ta=Ic=null}function bf(i){var o=Cc.current;Je(Cc),i._currentValue=o}function Sf(i,o,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===u)break;i=i.return}}function na(i,o){Ic=i,Ef=ta=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(fn=!0),i.firstContext=null)}function Mn(i){var o=i._currentValue;if(Ef!==i)if(i={context:i,memoizedValue:o,next:null},ta===null){if(Ic===null)throw Error(n(308));ta=i,Ic.dependencies={lanes:0,firstContext:i}}else ta=ta.next=i;return o}var $s=null;function Cf(i){$s===null?$s=[i]:$s.push(i)}function P0(i,o,u,f){var m=o.interleaved;return m===null?(u.next=u,Cf(o)):(u.next=m.next,m.next=u),o.interleaved=u,ii(i,f)}function ii(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Mi=!1;function If(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R0(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function si(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ji(i,o,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,ze&2){var m=f.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),f.pending=o,ii(i,u)}return m=f.interleaved,m===null?(o.next=o,Cf(f)):(o.next=m.next,m.next=o),f.interleaved=o,ii(i,u)}function Ac(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Ii(i,u)}}function k0(i,o){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var m=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var b={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?m=v=b:v=v.next=b,u=u.next}while(u!==null);v===null?m=v=o:v=v.next=o}else m=v=o;u={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function Pc(i,o,u,f){var m=i.updateQueue;Mi=!1;var v=m.firstBaseUpdate,b=m.lastBaseUpdate,V=m.shared.pending;if(V!==null){m.shared.pending=null;var j=V,G=j.next;j.next=null,b===null?v=G:b.next=G,b=j;var re=i.alternate;re!==null&&(re=re.updateQueue,V=re.lastBaseUpdate,V!==b&&(V===null?re.firstBaseUpdate=G:V.next=G,re.lastBaseUpdate=j))}if(v!==null){var ae=m.baseState;b=0,re=G=j=null,V=v;do{var ne=V.lane,pe=V.eventTime;if((f&ne)===ne){re!==null&&(re=re.next={eventTime:pe,lane:0,tag:V.tag,payload:V.payload,callback:V.callback,next:null});e:{var ye=i,ve=V;switch(ne=o,pe=u,ve.tag){case 1:if(ye=ve.payload,typeof ye=="function"){ae=ye.call(pe,ae,ne);break e}ae=ye;break e;case 3:ye.flags=ye.flags&-65537|128;case 0:if(ye=ve.payload,ne=typeof ye=="function"?ye.call(pe,ae,ne):ye,ne==null)break e;ae=he({},ae,ne);break e;case 2:Mi=!0}}V.callback!==null&&V.lane!==0&&(i.flags|=64,ne=m.effects,ne===null?m.effects=[V]:ne.push(V))}else pe={eventTime:pe,lane:ne,tag:V.tag,payload:V.payload,callback:V.callback,next:null},re===null?(G=re=pe,j=ae):re=re.next=pe,b|=ne;if(V=V.next,V===null){if(V=m.shared.pending,V===null)break;ne=V,V=ne.next,ne.next=null,m.lastBaseUpdate=ne,m.shared.pending=null}}while(!0);if(re===null&&(j=ae),m.baseState=j,m.firstBaseUpdate=G,m.lastBaseUpdate=re,o=m.shared.interleaved,o!==null){m=o;do b|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Ws|=b,i.lanes=b,i.memoizedState=ae}}function N0(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],m=f.callback;if(m!==null){if(f.callback=null,f=u,typeof m!="function")throw Error(n(191,m));m.call(f)}}}var Sl={},br=Vi(Sl),Cl=Vi(Sl),Il=Vi(Sl);function Bs(i){if(i===Sl)throw Error(n(174));return i}function Af(i,o){switch(Qe(Il,o),Qe(Cl,i),Qe(br,Sl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Et(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Et(o,i)}Je(br),Qe(br,o)}function ra(){Je(br),Je(Cl),Je(Il)}function D0(i){Bs(Il.current);var o=Bs(br.current),u=Et(o,i.type);o!==u&&(Qe(Cl,i),Qe(br,u))}function Pf(i){Cl.current===i&&(Je(br),Je(Cl))}var nt=Vi(0);function Rc(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Rf=[];function kf(){for(var i=0;i<Rf.length;i++)Rf[i]._workInProgressVersionPrimary=null;Rf.length=0}var kc=Y.ReactCurrentDispatcher,Nf=Y.ReactCurrentBatchConfig,zs=0,rt=null,bt=null,kt=null,Nc=!1,Al=!1,Pl=0,RI=0;function Kt(){throw Error(n(321))}function Df(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!rr(i[u],o[u]))return!1;return!0}function Vf(i,o,u,f,m,v){if(zs=v,rt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,kc.current=i===null||i.memoizedState===null?VI:LI,i=u(f,m),Al){v=0;do{if(Al=!1,Pl=0,25<=v)throw Error(n(301));v+=1,kt=bt=null,o.updateQueue=null,kc.current=OI,i=u(f,m)}while(Al)}if(kc.current=Lc,o=bt!==null&&bt.next!==null,zs=0,kt=bt=rt=null,Nc=!1,o)throw Error(n(300));return i}function Lf(){var i=Pl!==0;return Pl=0,i}function Sr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?rt.memoizedState=kt=i:kt=kt.next=i,kt}function jn(){if(bt===null){var i=rt.alternate;i=i!==null?i.memoizedState:null}else i=bt.next;var o=kt===null?rt.memoizedState:kt.next;if(o!==null)kt=o,bt=i;else{if(i===null)throw Error(n(310));bt=i,i={memoizedState:bt.memoizedState,baseState:bt.baseState,baseQueue:bt.baseQueue,queue:bt.queue,next:null},kt===null?rt.memoizedState=kt=i:kt=kt.next=i}return kt}function Rl(i,o){return typeof o=="function"?o(i):o}function Of(i){var o=jn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=bt,m=f.baseQueue,v=u.pending;if(v!==null){if(m!==null){var b=m.next;m.next=v.next,v.next=b}f.baseQueue=m=v,u.pending=null}if(m!==null){v=m.next,f=f.baseState;var V=b=null,j=null,G=v;do{var re=G.lane;if((zs&re)===re)j!==null&&(j=j.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),f=G.hasEagerState?G.eagerState:i(f,G.action);else{var ae={lane:re,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};j===null?(V=j=ae,b=f):j=j.next=ae,rt.lanes|=re,Ws|=re}G=G.next}while(G!==null&&G!==v);j===null?b=f:j.next=V,rr(f,o.memoizedState)||(fn=!0),o.memoizedState=f,o.baseState=b,o.baseQueue=j,u.lastRenderedState=f}if(i=u.interleaved,i!==null){m=i;do v=m.lane,rt.lanes|=v,Ws|=v,m=m.next;while(m!==i)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function Mf(i){var o=jn(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=i;var f=u.dispatch,m=u.pending,v=o.memoizedState;if(m!==null){u.pending=null;var b=m=m.next;do v=i(v,b.action),b=b.next;while(b!==m);rr(v,o.memoizedState)||(fn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),u.lastRenderedState=v}return[v,f]}function V0(){}function L0(i,o){var u=rt,f=jn(),m=o(),v=!rr(f.memoizedState,m);if(v&&(f.memoizedState=m,fn=!0),f=f.queue,jf(j0.bind(null,u,f,i),[i]),f.getSnapshot!==o||v||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,kl(9,M0.bind(null,u,f,m,o),void 0,null),Nt===null)throw Error(n(349));zs&30||O0(u,o,m)}return m}function O0(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function M0(i,o,u,f){o.value=u,o.getSnapshot=f,F0(o)&&U0(i)}function j0(i,o,u){return u(function(){F0(o)&&U0(i)})}function F0(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!rr(i,u)}catch{return!0}}function U0(i){var o=ii(i,1);o!==null&&lr(o,i,1,-1)}function $0(i){var o=Sr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Rl,lastRenderedState:i},o.queue=i,i=i.dispatch=DI.bind(null,rt,i),[o.memoizedState,i]}function kl(i,o,u,f){return i={tag:i,create:o,destroy:u,deps:f,next:null},o=rt.updateQueue,o===null?(o={lastEffect:null,stores:null},rt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,o.lastEffect=i)),i}function B0(){return jn().memoizedState}function Dc(i,o,u,f){var m=Sr();rt.flags|=i,m.memoizedState=kl(1|o,u,void 0,f===void 0?null:f)}function Vc(i,o,u,f){var m=jn();f=f===void 0?null:f;var v=void 0;if(bt!==null){var b=bt.memoizedState;if(v=b.destroy,f!==null&&Df(f,b.deps)){m.memoizedState=kl(o,u,v,f);return}}rt.flags|=i,m.memoizedState=kl(1|o,u,v,f)}function z0(i,o){return Dc(8390656,8,i,o)}function jf(i,o){return Vc(2048,8,i,o)}function W0(i,o){return Vc(4,2,i,o)}function H0(i,o){return Vc(4,4,i,o)}function q0(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function K0(i,o,u){return u=u!=null?u.concat([i]):null,Vc(4,4,q0.bind(null,o,i),u)}function Ff(){}function G0(i,o){var u=jn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Df(o,f[1])?f[0]:(u.memoizedState=[i,o],i)}function Q0(i,o){var u=jn();o=o===void 0?null:o;var f=u.memoizedState;return f!==null&&o!==null&&Df(o,f[1])?f[0]:(i=i(),u.memoizedState=[i,o],i)}function Y0(i,o,u){return zs&21?(rr(u,o)||(u=Ns(),rt.lanes|=u,Ws|=u,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,fn=!0),i.memoizedState=u)}function kI(i,o){var u=Ue;Ue=u!==0&&4>u?u:4,i(!0);var f=Nf.transition;Nf.transition={};try{i(!1),o()}finally{Ue=u,Nf.transition=f}}function X0(){return jn().memoizedState}function NI(i,o,u){var f=Bi(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},J0(i))Z0(o,u);else if(u=P0(i,o,u,f),u!==null){var m=on();lr(u,i,f,m),ev(u,o,f)}}function DI(i,o,u){var f=Bi(i),m={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(J0(i))Z0(o,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var b=o.lastRenderedState,V=v(b,u);if(m.hasEagerState=!0,m.eagerState=V,rr(V,b)){var j=o.interleaved;j===null?(m.next=m,Cf(o)):(m.next=j.next,j.next=m),o.interleaved=m;return}}catch{}finally{}u=P0(i,o,m,f),u!==null&&(m=on(),lr(u,i,f,m),ev(u,o,f))}}function J0(i){var o=i.alternate;return i===rt||o!==null&&o===rt}function Z0(i,o){Al=Nc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function ev(i,o,u){if(u&4194240){var f=o.lanes;f&=i.pendingLanes,u|=f,o.lanes=u,Ii(i,u)}}var Lc={readContext:Mn,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useInsertionEffect:Kt,useLayoutEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useMutableSource:Kt,useSyncExternalStore:Kt,useId:Kt,unstable_isNewReconciler:!1},VI={readContext:Mn,useCallback:function(i,o){return Sr().memoizedState=[i,o===void 0?null:o],i},useContext:Mn,useEffect:z0,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,Dc(4194308,4,q0.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Dc(4194308,4,i,o)},useInsertionEffect:function(i,o){return Dc(4,2,i,o)},useMemo:function(i,o){var u=Sr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var f=Sr();return o=u!==void 0?u(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=NI.bind(null,rt,i),[f.memoizedState,i]},useRef:function(i){var o=Sr();return i={current:i},o.memoizedState=i},useState:$0,useDebugValue:Ff,useDeferredValue:function(i){return Sr().memoizedState=i},useTransition:function(){var i=$0(!1),o=i[0];return i=kI.bind(null,i[1]),Sr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var f=rt,m=Sr();if(et){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),Nt===null)throw Error(n(349));zs&30||O0(f,o,u)}m.memoizedState=u;var v={value:u,getSnapshot:o};return m.queue=v,z0(j0.bind(null,f,v,i),[i]),f.flags|=2048,kl(9,M0.bind(null,f,v,u,o),void 0,null),u},useId:function(){var i=Sr(),o=Nt.identifierPrefix;if(et){var u=ri,f=ni;u=(f&~(1<<32-nn(f)-1)).toString(32)+u,o=":"+o+"R"+u,u=Pl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=RI++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},LI={readContext:Mn,useCallback:G0,useContext:Mn,useEffect:jf,useImperativeHandle:K0,useInsertionEffect:W0,useLayoutEffect:H0,useMemo:Q0,useReducer:Of,useRef:B0,useState:function(){return Of(Rl)},useDebugValue:Ff,useDeferredValue:function(i){var o=jn();return Y0(o,bt.memoizedState,i)},useTransition:function(){var i=Of(Rl)[0],o=jn().memoizedState;return[i,o]},useMutableSource:V0,useSyncExternalStore:L0,useId:X0,unstable_isNewReconciler:!1},OI={readContext:Mn,useCallback:G0,useContext:Mn,useEffect:jf,useImperativeHandle:K0,useInsertionEffect:W0,useLayoutEffect:H0,useMemo:Q0,useReducer:Mf,useRef:B0,useState:function(){return Mf(Rl)},useDebugValue:Ff,useDeferredValue:function(i){var o=jn();return bt===null?o.memoizedState=i:Y0(o,bt.memoizedState,i)},useTransition:function(){var i=Mf(Rl)[0],o=jn().memoizedState;return[i,o]},useMutableSource:V0,useSyncExternalStore:L0,useId:X0,unstable_isNewReconciler:!1};function sr(i,o){if(i&&i.defaultProps){o=he({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function Uf(i,o,u,f){o=i.memoizedState,u=u(f,o),u=u==null?o:he({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Oc={isMounted:function(i){return(i=i._reactInternals)?Yn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var f=on(),m=Bi(i),v=si(f,m);v.payload=o,u!=null&&(v.callback=u),o=ji(i,v,m),o!==null&&(lr(o,i,m,f),Ac(o,i,m))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var f=on(),m=Bi(i),v=si(f,m);v.tag=1,v.payload=o,u!=null&&(v.callback=u),o=ji(i,v,m),o!==null&&(lr(o,i,m,f),Ac(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=on(),f=Bi(i),m=si(u,f);m.tag=2,o!=null&&(m.callback=o),o=ji(i,m,f),o!==null&&(lr(o,i,f,u),Ac(o,i,f))}};function tv(i,o,u,f,m,v,b){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,b):o.prototype&&o.prototype.isPureReactComponent?!yl(u,f)||!yl(m,v):!0}function nv(i,o,u){var f=!1,m=Li,v=o.contextType;return typeof v=="object"&&v!==null?v=Mn(v):(m=hn(o)?js:qt.current,f=o.contextTypes,v=(f=f!=null)?Yo(i,m):Li),o=new o(u,v),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Oc,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=v),o}function rv(i,o,u,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,f),o.state!==i&&Oc.enqueueReplaceState(o,o.state,null)}function $f(i,o,u,f){var m=i.stateNode;m.props=u,m.state=i.memoizedState,m.refs={},If(i);var v=o.contextType;typeof v=="object"&&v!==null?m.context=Mn(v):(v=hn(o)?js:qt.current,m.context=Yo(i,v)),m.state=i.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Uf(i,o,v,u),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Oc.enqueueReplaceState(m,m.state,null),Pc(i,u,m,f),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function ia(i,o){try{var u="",f=o;do u+=se(f),f=f.return;while(f);var m=u}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:o,stack:m,digest:null}}function Bf(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function zf(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var MI=typeof WeakMap=="function"?WeakMap:Map;function iv(i,o,u){u=si(-1,u),u.tag=3,u.payload={element:null};var f=o.value;return u.callback=function(){zc||(zc=!0,ip=f),zf(i,o)},u}function sv(i,o,u){u=si(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var m=o.value;u.payload=function(){return f(m)},u.callback=function(){zf(i,o)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){zf(i,o),typeof f!="function"&&(Ui===null?Ui=new Set([this]):Ui.add(this));var b=o.stack;this.componentDidCatch(o.value,{componentStack:b!==null?b:""})}),u}function ov(i,o,u){var f=i.pingCache;if(f===null){f=i.pingCache=new MI;var m=new Set;f.set(o,m)}else m=f.get(o),m===void 0&&(m=new Set,f.set(o,m));m.has(u)||(m.add(u),i=XI.bind(null,i,o,u),o.then(i,i))}function av(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function lv(i,o,u,f,m){return i.mode&1?(i.flags|=65536,i.lanes=m,i):(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=si(-1,1),o.tag=2,ji(u,o,1))),u.lanes|=1),i)}var jI=Y.ReactCurrentOwner,fn=!1;function sn(i,o,u,f){o.child=i===null?A0(o,null,u,f):ea(o,i.child,u,f)}function uv(i,o,u,f,m){u=u.render;var v=o.ref;return na(o,m),f=Vf(i,o,u,f,v,m),u=Lf(),i!==null&&!fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,oi(i,o,m)):(et&&u&&yf(o),o.flags|=1,sn(i,o,f,m),o.child)}function cv(i,o,u,f,m){if(i===null){var v=u.type;return typeof v=="function"&&!dp(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=v,dv(i,o,v,f,m)):(i=Qc(u.type,null,f,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(v=i.child,!(i.lanes&m)){var b=v.memoizedProps;if(u=u.compare,u=u!==null?u:yl,u(b,f)&&i.ref===o.ref)return oi(i,o,m)}return o.flags|=1,i=Wi(v,f),i.ref=o.ref,i.return=o,o.child=i}function dv(i,o,u,f,m){if(i!==null){var v=i.memoizedProps;if(yl(v,f)&&i.ref===o.ref)if(fn=!1,o.pendingProps=f=v,(i.lanes&m)!==0)i.flags&131072&&(fn=!0);else return o.lanes=i.lanes,oi(i,o,m)}return Wf(i,o,u,f,m)}function hv(i,o,u){var f=o.pendingProps,m=f.children,v=i!==null?i.memoizedState:null;if(f.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(oa,Cn),Cn|=u;else{if(!(u&1073741824))return i=v!==null?v.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Qe(oa,Cn),Cn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=v!==null?v.baseLanes:u,Qe(oa,Cn),Cn|=f}else v!==null?(f=v.baseLanes|u,o.memoizedState=null):f=u,Qe(oa,Cn),Cn|=f;return sn(i,o,m,u),o.child}function fv(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function Wf(i,o,u,f,m){var v=hn(u)?js:qt.current;return v=Yo(o,v),na(o,m),u=Vf(i,o,u,f,v,m),f=Lf(),i!==null&&!fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,oi(i,o,m)):(et&&f&&yf(o),o.flags|=1,sn(i,o,u,m),o.child)}function pv(i,o,u,f,m){if(hn(u)){var v=!0;wc(o)}else v=!1;if(na(o,m),o.stateNode===null)jc(i,o),nv(o,u,f),$f(o,u,f,m),f=!0;else if(i===null){var b=o.stateNode,V=o.memoizedProps;b.props=V;var j=b.context,G=u.contextType;typeof G=="object"&&G!==null?G=Mn(G):(G=hn(u)?js:qt.current,G=Yo(o,G));var re=u.getDerivedStateFromProps,ae=typeof re=="function"||typeof b.getSnapshotBeforeUpdate=="function";ae||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(V!==f||j!==G)&&rv(o,b,f,G),Mi=!1;var ne=o.memoizedState;b.state=ne,Pc(o,f,b,m),j=o.memoizedState,V!==f||ne!==j||dn.current||Mi?(typeof re=="function"&&(Uf(o,u,re,f),j=o.memoizedState),(V=Mi||tv(o,u,V,f,ne,j,G))?(ae||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(o.flags|=4194308)):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=j),b.props=f,b.state=j,b.context=G,f=V):(typeof b.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{b=o.stateNode,R0(i,o),V=o.memoizedProps,G=o.type===o.elementType?V:sr(o.type,V),b.props=G,ae=o.pendingProps,ne=b.context,j=u.contextType,typeof j=="object"&&j!==null?j=Mn(j):(j=hn(u)?js:qt.current,j=Yo(o,j));var pe=u.getDerivedStateFromProps;(re=typeof pe=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(V!==ae||ne!==j)&&rv(o,b,f,j),Mi=!1,ne=o.memoizedState,b.state=ne,Pc(o,f,b,m);var ye=o.memoizedState;V!==ae||ne!==ye||dn.current||Mi?(typeof pe=="function"&&(Uf(o,u,pe,f),ye=o.memoizedState),(G=Mi||tv(o,u,G,f,ne,ye,j)||!1)?(re||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(f,ye,j),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(f,ye,j)),typeof b.componentDidUpdate=="function"&&(o.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof b.componentDidUpdate!="function"||V===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=ye),b.props=f,b.state=ye,b.context=j,f=G):(typeof b.componentDidUpdate!="function"||V===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||V===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),f=!1)}return Hf(i,o,u,f,v,m)}function Hf(i,o,u,f,m,v){fv(i,o);var b=(o.flags&128)!==0;if(!f&&!b)return m&&_0(o,u,!1),oi(i,o,v);f=o.stateNode,jI.current=o;var V=b&&typeof u.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&b?(o.child=ea(o,i.child,null,v),o.child=ea(o,null,V,v)):sn(i,o,V,v),o.memoizedState=f.state,m&&_0(o,u,!0),o.child}function mv(i){var o=i.stateNode;o.pendingContext?y0(i,o.pendingContext,o.pendingContext!==o.context):o.context&&y0(i,o.context,!1),Af(i,o.containerInfo)}function gv(i,o,u,f,m){return Zo(),xf(m),o.flags|=256,sn(i,o,u,f),o.child}var qf={dehydrated:null,treeContext:null,retryLane:0};function Kf(i){return{baseLanes:i,cachePool:null,transitions:null}}function yv(i,o,u){var f=o.pendingProps,m=nt.current,v=!1,b=(o.flags&128)!==0,V;if((V=b)||(V=i!==null&&i.memoizedState===null?!1:(m&2)!==0),V?(v=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Qe(nt,m&1),i===null)return wf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(b=f.children,i=f.fallback,v?(f=o.mode,v=o.child,b={mode:"hidden",children:b},!(f&1)&&v!==null?(v.childLanes=0,v.pendingProps=b):v=Yc(b,f,0,null),i=Gs(i,f,u,null),v.return=o,i.return=o,v.sibling=i,o.child=v,o.child.memoizedState=Kf(u),o.memoizedState=qf,i):Gf(o,b));if(m=i.memoizedState,m!==null&&(V=m.dehydrated,V!==null))return FI(i,o,b,f,V,m,u);if(v){v=f.fallback,b=o.mode,m=i.child,V=m.sibling;var j={mode:"hidden",children:f.children};return!(b&1)&&o.child!==m?(f=o.child,f.childLanes=0,f.pendingProps=j,o.deletions=null):(f=Wi(m,j),f.subtreeFlags=m.subtreeFlags&14680064),V!==null?v=Wi(V,v):(v=Gs(v,b,u,null),v.flags|=2),v.return=o,f.return=o,f.sibling=v,o.child=f,f=v,v=o.child,b=i.child.memoizedState,b=b===null?Kf(u):{baseLanes:b.baseLanes|u,cachePool:null,transitions:b.transitions},v.memoizedState=b,v.childLanes=i.childLanes&~u,o.memoizedState=qf,f}return v=i.child,i=v.sibling,f=Wi(v,{mode:"visible",children:f.children}),!(o.mode&1)&&(f.lanes=u),f.return=o,f.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=f,o.memoizedState=null,f}function Gf(i,o){return o=Yc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function Mc(i,o,u,f){return f!==null&&xf(f),ea(o,i.child,null,u),i=Gf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function FI(i,o,u,f,m,v,b){if(u)return o.flags&256?(o.flags&=-257,f=Bf(Error(n(422))),Mc(i,o,b,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(v=f.fallback,m=o.mode,f=Yc({mode:"visible",children:f.children},m,0,null),v=Gs(v,m,b,null),v.flags|=2,f.return=o,v.return=o,f.sibling=v,o.child=f,o.mode&1&&ea(o,i.child,null,b),o.child.memoizedState=Kf(b),o.memoizedState=qf,v);if(!(o.mode&1))return Mc(i,o,b,null);if(m.data==="$!"){if(f=m.nextSibling&&m.nextSibling.dataset,f)var V=f.dgst;return f=V,v=Error(n(419)),f=Bf(v,f,void 0),Mc(i,o,b,f)}if(V=(b&i.childLanes)!==0,fn||V){if(f=Nt,f!==null){switch(b&-b){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(f.suspendedLanes|b)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,ii(i,m),lr(f,i,m,-1))}return cp(),f=Bf(Error(n(421))),Mc(i,o,b,f)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=JI.bind(null,i),m._reactRetry=o,null):(i=v.treeContext,Sn=Di(m.nextSibling),bn=o,et=!0,ir=null,i!==null&&(Ln[On++]=ni,Ln[On++]=ri,Ln[On++]=Fs,ni=i.id,ri=i.overflow,Fs=o),o=Gf(o,f.children),o.flags|=4096,o)}function vv(i,o,u){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),Sf(i.return,o,u)}function Qf(i,o,u,f,m){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=f,v.tail=u,v.tailMode=m)}function _v(i,o,u){var f=o.pendingProps,m=f.revealOrder,v=f.tail;if(sn(i,o,f.children,u),f=nt.current,f&2)f=f&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&vv(i,u,o);else if(i.tag===19)vv(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Qe(nt,f),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Rc(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),Qf(o,!1,m,u,v);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Rc(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}Qf(o,!0,u,null,v);break;case"together":Qf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function jc(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function oi(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ws|=o.lanes,!(u&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,u=Wi(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Wi(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function UI(i,o,u){switch(o.tag){case 3:mv(o),Zo();break;case 5:D0(o);break;case 1:hn(o.type)&&wc(o);break;case 4:Af(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,m=o.memoizedProps.value;Qe(Cc,f._currentValue),f._currentValue=m;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Qe(nt,nt.current&1),o.flags|=128,null):u&o.child.childLanes?yv(i,o,u):(Qe(nt,nt.current&1),i=oi(i,o,u),i!==null?i.sibling:null);Qe(nt,nt.current&1);break;case 19:if(f=(u&o.childLanes)!==0,i.flags&128){if(f)return _v(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Qe(nt,nt.current),f)break;return null;case 22:case 23:return o.lanes=0,hv(i,o,u)}return oi(i,o,u)}var wv,Yf,xv,Ev;wv=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Yf=function(){},xv=function(i,o,u,f){var m=i.memoizedProps;if(m!==f){i=o.stateNode,Bs(br.current);var v=null;switch(u){case"input":m=Kn(i,m),f=Kn(i,f),v=[];break;case"select":m=he({},m,{value:void 0}),f=he({},f,{value:void 0}),v=[];break;case"textarea":m=qa(i,m),f=qa(i,f),v=[];break;default:typeof m.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=yc)}Ja(u,f);var b;u=null;for(G in m)if(!f.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var V=m[G];for(b in V)V.hasOwnProperty(b)&&(u||(u={}),u[b]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(s.hasOwnProperty(G)?v||(v=[]):(v=v||[]).push(G,null));for(G in f){var j=f[G];if(V=m!=null?m[G]:void 0,f.hasOwnProperty(G)&&j!==V&&(j!=null||V!=null))if(G==="style")if(V){for(b in V)!V.hasOwnProperty(b)||j&&j.hasOwnProperty(b)||(u||(u={}),u[b]="");for(b in j)j.hasOwnProperty(b)&&V[b]!==j[b]&&(u||(u={}),u[b]=j[b])}else u||(v||(v=[]),v.push(G,u)),u=j;else G==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,V=V?V.__html:void 0,j!=null&&V!==j&&(v=v||[]).push(G,j)):G==="children"?typeof j!="string"&&typeof j!="number"||(v=v||[]).push(G,""+j):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(s.hasOwnProperty(G)?(j!=null&&G==="onScroll"&&Xe("scroll",i),v||V===j||(v=[])):(v=v||[]).push(G,j))}u&&(v=v||[]).push("style",u);var G=v;(o.updateQueue=G)&&(o.flags|=4)}},Ev=function(i,o,u,f){u!==f&&(o.flags|=4)};function Nl(i,o){if(!et)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Gt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags&14680064,f|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=u,o}function $I(i,o,u){var f=o.pendingProps;switch(vf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(o),null;case 1:return hn(o.type)&&_c(),Gt(o),null;case 3:return f=o.stateNode,ra(),Je(dn),Je(qt),kf(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(bc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,ir!==null&&(ap(ir),ir=null))),Yf(i,o),Gt(o),null;case 5:Pf(o);var m=Bs(Il.current);if(u=o.type,i!==null&&o.stateNode!=null)xv(i,o,u,f,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(n(166));return Gt(o),null}if(i=Bs(br.current),bc(o)){f=o.stateNode,u=o.type;var v=o.memoizedProps;switch(f[Tr]=o,f[El]=v,i=(o.mode&1)!==0,u){case"dialog":Xe("cancel",f),Xe("close",f);break;case"iframe":case"object":case"embed":Xe("load",f);break;case"video":case"audio":for(m=0;m<_l.length;m++)Xe(_l[m],f);break;case"source":Xe("error",f);break;case"img":case"image":case"link":Xe("error",f),Xe("load",f);break;case"details":Xe("toggle",f);break;case"input":zr(f,v),Xe("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!v.multiple},Xe("invalid",f);break;case"textarea":wo(f,v),Xe("invalid",f)}Ja(u,v),m=null;for(var b in v)if(v.hasOwnProperty(b)){var V=v[b];b==="children"?typeof V=="string"?f.textContent!==V&&(v.suppressHydrationWarning!==!0&&gc(f.textContent,V,i),m=["children",V]):typeof V=="number"&&f.textContent!==""+V&&(v.suppressHydrationWarning!==!0&&gc(f.textContent,V,i),m=["children",""+V]):s.hasOwnProperty(b)&&V!=null&&b==="onScroll"&&Xe("scroll",f)}switch(u){case"input":Rn(f),Bu(f,v,!0);break;case"textarea":Rn(f),Ka(f);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(f.onclick=yc)}f=m,o.updateQueue=f,f!==null&&(o.flags|=4)}else{b=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=xt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=b.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=b.createElement(u,{is:f.is}):(i=b.createElement(u),u==="select"&&(b=i,f.multiple?b.multiple=!0:f.size&&(b.size=f.size))):i=b.createElementNS(i,u),i[Tr]=o,i[El]=f,wv(i,o,!1,!1),o.stateNode=i;e:{switch(b=Za(u,f),u){case"dialog":Xe("cancel",i),Xe("close",i),m=f;break;case"iframe":case"object":case"embed":Xe("load",i),m=f;break;case"video":case"audio":for(m=0;m<_l.length;m++)Xe(_l[m],i);m=f;break;case"source":Xe("error",i),m=f;break;case"img":case"image":case"link":Xe("error",i),Xe("load",i),m=f;break;case"details":Xe("toggle",i),m=f;break;case"input":zr(i,f),m=Kn(i,f),Xe("invalid",i);break;case"option":m=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},m=he({},f,{value:void 0}),Xe("invalid",i);break;case"textarea":wo(i,f),m=qa(i,f),Xe("invalid",i);break;default:m=f}Ja(u,m),V=m;for(v in V)if(V.hasOwnProperty(v)){var j=V[v];v==="style"?Ya(i,j):v==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&Ga(i,j)):v==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&Ei(i,j):typeof j=="number"&&Ei(i,""+j):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?j!=null&&v==="onScroll"&&Xe("scroll",i):j!=null&&B(i,v,j,b))}switch(u){case"input":Rn(i),Bu(i,f,!1);break;case"textarea":Rn(i),Ka(i);break;case"option":f.value!=null&&i.setAttribute("value",""+Te(f.value));break;case"select":i.multiple=!!f.multiple,v=f.value,v!=null?qr(i,!!f.multiple,v,!1):f.defaultValue!=null&&qr(i,!!f.multiple,f.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=yc)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Gt(o),null;case 6:if(i&&o.stateNode!=null)Ev(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(n(166));if(u=Bs(Il.current),Bs(br.current),bc(o)){if(f=o.stateNode,u=o.memoizedProps,f[Tr]=o,(v=f.nodeValue!==u)&&(i=bn,i!==null))switch(i.tag){case 3:gc(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&gc(f.nodeValue,u,(i.mode&1)!==0)}v&&(o.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Tr]=o,o.stateNode=f}return Gt(o),null;case 13:if(Je(nt),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(et&&Sn!==null&&o.mode&1&&!(o.flags&128))S0(),Zo(),o.flags|=98560,v=!1;else if(v=bc(o),f!==null&&f.dehydrated!==null){if(i===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Tr]=o}else Zo(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Gt(o),v=!1}else ir!==null&&(ap(ir),ir=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=u,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,o.mode&1&&(i===null||nt.current&1?St===0&&(St=3):cp())),o.updateQueue!==null&&(o.flags|=4),Gt(o),null);case 4:return ra(),Yf(i,o),i===null&&wl(o.stateNode.containerInfo),Gt(o),null;case 10:return bf(o.type._context),Gt(o),null;case 17:return hn(o.type)&&_c(),Gt(o),null;case 19:if(Je(nt),v=o.memoizedState,v===null)return Gt(o),null;if(f=(o.flags&128)!==0,b=v.rendering,b===null)if(f)Nl(v,!1);else{if(St!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(b=Rc(i),b!==null){for(o.flags|=128,Nl(v,!1),f=b.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=u,u=o.child;u!==null;)v=u,i=f,v.flags&=14680066,b=v.alternate,b===null?(v.childLanes=0,v.lanes=i,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=b.childLanes,v.lanes=b.lanes,v.child=b.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=b.memoizedProps,v.memoizedState=b.memoizedState,v.updateQueue=b.updateQueue,v.type=b.type,i=b.dependencies,v.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return Qe(nt,nt.current&1|2),o.child}i=i.sibling}v.tail!==null&&Ge()>aa&&(o.flags|=128,f=!0,Nl(v,!1),o.lanes=4194304)}else{if(!f)if(i=Rc(b),i!==null){if(o.flags|=128,f=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),Nl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!et)return Gt(o),null}else 2*Ge()-v.renderingStartTime>aa&&u!==1073741824&&(o.flags|=128,f=!0,Nl(v,!1),o.lanes=4194304);v.isBackwards?(b.sibling=o.child,o.child=b):(u=v.last,u!==null?u.sibling=b:o.child=b,v.last=b)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Ge(),o.sibling=null,u=nt.current,Qe(nt,f?u&1|2:u&1),o):(Gt(o),null);case 22:case 23:return up(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&o.mode&1?Cn&1073741824&&(Gt(o),o.subtreeFlags&6&&(o.flags|=8192)):Gt(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function BI(i,o){switch(vf(o),o.tag){case 1:return hn(o.type)&&_c(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return ra(),Je(dn),Je(qt),kf(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Pf(o),null;case 13:if(Je(nt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Zo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Je(nt),null;case 4:return ra(),null;case 10:return bf(o.type._context),null;case 22:case 23:return up(),null;case 24:return null;default:return null}}var Fc=!1,Qt=!1,zI=typeof WeakSet=="function"?WeakSet:Set,ge=null;function sa(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){at(i,o,f)}else u.current=null}function Xf(i,o,u){try{u()}catch(f){at(i,o,f)}}var Tv=!1;function WI(i,o){if(uf=Ri,i=t0(),ef(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{u.nodeType,v.nodeType}catch{u=null;break e}var b=0,V=-1,j=-1,G=0,re=0,ae=i,ne=null;t:for(;;){for(var pe;ae!==u||m!==0&&ae.nodeType!==3||(V=b+m),ae!==v||f!==0&&ae.nodeType!==3||(j=b+f),ae.nodeType===3&&(b+=ae.nodeValue.length),(pe=ae.firstChild)!==null;)ne=ae,ae=pe;for(;;){if(ae===i)break t;if(ne===u&&++G===m&&(V=b),ne===v&&++re===f&&(j=b),(pe=ae.nextSibling)!==null)break;ae=ne,ne=ae.parentNode}ae=pe}u=V===-1||j===-1?null:{start:V,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(cf={focusedElem:i,selectionRange:u},Ri=!1,ge=o;ge!==null;)if(o=ge,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ge=i;else for(;ge!==null;){o=ge;try{var ye=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(ye!==null){var ve=ye.memoizedProps,pt=ye.memoizedState,H=o.stateNode,F=H.getSnapshotBeforeUpdate(o.elementType===o.type?ve:sr(o.type,ve),pt);H.__reactInternalSnapshotBeforeUpdate=F}break;case 3:var K=o.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(ue){at(o,o.return,ue)}if(i=o.sibling,i!==null){i.return=o.return,ge=i;break}ge=o.return}return ye=Tv,Tv=!1,ye}function Dl(i,o,u){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var m=f=f.next;do{if((m.tag&i)===i){var v=m.destroy;m.destroy=void 0,v!==void 0&&Xf(o,u,v)}m=m.next}while(m!==f)}}function Uc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==o)}}function Jf(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function bv(i){var o=i.alternate;o!==null&&(i.alternate=null,bv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Tr],delete o[El],delete o[pf],delete o[CI],delete o[II])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Sv(i){return i.tag===5||i.tag===3||i.tag===4}function Cv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Sv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Zf(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=yc));else if(f!==4&&(i=i.child,i!==null))for(Zf(i,o,u),i=i.sibling;i!==null;)Zf(i,o,u),i=i.sibling}function ep(i,o,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(ep(i,o,u),i=i.sibling;i!==null;)ep(i,o,u),i=i.sibling}var jt=null,or=!1;function Fi(i,o,u){for(u=u.child;u!==null;)Iv(i,o,u),u=u.sibling}function Iv(i,o,u){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(Rs,u)}catch{}switch(u.tag){case 5:Qt||sa(u,o);case 6:var f=jt,m=or;jt=null,Fi(i,o,u),jt=f,or=m,jt!==null&&(or?(i=jt,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):jt.removeChild(u.stateNode));break;case 18:jt!==null&&(or?(i=jt,u=u.stateNode,i.nodeType===8?ff(i.parentNode,u):i.nodeType===1&&ff(i,u),tr(i)):ff(jt,u.stateNode));break;case 4:f=jt,m=or,jt=u.stateNode.containerInfo,or=!0,Fi(i,o,u),jt=f,or=m;break;case 0:case 11:case 14:case 15:if(!Qt&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){m=f=f.next;do{var v=m,b=v.destroy;v=v.tag,b!==void 0&&(v&2||v&4)&&Xf(u,o,b),m=m.next}while(m!==f)}Fi(i,o,u);break;case 1:if(!Qt&&(sa(u,o),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(V){at(u,o,V)}Fi(i,o,u);break;case 21:Fi(i,o,u);break;case 22:u.mode&1?(Qt=(f=Qt)||u.memoizedState!==null,Fi(i,o,u),Qt=f):Fi(i,o,u);break;default:Fi(i,o,u)}}function Av(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new zI),o.forEach(function(f){var m=ZI.bind(null,i,f);u.has(f)||(u.add(f),f.then(m,m))})}}function ar(i,o){var u=o.deletions;if(u!==null)for(var f=0;f<u.length;f++){var m=u[f];try{var v=i,b=o,V=b;e:for(;V!==null;){switch(V.tag){case 5:jt=V.stateNode,or=!1;break e;case 3:jt=V.stateNode.containerInfo,or=!0;break e;case 4:jt=V.stateNode.containerInfo,or=!0;break e}V=V.return}if(jt===null)throw Error(n(160));Iv(v,b,m),jt=null,or=!1;var j=m.alternate;j!==null&&(j.return=null),m.return=null}catch(G){at(m,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Pv(o,i),o=o.sibling}function Pv(i,o){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ar(o,i),Cr(i),f&4){try{Dl(3,i,i.return),Uc(3,i)}catch(ve){at(i,i.return,ve)}try{Dl(5,i,i.return)}catch(ve){at(i,i.return,ve)}}break;case 1:ar(o,i),Cr(i),f&512&&u!==null&&sa(u,u.return);break;case 5:if(ar(o,i),Cr(i),f&512&&u!==null&&sa(u,u.return),i.flags&32){var m=i.stateNode;try{Ei(m,"")}catch(ve){at(i,i.return,ve)}}if(f&4&&(m=i.stateNode,m!=null)){var v=i.memoizedProps,b=u!==null?u.memoizedProps:v,V=i.type,j=i.updateQueue;if(i.updateQueue=null,j!==null)try{V==="input"&&v.type==="radio"&&v.name!=null&&Pt(m,v),Za(V,b);var G=Za(V,v);for(b=0;b<j.length;b+=2){var re=j[b],ae=j[b+1];re==="style"?Ya(m,ae):re==="dangerouslySetInnerHTML"?Ga(m,ae):re==="children"?Ei(m,ae):B(m,re,ae,G)}switch(V){case"input":Wr(m,v);break;case"textarea":xo(m,v);break;case"select":var ne=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var pe=v.value;pe!=null?qr(m,!!v.multiple,pe,!1):ne!==!!v.multiple&&(v.defaultValue!=null?qr(m,!!v.multiple,v.defaultValue,!0):qr(m,!!v.multiple,v.multiple?[]:"",!1))}m[El]=v}catch(ve){at(i,i.return,ve)}}break;case 6:if(ar(o,i),Cr(i),f&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,v=i.memoizedProps;try{m.nodeValue=v}catch(ve){at(i,i.return,ve)}}break;case 3:if(ar(o,i),Cr(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{tr(o.containerInfo)}catch(ve){at(i,i.return,ve)}break;case 4:ar(o,i),Cr(i);break;case 13:ar(o,i),Cr(i),m=i.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(rp=Ge())),f&4&&Av(i);break;case 22:if(re=u!==null&&u.memoizedState!==null,i.mode&1?(Qt=(G=Qt)||re,ar(o,i),Qt=G):ar(o,i),Cr(i),f&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!re&&i.mode&1)for(ge=i,re=i.child;re!==null;){for(ae=ge=re;ge!==null;){switch(ne=ge,pe=ne.child,ne.tag){case 0:case 11:case 14:case 15:Dl(4,ne,ne.return);break;case 1:sa(ne,ne.return);var ye=ne.stateNode;if(typeof ye.componentWillUnmount=="function"){f=ne,u=ne.return;try{o=f,ye.props=o.memoizedProps,ye.state=o.memoizedState,ye.componentWillUnmount()}catch(ve){at(f,u,ve)}}break;case 5:sa(ne,ne.return);break;case 22:if(ne.memoizedState!==null){Nv(ae);continue}}pe!==null?(pe.return=ne,ge=pe):Nv(ae)}re=re.sibling}e:for(re=null,ae=i;;){if(ae.tag===5){if(re===null){re=ae;try{m=ae.stateNode,G?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(V=ae.stateNode,j=ae.memoizedProps.style,b=j!=null&&j.hasOwnProperty("display")?j.display:null,V.style.display=Qa("display",b))}catch(ve){at(i,i.return,ve)}}}else if(ae.tag===6){if(re===null)try{ae.stateNode.nodeValue=G?"":ae.memoizedProps}catch(ve){at(i,i.return,ve)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;re===ae&&(re=null),ae=ae.return}re===ae&&(re=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:ar(o,i),Cr(i),f&4&&Av(i);break;case 21:break;default:ar(o,i),Cr(i)}}function Cr(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Sv(u)){var f=u;break e}u=u.return}throw Error(n(160))}switch(f.tag){case 5:var m=f.stateNode;f.flags&32&&(Ei(m,""),f.flags&=-33);var v=Cv(i);ep(i,v,m);break;case 3:case 4:var b=f.stateNode.containerInfo,V=Cv(i);Zf(i,V,b);break;default:throw Error(n(161))}}catch(j){at(i,i.return,j)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function HI(i,o,u){ge=i,Rv(i)}function Rv(i,o,u){for(var f=(i.mode&1)!==0;ge!==null;){var m=ge,v=m.child;if(m.tag===22&&f){var b=m.memoizedState!==null||Fc;if(!b){var V=m.alternate,j=V!==null&&V.memoizedState!==null||Qt;V=Fc;var G=Qt;if(Fc=b,(Qt=j)&&!G)for(ge=m;ge!==null;)b=ge,j=b.child,b.tag===22&&b.memoizedState!==null?Dv(m):j!==null?(j.return=b,ge=j):Dv(m);for(;v!==null;)ge=v,Rv(v),v=v.sibling;ge=m,Fc=V,Qt=G}kv(i)}else m.subtreeFlags&8772&&v!==null?(v.return=m,ge=v):kv(i)}}function kv(i){for(;ge!==null;){var o=ge;if(o.flags&8772){var u=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:Qt||Uc(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!Qt)if(u===null)f.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:sr(o.type,u.memoizedProps);f.componentDidUpdate(m,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&N0(o,v,f);break;case 3:var b=o.updateQueue;if(b!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}N0(o,b,u)}break;case 5:var V=o.stateNode;if(u===null&&o.flags&4){u=V;var j=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var re=G.memoizedState;if(re!==null){var ae=re.dehydrated;ae!==null&&tr(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Qt||o.flags&512&&Jf(o)}catch(ne){at(o,o.return,ne)}}if(o===i){ge=null;break}if(u=o.sibling,u!==null){u.return=o.return,ge=u;break}ge=o.return}}function Nv(i){for(;ge!==null;){var o=ge;if(o===i){ge=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ge=u;break}ge=o.return}}function Dv(i){for(;ge!==null;){var o=ge;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{Uc(4,o)}catch(j){at(o,u,j)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var m=o.return;try{f.componentDidMount()}catch(j){at(o,m,j)}}var v=o.return;try{Jf(o)}catch(j){at(o,v,j)}break;case 5:var b=o.return;try{Jf(o)}catch(j){at(o,b,j)}}}catch(j){at(o,o.return,j)}if(o===i){ge=null;break}var V=o.sibling;if(V!==null){V.return=o.return,ge=V;break}ge=o.return}}var qI=Math.ceil,$c=Y.ReactCurrentDispatcher,tp=Y.ReactCurrentOwner,Fn=Y.ReactCurrentBatchConfig,ze=0,Nt=null,_t=null,Ft=0,Cn=0,oa=Vi(0),St=0,Vl=null,Ws=0,Bc=0,np=0,Ll=null,pn=null,rp=0,aa=1/0,ai=null,zc=!1,ip=null,Ui=null,Wc=!1,$i=null,Hc=0,Ol=0,sp=null,qc=-1,Kc=0;function on(){return ze&6?Ge():qc!==-1?qc:qc=Ge()}function Bi(i){return i.mode&1?ze&2&&Ft!==0?Ft&-Ft:PI.transition!==null?(Kc===0&&(Kc=Ns()),Kc):(i=Ue,i!==0||(i=window.event,i=i===void 0?16:cl(i.type)),i):1}function lr(i,o,u,f){if(50<Ol)throw Ol=0,sp=null,Error(n(185));Ci(i,u,f),(!(ze&2)||i!==Nt)&&(i===Nt&&(!(ze&2)&&(Bc|=u),St===4&&zi(i,Ft)),mn(i,f),u===1&&ze===0&&!(o.mode&1)&&(aa=Ge()+500,xc&&Oi()))}function mn(i,o){var u=i.callbackNode;Qr(i,o);var f=ks(i,i===Nt?Ft:0);if(f===0)u!==null&&sl(u),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(u!=null&&sl(u),o===1)i.tag===0?AI(Lv.bind(null,i)):w0(Lv.bind(null,i)),bI(function(){!(ze&6)&&Oi()}),u=null;else{switch(Ai(f)){case 1:u=Ps;break;case 4:u=Ti;break;case 16:u=Nn;break;case 536870912:u=Ku;break;default:u=Nn}u=zv(u,Vv.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function Vv(i,o){if(qc=-1,Kc=0,ze&6)throw Error(n(327));var u=i.callbackNode;if(la()&&i.callbackNode!==u)return null;var f=ks(i,i===Nt?Ft:0);if(f===0)return null;if(f&30||f&i.expiredLanes||o)o=Gc(i,f);else{o=f;var m=ze;ze|=2;var v=Mv();(Nt!==i||Ft!==o)&&(ai=null,aa=Ge()+500,qs(i,o));do try{QI();break}catch(V){Ov(i,V)}while(!0);Tf(),$c.current=v,ze=m,_t!==null?o=0:(Nt=null,Ft=0,o=St)}if(o!==0){if(o===2&&(m=xn(i),m!==0&&(f=m,o=op(i,m))),o===1)throw u=Vl,qs(i,0),zi(i,f),mn(i,Ge()),u;if(o===6)zi(i,f);else{if(m=i.current.alternate,!(f&30)&&!KI(m)&&(o=Gc(i,f),o===2&&(v=xn(i),v!==0&&(f=v,o=op(i,v))),o===1))throw u=Vl,qs(i,0),zi(i,f),mn(i,Ge()),u;switch(i.finishedWork=m,i.finishedLanes=f,o){case 0:case 1:throw Error(n(345));case 2:Ks(i,pn,ai);break;case 3:if(zi(i,f),(f&130023424)===f&&(o=rp+500-Ge(),10<o)){if(ks(i,0)!==0)break;if(m=i.suspendedLanes,(m&f)!==f){on(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=hf(Ks.bind(null,i,pn,ai),o);break}Ks(i,pn,ai);break;case 4:if(zi(i,f),(f&4194240)===f)break;for(o=i.eventTimes,m=-1;0<f;){var b=31-nn(f);v=1<<b,b=o[b],b>m&&(m=b),f&=~v}if(f=m,f=Ge()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*qI(f/1960))-f,10<f){i.timeoutHandle=hf(Ks.bind(null,i,pn,ai),f);break}Ks(i,pn,ai);break;case 5:Ks(i,pn,ai);break;default:throw Error(n(329))}}}return mn(i,Ge()),i.callbackNode===u?Vv.bind(null,i):null}function op(i,o){var u=Ll;return i.current.memoizedState.isDehydrated&&(qs(i,o).flags|=256),i=Gc(i,o),i!==2&&(o=pn,pn=u,o!==null&&ap(o)),i}function ap(i){pn===null?pn=i:pn.push.apply(pn,i)}function KI(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var m=u[f],v=m.getSnapshot;m=m.value;try{if(!rr(v(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function zi(i,o){for(o&=~np,o&=~Bc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-nn(o),f=1<<u;i[u]=-1,o&=~f}}function Lv(i){if(ze&6)throw Error(n(327));la();var o=ks(i,0);if(!(o&1))return mn(i,Ge()),null;var u=Gc(i,o);if(i.tag!==0&&u===2){var f=xn(i);f!==0&&(o=f,u=op(i,f))}if(u===1)throw u=Vl,qs(i,0),zi(i,o),mn(i,Ge()),u;if(u===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ks(i,pn,ai),mn(i,Ge()),null}function lp(i,o){var u=ze;ze|=1;try{return i(o)}finally{ze=u,ze===0&&(aa=Ge()+500,xc&&Oi())}}function Hs(i){$i!==null&&$i.tag===0&&!(ze&6)&&la();var o=ze;ze|=1;var u=Fn.transition,f=Ue;try{if(Fn.transition=null,Ue=1,i)return i()}finally{Ue=f,Fn.transition=u,ze=o,!(ze&6)&&Oi()}}function up(){Cn=oa.current,Je(oa)}function qs(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,TI(u)),_t!==null)for(u=_t.return;u!==null;){var f=u;switch(vf(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&_c();break;case 3:ra(),Je(dn),Je(qt),kf();break;case 5:Pf(f);break;case 4:ra();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:bf(f.type._context);break;case 22:case 23:up()}u=u.return}if(Nt=i,_t=i=Wi(i.current,null),Ft=Cn=o,St=0,Vl=null,np=Bc=Ws=0,pn=Ll=null,$s!==null){for(o=0;o<$s.length;o++)if(u=$s[o],f=u.interleaved,f!==null){u.interleaved=null;var m=f.next,v=u.pending;if(v!==null){var b=v.next;v.next=m,f.next=b}u.pending=f}$s=null}return i}function Ov(i,o){do{var u=_t;try{if(Tf(),kc.current=Lc,Nc){for(var f=rt.memoizedState;f!==null;){var m=f.queue;m!==null&&(m.pending=null),f=f.next}Nc=!1}if(zs=0,kt=bt=rt=null,Al=!1,Pl=0,tp.current=null,u===null||u.return===null){St=1,Vl=o,_t=null;break}e:{var v=i,b=u.return,V=u,j=o;if(o=Ft,V.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var G=j,re=V,ae=re.tag;if(!(re.mode&1)&&(ae===0||ae===11||ae===15)){var ne=re.alternate;ne?(re.updateQueue=ne.updateQueue,re.memoizedState=ne.memoizedState,re.lanes=ne.lanes):(re.updateQueue=null,re.memoizedState=null)}var pe=av(b);if(pe!==null){pe.flags&=-257,lv(pe,b,V,v,o),pe.mode&1&&ov(v,G,o),o=pe,j=G;var ye=o.updateQueue;if(ye===null){var ve=new Set;ve.add(j),o.updateQueue=ve}else ye.add(j);break e}else{if(!(o&1)){ov(v,G,o),cp();break e}j=Error(n(426))}}else if(et&&V.mode&1){var pt=av(b);if(pt!==null){!(pt.flags&65536)&&(pt.flags|=256),lv(pt,b,V,v,o),xf(ia(j,V));break e}}v=j=ia(j,V),St!==4&&(St=2),Ll===null?Ll=[v]:Ll.push(v),v=b;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var H=iv(v,j,o);k0(v,H);break e;case 1:V=j;var F=v.type,K=v.stateNode;if(!(v.flags&128)&&(typeof F.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(Ui===null||!Ui.has(K)))){v.flags|=65536,o&=-o,v.lanes|=o;var ue=sv(v,V,o);k0(v,ue);break e}}v=v.return}while(v!==null)}Fv(u)}catch(we){o=we,_t===u&&u!==null&&(_t=u=u.return);continue}break}while(!0)}function Mv(){var i=$c.current;return $c.current=Lc,i===null?Lc:i}function cp(){(St===0||St===3||St===2)&&(St=4),Nt===null||!(Ws&268435455)&&!(Bc&268435455)||zi(Nt,Ft)}function Gc(i,o){var u=ze;ze|=2;var f=Mv();(Nt!==i||Ft!==o)&&(ai=null,qs(i,o));do try{GI();break}catch(m){Ov(i,m)}while(!0);if(Tf(),ze=u,$c.current=f,_t!==null)throw Error(n(261));return Nt=null,Ft=0,St}function GI(){for(;_t!==null;)jv(_t)}function QI(){for(;_t!==null&&!Hu();)jv(_t)}function jv(i){var o=Bv(i.alternate,i,Cn);i.memoizedProps=i.pendingProps,o===null?Fv(i):_t=o,tp.current=null}function Fv(i){var o=i;do{var u=o.alternate;if(i=o.return,o.flags&32768){if(u=BI(u,o),u!==null){u.flags&=32767,_t=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{St=6,_t=null;return}}else if(u=$I(u,o,Cn),u!==null){_t=u;return}if(o=o.sibling,o!==null){_t=o;return}_t=o=i}while(o!==null);St===0&&(St=5)}function Ks(i,o,u){var f=Ue,m=Fn.transition;try{Fn.transition=null,Ue=1,YI(i,o,u,f)}finally{Fn.transition=m,Ue=f}return null}function YI(i,o,u,f){do la();while($i!==null);if(ze&6)throw Error(n(327));u=i.finishedWork;var m=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(Ke(i,v),i===Nt&&(_t=Nt=null,Ft=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Wc||(Wc=!0,zv(Nn,function(){return la(),null})),v=(u.flags&15990)!==0,u.subtreeFlags&15990||v){v=Fn.transition,Fn.transition=null;var b=Ue;Ue=1;var V=ze;ze|=4,tp.current=null,WI(i,u),Pv(u,i),gI(cf),Ri=!!uf,cf=uf=null,i.current=u,HI(u),qh(),ze=V,Ue=b,Fn.transition=v}else i.current=u;if(Wc&&(Wc=!1,$i=i,Hc=m),v=i.pendingLanes,v===0&&(Ui=null),Gu(u.stateNode),mn(i,Ge()),o!==null)for(f=i.onRecoverableError,u=0;u<o.length;u++)m=o[u],f(m.value,{componentStack:m.stack,digest:m.digest});if(zc)throw zc=!1,i=ip,ip=null,i;return Hc&1&&i.tag!==0&&la(),v=i.pendingLanes,v&1?i===sp?Ol++:(Ol=0,sp=i):Ol=0,Oi(),null}function la(){if($i!==null){var i=Ai(Hc),o=Fn.transition,u=Ue;try{if(Fn.transition=null,Ue=16>i?16:i,$i===null)var f=!1;else{if(i=$i,$i=null,Hc=0,ze&6)throw Error(n(331));var m=ze;for(ze|=4,ge=i.current;ge!==null;){var v=ge,b=v.child;if(ge.flags&16){var V=v.deletions;if(V!==null){for(var j=0;j<V.length;j++){var G=V[j];for(ge=G;ge!==null;){var re=ge;switch(re.tag){case 0:case 11:case 15:Dl(8,re,v)}var ae=re.child;if(ae!==null)ae.return=re,ge=ae;else for(;ge!==null;){re=ge;var ne=re.sibling,pe=re.return;if(bv(re),re===G){ge=null;break}if(ne!==null){ne.return=pe,ge=ne;break}ge=pe}}}var ye=v.alternate;if(ye!==null){var ve=ye.child;if(ve!==null){ye.child=null;do{var pt=ve.sibling;ve.sibling=null,ve=pt}while(ve!==null)}}ge=v}}if(v.subtreeFlags&2064&&b!==null)b.return=v,ge=b;else e:for(;ge!==null;){if(v=ge,v.flags&2048)switch(v.tag){case 0:case 11:case 15:Dl(9,v,v.return)}var H=v.sibling;if(H!==null){H.return=v.return,ge=H;break e}ge=v.return}}var F=i.current;for(ge=F;ge!==null;){b=ge;var K=b.child;if(b.subtreeFlags&2064&&K!==null)K.return=b,ge=K;else e:for(b=F;ge!==null;){if(V=ge,V.flags&2048)try{switch(V.tag){case 0:case 11:case 15:Uc(9,V)}}catch(we){at(V,V.return,we)}if(V===b){ge=null;break e}var ue=V.sibling;if(ue!==null){ue.return=V.return,ge=ue;break e}ge=V.return}}if(ze=m,Oi(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(Rs,i)}catch{}f=!0}return f}finally{Ue=u,Fn.transition=o}}return!1}function Uv(i,o,u){o=ia(u,o),o=iv(i,o,1),i=ji(i,o,1),o=on(),i!==null&&(Ci(i,1,o),mn(i,o))}function at(i,o,u){if(i.tag===3)Uv(i,i,u);else for(;o!==null;){if(o.tag===3){Uv(o,i,u);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ui===null||!Ui.has(f))){i=ia(u,i),i=sv(o,i,1),o=ji(o,i,1),i=on(),o!==null&&(Ci(o,1,i),mn(o,i));break}}o=o.return}}function XI(i,o,u){var f=i.pingCache;f!==null&&f.delete(o),o=on(),i.pingedLanes|=i.suspendedLanes&u,Nt===i&&(Ft&u)===u&&(St===4||St===3&&(Ft&130023424)===Ft&&500>Ge()-rp?qs(i,0):np|=u),mn(i,o)}function $v(i,o){o===0&&(i.mode&1?(o=ko,ko<<=1,!(ko&130023424)&&(ko=4194304)):o=1);var u=on();i=ii(i,o),i!==null&&(Ci(i,o,u),mn(i,u))}function JI(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),$v(i,u)}function ZI(i,o){var u=0;switch(i.tag){case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(n(314))}f!==null&&f.delete(o),$v(i,u)}var Bv;Bv=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||dn.current)fn=!0;else{if(!(i.lanes&u)&&!(o.flags&128))return fn=!1,UI(i,o,u);fn=!!(i.flags&131072)}else fn=!1,et&&o.flags&1048576&&x0(o,Tc,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;jc(i,o),i=o.pendingProps;var m=Yo(o,qt.current);na(o,u),m=Vf(null,o,f,i,m,u);var v=Lf();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,hn(f)?(v=!0,wc(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,If(o),m.updater=Oc,o.stateNode=m,m._reactInternals=o,$f(o,f,i,u),o=Hf(null,o,f,!0,v,u)):(o.tag=0,et&&v&&yf(o),sn(null,o,m,u),o=o.child),o;case 16:f=o.elementType;e:{switch(jc(i,o),i=o.pendingProps,m=f._init,f=m(f._payload),o.type=f,m=o.tag=tA(f),i=sr(f,i),m){case 0:o=Wf(null,o,f,i,u);break e;case 1:o=pv(null,o,f,i,u);break e;case 11:o=uv(null,o,f,i,u);break e;case 14:o=cv(null,o,f,sr(f.type,i),u);break e}throw Error(n(306,f,""))}return o;case 0:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:sr(f,m),Wf(i,o,f,m,u);case 1:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:sr(f,m),pv(i,o,f,m,u);case 3:e:{if(mv(o),i===null)throw Error(n(387));f=o.pendingProps,v=o.memoizedState,m=v.element,R0(i,o),Pc(o,f,null,u);var b=o.memoizedState;if(f=b.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=ia(Error(n(423)),o),o=gv(i,o,f,u,m);break e}else if(f!==m){m=ia(Error(n(424)),o),o=gv(i,o,f,u,m);break e}else for(Sn=Di(o.stateNode.containerInfo.firstChild),bn=o,et=!0,ir=null,u=A0(o,null,f,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Zo(),f===m){o=oi(i,o,u);break e}sn(i,o,f,u)}o=o.child}return o;case 5:return D0(o),i===null&&wf(o),f=o.type,m=o.pendingProps,v=i!==null?i.memoizedProps:null,b=m.children,df(f,m)?b=null:v!==null&&df(f,v)&&(o.flags|=32),fv(i,o),sn(i,o,b,u),o.child;case 6:return i===null&&wf(o),null;case 13:return yv(i,o,u);case 4:return Af(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=ea(o,null,f,u):sn(i,o,f,u),o.child;case 11:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:sr(f,m),uv(i,o,f,m,u);case 7:return sn(i,o,o.pendingProps,u),o.child;case 8:return sn(i,o,o.pendingProps.children,u),o.child;case 12:return sn(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(f=o.type._context,m=o.pendingProps,v=o.memoizedProps,b=m.value,Qe(Cc,f._currentValue),f._currentValue=b,v!==null)if(rr(v.value,b)){if(v.children===m.children&&!dn.current){o=oi(i,o,u);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var V=v.dependencies;if(V!==null){b=v.child;for(var j=V.firstContext;j!==null;){if(j.context===f){if(v.tag===1){j=si(-1,u&-u),j.tag=2;var G=v.updateQueue;if(G!==null){G=G.shared;var re=G.pending;re===null?j.next=j:(j.next=re.next,re.next=j),G.pending=j}}v.lanes|=u,j=v.alternate,j!==null&&(j.lanes|=u),Sf(v.return,u,o),V.lanes|=u;break}j=j.next}}else if(v.tag===10)b=v.type===o.type?null:v.child;else if(v.tag===18){if(b=v.return,b===null)throw Error(n(341));b.lanes|=u,V=b.alternate,V!==null&&(V.lanes|=u),Sf(b,u,o),b=v.sibling}else b=v.child;if(b!==null)b.return=v;else for(b=v;b!==null;){if(b===o){b=null;break}if(v=b.sibling,v!==null){v.return=b.return,b=v;break}b=b.return}v=b}sn(i,o,m.children,u),o=o.child}return o;case 9:return m=o.type,f=o.pendingProps.children,na(o,u),m=Mn(m),f=f(m),o.flags|=1,sn(i,o,f,u),o.child;case 14:return f=o.type,m=sr(f,o.pendingProps),m=sr(f.type,m),cv(i,o,f,m,u);case 15:return dv(i,o,o.type,o.pendingProps,u);case 17:return f=o.type,m=o.pendingProps,m=o.elementType===f?m:sr(f,m),jc(i,o),o.tag=1,hn(f)?(i=!0,wc(o)):i=!1,na(o,u),nv(o,f,m),$f(o,f,m,u),Hf(null,o,f,!0,i,u);case 19:return _v(i,o,u);case 22:return hv(i,o,u)}throw Error(n(156,o.tag))};function zv(i,o){return Po(i,o)}function eA(i,o,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(i,o,u,f){return new eA(i,o,u,f)}function dp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function tA(i){if(typeof i=="function")return dp(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===de)return 14}return 2}function Wi(i,o){var u=i.alternate;return u===null?(u=Un(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Qc(i,o,u,f,m,v){var b=2;if(f=i,typeof i=="function")dp(i)&&(b=1);else if(typeof i=="string")b=5;else e:switch(i){case P:return Gs(u.children,m,v,o);case T:b=8,m|=8;break;case C:return i=Un(12,u,o,m|2),i.elementType=C,i.lanes=v,i;case D:return i=Un(13,u,o,m),i.elementType=D,i.lanes=v,i;case te:return i=Un(19,u,o,m),i.elementType=te,i.lanes=v,i;case _e:return Yc(u,m,v,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case A:b=10;break e;case M:b=9;break e;case U:b=11;break e;case de:b=14;break e;case De:b=16,f=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Un(b,u,o,m),o.elementType=i,o.type=f,o.lanes=v,o}function Gs(i,o,u,f){return i=Un(7,i,f,o),i.lanes=u,i}function Yc(i,o,u,f){return i=Un(22,i,f,o),i.elementType=_e,i.lanes=u,i.stateNode={isHidden:!1},i}function hp(i,o,u){return i=Un(6,i,null,o),i.lanes=u,i}function fp(i,o,u){return o=Un(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function nA(i,o,u,f,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Si(0),this.expirationTimes=Si(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Si(0),this.identifierPrefix=f,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function pp(i,o,u,f,m,v,b,V,j){return i=new nA(i,o,u,V,j),o===1?(o=1,v===!0&&(o|=8)):o=0,v=Un(3,null,null,o),i.current=v,v.stateNode=i,v.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},If(v),i}function rA(i,o,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$,key:f==null?null:""+f,children:i,containerInfo:o,implementation:u}}function Wv(i){if(!i)return Li;i=i._reactInternals;e:{if(Yn(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(hn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var u=i.type;if(hn(u))return v0(i,u,o)}return o}function Hv(i,o,u,f,m,v,b,V,j){return i=pp(u,f,!0,i,m,v,b,V,j),i.context=Wv(null),u=i.current,f=on(),m=Bi(u),v=si(f,m),v.callback=o??null,ji(u,v,m),i.current.lanes=m,Ci(i,m,f),mn(i,f),i}function Xc(i,o,u,f){var m=o.current,v=on(),b=Bi(m);return u=Wv(u),o.context===null?o.context=u:o.pendingContext=u,o=si(v,b),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=ji(m,o,b),i!==null&&(lr(i,m,b,v),Ac(i,m,b)),b}function Jc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function qv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function mp(i,o){qv(i,o),(i=i.alternate)&&qv(i,o)}function iA(){return null}var Kv=typeof reportError=="function"?reportError:function(i){console.error(i)};function gp(i){this._internalRoot=i}Zc.prototype.render=gp.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));Xc(i,o,null,null)},Zc.prototype.unmount=gp.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Hs(function(){Xc(null,i,null,null)}),o[ei]=null}};function Zc(i){this._internalRoot=i}Zc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Zu();i={blockedOn:null,target:i,priority:o};for(var u=0;u<_r.length&&o!==0&&o<_r[u].priority;u++);_r.splice(u,0,i),u===0&&nc(i)}};function yp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function ed(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Gv(){}function sA(i,o,u,f,m){if(m){if(typeof f=="function"){var v=f;f=function(){var G=Jc(b);v.call(G)}}var b=Hv(o,f,i,0,null,!1,!1,"",Gv);return i._reactRootContainer=b,i[ei]=b.current,wl(i.nodeType===8?i.parentNode:i),Hs(),b}for(;m=i.lastChild;)i.removeChild(m);if(typeof f=="function"){var V=f;f=function(){var G=Jc(j);V.call(G)}}var j=pp(i,0,!1,null,null,!1,!1,"",Gv);return i._reactRootContainer=j,i[ei]=j.current,wl(i.nodeType===8?i.parentNode:i),Hs(function(){Xc(o,j,u,f)}),j}function td(i,o,u,f,m){var v=u._reactRootContainer;if(v){var b=v;if(typeof m=="function"){var V=m;m=function(){var j=Jc(b);V.call(j)}}Xc(o,b,i,m)}else b=sA(u,o,i,m,f);return Jc(b)}Xu=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=bi(o.pendingLanes);u!==0&&(Ii(o,u|1),mn(o,Ge()),!(ze&6)&&(aa=Ge()+500,Oi()))}break;case 13:Hs(function(){var f=ii(i,1);if(f!==null){var m=on();lr(f,i,1,m)}}),mp(i,1)}},No=function(i){if(i.tag===13){var o=ii(i,134217728);if(o!==null){var u=on();lr(o,i,134217728,u)}mp(i,134217728)}},Ju=function(i){if(i.tag===13){var o=Bi(i),u=ii(i,o);if(u!==null){var f=on();lr(u,i,o,f)}mp(i,o)}},Zu=function(){return Ue},ec=function(i,o){var u=Ue;try{return Ue=i,o()}finally{Ue=u}},To=function(i,o,u){switch(o){case"input":if(Wr(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var f=u[o];if(f!==i&&f.form===i.form){var m=vc(f);if(!m)throw Error(n(90));Br(f),Wr(f,m)}}}break;case"textarea":xo(i,u);break;case"select":o=u.value,o!=null&&qr(i,!!u.multiple,o,!1)}},Ss=lp,tl=Hs;var oA={usingClientEntryPoint:!1,Events:[Tl,Go,vc,yr,el,lp]},Ml={findFiberByHostInstance:Ms,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},aA={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=il(i),i===null?null:i.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||iA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{Rs=nd.inject(aA),wn=nd}catch{}}return gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oA,gn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yp(o))throw Error(n(200));return rA(i,o,null,u)},gn.createRoot=function(i,o){if(!yp(i))throw Error(n(299));var u=!1,f="",m=Kv;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=pp(i,1,!1,null,null,u,!1,f,m),i[ei]=o.current,wl(i.nodeType===8?i.parentNode:i),new gp(o)},gn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=il(o),i=i===null?null:i.stateNode,i},gn.flushSync=function(i){return Hs(i)},gn.hydrate=function(i,o,u){if(!ed(o))throw Error(n(200));return td(null,i,o,!0,u)},gn.hydrateRoot=function(i,o,u){if(!yp(i))throw Error(n(405));var f=u!=null&&u.hydratedSources||null,m=!1,v="",b=Kv;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(b=u.onRecoverableError)),o=Hv(o,null,i,1,u??null,m,!1,v,b),i[ei]=o.current,wl(i),f)for(i=0;i<f.length;i++)u=f[i],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Zc(o)},gn.render=function(i,o,u){if(!ed(o))throw Error(n(200));return td(null,i,o,!1,u)},gn.unmountComponentAtNode=function(i){if(!ed(i))throw Error(n(40));return i._reactRootContainer?(Hs(function(){td(null,null,i,!1,function(){i._reactRootContainer=null,i[ei]=null})}),!0):!1},gn.unstable_batchedUpdates=lp,gn.unstable_renderSubtreeIntoContainer=function(i,o,u,f){if(!ed(u))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return td(i,o,u,!1,f)},gn.version="18.3.1-next-f1338f8080-20240426",gn}var n_;function fE(){if(n_)return wp.exports;n_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),wp.exports=pA(),wp.exports}var r_;function mA(){if(r_)return rd;r_=1;var t=fE();return rd.createRoot=t.createRoot,rd.hydrateRoot=t.hydrateRoot,rd}var gA=mA();const yA=Xm(gA);var Fl={},i_;function vA(){if(i_)return Fl;i_=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.parse=l,Fl.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function l(x,S){const R=new a,L=x.length;if(L<2)return R;const N=(S==null?void 0:S.decode)||g;let O=0;do{const q=x.indexOf("=",O);if(q===-1)break;const B=x.indexOf(";",O),Y=B===-1?L:B;if(q>Y){O=x.lastIndexOf(";",q-1)+1;continue}const Q=c(x,O,q),$=h(x,q,Q),P=x.slice(Q,$);if(R[P]===void 0){let T=c(x,q+1,Y),C=h(x,Y,T);const A=N(x.slice(T,C));R[P]=A}O=Y+1}while(O<L);return R}function c(x,S,R){do{const L=x.charCodeAt(S);if(L!==32&&L!==9)return S}while(++S<R);return R}function h(x,S,R){for(;S>R;){const L=x.charCodeAt(--S);if(L!==32&&L!==9)return S+1}return R}function p(x,S,R){const L=(R==null?void 0:R.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const N=L(S);if(!e.test(N))throw new TypeError(`argument val is invalid: ${S}`);let O=x+"="+N;if(!R)return O;if(R.maxAge!==void 0){if(!Number.isInteger(R.maxAge))throw new TypeError(`option maxAge is invalid: ${R.maxAge}`);O+="; Max-Age="+R.maxAge}if(R.domain){if(!n.test(R.domain))throw new TypeError(`option domain is invalid: ${R.domain}`);O+="; Domain="+R.domain}if(R.path){if(!r.test(R.path))throw new TypeError(`option path is invalid: ${R.path}`);O+="; Path="+R.path}if(R.expires){if(!w(R.expires)||!Number.isFinite(R.expires.valueOf()))throw new TypeError(`option expires is invalid: ${R.expires}`);O+="; Expires="+R.expires.toUTCString()}if(R.httpOnly&&(O+="; HttpOnly"),R.secure&&(O+="; Secure"),R.partitioned&&(O+="; Partitioned"),R.priority)switch(typeof R.priority=="string"?R.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${R.priority}`)}if(R.sameSite)switch(typeof R.sameSite=="string"?R.sameSite.toLowerCase():R.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${R.sameSite}`)}return O}function g(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function w(x){return s.call(x)==="[object Date]"}return Fl}vA();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var s_="popstate";function _A(t={}){function e(r,s){let{pathname:a,search:l,hash:c}=r.location;return Zp("",{pathname:a,search:l,hash:c},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:lu(s)}return xA(e,n,null,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Mr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wA(){return Math.random().toString(36).substring(2,10)}function o_(t,e){return{usr:t.state,key:t.key,idx:e}}function Zp(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Oa(e):e,state:n,key:e&&e.key||r||wA()}}function lu({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Oa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function xA(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",h=null,p=g();p==null&&(p=0,l.replaceState({...l.state,idx:p},""));function g(){return(l.state||{idx:null}).idx}function w(){c="POP";let N=g(),O=N==null?null:N-p;p=N,h&&h({action:c,location:L.location,delta:O})}function x(N,O){c="PUSH";let q=Zp(L.location,N,O);p=g()+1;let B=o_(q,p),Y=L.createHref(q);try{l.pushState(B,"",Y)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign(Y)}a&&h&&h({action:c,location:L.location,delta:1})}function S(N,O){c="REPLACE";let q=Zp(L.location,N,O);p=g();let B=o_(q,p),Y=L.createHref(q);l.replaceState(B,"",Y),a&&h&&h({action:c,location:L.location,delta:0})}function R(N){let O=s.location.origin!=="null"?s.location.origin:s.location.href,q=typeof N=="string"?N:lu(N);return q=q.replace(/ $/,"%20"),st(O,`No window.location.(origin|href) available to create URL for href: ${q}`),new URL(q,O)}let L={get action(){return c},get location(){return t(s,l)},listen(N){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(s_,w),h=N,()=>{s.removeEventListener(s_,w),h=null}},createHref(N){return e(s,N)},createURL:R,encodeLocation(N){let O=R(N);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:x,replace:S,go(N){return l.go(N)}};return L}function pE(t,e,n="/"){return EA(t,e,n,!1)}function EA(t,e,n,r){let s=typeof e=="string"?Oa(e):e,a=ss(s.pathname||"/",n);if(a==null)return null;let l=mE(t);TA(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let p=VA(a);c=NA(l[h],p,r)}return c}function mE(t,e=[],n=[],r=""){let s=(a,l,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};h.relativePath.startsWith("/")&&(st(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let p=di([r,h.relativePath]),g=n.concat(h);a.children&&a.children.length>0&&(st(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),mE(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:RA(p,a.index),routesMeta:g})};return t.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let h of gE(a.path))s(a,l,h)}),e}function gE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=gE(r.join("/")),c=[];return c.push(...l.map(h=>h===""?a:[a,h].join("/"))),s&&c.push(...l),c.map(h=>t.startsWith("/")&&h===""?"/":h)}function TA(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:kA(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var bA=/^:[\w-]+$/,SA=3,CA=2,IA=1,AA=10,PA=-2,a_=t=>t==="*";function RA(t,e){let n=t.split("/"),r=n.length;return n.some(a_)&&(r+=PA),e&&(r+=CA),n.filter(s=>!a_(s)).reduce((s,a)=>s+(bA.test(a)?SA:a===""?IA:AA),r)}function kA(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function NA(t,e,n=!1){let{routesMeta:r}=t,s={},a="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],p=c===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",w=Vd({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),x=h.route;if(!w&&p&&n&&!r[r.length-1].route.index&&(w=Vd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!w)return null;Object.assign(s,w.params),l.push({params:s,pathname:di([a,w.pathname]),pathnameBase:jA(di([a,w.pathnameBase])),route:x}),w.pathnameBase!=="/"&&(a=di([a,w.pathnameBase]))}return l}function Vd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DA(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:w},x)=>{if(g==="*"){let R=c[x]||"";l=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const S=c[x];return w&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function DA(t,e=!1,n=!0){Mr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function VA(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ss(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LA(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Oa(t):t;return{pathname:n?n.startsWith("/")?n:OA(n,e):e,search:FA(r),hash:UA(s)}}function OA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Tp(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MA(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yE(t){let e=MA(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function vE(t,e,n,r=!1){let s;typeof t=="string"?s=Oa(t):(s={...t},st(!s.pathname||!s.pathname.includes("?"),Tp("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),Tp("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),Tp("#","search","hash",s)));let a=t===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=n;else{let w=e.length-1;if(!r&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),w-=1;s.pathname=x.join("/")}c=w>=0?e[w]:"/"}let h=LA(s,c),p=l&&l!=="/"&&l.endsWith("/"),g=(a||l===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var di=t=>t.join("/").replace(/\/\/+/g,"/"),jA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FA=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UA=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $A(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var _E=["POST","PUT","PATCH","DELETE"];new Set(_E);var BA=["GET",..._E];new Set(BA);var Ma=k.createContext(null);Ma.displayName="DataRouter";var lh=k.createContext(null);lh.displayName="DataRouterState";var wE=k.createContext({isTransitioning:!1});wE.displayName="ViewTransition";var zA=k.createContext(new Map);zA.displayName="Fetchers";var WA=k.createContext(null);WA.displayName="Await";var Ur=k.createContext(null);Ur.displayName="Navigation";var Su=k.createContext(null);Su.displayName="Location";var mr=k.createContext({outlet:null,matches:[],isDataRoute:!1});mr.displayName="Route";var Zm=k.createContext(null);Zm.displayName="RouteError";function HA(t,{relative:e}={}){st(Cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(Ur),{hash:s,pathname:a,search:l}=Iu(t,{relative:e}),c=a;return n!=="/"&&(c=a==="/"?n:di([n,a])),r.createHref({pathname:c,search:l,hash:s})}function Cu(){return k.useContext(Su)!=null}function gs(){return st(Cu(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Su).location}var xE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function EE(t){k.useContext(Ur).static||k.useLayoutEffect(t)}function ys(){let{isDataRoute:t}=k.useContext(mr);return t?oP():qA()}function qA(){st(Cu(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Ma),{basename:e,navigator:n}=k.useContext(Ur),{matches:r}=k.useContext(mr),{pathname:s}=gs(),a=JSON.stringify(yE(r)),l=k.useRef(!1);return EE(()=>{l.current=!0}),k.useCallback((h,p={})=>{if(Mr(l.current,xE),!l.current)return;if(typeof h=="number"){n.go(h);return}let g=vE(h,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:di([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,s,t])}var KA=k.createContext(null);function GA(t){let e=k.useContext(mr).outlet;return e&&k.createElement(KA.Provider,{value:t},e)}function TE(){let{matches:t}=k.useContext(mr),e=t[t.length-1];return e?e.params:{}}function Iu(t,{relative:e}={}){let{matches:n}=k.useContext(mr),{pathname:r}=gs(),s=JSON.stringify(yE(n));return k.useMemo(()=>vE(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function QA(t,e){return bE(t,e)}function bE(t,e,n,r){var q;st(Cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:a}=k.useContext(Ur),{matches:l}=k.useContext(mr),c=l[l.length-1],h=c?c.params:{},p=c?c.pathname:"/",g=c?c.pathnameBase:"/",w=c&&c.route;{let B=w&&w.path||"";SE(p,!w||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let x=gs(),S;if(e){let B=typeof e=="string"?Oa(e):e;st(g==="/"||((q=B.pathname)==null?void 0:q.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${B.pathname}" was given in the \`location\` prop.`),S=B}else S=x;let R=S.pathname||"/",L=R;if(g!=="/"){let B=g.replace(/^\//,"").split("/");L="/"+R.replace(/^\//,"").split("/").slice(B.length).join("/")}let N=!a&&n&&n.matches&&n.matches.length>0?n.matches:pE(t,{pathname:L});Mr(w||N!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Mr(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let O=eP(N&&N.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:di([g,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?g:di([g,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,n,r);return e&&O?k.createElement(Su.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},O):O}function YA(){let t=sP(),e=$A(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:a},"ErrorBoundary")," or"," ",k.createElement("code",{style:a},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:s},n):null,l)}var XA=k.createElement(YA,null),JA=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(mr.Provider,{value:this.props.routeContext},k.createElement(Zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZA({routeContext:t,match:e,children:n}){let r=k.useContext(Ma);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(mr.Provider,{value:t},n)}function eP(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=n==null?void 0:n.errors;if(a!=null){let h=s.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);st(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let l=!1,c=-1;if(n)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=h),p.route.id){let{loaderData:g,errors:w}=n,x=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!w||w[p.route.id]===void 0);if(p.route.lazy||x){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,p,g)=>{let w,x=!1,S=null,R=null;n&&(w=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||XA,l&&(c<0&&g===0?(SE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,R=null):c===g&&(x=!0,R=p.route.hydrateFallbackElement||null)));let L=e.concat(s.slice(0,g+1)),N=()=>{let O;return w?O=S:x?O=R:p.route.Component?O=k.createElement(p.route.Component,null):p.route.element?O=p.route.element:O=h,k.createElement(ZA,{match:p,routeContext:{outlet:h,matches:L,isDataRoute:n!=null},children:O})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?k.createElement(JA,{location:n.location,revalidation:n.revalidation,component:S,error:w,children:N(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):N()},null)}function eg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tP(t){let e=k.useContext(Ma);return st(e,eg(t)),e}function nP(t){let e=k.useContext(lh);return st(e,eg(t)),e}function rP(t){let e=k.useContext(mr);return st(e,eg(t)),e}function tg(t){let e=rP(t),n=e.matches[e.matches.length-1];return st(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function iP(){return tg("useRouteId")}function sP(){var r;let t=k.useContext(Zm),e=nP("useRouteError"),n=tg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function oP(){let{router:t}=tP("useNavigate"),e=tg("useNavigate"),n=k.useRef(!1);return EE(()=>{n.current=!0}),k.useCallback(async(s,a={})=>{Mr(n.current,xE),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...a}))},[t,e])}var l_={};function SE(t,e,n){!e&&!l_[t]&&(l_[t]=!0,Mr(!1,n))}k.memo(aP);function aP({routes:t,future:e,state:n}){return bE(t,void 0,n,e)}function lP(t){return GA(t.context)}function Ut(t){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function uP({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:a=!1}){st(!Cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=k.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof n=="string"&&(n=Oa(n));let{pathname:h="/",search:p="",hash:g="",state:w=null,key:x="default"}=n,S=k.useMemo(()=>{let R=ss(h,l);return R==null?null:{location:{pathname:R,search:p,hash:g,state:w,key:x},navigationType:r}},[l,h,p,g,w,x,r]);return Mr(S!=null,`<Router basename="${l}"> is not able to match the URL "${h}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:k.createElement(Ur.Provider,{value:c},k.createElement(Su.Provider,{children:e,value:S}))}function cP({children:t,location:e}){return QA(em(t),e)}function em(t,e=[]){let n=[];return k.Children.forEach(t,(r,s)=>{if(!k.isValidElement(r))return;let a=[...e,s];if(r.type===k.Fragment){n.push.apply(n,em(r.props.children,a));return}st(r.type===Ut,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=em(r.props.children,a)),n.push(l)}),n}var vd="get",_d="application/x-www-form-urlencoded";function uh(t){return t!=null&&typeof t.tagName=="string"}function dP(t){return uh(t)&&t.tagName.toLowerCase()==="button"}function hP(t){return uh(t)&&t.tagName.toLowerCase()==="form"}function fP(t){return uh(t)&&t.tagName.toLowerCase()==="input"}function pP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mP(t,e){return t.button===0&&(!e||e==="_self")&&!pP(t)}var id=null;function gP(){if(id===null)try{new FormData(document.createElement("form"),0),id=!1}catch{id=!0}return id}var yP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bp(t){return t!=null&&!yP.has(t)?(Mr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_d}"`),null):t}function vP(t,e){let n,r,s,a,l;if(hP(t)){let c=t.getAttribute("action");r=c?ss(c,e):null,n=t.getAttribute("method")||vd,s=bp(t.getAttribute("enctype"))||_d,a=new FormData(t)}else if(dP(t)||fP(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||c.getAttribute("action");if(r=h?ss(h,e):null,n=t.getAttribute("formmethod")||c.getAttribute("method")||vd,s=bp(t.getAttribute("formenctype"))||bp(c.getAttribute("enctype"))||_d,a=new FormData(c,t),!gP()){let{name:p,type:g,value:w}=t;if(g==="image"){let x=p?`${p}.`:"";a.append(`${x}x`,"0"),a.append(`${x}y`,"0")}else p&&a.append(p,w)}}else{if(uh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vd,r=null,s=_d,l=t}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:l}}function ng(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function _P(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wP(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function xP(t,e,n){let r=await Promise.all(t.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await _P(a,n);return l.links?l.links():[]}return[]}));return SP(r.flat(1).filter(wP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function u_(t,e,n,r,s,a){let l=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,c=(h,p)=>{var g;return n[p].pathname!==h.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==h.params["*"]};return a==="assets"?e.filter((h,p)=>l(h,p)||c(h,p)):a==="data"?e.filter((h,p)=>{var w;let g=r.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(l(h,p)||c(h,p))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((w=n[0])==null?void 0:w.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function EP(t,e){return TP(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let s=[r.module];return r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function TP(t){return[...new Set(t)]}function bP(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function SP(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let a=JSON.stringify(bP(s));return n.has(a)||(n.add(a),r.push({key:a,link:s})),r},[])}function CP(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function IP(){let t=k.useContext(Ma);return ng(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function AP(){let t=k.useContext(lh);return ng(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var rg=k.createContext(void 0);rg.displayName="FrameworkContext";function CE(){let t=k.useContext(rg);return ng(t,"You must render this element inside a <HydratedRouter> element"),t}function PP(t,e){let n=k.useContext(rg),[r,s]=k.useState(!1),[a,l]=k.useState(!1),{onFocus:c,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:w}=e,x=k.useRef(null);k.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let L=O=>{O.forEach(q=>{l(q.isIntersecting)})},N=new IntersectionObserver(L,{threshold:.5});return x.current&&N.observe(x.current),()=>{N.disconnect()}}},[t]),k.useEffect(()=>{if(r){let L=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(L)}}},[r]);let S=()=>{s(!0)},R=()=>{s(!1),l(!1)};return n?t!=="intent"?[a,x,{}]:[a,x,{onFocus:Ul(c,S),onBlur:Ul(h,R),onMouseEnter:Ul(p,S),onMouseLeave:Ul(g,R),onTouchStart:Ul(w,S)}]:[!1,x,{}]}function Ul(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function RP({page:t,...e}){let{router:n}=IP(),r=k.useMemo(()=>pE(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(NP,{page:t,matches:r,...e}):null}function kP(t){let{manifest:e,routeModules:n}=CE(),[r,s]=k.useState([]);return k.useEffect(()=>{let a=!1;return xP(t,e,n).then(l=>{a||s(l)}),()=>{a=!0}},[t,e,n]),r}function NP({page:t,matches:e,...n}){let r=gs(),{manifest:s,routeModules:a}=CE(),{loaderData:l,matches:c}=AP(),h=k.useMemo(()=>u_(t,e,c,s,r,"data"),[t,e,c,s,r]),p=k.useMemo(()=>u_(t,e,c,s,r,"assets"),[t,e,c,s,r]),g=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,R=!1;if(e.forEach(N=>{var q;let O=s.routes[N.route.id];!O||!O.hasLoader||(!h.some(B=>B.route.id===N.route.id)&&N.route.id in l&&((q=a[N.route.id])!=null&&q.shouldRevalidate)||O.hasClientLoader?R=!0:S.add(N.route.id))}),S.size===0)return[];let L=CP(t);return R&&S.size>0&&L.searchParams.set("_routes",e.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[L.pathname+L.search]},[l,r,s,h,e,t,a]),w=k.useMemo(()=>EP(p,s),[p,s]),x=kP(p);return k.createElement(k.Fragment,null,g.map(S=>k.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),w.map(S=>k.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),x.map(({key:S,link:R})=>k.createElement("link",{key:S,...R})))}function DP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var IE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IE&&(window.__reactRouterVersion="7.1.5")}catch{}function VP({basename:t,children:e,window:n}){let r=k.useRef();r.current==null&&(r.current=_A({window:n,v5Compat:!0}));let s=r.current,[a,l]=k.useState({action:s.action,location:s.location}),c=k.useCallback(h=>{k.startTransition(()=>l(h))},[l]);return k.useLayoutEffect(()=>s.listen(c),[s,c]),k.createElement(uP,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:s})}var AE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pr=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:h,to:p,preventScrollReset:g,viewTransition:w,...x},S){let{basename:R}=k.useContext(Ur),L=typeof p=="string"&&AE.test(p),N,O=!1;if(typeof p=="string"&&L&&(N=p,IE))try{let C=new URL(window.location.href),A=p.startsWith("//")?new URL(C.protocol+p):new URL(p),M=ss(A.pathname,R);A.origin===C.origin&&M!=null?p=M+A.search+A.hash:O=!0}catch{Mr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let q=HA(p,{relative:s}),[B,Y,Q]=PP(r,x),$=jP(p,{replace:l,state:c,target:h,preventScrollReset:g,relative:s,viewTransition:w});function P(C){e&&e(C),C.defaultPrevented||$(C)}let T=k.createElement("a",{...x,...Q,href:N||q,onClick:O||a?e:P,ref:DP(S,Y),target:h,"data-discover":!L&&n==="render"?"true":void 0});return B&&!L?k.createElement(k.Fragment,null,T,k.createElement(RP,{page:q})):T});Pr.displayName="Link";var LP=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:h,...p},g){let w=Iu(l,{relative:p.relative}),x=gs(),S=k.useContext(lh),{navigator:R,basename:L}=k.useContext(Ur),N=S!=null&&zP(w)&&c===!0,O=R.encodeLocation?R.encodeLocation(w).pathname:w.pathname,q=x.pathname,B=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(q=q.toLowerCase(),B=B?B.toLowerCase():null,O=O.toLowerCase()),B&&L&&(B=ss(B,L)||B);const Y=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let Q=q===O||!s&&q.startsWith(O)&&q.charAt(Y)==="/",$=B!=null&&(B===O||!s&&B.startsWith(O)&&B.charAt(O.length)==="/"),P={isActive:Q,isPending:$,isTransitioning:N},T=Q?e:void 0,C;typeof r=="function"?C=r(P):C=[r,Q?"active":null,$?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let A=typeof a=="function"?a(P):a;return k.createElement(Pr,{...p,"aria-current":T,className:C,ref:g,style:A,to:l,viewTransition:c},typeof h=="function"?h(P):h)});LP.displayName="NavLink";var OP=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:a,method:l=vd,action:c,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:w,...x},S)=>{let R=$P(),L=BP(c,{relative:p}),N=l.toLowerCase()==="get"?"get":"post",O=typeof c=="string"&&AE.test(c),q=B=>{if(h&&h(B),B.defaultPrevented)return;B.preventDefault();let Y=B.nativeEvent.submitter,Q=(Y==null?void 0:Y.getAttribute("formmethod"))||l;R(Y||B.currentTarget,{fetcherKey:e,method:Q,navigate:n,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:w})};return k.createElement("form",{ref:S,method:N,action:L,onSubmit:r?h:q,...x,"data-discover":!O&&t==="render"?"true":void 0})});OP.displayName="Form";function MP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PE(t){let e=k.useContext(Ma);return st(e,MP(t)),e}function jP(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=ys(),h=gs(),p=Iu(t,{relative:a});return k.useCallback(g=>{if(mP(g,e)){g.preventDefault();let w=n!==void 0?n:lu(h)===lu(p);c(t,{replace:w,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[h,c,p,n,r,e,t,s,a,l])}var FP=0,UP=()=>`__${String(++FP)}__`;function $P(){let{router:t}=PE("useSubmit"),{basename:e}=k.useContext(Ur),n=iP();return k.useCallback(async(r,s={})=>{let{action:a,method:l,encType:c,formData:h,body:p}=vP(r,e);if(s.navigate===!1){let g=s.fetcherKey||UP();await t.fetch(g,n,s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await t.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:h,body:p,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function BP(t,{relative:e}={}){let{basename:n}=k.useContext(Ur),r=k.useContext(mr);st(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...Iu(t||".",{relative:e})},l=gs();if(t==null){a.search=l.search;let c=new URLSearchParams(a.search),h=c.getAll("index");if(h.some(g=>g==="")){c.delete("index"),h.filter(w=>w).forEach(w=>c.append("index",w));let g=c.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:di([n,a.pathname])),lu(a)}function zP(t,e={}){let n=k.useContext(wE);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=PE("useViewTransitionState"),s=Iu(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=ss(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=ss(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Vd(s.pathname,l)!=null||Vd(s.pathname,a)!=null}new TextEncoder;var WP=fE();const sd=Xm(WP);function Ld(){return Ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ld.apply(null,arguments)}function ig(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function tm(t,e){return tm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},tm(t,e)}function sg(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,tm(t,e)}function HP(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function qP(t,e){t.classList?t.classList.add(e):HP(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function c_(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function KP(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=c_(t.className,e):t.setAttribute("class",c_(t.className&&t.className.baseVal||"",e))}const d_={disabled:!1},Od=Wn.createContext(null);var RE=function(e){return e.scrollTop},zl="unmounted",Ys="exited",Xs="entering",ca="entered",nm="exiting",xi=function(t){sg(e,t);function e(r,s){var a;a=t.call(this,r,s)||this;var l=s,c=l&&!l.isMounting?r.enter:r.appear,h;return a.appearStatus=null,r.in?c?(h=Ys,a.appearStatus=Xs):h=ca:r.unmountOnExit||r.mountOnEnter?h=zl:h=Ys,a.state={status:h},a.nextCallback=null,a}e.getDerivedStateFromProps=function(s,a){var l=s.in;return l&&a.status===zl?{status:Ys}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var a=null;if(s!==this.props){var l=this.state.status;this.props.in?l!==Xs&&l!==ca&&(a=Xs):(l===Xs||l===ca)&&(a=nm)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,a,l,c;return a=l=c=s,s!=null&&typeof s!="number"&&(a=s.exit,l=s.enter,c=s.appear!==void 0?s.appear:l),{exit:a,enter:l,appear:c}},n.updateStatus=function(s,a){if(s===void 0&&(s=!1),a!==null)if(this.cancelNextCallback(),a===Xs){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:sd.findDOMNode(this);l&&RE(l)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ys&&this.setState({status:zl})},n.performEnter=function(s){var a=this,l=this.props.enter,c=this.context?this.context.isMounting:s,h=this.props.nodeRef?[c]:[sd.findDOMNode(this),c],p=h[0],g=h[1],w=this.getTimeouts(),x=c?w.appear:w.enter;if(!s&&!l||d_.disabled){this.safeSetState({status:ca},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:Xs},function(){a.props.onEntering(p,g),a.onTransitionEnd(x,function(){a.safeSetState({status:ca},function(){a.props.onEntered(p,g)})})})},n.performExit=function(){var s=this,a=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:sd.findDOMNode(this);if(!a||d_.disabled){this.safeSetState({status:Ys},function(){s.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:nm},function(){s.props.onExiting(c),s.onTransitionEnd(l.exit,function(){s.safeSetState({status:Ys},function(){s.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,a){a=this.setNextCallback(a),this.setState(s,a)},n.setNextCallback=function(s){var a=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,a.nextCallback=null,s(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(s,a){this.setNextCallback(a);var l=this.props.nodeRef?this.props.nodeRef.current:sd.findDOMNode(this),c=s==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var h=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=h[0],g=h[1];this.props.addEndListener(p,g)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===zl)return null;var a=this.props,l=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var c=ig(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Wn.createElement(Od.Provider,{value:null},typeof l=="function"?l(s,c):Wn.cloneElement(Wn.Children.only(l),c))},e}(Wn.Component);xi.contextType=Od;xi.propTypes={};function ua(){}xi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ua,onEntering:ua,onEntered:ua,onExit:ua,onExiting:ua,onExited:ua};xi.UNMOUNTED=zl;xi.EXITED=Ys;xi.ENTERING=Xs;xi.ENTERED=ca;xi.EXITING=nm;var GP=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return qP(e,r)})},Sp=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return KP(e,r)})},ch=function(t){sg(e,t);function e(){for(var r,s=arguments.length,a=new Array(s),l=0;l<s;l++)a[l]=arguments[l];return r=t.call.apply(t,[this].concat(a))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(c,h){var p=r.resolveArguments(c,h),g=p[0],w=p[1];r.removeClasses(g,"exit"),r.addClass(g,w?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(c,h)},r.onEntering=function(c,h){var p=r.resolveArguments(c,h),g=p[0],w=p[1],x=w?"appear":"enter";r.addClass(g,x,"active"),r.props.onEntering&&r.props.onEntering(c,h)},r.onEntered=function(c,h){var p=r.resolveArguments(c,h),g=p[0],w=p[1],x=w?"appear":"enter";r.removeClasses(g,x),r.addClass(g,x,"done"),r.props.onEntered&&r.props.onEntered(c,h)},r.onExit=function(c){var h=r.resolveArguments(c),p=h[0];r.removeClasses(p,"appear"),r.removeClasses(p,"enter"),r.addClass(p,"exit","base"),r.props.onExit&&r.props.onExit(c)},r.onExiting=function(c){var h=r.resolveArguments(c),p=h[0];r.addClass(p,"exit","active"),r.props.onExiting&&r.props.onExiting(c)},r.onExited=function(c){var h=r.resolveArguments(c),p=h[0];r.removeClasses(p,"exit"),r.addClass(p,"exit","done"),r.props.onExited&&r.props.onExited(c)},r.resolveArguments=function(c,h){return r.props.nodeRef?[r.props.nodeRef.current,c]:[c,h]},r.getClassNames=function(c){var h=r.props.classNames,p=typeof h=="string",g=p&&h?h+"-":"",w=p?""+g+c:h[c],x=p?w+"-active":h[c+"Active"],S=p?w+"-done":h[c+"Done"];return{baseClassName:w,activeClassName:x,doneClassName:S}},r}var n=e.prototype;return n.addClass=function(s,a,l){var c=this.getClassNames(a)[l+"ClassName"],h=this.getClassNames("enter"),p=h.doneClassName;a==="appear"&&l==="done"&&p&&(c+=" "+p),l==="active"&&s&&RE(s),c&&(this.appliedClasses[a][l]=c,GP(s,c))},n.removeClasses=function(s,a){var l=this.appliedClasses[a],c=l.base,h=l.active,p=l.done;this.appliedClasses[a]={},c&&Sp(s,c),h&&Sp(s,h),p&&Sp(s,p)},n.render=function(){var s=this.props;s.classNames;var a=ig(s,["classNames"]);return Wn.createElement(xi,Ld({},a,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Wn.Component);ch.defaultProps={classNames:""};ch.propTypes={};function QP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function og(t,e){var n=function(a){return e&&k.isValidElement(a)?e(a):a},r=Object.create(null);return t&&k.Children.map(t,function(s){return s}).forEach(function(s){r[s.key]=n(s)}),r}function YP(t,e){t=t||{},e=e||{};function n(g){return g in e?e[g]:t[g]}var r=Object.create(null),s=[];for(var a in t)a in e?s.length&&(r[a]=s,s=[]):s.push(a);var l,c={};for(var h in e){if(r[h])for(l=0;l<r[h].length;l++){var p=r[h][l];c[r[h][l]]=n(p)}c[h]=n(h)}for(l=0;l<s.length;l++)c[s[l]]=n(s[l]);return c}function eo(t,e,n){return n[e]!=null?n[e]:t.props[e]}function XP(t,e){return og(t.children,function(n){return k.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:eo(n,"appear",t),enter:eo(n,"enter",t),exit:eo(n,"exit",t)})})}function JP(t,e,n){var r=og(t.children),s=YP(e,r);return Object.keys(s).forEach(function(a){var l=s[a];if(k.isValidElement(l)){var c=a in e,h=a in r,p=e[a],g=k.isValidElement(p)&&!p.props.in;h&&(!c||g)?s[a]=k.cloneElement(l,{onExited:n.bind(null,l),in:!0,exit:eo(l,"exit",t),enter:eo(l,"enter",t)}):!h&&c&&!g?s[a]=k.cloneElement(l,{in:!1}):h&&c&&k.isValidElement(p)&&(s[a]=k.cloneElement(l,{onExited:n.bind(null,l),in:p.props.in,exit:eo(l,"exit",t),enter:eo(l,"enter",t)}))}}),s}var ZP=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},eR={component:"div",childFactory:function(e){return e}},dh=function(t){sg(e,t);function e(r,s){var a;a=t.call(this,r,s)||this;var l=a.handleExited.bind(QP(a));return a.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(s,a){var l=a.children,c=a.handleExited,h=a.firstRender;return{children:h?XP(s,c):JP(s,l,c),firstRender:!1}},n.handleExited=function(s,a){var l=og(this.props.children);s.key in l||(s.props.onExited&&s.props.onExited(a),this.mounted&&this.setState(function(c){var h=Ld({},c.children);return delete h[s.key],{children:h}}))},n.render=function(){var s=this.props,a=s.component,l=s.childFactory,c=ig(s,["component","childFactory"]),h=this.state.contextValue,p=ZP(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,a===null?Wn.createElement(Od.Provider,{value:h},p):Wn.createElement(Od.Provider,{value:h},Wn.createElement(a,c,p))},e}(Wn.Component);dh.propTypes={};dh.defaultProps=eR;/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var nR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:l,...c},h)=>k.createElement("svg",{ref:h,...nR,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:kE("lucide",s),...c},[...l.map(([p,g])=>k.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iR=(t,e)=>{const n=k.forwardRef(({className:r,...s},a)=>k.createElement(rR,{ref:a,iconNode:e,className:kE(`lucide-${tR(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],oR=iR("Dog",sR);function aR(){const t=gs(),[e,n]=k.useState(!1),{isDarkMode:r,toggleTheme:s}=k.useContext(Lt),a=[{name:"Home",href:"/"},{name:"Blog",href:"/blog"},{name:"Products",href:"/products"},{name:"Contact",href:"/contact"}],l=()=>n(!e);return _.jsxs("nav",{className:`fixed top-0 left-0 w-full z-20 shadow-md transition-colors duration-300 ease-in-out ${r?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:[_.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center",children:[_.jsx("div",{className:"md:hidden",children:_.jsxs("button",{onClick:l,className:"focus:outline-none","aria-label":"Toggle menu",children:[_.jsx("span",{className:`block w-6 h-1 mb-1.5 transition-all duration-300 ${r?"bg-stone-400":"bg-red-800"} ${e?"rotate-45 translate-y-2.5":""}`}),_.jsx("span",{className:`block w-6 h-1 mb-1.5 transition-all duration-300 ${r?"bg-stone-400":"bg-red-800"} ${e?"opacity-0":""}`}),_.jsx("span",{className:`block w-6 h-1 transition-all duration-300 ${r?"bg-stone-400":"bg-red-800"} ${e?"-rotate-45 -translate-y-2.5":""}`})]})}),_.jsx("div",{className:"flex-grow text-center md:flex md:items-center md:text-left",children:_.jsxs(Pr,{to:"/",className:"flex justify-center md:justify-start items-center space-x-2",onClick:()=>n(!1),children:[_.jsx(oR,{className:`w-6 h-6 ${r?"text-stone-400":"text-red-800"}`}),_.jsx("span",{className:"text-xl font-bold",children:"Aussie Gut Pack"})]})}),_.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[a.map(c=>_.jsx(Pr,{to:c.href,className:`px-3 py-2 rounded-md transition-colors duration-200 ${t.pathname===c.href?r?"bg-red-800 text-white":"bg-red-100 text-red-800":r?"hover:bg-red-900":"hover:bg-red-200"}`,children:c.name},c.href)),_.jsx("button",{onClick:s,className:"px-3 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:r?"Light":"Dark"})]}),_.jsx("div",{className:"md:hidden",children:_.jsx("button",{onClick:s,className:"px-3 py-1 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:r?"L":"D"})})]}),e&&_.jsx("div",{className:`md:hidden flex flex-col space-y-2 py-4 px-6 transition-colors duration-300 ease-in-out ${r?"bg-stone-900 text-stone-400":"bg-white text-red-800"}`,children:a.map(c=>_.jsx(Pr,{to:c.href,className:`px-3 py-2 rounded-md transition-colors duration-200 ${t.pathname===c.href?r?"bg-red-800 text-white":"bg-red-100 text-red-800":r?"hover:bg-red-900":"hover:bg-red-200"}`,onClick:()=>n(!1),children:c.name},c.href))})]})}function lR(){const{isDarkMode:t}=k.useContext(Lt),e=[{name:"Facebook",icon:"fab fa-facebook-f",url:"https://facebook.com"},{name:"Twitter/X",icon:"fab fa-x-twitter",url:"https://x.com"},{name:"Instagram",icon:"fab fa-instagram",url:"https://instagram.com"},{name:"LinkedIn",icon:"fab fa-linkedin-in",url:"https://linkedin.com"},{name:"YouTube",icon:"fab fa-youtube",url:"https://youtube.com"},{name:"Pinterest",icon:"fab fa-pinterest-p",url:"https://pinterest.com"},{name:"TikTok",icon:"fab fa-tiktok",url:"https://tiktok.com"},{name:"GitHub",icon:"fab fa-github",url:"https://github.com"}];return _.jsxs("div",{className:`relative min-h-screen ${t?"bg-stone-900":"bg-white"}`,children:[_.jsx(aR,{}),_.jsx("main",{className:"container mx-auto px-4 py-8 md:pt-16",children:_.jsx(lP,{})}),_.jsxs("footer",{className:`py-4 text-center text-sm backdrop-blur-sm ${t?"bg-stone-900/80 text-white":"bg-white/80 text-stone-600"}`,children:[_.jsx("div",{className:"mb-2",children:"© 2025 Aussie Gut Pack - Your Gut Health Companion"}),_.jsx("div",{className:"flex justify-center space-x-4",children:e.map(n=>_.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:`text-lg transition-colors duration-300 ${t?"text-stone-400 hover:text-stone-200":"text-stone-600 hover:text-red-800"}`,"aria-label":`Follow us on ${n.name}`,children:_.jsx("i",{className:n.icon})},n.name))})]})]})}function cr({to:t,children:e,variant:n,className:r,...s}){const a="px-4 py-2 rounded transition-colors duration-300 ease-in-out",l=n==="primary"?"bg-red-800 text-white hover:bg-red-900":"bg-stone-200 text-red-600 hover:bg-stone-300";return t?_.jsx(Pr,{to:t,className:`${a} ${l} ${r}`,...s,children:e}):_.jsx("button",{className:`${a} ${l} ${r}`,...s,children:e})}const uR="/assets/aussie-BleX4DhZ.png",cR="/assets/goggins-BJp9afAd.png",h_=[uR,cR],dR=()=>{const[t,e]=k.useState(0);return k.useEffect(()=>{const n=setInterval(()=>{e(r=>(r+1)%h_.length)},5e3);return()=>clearInterval(n)},[]),_.jsx("div",{className:"absolute inset-0 w-full h-full overflow-hidden bg-gray-900",children:h_.map((n,r)=>_.jsx("div",{className:`absolute inset-0 w-[120%] h-full bg-cover bg-center transition-opacity duration-1000 ease-in-out ${r===t?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${n})`}},r))})},ag=k.createContext({});function lg(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const ug=typeof window<"u",NE=ug?k.useLayoutEffect:k.useEffect,hh=k.createContext(null),cg=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class hR extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function fR({children:t,isPresent:e,anchorX:n}){const r=k.useId(),s=k.useRef(null),a=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=k.useContext(cg);return k.useInsertionEffect(()=>{const{width:c,height:h,top:p,left:g,right:w}=a.current;if(e||!s.current||!c||!h)return;const x=n==="left"?`left: ${g}`:`right: ${w}`;s.current.dataset.motionPopId=r;const S=document.createElement("style");return l&&(S.nonce=l),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${h}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[e]),_.jsx(hR,{isPresent:e,childRef:s,sizeRef:a,children:k.cloneElement(t,{ref:s})})}const pR=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:a,mode:l,anchorX:c})=>{const h=lg(mR),p=k.useId(),g=k.useCallback(x=>{h.set(x,!0);for(const S of h.values())if(!S)return;r&&r()},[h,r]),w=k.useMemo(()=>({id:p,initial:e,isPresent:n,custom:s,onExitComplete:g,register:x=>(h.set(x,!1),()=>h.delete(x))}),a?[Math.random(),g]:[n,g]);return k.useMemo(()=>{h.forEach((x,S)=>h.set(S,!1))},[n]),k.useEffect(()=>{!n&&!h.size&&r&&r()},[n]),l==="popLayout"&&(t=_.jsx(fR,{isPresent:n,anchorX:c,children:t})),_.jsx(hh.Provider,{value:w,children:t})};function mR(){return new Map}function DE(t=!0){const e=k.useContext(hh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,a=k.useId();k.useEffect(()=>{if(t)return s(a)},[t]);const l=k.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,l]:[!0]}const od=t=>t.key||"";function f_(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const p_=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:a="sync",propagate:l=!1,anchorX:c="left"})=>{const[h,p]=DE(l),g=k.useMemo(()=>f_(t),[t]),w=l&&!h?[]:g.map(od),x=k.useRef(!0),S=k.useRef(g),R=lg(()=>new Map),[L,N]=k.useState(g),[O,q]=k.useState(g);NE(()=>{x.current=!1,S.current=g;for(let Q=0;Q<O.length;Q++){const $=od(O[Q]);w.includes($)?R.delete($):R.get($)!==!0&&R.set($,!1)}},[O,w.length,w.join("-")]);const B=[];if(g!==L){let Q=[...g];for(let $=0;$<O.length;$++){const P=O[$],T=od(P);w.includes(T)||(Q.splice($,0,P),B.push(P))}return a==="wait"&&B.length&&(Q=B),q(f_(Q)),N(g),null}const{forceRender:Y}=k.useContext(ag);return _.jsx(_.Fragment,{children:O.map(Q=>{const $=od(Q),P=l&&!h?!1:g===O||w.includes($),T=()=>{if(R.has($))R.set($,!0);else return;let C=!0;R.forEach(A=>{A||(C=!1)}),C&&(Y==null||Y(),q(S.current),l&&(p==null||p()),r&&r())};return _.jsx(pR,{isPresent:P,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:s,mode:a,onExitComplete:P?void 0:T,anchorX:c,children:Q},$)})})};function dg(t,e){t.indexOf(e)===-1&&t.push(e)}function hg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Pn=t=>t;let VE=Pn;const gR={useManualTiming:!1};function fg(t){let e;return()=>(e===void 0&&(e=t()),e)}const Sa=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class pg{constructor(){this.subscriptions=[]}add(e){return dg(this.subscriptions,e),()=>hg(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let a=0;a<s;a++){const l=this.subscriptions[a];l&&l(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hi=t=>t*1e3,fi=t=>t/1e3;function LE(t,e){return e?t*(1e3/e):0}const yR=fg(()=>window.ScrollTimeline!==void 0);class vR{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(s=>{if(yR()&&s.attachTimeline)return s.attachTimeline(e);if(typeof n=="function")return n(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class _R extends vR{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function mg(t,e){return t?t[e]||t.default||t:void 0}const rm=2e4;function OE(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<rm;)e+=n,r=t.next(e);return e>=rm?1/0:e}function gg(t){return typeof t=="function"}function m_(t,e){t.timeline=e,t.onfinish=null}const yg=t=>Array.isArray(t)&&typeof t[0]=="number",wR={linearEasing:void 0};function xR(t,e){const n=fg(t);return()=>{var r;return(r=wR[e])!==null&&r!==void 0?r:n()}}const Md=xR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ME=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let a=0;a<s;a++)r+=t(Sa(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function jE(t){return!!(typeof t=="function"&&Md()||!t||typeof t=="string"&&(t in im||Md())||yg(t)||Array.isArray(t)&&t.every(jE))}const Wl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,im={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Wl([0,.65,.55,1]),circOut:Wl([.55,0,1,.45]),backIn:Wl([.31,.01,.66,-.59]),backOut:Wl([.33,1.53,.69,.99])};function FE(t,e){if(t)return typeof t=="function"&&Md()?ME(t,e):yg(t)?Wl(t):Array.isArray(t)?t.map(n=>FE(n,e)||im.easeOut):im[t]}const ad=["read","resolveKeyframes","update","preRender","render","postRender"],g_={value:null};function ER(t,e){let n=new Set,r=new Set,s=!1,a=!1;const l=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1},h=0;function p(w){l.has(w)&&(g.schedule(w),t()),h++,w(c)}const g={schedule:(w,x=!1,S=!1)=>{const L=S&&s?n:r;return x&&l.add(w),L.has(w)||L.add(w),w},cancel:w=>{r.delete(w),l.delete(w)},process:w=>{if(c=w,s){a=!0;return}s=!0,[n,r]=[r,n],n.forEach(p),e&&g_.value&&g_.value.frameloop[e].push(h),h=0,n.clear(),s=!1,a&&(a=!1,g.process(w))}};return g}const TR=40;function UE(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,l=ad.reduce((O,q)=>(O[q]=ER(a,e?q:void 0),O),{}),{read:c,resolveKeyframes:h,update:p,preRender:g,render:w,postRender:x}=l,S=()=>{const O=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(O-s.timestamp,TR),1),s.timestamp=O,s.isProcessing=!0,c.process(s),h.process(s),p.process(s),g.process(s),w.process(s),x.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(S))},R=()=>{n=!0,r=!0,s.isProcessing||t(S)};return{schedule:ad.reduce((O,q)=>{const B=l[q];return O[q]=(Y,Q=!1,$=!1)=>(n||R(),B.schedule(Y,Q,$)),O},{}),cancel:O=>{for(let q=0;q<ad.length;q++)l[ad[q]].cancel(O)},state:s,steps:l}}const{schedule:Ye,cancel:os,state:$t,steps:Cp}=UE(typeof requestAnimationFrame<"u"?requestAnimationFrame:Pn,!0),{schedule:vg}=UE(queueMicrotask,!1);let wd;function bR(){wd=void 0}const Rr={now:()=>(wd===void 0&&Rr.set($t.isProcessing||gR.useManualTiming?$t.timestamp:performance.now()),wd),set:t=>{wd=t,queueMicrotask(bR)}},ur={x:!1,y:!1};function $E(){return ur.x||ur.y}function SR(t){return t==="x"||t==="y"?ur[t]?null:(ur[t]=!0,()=>{ur[t]=!1}):ur.x||ur.y?null:(ur.x=ur.y=!0,()=>{ur.x=ur.y=!1})}function CR(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function BE(t,e){const n=CR(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function y_(t){return!(t.pointerType==="touch"||$E())}function IR(t,e,n={}){const[r,s,a]=BE(t,n),l=c=>{if(!y_(c))return;const{target:h}=c,p=e(h,c);if(typeof p!="function"||!h)return;const g=w=>{y_(w)&&(p(w),h.removeEventListener("pointerleave",g))};h.addEventListener("pointerleave",g,s)};return r.forEach(c=>{c.addEventListener("pointerenter",l,s)}),a}function v_(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const zE=(t,e)=>e?t===e?!0:zE(t,e.parentElement):!1,_g=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,AR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PR(t){return AR.has(t.tagName)||t.tabIndex!==-1}const Hl=new WeakSet;function __(t){return e=>{e.key==="Enter"&&t(e)}}function Ip(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const RR=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=__(()=>{if(Hl.has(n))return;Ip(n,"down");const s=__(()=>{Ip(n,"up")}),a=()=>Ip(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function w_(t){return _g(t)&&!$E()}function kR(t,e,n={}){const[r,s,a]=BE(t,n),l=c=>{const h=c.currentTarget;if(!h||!w_(c)||Hl.has(h))return;Hl.add(h),v_(c,"set");const p=e(h,c),g=(S,R)=>{h.removeEventListener("pointerup",w),h.removeEventListener("pointercancel",x),v_(S,"release"),!(!w_(S)||!Hl.has(h))&&(Hl.delete(h),typeof p=="function"&&p(S,{success:R}))},w=S=>{(S.isTrusted?NR(S,h instanceof Element?h.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(S,!1):g(S,!(h instanceof Element)||zE(h,S.target))},x=S=>{g(S,!1)};h.addEventListener("pointerup",w,s),h.addEventListener("pointercancel",x,s),h.addEventListener("lostpointercapture",x,s)};return r.forEach(c=>{c=n.useGlobalTarget?window:c;let h=!1;c instanceof HTMLElement&&(h=!0,!PR(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0)),c.addEventListener("pointerdown",l,s),h&&c.addEventListener("focus",p=>RR(p,s),s)}),a}function NR(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const x_=30,DR=t=>!isNaN(parseFloat(t));class VR{constructor(e,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=Rr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Rr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=DR(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new pg);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Rr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>x_)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,x_);return LE(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function uu(t,e){return new VR(t,e)}const WE=k.createContext({strict:!1}),E_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ca={};for(const t in E_)Ca[t]={isEnabled:e=>E_[t].some(n=>!!e[n])};function LR(t){for(const e in t)Ca[e]={...Ca[e],...t[e]}}const OR=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||OR.has(t)}let HE=t=>!jd(t);function MR(t){t&&(HE=e=>e.startsWith("on")?!jd(e):t(e))}try{MR(require("@emotion/is-prop-valid").default)}catch{}function jR(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(HE(s)||n===!0&&jd(s)||!e&&!jd(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function FR(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const fh=k.createContext({});function ph(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function cu(t){return typeof t=="string"||Array.isArray(t)}const wg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xg=["initial",...wg];function mh(t){return ph(t.animate)||xg.some(e=>cu(t[e]))}function qE(t){return!!(mh(t)||t.variants)}function UR(t,e){if(mh(t)){const{initial:n,animate:r}=t;return{initial:n===!1||cu(n)?n:void 0,animate:cu(r)?r:void 0}}return t.inherit!==!1?e:{}}function $R(t){const{initial:e,animate:n}=UR(t,k.useContext(fh));return k.useMemo(()=>({initial:e,animate:n}),[T_(e),T_(n)])}function T_(t){return Array.isArray(t)?t.join(" "):t}const BR=Symbol.for("motionComponentSymbol");function ma(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zR(t,e,n){return k.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ma(n)&&(n.current=r))},[e])}const Eg=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),WR="framerAppearId",KE="data-"+Eg(WR),GE=k.createContext({});function HR(t,e,n,r,s){var a,l;const{visualElement:c}=k.useContext(fh),h=k.useContext(WE),p=k.useContext(hh),g=k.useContext(cg).reducedMotion,w=k.useRef(null);r=r||h.renderer,!w.current&&r&&(w.current=r(t,{visualState:e,parent:c,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const x=w.current,S=k.useContext(GE);x&&!x.projection&&s&&(x.type==="html"||x.type==="svg")&&qR(w.current,n,s,S);const R=k.useRef(!1);k.useInsertionEffect(()=>{x&&R.current&&x.update(n,p)});const L=n[KE],N=k.useRef(!!L&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,L))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,L)));return NE(()=>{x&&(R.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),vg.render(x.render),N.current&&x.animationState&&x.animationState.animateChanges())}),k.useEffect(()=>{x&&(!N.current&&x.animationState&&x.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var O;(O=window.MotionHandoffMarkAsComplete)===null||O===void 0||O.call(window,L)}),N.current=!1))}),x}function qR(t,e,n,r){const{layoutId:s,layout:a,drag:l,dragConstraints:c,layoutScroll:h,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:QE(t.parent)),t.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!l||c&&ma(c),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:h,layoutRoot:p})}function QE(t){if(t)return t.options.allowProjection!==!1?t.projection:QE(t.parent)}function KR({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){var a,l;t&&LR(t);function c(p,g){let w;const x={...k.useContext(cg),...p,layoutId:GR(p)},{isStatic:S}=x,R=$R(p),L=r(p,S);if(!S&&ug){QR();const N=YR(x);w=N.MeasureLayout,R.visualElement=HR(s,L,x,e,N.ProjectionNode)}return _.jsxs(fh.Provider,{value:R,children:[w&&R.visualElement?_.jsx(w,{visualElement:R.visualElement,...x}):null,n(s,p,zR(L,R.visualElement,g),L,S,R.visualElement)]})}c.displayName=`motion.${typeof s=="string"?s:`create(${(l=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&l!==void 0?l:""})`}`;const h=k.forwardRef(c);return h[BR]=s,h}function GR({layoutId:t}){const e=k.useContext(ag).id;return e&&t!==void 0?e+"-"+t:t}function QR(t,e){k.useContext(WE).strict}function YR(t){const{drag:e,layout:n}=Ca;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const YE=t=>e=>typeof e=="string"&&e.startsWith(t),Tg=YE("--"),XR=YE("var(--"),bg=t=>XR(t)?JR.test(t.split("/*")[0].trim()):!1,JR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,du={};function ZR(t){for(const e in t)du[e]=t[e],Tg(e)&&(du[e].isCSSVariable=!0)}const ja=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],fo=new Set(ja);function XE(t,{layout:e,layoutId:n}){return fo.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!du[t]||t==="opacity")}const en=t=>!!(t&&t.getVelocity),JE=(t,e)=>e&&typeof t=="number"?e.transform(t):t,gi=(t,e,n)=>n>e?e:n<t?t:n,Fa={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},hu={...Fa,transform:t=>gi(0,1,t)},ld={...Fa,default:1},Au=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ki=Au("deg"),kr=Au("%"),Ie=Au("px"),ek=Au("vh"),tk=Au("vw"),b_={...kr,parse:t=>kr.parse(t)/100,transform:t=>kr.transform(t*100)},nk={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,backgroundPositionX:Ie,backgroundPositionY:Ie},rk={rotate:Ki,rotateX:Ki,rotateY:Ki,rotateZ:Ki,scale:ld,scaleX:ld,scaleY:ld,scaleZ:ld,skew:Ki,skewX:Ki,skewY:Ki,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:hu,originX:b_,originY:b_,originZ:Ie},S_={...Fa,transform:Math.round},Sg={...nk,...rk,zIndex:S_,size:Ie,fillOpacity:hu,strokeOpacity:hu,numOctaves:S_},ik={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},sk=ja.length;function ok(t,e,n){let r="",s=!0;for(let a=0;a<sk;a++){const l=ja[a],c=t[l];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(l.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||n){const p=JE(c,Sg[l]);if(!h){s=!1;const g=ik[l]||l;r+=`${g}(${p}) `}n&&(e[l]=p)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Cg(t,e,n){const{style:r,vars:s,transformOrigin:a}=t;let l=!1,c=!1;for(const h in e){const p=e[h];if(fo.has(h)){l=!0;continue}else if(Tg(h)){s[h]=p;continue}else{const g=JE(p,Sg[h]);h.startsWith("origin")?(c=!0,a[h]=g):r[h]=g}}if(e.transform||(l||n?r.transform=ok(e,t.transform,n):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${h} ${p} ${g}`}}const Ig=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function ZE(t,e,n){for(const r in e)!en(e[r])&&!XE(r,n)&&(t[r]=e[r])}function ak({transformTemplate:t},e){return k.useMemo(()=>{const n=Ig();return Cg(n,e,t),Object.assign({},n.vars,n.style)},[e])}function lk(t,e){const n=t.style||{},r={};return ZE(r,n,t),Object.assign(r,ak(t,e)),r}function uk(t,e){const n={},r=lk(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const ck=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Ag(t){return typeof t!="string"||t.includes("-")?!1:!!(ck.indexOf(t)>-1||/[A-Z]/u.test(t))}const dk={offset:"stroke-dashoffset",array:"stroke-dasharray"},hk={offset:"strokeDashoffset",array:"strokeDasharray"};function fk(t,e,n=1,r=0,s=!0){t.pathLength=1;const a=s?dk:hk;t[a.offset]=Ie.transform(-r);const l=Ie.transform(e),c=Ie.transform(n);t[a.array]=`${l} ${c}`}function C_(t,e,n){return typeof t=="string"?t:Ie.transform(e+n*t)}function pk(t,e,n){const r=C_(e,t.x,t.width),s=C_(n,t.y,t.height);return`${r} ${s}`}function Pg(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:h=0,...p},g,w){if(Cg(t,p,w),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:x,style:S,dimensions:R}=t;x.transform&&(R&&(S.transform=x.transform),delete x.transform),R&&(s!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=pk(R,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(x.x=e),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),l!==void 0&&fk(x,l,c,h,!1)}const eT=()=>({...Ig(),attrs:{}}),Rg=t=>typeof t=="string"&&t.toLowerCase()==="svg";function mk(t,e,n,r){const s=k.useMemo(()=>{const a=eT();return Pg(a,e,Rg(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};ZE(a,t.style,t),s.style={...a,...s.style}}return s}function gk(t=!1){return(n,r,s,{latestValues:a},l)=>{const h=(Ag(n)?mk:uk)(r,a,l,n),p=jR(r,typeof n=="string",t),g=n!==k.Fragment?{...p,...h,ref:s}:{},{children:w}=r,x=k.useMemo(()=>en(w)?w.get():w,[w]);return k.createElement(n,{...g,children:x})}}function I_(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function kg(t,e,n,r){if(typeof e=="function"){const[s,a]=I_(r);e=e(n!==void 0?n:t.custom,s,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,a]=I_(r);e=e(n!==void 0?n:t.custom,s,a)}return e}const sm=t=>Array.isArray(t),yk=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),vk=t=>sm(t)?t[t.length-1]||0:t;function xd(t){const e=en(t)?t.get():t;return yk(e)?e.toValue():e}function _k({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,s,a){const l={latestValues:wk(r,s,a,t),renderState:e()};return n&&(l.onMount=c=>n({props:r,current:c,...l}),l.onUpdate=c=>n(c)),l}const tT=t=>(e,n)=>{const r=k.useContext(fh),s=k.useContext(hh),a=()=>_k(t,e,r,s);return n?a():lg(a)};function wk(t,e,n,r){const s={},a=r(t,{});for(const x in a)s[x]=xd(a[x]);let{initial:l,animate:c}=t;const h=mh(t),p=qE(t);e&&p&&!h&&t.inherit!==!1&&(l===void 0&&(l=e.initial),c===void 0&&(c=e.animate));let g=n?n.initial===!1:!1;g=g||l===!1;const w=g?c:l;if(w&&typeof w!="boolean"&&!ph(w)){const x=Array.isArray(w)?w:[w];for(let S=0;S<x.length;S++){const R=kg(t,x[S]);if(R){const{transitionEnd:L,transition:N,...O}=R;for(const q in O){let B=O[q];if(Array.isArray(B)){const Y=g?B.length-1:0;B=B[Y]}B!==null&&(s[q]=B)}for(const q in L)s[q]=L[q]}}}return s}function Ng(t,e,n){var r;const{style:s}=t,a={};for(const l in s)(en(s[l])||e.style&&en(e.style[l])||XE(l,t)||((r=n==null?void 0:n.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[l]=s[l]);return a}const xk={useVisualState:tT({scrapeMotionValuesFromProps:Ng,createRenderState:Ig})};function nT(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function rT(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const iT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function sT(t,e,n,r){rT(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(iT.has(s)?s:Eg(s),e.attrs[s])}function oT(t,e,n){const r=Ng(t,e,n);for(const s in t)if(en(t[s])||en(e[s])){const a=ja.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=t[s]}return r}const A_=["x","y","width","height","cx","cy","r"],Ek={useVisualState:tT({scrapeMotionValuesFromProps:oT,createRenderState:eT,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:s})=>{if(!n)return;let a=!!t.drag;if(!a){for(const c in s)if(fo.has(c)){a=!0;break}}if(!a)return;let l=!e;if(e)for(let c=0;c<A_.length;c++){const h=A_[c];t[h]!==e[h]&&(l=!0)}l&&Ye.read(()=>{nT(n,r),Ye.render(()=>{Pg(r,s,Rg(n.tagName),t.transformTemplate),sT(n,r)})})}})};function Tk(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const l={...Ag(r)?Ek:xk,preloadedFeatures:t,useRender:gk(s),createVisualElement:e,Component:r};return KR(l)}}function fu(t,e,n){const r=t.getProps();return kg(r,e,n!==void 0?n:r.custom,t)}const aT=new Set(["width","height","top","left","right","bottom",...ja]);function bk(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,uu(n))}function Sk(t,e){const n=fu(t,e);let{transitionEnd:r={},transition:s={},...a}=n||{};a={...a,...r};for(const l in a){const c=vk(a[l]);bk(t,l,c)}}function Ck(t){return!!(en(t)&&t.add)}function om(t,e){const n=t.getValue("willChange");if(Ck(n))return n.add(e)}function lT(t){return t.props[KE]}const uT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,Ik=1e-7,Ak=12;function Pk(t,e,n,r,s){let a,l,c=0;do l=e+(n-e)/2,a=uT(l,r,s)-t,a>0?n=l:e=l;while(Math.abs(a)>Ik&&++c<Ak);return l}function Pu(t,e,n,r){if(t===e&&n===r)return Pn;const s=a=>Pk(a,0,1,t,n);return a=>a===0||a===1?a:uT(s(a),e,r)}const cT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,dT=t=>e=>1-t(1-e),hT=Pu(.33,1.53,.69,.99),Dg=dT(hT),fT=cT(Dg),pT=t=>(t*=2)<1?.5*Dg(t):.5*(2-Math.pow(2,-10*(t-1))),Vg=t=>1-Math.sin(Math.acos(t)),mT=dT(Vg),gT=cT(Vg),yT=t=>/^0[^.\s]+$/u.test(t);function Rk(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||yT(t):!0}const Jl=t=>Math.round(t*1e5)/1e5,Lg=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function kk(t){return t==null}const Nk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Og=(t,e)=>n=>!!(typeof n=="string"&&Nk.test(n)&&n.startsWith(t)||e&&!kk(n)&&Object.prototype.hasOwnProperty.call(n,e)),vT=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,a,l,c]=r.match(Lg);return{[t]:parseFloat(s),[e]:parseFloat(a),[n]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},Dk=t=>gi(0,255,t),Ap={...Fa,transform:t=>Math.round(Dk(t))},to={test:Og("rgb","red"),parse:vT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Ap.transform(t)+", "+Ap.transform(e)+", "+Ap.transform(n)+", "+Jl(hu.transform(r))+")"};function Vk(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const am={test:Og("#"),parse:Vk,transform:to.transform},ga={test:Og("hsl","hue"),parse:vT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+kr.transform(Jl(e))+", "+kr.transform(Jl(n))+", "+Jl(hu.transform(r))+")"},Xt={test:t=>to.test(t)||am.test(t)||ga.test(t),parse:t=>to.test(t)?to.parse(t):ga.test(t)?ga.parse(t):am.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?to.transform(t):ga.transform(t)},Lk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ok(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Lg))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(Lk))===null||n===void 0?void 0:n.length)||0)>0}const _T="number",wT="color",Mk="var",jk="var(",P_="${}",Fk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pu(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let a=0;const c=e.replace(Fk,h=>(Xt.test(h)?(r.color.push(a),s.push(wT),n.push(Xt.parse(h))):h.startsWith(jk)?(r.var.push(a),s.push(Mk),n.push(h)):(r.number.push(a),s.push(_T),n.push(parseFloat(h))),++a,P_)).split(P_);return{values:n,split:c,indexes:r,types:s}}function xT(t){return pu(t).values}function ET(t){const{split:e,types:n}=pu(t),r=e.length;return s=>{let a="";for(let l=0;l<r;l++)if(a+=e[l],s[l]!==void 0){const c=n[l];c===_T?a+=Jl(s[l]):c===wT?a+=Xt.transform(s[l]):a+=s[l]}return a}}const Uk=t=>typeof t=="number"?0:t;function $k(t){const e=xT(t);return ET(t)(e.map(Uk))}const as={test:Ok,parse:xT,createTransformer:ET,getAnimatableNone:$k},Bk=new Set(["brightness","contrast","saturate","opacity"]);function zk(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Lg)||[];if(!r)return t;const s=n.replace(r,"");let a=Bk.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+s+")"}const Wk=/\b([a-z-]*)\(.*?\)/gu,lm={...as,getAnimatableNone:t=>{const e=t.match(Wk);return e?e.map(zk).join(" "):t}},Hk={...Sg,color:Xt,backgroundColor:Xt,outlineColor:Xt,fill:Xt,stroke:Xt,borderColor:Xt,borderTopColor:Xt,borderRightColor:Xt,borderBottomColor:Xt,borderLeftColor:Xt,filter:lm,WebkitFilter:lm},TT=t=>Hk[t];function bT(t,e){let n=TT(t);return n!==lm&&(n=as),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const qk=new Set(["auto","none","0"]);function Kk(t,e,n){let r=0,s;for(;r<t.length&&!s;){const a=t[r];typeof a=="string"&&!qk.has(a)&&pu(a).values.length&&(s=t[r]),r++}if(s&&n)for(const a of e)t[a]=bT(n,s)}const no=t=>t*180/Math.PI,um=t=>{const e=no(Math.atan2(t[1],t[0]));return cm(e)},Gk={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:um,rotateZ:um,skewX:t=>no(Math.atan(t[1])),skewY:t=>no(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},cm=t=>(t=t%360,t<0&&(t+=360),t),R_=um,k_=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),N_=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Qk={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:k_,scaleY:N_,scale:t=>(k_(t)+N_(t))/2,rotateX:t=>cm(no(Math.atan2(t[6],t[5]))),rotateY:t=>cm(no(Math.atan2(-t[2],t[0]))),rotateZ:R_,rotate:R_,skewX:t=>no(Math.atan(t[4])),skewY:t=>no(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function D_(t){return t.includes("scale")?1:0}function dm(t,e){if(!t||t==="none")return D_(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Qk,s=n;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Gk,s=c}if(!s)return D_(e);const a=r[e],l=s[1].split(",").map(Xk);return typeof a=="function"?a(l):l[a]}const Yk=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return dm(n,e)};function Xk(t){return parseFloat(t.trim())}const V_=t=>t===Fa||t===Ie,Jk=new Set(["x","y","z"]),Zk=ja.filter(t=>!Jk.has(t));function e1(t){const e=[];return Zk.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ia={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>dm(e,"x"),y:(t,{transform:e})=>dm(e,"y")};Ia.translateX=Ia.x;Ia.translateY=Ia.y;const io=new Set;let hm=!1,fm=!1;function ST(){if(fm){const t=Array.from(io).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=e1(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([a,l])=>{var c;(c=r.getValue(a))===null||c===void 0||c.set(l)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}fm=!1,hm=!1,io.forEach(t=>t.complete()),io.clear()}function CT(){io.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(fm=!0)})}function t1(){CT(),ST()}class Mg{constructor(e,n,r,s,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(io.add(this),hm||(hm=!0,Ye.read(CT),Ye.resolveKeyframes(ST))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const l=s==null?void 0:s.get(),c=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,c);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=c),s&&l===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),io.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,io.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const IT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),n1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function r1(t){const e=n1.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function AT(t,e,n=1){const[r,s]=r1(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const l=a.trim();return IT(l)?parseFloat(l):l}return bg(s)?AT(s,e,n+1):s}const PT=t=>e=>e.test(t),i1={test:t=>t==="auto",parse:t=>t},RT=[Fa,Ie,kr,Ki,tk,ek,i1],L_=t=>RT.find(PT(t));class kT extends Mg{constructor(e,n,r,s,a){super(e,n,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let h=0;h<e.length;h++){let p=e[h];if(typeof p=="string"&&(p=p.trim(),bg(p))){const g=AT(p,n.current);g!==void 0&&(e[h]=g),h===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!aT.has(r)||e.length!==2)return;const[s,a]=e,l=L_(s),c=L_(a);if(l!==c)if(V_(l)&&V_(c))for(let h=0;h<e.length;h++){const p=e[h];typeof p=="string"&&(e[h]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)Rk(e[s])&&r.push(s);r.length&&Kk(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ia[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:s}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const l=s.length-1,c=s[l];s[l]=Ia[r](n.measureViewportBox(),window.getComputedStyle(n.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([h,p])=>{n.getValue(h).set(p)}),this.resolveNoneKeyframes()}}const O_=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(as.test(t)||t==="0")&&!t.startsWith("url("));function s1(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function o1(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],l=O_(s,e),c=O_(a,e);return!l||!c?!1:s1(t)||(n==="spring"||gg(n))&&r}const a1=t=>t!==null;function gh(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(a1),a=e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const l1=40;class NT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Rr.now(),this.options={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>l1?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&t1(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Rr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:l,onComplete:c,onUpdate:h,isGenerator:p}=this.options;if(!p&&!o1(e,r,s,a))if(l)this.options.duration=0;else{h&&h(gh(e,this.options,n)),c&&c(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const it=(t,e,n)=>t+(e-t)*n;function Pp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function u1({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,a=0,l=0;if(!e)s=a=l=n;else{const c=n<.5?n*(1+e):n+e-n*e,h=2*n-c;s=Pp(h,c,t+1/3),a=Pp(h,c,t),l=Pp(h,c,t-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:r}}function Fd(t,e){return n=>n>0?e:t}const Rp=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},c1=[am,to,ga],d1=t=>c1.find(e=>e.test(t));function M_(t){const e=d1(t);if(!e)return!1;let n=e.parse(t);return e===ga&&(n=u1(n)),n}const j_=(t,e)=>{const n=M_(t),r=M_(e);if(!n||!r)return Fd(t,e);const s={...n};return a=>(s.red=Rp(n.red,r.red,a),s.green=Rp(n.green,r.green,a),s.blue=Rp(n.blue,r.blue,a),s.alpha=it(n.alpha,r.alpha,a),to.transform(s))},h1=(t,e)=>n=>e(t(n)),Ru=(...t)=>t.reduce(h1),pm=new Set(["none","hidden"]);function f1(t,e){return pm.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function p1(t,e){return n=>it(t,e,n)}function jg(t){return typeof t=="number"?p1:typeof t=="string"?bg(t)?Fd:Xt.test(t)?j_:y1:Array.isArray(t)?DT:typeof t=="object"?Xt.test(t)?j_:m1:Fd}function DT(t,e){const n=[...t],r=n.length,s=t.map((a,l)=>jg(a)(a,e[l]));return a=>{for(let l=0;l<r;l++)n[l]=s[l](a);return n}}function m1(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=jg(t[s])(t[s],e[s]));return s=>{for(const a in r)n[a]=r[a](s);return n}}function g1(t,e){var n;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],c=t.indexes[l][s[l]],h=(n=t.values[c])!==null&&n!==void 0?n:0;r[a]=h,s[l]++}return r}const y1=(t,e)=>{const n=as.createTransformer(e),r=pu(t),s=pu(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?pm.has(t)&&!s.values.length||pm.has(e)&&!r.values.length?f1(t,e):Ru(DT(g1(r,s),s.values),n):Fd(t,e)};function VT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?it(t,e,n):jg(t)(t,e)}const v1=5;function LT(t,e,n){const r=Math.max(e-v1,0);return LE(n-t(r),e-r)}const lt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},F_=.001;function _1({duration:t=lt.duration,bounce:e=lt.bounce,velocity:n=lt.velocity,mass:r=lt.mass}){let s,a,l=1-e;l=gi(lt.minDamping,lt.maxDamping,l),t=gi(lt.minDuration,lt.maxDuration,fi(t)),l<1?(s=p=>{const g=p*l,w=g*t,x=g-n,S=mm(p,l),R=Math.exp(-w);return F_-x/S*R},a=p=>{const w=p*l*t,x=w*n+n,S=Math.pow(l,2)*Math.pow(p,2)*t,R=Math.exp(-w),L=mm(Math.pow(p,2),l);return(-s(p)+F_>0?-1:1)*((x-S)*R)/L}):(s=p=>{const g=Math.exp(-p*t),w=(p-n)*t+1;return-.001+g*w},a=p=>{const g=Math.exp(-p*t),w=(n-p)*(t*t);return g*w});const c=5/t,h=x1(s,a,c);if(t=hi(t),isNaN(h))return{stiffness:lt.stiffness,damping:lt.damping,duration:t};{const p=Math.pow(h,2)*r;return{stiffness:p,damping:l*2*Math.sqrt(r*p),duration:t}}}const w1=12;function x1(t,e,n){let r=n;for(let s=1;s<w1;s++)r=r-t(r)/e(r);return r}function mm(t,e){return t*Math.sqrt(1-e*e)}const E1=["duration","bounce"],T1=["stiffness","damping","mass"];function U_(t,e){return e.some(n=>t[n]!==void 0)}function b1(t){let e={velocity:lt.velocity,stiffness:lt.stiffness,damping:lt.damping,mass:lt.mass,isResolvedFromDuration:!1,...t};if(!U_(t,T1)&&U_(t,E1))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,a=2*gi(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:lt.mass,stiffness:s,damping:a}}else{const n=_1(t);e={...e,...n,mass:lt.mass},e.isResolvedFromDuration=!0}return e}function OT(t=lt.visualDuration,e=lt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const a=n.keyframes[0],l=n.keyframes[n.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:p,mass:g,duration:w,velocity:x,isResolvedFromDuration:S}=b1({...n,velocity:-fi(n.velocity||0)}),R=x||0,L=p/(2*Math.sqrt(h*g)),N=l-a,O=fi(Math.sqrt(h/g)),q=Math.abs(N)<5;r||(r=q?lt.restSpeed.granular:lt.restSpeed.default),s||(s=q?lt.restDelta.granular:lt.restDelta.default);let B;if(L<1){const Q=mm(O,L);B=$=>{const P=Math.exp(-L*O*$);return l-P*((R+L*O*N)/Q*Math.sin(Q*$)+N*Math.cos(Q*$))}}else if(L===1)B=Q=>l-Math.exp(-O*Q)*(N+(R+O*N)*Q);else{const Q=O*Math.sqrt(L*L-1);B=$=>{const P=Math.exp(-L*O*$),T=Math.min(Q*$,300);return l-P*((R+L*O*N)*Math.sinh(T)+Q*N*Math.cosh(T))/Q}}const Y={calculatedDuration:S&&w||null,next:Q=>{const $=B(Q);if(S)c.done=Q>=w;else{let P=0;L<1&&(P=Q===0?hi(R):LT(B,Q,$));const T=Math.abs(P)<=r,C=Math.abs(l-$)<=s;c.done=T&&C}return c.value=c.done?l:$,c},toString:()=>{const Q=Math.min(OE(Y),rm),$=ME(P=>Y.next(Q*P).value,Q,30);return Q+"ms "+$}};return Y}function $_({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:h,restDelta:p=.5,restSpeed:g}){const w=t[0],x={done:!1,value:w},S=T=>c!==void 0&&T<c||h!==void 0&&T>h,R=T=>c===void 0?h:h===void 0||Math.abs(c-T)<Math.abs(h-T)?c:h;let L=n*e;const N=w+L,O=l===void 0?N:l(N);O!==N&&(L=O-w);const q=T=>-L*Math.exp(-T/r),B=T=>O+q(T),Y=T=>{const C=q(T),A=B(T);x.done=Math.abs(C)<=p,x.value=x.done?O:A};let Q,$;const P=T=>{S(x.value)&&(Q=T,$=OT({keyframes:[x.value,R(x.value)],velocity:LT(B,T,x.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return P(0),{calculatedDuration:null,next:T=>{let C=!1;return!$&&Q===void 0&&(C=!0,Y(T),P(T)),Q!==void 0&&T>=Q?$.next(T-Q):(!C&&Y(T),x)}}}const S1=Pu(.42,0,1,1),C1=Pu(0,0,.58,1),MT=Pu(.42,0,.58,1),I1=t=>Array.isArray(t)&&typeof t[0]!="number",A1={linear:Pn,easeIn:S1,easeInOut:MT,easeOut:C1,circIn:Vg,circInOut:gT,circOut:mT,backIn:Dg,backInOut:fT,backOut:hT,anticipate:pT},B_=t=>{if(yg(t)){VE(t.length===4);const[e,n,r,s]=t;return Pu(e,n,r,s)}else if(typeof t=="string")return A1[t];return t};function P1(t,e,n){const r=[],s=n||VT,a=t.length-1;for(let l=0;l<a;l++){let c=s(t[l],t[l+1]);if(e){const h=Array.isArray(e)?e[l]||Pn:e;c=Ru(h,c)}r.push(c)}return r}function R1(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const a=t.length;if(VE(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const l=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=P1(e,r,s),h=c.length,p=g=>{if(l&&g<t[0])return e[0];let w=0;if(h>1)for(;w<t.length-2&&!(g<t[w+1]);w++);const x=Sa(t[w],t[w+1],g);return c[w](x)};return n?g=>p(gi(t[0],t[a-1],g)):p}function k1(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Sa(0,e,r);t.push(it(n,1,s))}}function N1(t){const e=[0];return k1(e,t.length-1),e}function D1(t,e){return t.map(n=>n*e)}function V1(t,e){return t.map(()=>e||MT).splice(0,t.length-1)}function Ud({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=I1(r)?r.map(B_):B_(r),a={done:!1,value:e[0]},l=D1(n&&n.length===e.length?n:N1(e),t),c=R1(l,e,{ease:Array.isArray(s)?s:V1(e,s)});return{calculatedDuration:t,next:h=>(a.value=c(h),a.done=h>=t,a)}}const L1=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ye.update(e,!0),stop:()=>os(e),now:()=>$t.isProcessing?$t.timestamp:Rr.now()}},O1={decay:$_,inertia:$_,tween:Ud,keyframes:Ud,spring:OT},M1=t=>t/100;class Fg extends NT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:h}=this.options;h&&h()};const{name:n,motionValue:r,element:s,keyframes:a}=this.options,l=(s==null?void 0:s.KeyframeResolver)||Mg,c=(h,p)=>this.onKeyframesResolved(h,p);this.resolver=new l(a,c,n,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:l=0}=this.options,c=gg(n)?n:O1[n]||Ud;let h,p;c!==Ud&&typeof e[0]!="number"&&(h=Ru(M1,VT(e[0],e[1])),e=[0,100]);const g=c({...this.options,keyframes:e});a==="mirror"&&(p=c({...this.options,keyframes:[...e].reverse(),velocity:-l})),g.calculatedDuration===null&&(g.calculatedDuration=OE(g));const{calculatedDuration:w}=g,x=w+s,S=x*(r+1)-s;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:h,calculatedDuration:w,resolvedDuration:x,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:T}=this.options;return{done:!0,value:T[T.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:h,calculatedDuration:p,totalDuration:g,resolvedDuration:w}=r;if(this.startTime===null)return a.next(0);const{delay:x,repeat:S,repeatType:R,repeatDelay:L,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const O=this.currentTime-x*(this.speed>=0?1:-1),q=this.speed>=0?O<0:O>g;this.currentTime=Math.max(O,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let B=this.currentTime,Y=a;if(S){const T=Math.min(this.currentTime,g)/w;let C=Math.floor(T),A=T%1;!A&&T>=1&&(A=1),A===1&&C--,C=Math.min(C,S+1),!!(C%2)&&(R==="reverse"?(A=1-A,L&&(A-=L/w)):R==="mirror"&&(Y=l)),B=gi(0,1,A)*w}const Q=q?{done:!1,value:h[0]}:Y.next(B);c&&(Q.value=c(Q.value));let{done:$}=Q;!q&&p!==null&&($=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&$);return P&&s!==void 0&&(Q.value=gh(h,this.options,s)),N&&N(Q.value),P&&this.finish(),Q}get duration(){const{resolved:e}=this;return e?fi(e.calculatedDuration):0}get time(){return fi(this.currentTime)}set time(e){e=hi(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=fi(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=L1,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const j1=new Set(["opacity","clipPath","filter","transform"]);function F1(t,e,n,{delay:r=0,duration:s=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:h}={}){const p={[e]:n};h&&(p.offset=h);const g=FE(c,s);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}const U1=fg(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$d=10,$1=2e4;function B1(t){return gg(t.type)||t.type==="spring"||!jE(t.ease)}function z1(t,e){const n=new Fg({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const s=[];let a=0;for(;!r.done&&a<$1;)r=n.sample(a),s.push(r.value),a+=$d;return{times:void 0,keyframes:s,duration:a-$d,ease:"linear"}}const jT={anticipate:pT,backInOut:fT,circInOut:gT};function W1(t){return t in jT}class z_ extends NT{constructor(e){super(e);const{name:n,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new kT(a,(l,c)=>this.onKeyframesResolved(l,c),n,r,s),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:s,ease:a,type:l,motionValue:c,name:h,startTime:p}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof a=="string"&&Md()&&W1(a)&&(a=jT[a]),B1(this.options)){const{onComplete:w,onUpdate:x,motionValue:S,element:R,...L}=this.options,N=z1(e,L);e=N.keyframes,e.length===1&&(e[1]=e[0]),r=N.duration,s=N.times,a=N.ease,l="keyframes"}const g=F1(c.owner.current,h,e,{...this.options,duration:r,times:s,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(m_(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:w}=this.options;c.set(gh(e,this.options,n)),w&&w(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:l,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return fi(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return fi(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=hi(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Pn;const{animation:r}=n;m_(r,e)}return Pn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:s,type:a,ease:l,times:c}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:w,element:x,...S}=this.options,R=new Fg({...S,keyframes:r,duration:s,type:a,ease:l,times:c,isGenerator:!0}),L=hi(this.time);p.setWithVelocity(R.sample(L-$d).value,R.sample(L).value,$d)}const{onStop:h}=this.options;h&&h(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:s,repeatType:a,damping:l,type:c}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:p}=n.owner.getProps();return U1()&&r&&j1.has(r)&&!h&&!p&&!s&&a!=="mirror"&&l!==0&&c!=="inertia"}}const H1={type:"spring",stiffness:500,damping:25,restSpeed:10},q1=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),K1={type:"keyframes",duration:.8},G1={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Q1=(t,{keyframes:e})=>e.length>2?K1:fo.has(t)?t.startsWith("scale")?q1(e[1]):H1:G1;function Y1({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:l,repeatDelay:c,from:h,elapsed:p,...g}){return!!Object.keys(g).length}const Ug=(t,e,n,r={},s,a)=>l=>{const c=mg(r,t)||{},h=c.delay||r.delay||0;let{elapsed:p=0}=r;p=p-hi(h);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-p,onUpdate:x=>{e.set(x),c.onUpdate&&c.onUpdate(x)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:a?void 0:s};Y1(c)||(g={...g,...Q1(t,g)}),g.duration&&(g.duration=hi(g.duration)),g.repeatDelay&&(g.repeatDelay=hi(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let w=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(w=!0)),g.allowFlatten=!c.type&&!c.ease,w&&!a&&e.get()!==void 0){const x=gh(g.keyframes,c);if(x!==void 0)return Ye.update(()=>{g.onUpdate(x),g.onComplete()}),new _R([])}return!a&&z_.supports(g)?new z_(g):new Fg(g)};function X1({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function FT(t,e,{delay:n=0,transitionOverride:r,type:s}={}){var a;let{transition:l=t.getDefaultTransition(),transitionEnd:c,...h}=e;r&&(l=r);const p=[],g=s&&t.animationState&&t.animationState.getState()[s];for(const w in h){const x=t.getValue(w,(a=t.latestValues[w])!==null&&a!==void 0?a:null),S=h[w];if(S===void 0||g&&X1(g,w))continue;const R={delay:n,...mg(l||{},w)};let L=!1;if(window.MotionHandoffAnimation){const O=lT(t);if(O){const q=window.MotionHandoffAnimation(O,w,Ye);q!==null&&(R.startTime=q,L=!0)}}om(t,w),x.start(Ug(w,x,S,t.shouldReduceMotion&&aT.has(w)?{type:!1}:R,t,L));const N=x.animation;N&&p.push(N)}return c&&Promise.all(p).then(()=>{Ye.update(()=>{c&&Sk(t,c)})}),p}function gm(t,e,n={}){var r;const s=fu(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=s||{};n.transitionOverride&&(a=n.transitionOverride);const l=s?()=>Promise.all(FT(t,s,n)):()=>Promise.resolve(),c=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:w,staggerDirection:x}=a;return J1(t,e,g+p,w,x,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[p,g]=h==="beforeChildren"?[l,c]:[c,l];return p().then(()=>g())}else return Promise.all([l(),c(n.delay)])}function J1(t,e,n=0,r=0,s=1,a){const l=[],c=(t.variantChildren.size-1)*r,h=s===1?(p=0)=>p*r:(p=0)=>c-p*r;return Array.from(t.variantChildren).sort(Z1).forEach((p,g)=>{p.notify("AnimationStart",e),l.push(gm(p,e,{...a,delay:n+h(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(l)}function Z1(t,e){return t.sortNodePosition(e)}function eN(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>gm(t,a,n));r=Promise.all(s)}else if(typeof e=="string")r=gm(t,e,n);else{const s=typeof e=="function"?fu(t,e,n.custom):e;r=Promise.all(FT(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function UT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const tN=xg.length;function $T(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?$T(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<tN;n++){const r=xg[n],s=t.props[r];(cu(s)||s===!1)&&(e[r]=s)}return e}const nN=[...wg].reverse(),rN=wg.length;function iN(t){return e=>Promise.all(e.map(({animation:n,options:r})=>eN(t,n,r)))}function sN(t){let e=iN(t),n=W_(),r=!0;const s=h=>(p,g)=>{var w;const x=fu(t,g,h==="exit"?(w=t.presenceContext)===null||w===void 0?void 0:w.custom:void 0);if(x){const{transition:S,transitionEnd:R,...L}=x;p={...p,...L,...R}}return p};function a(h){e=h(t)}function l(h){const{props:p}=t,g=$T(t.parent)||{},w=[],x=new Set;let S={},R=1/0;for(let N=0;N<rN;N++){const O=nN[N],q=n[O],B=p[O]!==void 0?p[O]:g[O],Y=cu(B),Q=O===h?q.isActive:null;Q===!1&&(R=N);let $=B===g[O]&&B!==p[O]&&Y;if($&&r&&t.manuallyAnimateOnMount&&($=!1),q.protectedKeys={...S},!q.isActive&&Q===null||!B&&!q.prevProp||ph(B)||typeof B=="boolean")continue;const P=oN(q.prevProp,B);let T=P||O===h&&q.isActive&&!$&&Y||N>R&&Y,C=!1;const A=Array.isArray(B)?B:[B];let M=A.reduce(s(O),{});Q===!1&&(M={});const{prevResolvedValues:U={}}=q,D={...U,...M},te=_e=>{T=!0,x.has(_e)&&(C=!0,x.delete(_e)),q.needsAnimating[_e]=!0;const oe=t.getValue(_e);oe&&(oe.liveStyle=!1)};for(const _e in D){const oe=M[_e],fe=U[_e];if(S.hasOwnProperty(_e))continue;let he=!1;sm(oe)&&sm(fe)?he=!UT(oe,fe):he=oe!==fe,he?oe!=null?te(_e):x.add(_e):oe!==void 0&&x.has(_e)?te(_e):q.protectedKeys[_e]=!0}q.prevProp=B,q.prevResolvedValues=M,q.isActive&&(S={...S,...M}),r&&t.blockInitialAnimation&&(T=!1),T&&(!($&&P)||C)&&w.push(...A.map(_e=>({animation:_e,options:{type:O}})))}if(x.size){const N={};if(typeof p.initial!="boolean"){const O=fu(t,Array.isArray(p.initial)?p.initial[0]:p.initial);O&&O.transition&&(N.transition=O.transition)}x.forEach(O=>{const q=t.getBaseTarget(O),B=t.getValue(O);B&&(B.liveStyle=!0),N[O]=q??null}),w.push({animation:N})}let L=!!w.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(L=!1),r=!1,L?e(w):Promise.resolve()}function c(h,p){var g;if(n[h].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(x=>{var S;return(S=x.animationState)===null||S===void 0?void 0:S.setActive(h,p)}),n[h].isActive=p;const w=l(h);for(const x in n)n[x].protectedKeys={};return w}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>n,reset:()=>{n=W_(),r=!0}}}function oN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!UT(e,t):!1}function Qs(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W_(){return{animate:Qs(!0),whileInView:Qs(),whileHover:Qs(),whileTap:Qs(),whileDrag:Qs(),whileFocus:Qs(),exit:Qs()}}class vs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class aN extends vs{constructor(e){super(e),e.animationState||(e.animationState=sN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ph(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let lN=0;class uN extends vs{constructor(){super(...arguments),this.id=lN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const cN={animation:{Feature:aN},exit:{Feature:uN}};function mu(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ku(t){return{point:{x:t.pageX,y:t.pageY}}}const dN=t=>e=>_g(e)&&t(e,ku(e));function Zl(t,e,n,r){return mu(t,e,dN(n),r)}function BT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function hN({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function fN(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const zT=1e-4,pN=1-zT,mN=1+zT,WT=.01,gN=0-WT,yN=0+WT;function ln(t){return t.max-t.min}function vN(t,e,n){return Math.abs(t-e)<=n}function H_(t,e,n,r=.5){t.origin=r,t.originPoint=it(e.min,e.max,t.origin),t.scale=ln(n)/ln(e),t.translate=it(n.min,n.max,t.origin)-t.originPoint,(t.scale>=pN&&t.scale<=mN||isNaN(t.scale))&&(t.scale=1),(t.translate>=gN&&t.translate<=yN||isNaN(t.translate))&&(t.translate=0)}function eu(t,e,n,r){H_(t.x,e.x,n.x,r?r.originX:void 0),H_(t.y,e.y,n.y,r?r.originY:void 0)}function q_(t,e,n){t.min=n.min+e.min,t.max=t.min+ln(e)}function _N(t,e,n){q_(t.x,e.x,n.x),q_(t.y,e.y,n.y)}function K_(t,e,n){t.min=e.min-n.min,t.max=t.min+ln(e)}function tu(t,e,n){K_(t.x,e.x,n.x),K_(t.y,e.y,n.y)}const G_=()=>({translate:0,scale:1,origin:0,originPoint:0}),ya=()=>({x:G_(),y:G_()}),Q_=()=>({min:0,max:0}),mt=()=>({x:Q_(),y:Q_()});function Bn(t){return[t("x"),t("y")]}function kp(t){return t===void 0||t===1}function ym({scale:t,scaleX:e,scaleY:n}){return!kp(t)||!kp(e)||!kp(n)}function Js(t){return ym(t)||HT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function HT(t){return Y_(t.x)||Y_(t.y)}function Y_(t){return t&&t!=="0%"}function Bd(t,e,n){const r=t-n,s=e*r;return n+s}function X_(t,e,n,r,s){return s!==void 0&&(t=Bd(t,s,r)),Bd(t,n,r)+e}function vm(t,e=0,n=1,r,s){t.min=X_(t.min,e,n,r,s),t.max=X_(t.max,e,n,r,s)}function qT(t,{x:e,y:n}){vm(t.x,e.translate,e.scale,e.originPoint),vm(t.y,n.translate,n.scale,n.originPoint)}const J_=.999999999999,Z_=1.0000000000001;function wN(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let c=0;c<s;c++){a=n[c],l=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&_a(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,qT(t,l)),r&&Js(a.latestValues)&&_a(t,a.latestValues))}e.x<Z_&&e.x>J_&&(e.x=1),e.y<Z_&&e.y>J_&&(e.y=1)}function va(t,e){t.min=t.min+e,t.max=t.max+e}function ew(t,e,n,r,s=.5){const a=it(t.min,t.max,s);vm(t,e,n,a,r)}function _a(t,e){ew(t.x,e.x,e.scaleX,e.scale,e.originX),ew(t.y,e.y,e.scaleY,e.scale,e.originY)}function KT(t,e){return BT(fN(t.getBoundingClientRect(),e))}function xN(t,e,n){const r=KT(t,n),{scroll:s}=e;return s&&(va(r.x,s.offset.x),va(r.y,s.offset.y)),r}const GT=({current:t})=>t?t.ownerDocument.defaultView:null,tw=(t,e)=>Math.abs(t-e);function EN(t,e){const n=tw(t.x,e.x),r=tw(t.y,e.y);return Math.sqrt(n**2+r**2)}class QT{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=Dp(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,S=EN(w.offset,{x:0,y:0})>=3;if(!x&&!S)return;const{point:R}=w,{timestamp:L}=$t;this.history.push({...R,timestamp:L});const{onStart:N,onMove:O}=this.handlers;x||(N&&N(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),O&&O(this.lastMoveEvent,w)},this.handlePointerMove=(w,x)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Np(x,this.transformPagePoint),Ye.update(this.updatePoint,!0)},this.handlePointerUp=(w,x)=>{this.end();const{onEnd:S,onSessionEnd:R,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=Dp(w.type==="pointercancel"?this.lastMoveEventInfo:Np(x,this.transformPagePoint),this.history);this.startEvent&&S&&S(w,N),R&&R(w,N)},!_g(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const l=ku(e),c=Np(l,this.transformPagePoint),{point:h}=c,{timestamp:p}=$t;this.history=[{...h,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Dp(c,this.history)),this.removeListeners=Ru(Zl(this.contextWindow,"pointermove",this.handlePointerMove),Zl(this.contextWindow,"pointerup",this.handlePointerUp),Zl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),os(this.updatePoint)}}function Np(t,e){return e?{point:e(t.point)}:t}function nw(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Dp({point:t},e){return{point:t,delta:nw(t,YT(e)),offset:nw(t,TN(e)),velocity:bN(e,.1)}}function TN(t){return t[0]}function YT(t){return t[t.length-1]}function bN(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=YT(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>hi(e)));)n--;if(!r)return{x:0,y:0};const a=fi(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const l={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function SN(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?it(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?it(n,t,r.max):Math.min(t,n)),t}function rw(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function CN(t,{top:e,left:n,bottom:r,right:s}){return{x:rw(t.x,n,s),y:rw(t.y,e,r)}}function iw(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function IN(t,e){return{x:iw(t.x,e.x),y:iw(t.y,e.y)}}function AN(t,e){let n=.5;const r=ln(t),s=ln(e);return s>r?n=Sa(e.min,e.max-r,t.min):r>s&&(n=Sa(t.min,t.max-s,e.min)),gi(0,1,n)}function PN(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const _m=.35;function RN(t=_m){return t===!1?t=0:t===!0&&(t=_m),{x:sw(t,"left","right"),y:sw(t,"top","bottom")}}function sw(t,e,n){return{min:ow(t,e),max:ow(t,n)}}function ow(t,e){return typeof t=="number"?t:t[e]||0}const kN=new WeakMap;class NN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=mt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:w}=this.getProps();w?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ku(g).point)},a=(g,w)=>{const{drag:x,dragPropagation:S,onDragStart:R}=this.getProps();if(x&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=SR(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(N=>{let O=this.getAxisMotionValue(N).get()||0;if(kr.test(O)){const{projection:q}=this.visualElement;if(q&&q.layout){const B=q.layout.layoutBox[N];B&&(O=ln(B)*(parseFloat(O)/100))}}this.originPoint[N]=O}),R&&Ye.postRender(()=>R(g,w)),om(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},l=(g,w)=>{const{dragPropagation:x,dragDirectionLock:S,onDirectionLock:R,onDrag:L}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:N}=w;if(S&&this.currentDirection===null){this.currentDirection=DN(N),this.currentDirection!==null&&R&&R(this.currentDirection);return}this.updateAxis("x",w.point,N),this.updateAxis("y",w.point,N),this.visualElement.render(),L&&L(g,w)},c=(g,w)=>this.stop(g,w),h=()=>Bn(g=>{var w;return this.getAnimationState(g)==="paused"&&((w=this.getAxisMotionValue(g).animation)===null||w===void 0?void 0:w.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new QT(e,{onSessionStart:s,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:GT(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&Ye.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!ud(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let l=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(l=SN(l,this.constraints[e],this.elastic[e])),a.set(l)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&ma(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=CN(s.layoutBox,n):this.constraints=!1,this.elastic=RN(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Bn(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=PN(s.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ma(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=xN(r,s.root,this.visualElement.getTransformPagePoint());let l=IN(s.layout.layoutBox,a);if(n){const c=n(hN(l));this.hasMutatedConstraints=!!c,c&&(l=BT(c))}return l}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},p=Bn(g=>{if(!ud(g,n,this.currentDirection))return;let w=h&&h[g]||{};l&&(w={min:0,max:0});const x=s?200:1e6,S=s?40:1e7,R={type:"inertia",velocity:r?e[g]:0,bounceStiffness:x,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...w};return this.startAxisValueAnimation(g,R)});return Promise.all(p).then(c)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return om(this.visualElement,e),r.start(Ug(e,r,0,n,this.visualElement,!1))}stopAnimation(){Bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Bn(n=>{const{drag:r}=this.getProps();if(!ud(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(n);if(s&&s.layout){const{min:l,max:c}=s.layout.layoutBox[n];a.set(e[n]-it(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ma(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Bn(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const h=c.get();s[l]=AN({min:h,max:h},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bn(l=>{if(!ud(l,e,null))return;const c=this.getAxisMotionValue(l),{min:h,max:p}=this.constraints[l];c.set(it(h,p,s[l]))})}addListeners(){if(!this.visualElement.current)return;kN.set(this.visualElement,this);const e=this.visualElement.current,n=Zl(e,"pointerdown",h=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();ma(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Ye.read(r);const l=mu(window,"resize",()=>this.scalePositionWithinConstraints()),c=s.addEventListener("didUpdate",({delta:h,hasLayoutChanged:p})=>{this.isDragging&&p&&(Bn(g=>{const w=this.getAxisMotionValue(g);w&&(this.originPoint[g]+=h[g].translate,w.set(w.get()+h[g].translate))}),this.visualElement.render())});return()=>{l(),n(),a(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:l=_m,dragMomentum:c=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function ud(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function DN(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class VN extends vs{constructor(e){super(e),this.removeGroupControls=Pn,this.removeListeners=Pn,this.controls=new NN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Pn}unmount(){this.removeGroupControls(),this.removeListeners()}}const aw=t=>(e,n)=>{t&&Ye.postRender(()=>t(e,n))};class LN extends vs{constructor(){super(...arguments),this.removePointerDownListener=Pn}onPointerDown(e){this.session=new QT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:GT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:aw(e),onStart:aw(n),onMove:r,onEnd:(a,l)=>{delete this.session,s&&Ye.postRender(()=>s(a,l))}}}mount(){this.removePointerDownListener=Zl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ed={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function lw(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const $l={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=lw(t,e.target.x),r=lw(t,e.target.y);return`${n}% ${r}%`}},ON={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=as.parse(t);if(s.length>5)return r;const a=as.createTransformer(t),l=typeof s[0]!="number"?1:0,c=n.x.scale*e.x,h=n.y.scale*e.y;s[0+l]/=c,s[1+l]/=h;const p=it(c,h,.5);return typeof s[2+l]=="number"&&(s[2+l]/=p),typeof s[3+l]=="number"&&(s[3+l]/=p),a(s)}};class MN extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;ZR(jN),a&&(n.group&&n.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ed.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:a}=this.props,l=r.projection;return l&&(l.isPresent=a,s||e.layoutDependency!==n||n===void 0||e.isPresent!==a?l.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?l.promote():l.relegate()||Ye.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),vg.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function XT(t){const[e,n]=DE(),r=k.useContext(ag);return _.jsx(MN,{...t,layoutGroup:r,switchLayoutGroup:k.useContext(GE),isPresent:e,safeToRemove:n})}const jN={borderRadius:{...$l,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$l,borderTopRightRadius:$l,borderBottomLeftRadius:$l,borderBottomRightRadius:$l,boxShadow:ON};function FN(t,e,n){const r=en(t)?t:uu(t);return r.start(Ug("",r,e,n)),r.animation}function UN(t){return t instanceof SVGElement&&t.tagName!=="svg"}const $N=(t,e)=>t.depth-e.depth;class BN{constructor(){this.children=[],this.isDirty=!1}add(e){dg(this.children,e),this.isDirty=!0}remove(e){hg(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort($N),this.isDirty=!1,this.children.forEach(e)}}function zN(t,e){const n=Rr.now(),r=({timestamp:s})=>{const a=s-n;a>=e&&(os(r),t(a-e))};return Ye.read(r,!0),()=>os(r)}const JT=["TopLeft","TopRight","BottomLeft","BottomRight"],WN=JT.length,uw=t=>typeof t=="string"?parseFloat(t):t,cw=t=>typeof t=="number"||Ie.test(t);function HN(t,e,n,r,s,a){s?(t.opacity=it(0,n.opacity!==void 0?n.opacity:1,qN(r)),t.opacityExit=it(e.opacity!==void 0?e.opacity:1,0,KN(r))):a&&(t.opacity=it(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let l=0;l<WN;l++){const c=`border${JT[l]}Radius`;let h=dw(e,c),p=dw(n,c);if(h===void 0&&p===void 0)continue;h||(h=0),p||(p=0),h===0||p===0||cw(h)===cw(p)?(t[c]=Math.max(it(uw(h),uw(p),r),0),(kr.test(p)||kr.test(h))&&(t[c]+="%")):t[c]=p}(e.rotate||n.rotate)&&(t.rotate=it(e.rotate||0,n.rotate||0,r))}function dw(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const qN=ZT(0,.5,mT),KN=ZT(.5,.95,Pn);function ZT(t,e,n){return r=>r<t?0:r>e?1:n(Sa(t,e,r))}function hw(t,e){t.min=e.min,t.max=e.max}function $n(t,e){hw(t.x,e.x),hw(t.y,e.y)}function fw(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function pw(t,e,n,r,s){return t-=e,t=Bd(t,1/n,r),s!==void 0&&(t=Bd(t,1/s,r)),t}function GN(t,e=0,n=1,r=.5,s,a=t,l=t){if(kr.test(e)&&(e=parseFloat(e),e=it(l.min,l.max,e/100)-l.min),typeof e!="number")return;let c=it(a.min,a.max,r);t===a&&(c-=e),t.min=pw(t.min,e,n,c,s),t.max=pw(t.max,e,n,c,s)}function mw(t,e,[n,r,s],a,l){GN(t,e[n],e[r],e[s],e.scale,a,l)}const QN=["x","scaleX","originX"],YN=["y","scaleY","originY"];function gw(t,e,n,r){mw(t.x,e,QN,n?n.x:void 0,r?r.x:void 0),mw(t.y,e,YN,n?n.y:void 0,r?r.y:void 0)}function yw(t){return t.translate===0&&t.scale===1}function eb(t){return yw(t.x)&&yw(t.y)}function vw(t,e){return t.min===e.min&&t.max===e.max}function XN(t,e){return vw(t.x,e.x)&&vw(t.y,e.y)}function _w(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function tb(t,e){return _w(t.x,e.x)&&_w(t.y,e.y)}function ww(t){return ln(t.x)/ln(t.y)}function xw(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class JN{constructor(){this.members=[]}add(e){dg(this.members,e),e.scheduleRender()}remove(e){if(hg(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function ZN(t,e,n){let r="";const s=t.x.translate/e.x,a=t.y.translate/e.y,l=(n==null?void 0:n.z)||0;if((s||a||l)&&(r=`translate3d(${s}px, ${a}px, ${l}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:w,rotateY:x,skewX:S,skewY:R}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),w&&(r+=`rotateX(${w}deg) `),x&&(r+=`rotateY(${x}deg) `),S&&(r+=`skewX(${S}deg) `),R&&(r+=`skewY(${R}deg) `)}const c=t.x.scale*e.x,h=t.y.scale*e.y;return(c!==1||h!==1)&&(r+=`scale(${c}, ${h})`),r||"none"}const Vp=["","X","Y","Z"],eD={visibility:"hidden"},Ew=1e3;let tD=0;function Lp(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function nb(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=lT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ye,!(s||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&nb(r)}function rb({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(l={},c=e==null?void 0:e()){this.id=tD++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(iD),this.nodes.forEach(uD),this.nodes.forEach(cD),this.nodes.forEach(sD)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new BN)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new pg),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const h=this.eventHandlers.get(l);h&&h.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=UN(l),this.instance=l;const{layoutId:h,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||h)&&(this.isLayoutDirty=!0),t){let w;const x=()=>this.root.updateBlockedByResize=!1;t(l,()=>{this.root.updateBlockedByResize=!0,w&&w(),w=zN(x,250),Ed.hasAnimatedSinceResize&&(Ed.hasAnimatedSinceResize=!1,this.nodes.forEach(bw))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&g&&(h||p)&&this.addEventListener("didUpdate",({delta:w,hasLayoutChanged:x,hasRelativeLayoutChanged:S,layout:R})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||g.getDefaultTransition()||mD,{onLayoutAnimationStart:N,onLayoutAnimationComplete:O}=g.getProps(),q=!this.targetLayout||!tb(this.targetLayout,R),B=!x&&S;if(this.options.layoutRoot||this.resumeFrom||B||x&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(w,B);const Y={...mg(L,"layout"),onPlay:N,onComplete:O};(g.shouldReduceMotion||this.options.layoutRoot)&&(Y.delay=0,Y.type=!1),this.startAnimation(Y)}else x||bw(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=R})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,os(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(dD),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&nb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const w=this.path[g];w.shouldResetTransform=!0,w.updateScroll("snapshot"),w.options.layoutRoot&&w.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Tw);return}this.isUpdating||this.nodes.forEach(aD),this.isUpdating=!1,this.nodes.forEach(lD),this.nodes.forEach(nD),this.nodes.forEach(rD),this.clearAllSnapshots();const c=Rr.now();$t.delta=gi(0,1e3/60,c-$t.timestamp),$t.timestamp=c,$t.isProcessing=!0,Cp.update.process($t),Cp.preRender.process($t),Cp.render.process($t),$t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,vg.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(oD),this.sharedNodes.forEach(hD)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ln(this.snapshot.measuredBox.x)&&!ln(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=mt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:h,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!s)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!eb(this.projectionDelta),h=this.getTransformTemplate(),p=h?h(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;l&&(c||Js(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return l&&(h=this.removeTransform(h)),gD(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return mt();const h=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(yD))){const{scroll:g}=this.root;g&&(va(h.x,g.offset.x),va(h.y,g.offset.y))}return h}removeElementScroll(l){var c;const h=mt();if($n(h,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return h;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:w,options:x}=g;g!==this.root&&w&&x.layoutScroll&&(w.wasRoot&&$n(h,l),va(h.x,w.offset.x),va(h.y,w.offset.y))}return h}applyTransform(l,c=!1){const h=mt();$n(h,l);for(let p=0;p<this.path.length;p++){const g=this.path[p];!c&&g.options.layoutScroll&&g.scroll&&g!==g.root&&_a(h,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Js(g.latestValues)&&_a(h,g.latestValues)}return Js(this.latestValues)&&_a(h,this.latestValues),h}removeTransform(l){const c=mt();$n(c,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];if(!p.instance||!Js(p.latestValues))continue;ym(p.latestValues)&&p.updateSnapshot();const g=mt(),w=p.measurePageBox();$n(g,w),gw(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Js(this.latestValues)&&gw(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:w,layoutId:x}=this.options;if(!(!this.layout||!(w||x))){if(this.resolvedRelativeTargetAt=$t.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),tu(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=mt(),this.targetWithTransforms=mt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),_N(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$n(this.target,this.layout.layoutBox),qT(this.target,this.targetDelta)):$n(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=mt(),this.relativeTargetOrigin=mt(),tu(this.relativeTargetOrigin,this.target,S.target),$n(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ym(this.parent.latestValues)||HT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===$t.timestamp&&(p=!1),p)return;const{layout:g,layoutId:w}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||w))return;$n(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,S=this.treeScale.y;wN(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=mt());const{target:R}=c;if(!R){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(fw(this.prevProjectionDelta.x,this.projectionDelta.x),fw(this.prevProjectionDelta.y,this.projectionDelta.y)),eu(this.projectionDelta,this.layoutCorrected,R,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==S||!xw(this.projectionDelta.x,this.prevProjectionDelta.x)||!xw(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",R))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ya(),this.projectionDelta=ya(),this.projectionDeltaWithTransform=ya()}setAnimationOrigin(l,c=!1){const h=this.snapshot,p=h?h.latestValues:{},g={...this.latestValues},w=ya();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const x=mt(),S=h?h.source:void 0,R=this.layout?this.layout.source:void 0,L=S!==R,N=this.getStack(),O=!N||N.members.length<=1,q=!!(L&&!O&&this.options.crossfade===!0&&!this.path.some(pD));this.animationProgress=0;let B;this.mixTargetDelta=Y=>{const Q=Y/1e3;Sw(w.x,l.x,Q),Sw(w.y,l.y,Q),this.setTargetDelta(w),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tu(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fD(this.relativeTarget,this.relativeTargetOrigin,x,Q),B&&XN(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=mt()),$n(B,this.relativeTarget)),L&&(this.animationValues=g,HN(g,p,this.latestValues,Q,q,O)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(os(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ye.update(()=>{Ed.hasAnimatedSinceResize=!0,this.currentAnimation=FN(0,Ew,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ew),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:h,layout:p,latestValues:g}=l;if(!(!c||!h||!p)){if(this!==l&&this.layout&&p&&ib(this.options.animationType,this.layout.layoutBox,p.layoutBox)){h=this.target||mt();const w=ln(this.layout.layoutBox.x);h.x.min=l.target.x.min,h.x.max=h.x.min+w;const x=ln(this.layout.layoutBox.y);h.y.min=l.target.y.min,h.y.max=h.y.min+x}$n(c,h),_a(c,g),eu(this.projectionDeltaWithTransform,this.layoutCorrected,c,g)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new JN),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:h}={}){const p=this.getStack();p&&p.promote(this,h),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:h}=l;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const p={};h.z&&Lp("z",l,p,this.animationValues);for(let g=0;g<Vp.length;g++)Lp(`rotate${Vp[g]}`,l,p,this.animationValues),Lp(`skew${Vp[g]}`,l,p,this.animationValues);l.render();for(const g in p)l.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);l.scheduleRender()}getProjectionStyles(l){var c,h;if(!this.instance||this.isSVG)return;if(!this.isVisible)return eD;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=xd(l==null?void 0:l.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const w=this.getLead();if(!this.projectionDelta||!this.layout||!w.target){const L={};return this.options.layoutId&&(L.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,L.pointerEvents=xd(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Js(this.latestValues)&&(L.transform=g?g({},""):"none",this.hasProjected=!1),L}const x=w.animationValues||w.latestValues;this.applyTransformsToTarget(),p.transform=ZN(this.projectionDeltaWithTransform,this.treeScale,x),g&&(p.transform=g(x,p.transform));const{x:S,y:R}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${R.origin*100}% 0`,w.animationValues?p.opacity=w===this?(h=(c=x.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&h!==void 0?h:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:p.opacity=w===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const L in du){if(x[L]===void 0)continue;const{correct:N,applyTo:O,isCSSVariable:q}=du[L],B=p.transform==="none"?x[L]:N(x[L],w);if(O){const Y=O.length;for(let Q=0;Q<Y;Q++)p[O[Q]]=B}else q?this.options.visualElement.renderState.vars[L]=B:p[L]=B}return this.options.layoutId&&(p.pointerEvents=w===this?xd(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(Tw),this.root.sharedNodes.clear()}}}function nD(t){t.updateLayout()}function rD(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:a}=t.options,l=n.source!==t.layout.source;a==="size"?Bn(w=>{const x=l?n.measuredBox[w]:n.layoutBox[w],S=ln(x);x.min=r[w].min,x.max=x.min+S}):ib(a,n.layoutBox,r)&&Bn(w=>{const x=l?n.measuredBox[w]:n.layoutBox[w],S=ln(r[w]);x.max=x.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[w].max=t.relativeTarget[w].min+S)});const c=ya();eu(c,r,n.layoutBox);const h=ya();l?eu(h,t.applyTransform(s,!0),n.measuredBox):eu(h,r,n.layoutBox);const p=!eb(c);let g=!1;if(!t.resumeFrom){const w=t.getClosestProjectingParent();if(w&&!w.resumeFrom){const{snapshot:x,layout:S}=w;if(x&&S){const R=mt();tu(R,n.layoutBox,x.layoutBox);const L=mt();tu(L,r,S.layoutBox),tb(R,L)||(g=!0),w.options.layoutRoot&&(t.relativeTarget=L,t.relativeTargetOrigin=R,t.relativeParent=w)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:h,layoutDelta:c,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function iD(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sD(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function oD(t){t.clearSnapshot()}function Tw(t){t.clearMeasurements()}function aD(t){t.isLayoutDirty=!1}function lD(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function bw(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function uD(t){t.resolveTargetDelta()}function cD(t){t.calcProjection()}function dD(t){t.resetSkewAndRotation()}function hD(t){t.removeLeadSnapshot()}function Sw(t,e,n){t.translate=it(e.translate,0,n),t.scale=it(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Cw(t,e,n,r){t.min=it(e.min,n.min,r),t.max=it(e.max,n.max,r)}function fD(t,e,n,r){Cw(t.x,e.x,n.x,r),Cw(t.y,e.y,n.y,r)}function pD(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const mD={duration:.45,ease:[.4,0,.1,1]},Iw=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Aw=Iw("applewebkit/")&&!Iw("chrome/")?Math.round:Pn;function Pw(t){t.min=Aw(t.min),t.max=Aw(t.max)}function gD(t){Pw(t.x),Pw(t.y)}function ib(t,e,n){return t==="position"||t==="preserve-aspect"&&!vN(ww(e),ww(n),.2)}function yD(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const vD=rb({attachResizeListener:(t,e)=>mu(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Op={current:void 0},sb=rb({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Op.current){const t=new vD({});t.mount(window),t.setOptions({layoutScroll:!0}),Op.current=t}return Op.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_D={pan:{Feature:LN},drag:{Feature:VN,ProjectionNode:sb,MeasureLayout:XT}};function Rw(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,a=r[s];a&&Ye.postRender(()=>a(e,ku(e)))}class wD extends vs{mount(){const{current:e}=this.node;e&&(this.unmount=IR(e,(n,r)=>(Rw(this.node,r,"Start"),s=>Rw(this.node,s,"End"))))}unmount(){}}class xD extends vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ru(mu(this.node.current,"focus",()=>this.onFocus()),mu(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function kw(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),a=r[s];a&&Ye.postRender(()=>a(e,ku(e)))}class ED extends vs{mount(){const{current:e}=this.node;e&&(this.unmount=kR(e,(n,r)=>(kw(this.node,r,"Start"),(s,{success:a})=>kw(this.node,s,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wm=new WeakMap,Mp=new WeakMap,TD=t=>{const e=wm.get(t.target);e&&e(t)},bD=t=>{t.forEach(TD)};function SD({root:t,...e}){const n=t||document;Mp.has(n)||Mp.set(n,{});const r=Mp.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(bD,{root:t,...e})),r[s]}function CD(t,e,n){const r=SD(e);return wm.set(t,n),r.observe(t),()=>{wm.delete(t),r.unobserve(t)}}const ID={some:0,all:1};class AD extends vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:a}=e,l={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:ID[s]},c=h=>{const{isIntersecting:p}=h;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:w}=this.node.getProps(),x=p?g:w;x&&x(h)};return CD(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(PD(e,n))&&this.startObserver()}unmount(){}}function PD({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const RD={inView:{Feature:AD},tap:{Feature:ED},focus:{Feature:xD},hover:{Feature:wD}},kD={layout:{ProjectionNode:sb,MeasureLayout:XT}},xm={current:null},ob={current:!1};function ND(){if(ob.current=!0,!!ug)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xm.current=t.matches;t.addListener(e),e()}else xm.current=!1}const DD=[...RT,Xt,as],VD=t=>DD.find(PT(t)),LD=new WeakMap;function OD(t,e,n){for(const r in e){const s=e[r],a=n[r];if(en(s))t.addValue(r,s);else if(en(a))t.addValue(r,uu(s,{owner:t}));else if(a!==s)if(t.hasValue(r)){const l=t.getValue(r);l.liveStyle===!0?l.jump(s):l.hasAnimated||l.set(s)}else{const l=t.getStaticValue(r);t.addValue(r,uu(l!==void 0?l:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Nw=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class MD{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Mg,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Rr.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Ye.render(this.render,!1,!0))};const{latestValues:h,renderState:p,onUpdate:g}=l;this.onUpdate=g,this.latestValues=h,this.baseTarget={...h},this.initialValues=n.initial?{...h}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=mh(n),this.isVariantNode=qE(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:w,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in x){const R=x[S];h[S]!==void 0&&en(R)&&R.set(h[S],!1)}}mount(e){this.current=e,LD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),ob.current||ND(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),os(this.notifyUpdate),os(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=fo.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[e]=c,this.props.onUpdate&&Ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),a(),l&&l(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ca){const n=Ca[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):mt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Nw.length;r++){const s=Nw[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,l=e[a];l&&(this.propEventSubscriptions[s]=this.on(s,l))}this.prevMotionValues=OD(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=uu(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(IT(s)||yT(s))?s=parseFloat(s):!VD(s)&&as.test(n)&&(s=bT(e,n)),this.setBaseTarget(e,en(s)?s.get():s)),en(s)?s.get():s}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const l=kg(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);l&&(s=l[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!en(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new pg),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class ab extends MD{constructor(){super(...arguments),this.KeyframeResolver=kT}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;en(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function jD(t){return window.getComputedStyle(t)}class FD extends ab{constructor(){super(...arguments),this.type="html",this.renderInstance=rT}readValueFromInstance(e,n){if(fo.has(n))return Yk(e,n);{const r=jD(e),s=(Tg(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return KT(e,n)}build(e,n,r){Cg(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Ng(e,n,r)}}class UD extends ab{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=mt,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&nT(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(fo.has(n)){const r=TT(n);return r&&r.default||0}return n=iT.has(n)?n:Eg(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return oT(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Ye.postRender(this.updateDimensions)}build(e,n,r){Pg(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,s){sT(e,n,r,s)}mount(e){this.isSVGTag=Rg(e.tagName),super.mount(e)}}const $D=(t,e)=>Ag(t)?new UD(e):new FD(e,{allowProjection:t!==k.Fragment}),BD=Tk({...cN,...RD,..._D,...kD},$D),Dw=FR(BD),zD=()=>{};var Vw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},WD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=t[n++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=t[n++],l=t[n++],c=t[n++],h=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},ub={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const a=t[s],l=s+1<t.length,c=l?t[s+1]:0,h=s+2<t.length,p=h?t[s+2]:0,g=a>>2,w=(a&3)<<4|c>>4;let x=(c&15)<<2|p>>6,S=p&63;h||(S=64,l||(x=64)),r.push(n[g],n[w],n[x],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const a=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const w=s<t.length?n[t.charAt(s)]:64;if(++s,a==null||c==null||p==null||w==null)throw new HD;const x=a<<2|c>>4;if(r.push(x),p!==64){const S=c<<4&240|p>>2;if(r.push(S),w!==64){const R=p<<6&192|w;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class HD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qD=function(t){const e=lb(t);return ub.encodeByteArray(e,!0)},zd=function(t){return qD(t).replace(/\./g,"")},cb=function(t){try{return ub.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KD(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=()=>KD().__FIREBASE_DEFAULTS__,QD=()=>{if(typeof process>"u"||typeof Vw>"u")return;const t=Vw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YD=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cb(t[1]);return e&&JSON.parse(e)},yh=()=>{try{return zD()||GD()||QD()||YD()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},db=t=>{var e,n;return(n=(e=yh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},hb=t=>{const e=db(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fb=()=>{var t;return(t=yh())===null||t===void 0?void 0:t.config},pb=t=>{var e;return(e=yh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zd(JSON.stringify(n)),zd(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JD(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function ZD(){var t;const e=(t=yh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function e2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function t2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function n2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function r2(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function i2(){return!ZD()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function s2(){try{return typeof indexedDB=="object"}catch{return!1}}function o2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2="FirebaseError";class $r extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=a2,Object.setPrototypeOf(this,$r.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nu.prototype.create)}}class Nu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?l2(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new $r(s,c,r)}}function l2(t,e){return t.replace(u2,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const u2=/\{\$([^}]+)}/g;function c2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const a=t[s],l=e[s];if(Lw(a)&&Lw(l)){if(!oo(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Lw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Du(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ql(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function Kl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function d2(t,e){const n=new h2(t,e);return n.subscribe.bind(n)}class h2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");f2(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=jp),s.error===void 0&&(s.error=jp),s.complete===void 0&&(s.complete=jp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(t){return t&&t._delegate?t._delegate:t}class ls{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new XD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(g2(e))try{this.getOrInitializeService({instanceIdentifier:Zs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Zs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zs){return this.instances.has(e)}getOptions(e=Zs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zs){return this.component?this.component.multipleInstances?e:Zs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function m2(t){return t===Zs?void 0:t}function g2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new p2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const v2={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},_2=je.INFO,w2={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},x2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=w2[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $g{constructor(e){this.name=e,this._logLevel=_2,this._logHandler=x2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?v2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const E2=(t,e)=>e.some(n=>t instanceof n);let Ow,Mw;function T2(){return Ow||(Ow=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b2(){return Mw||(Mw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gb=new WeakMap,Em=new WeakMap,yb=new WeakMap,Fp=new WeakMap,Bg=new WeakMap;function S2(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(es(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&gb.set(n,t)}).catch(()=>{}),Bg.set(e,t),e}function C2(t){if(Em.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Em.set(t,e)}let Tm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Em.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I2(t){Tm=t(Tm)}function A2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Up(this),e,...n);return yb.set(r,e.sort?e.sort():[e]),es(r)}:b2().includes(t)?function(...e){return t.apply(Up(this),e),es(gb.get(this))}:function(...e){return es(t.apply(Up(this),e))}}function P2(t){return typeof t=="function"?A2(t):(t instanceof IDBTransaction&&C2(t),E2(t,T2())?new Proxy(t,Tm):t)}function es(t){if(t instanceof IDBRequest)return S2(t);if(Fp.has(t))return Fp.get(t);const e=P2(t);return e!==t&&(Fp.set(t,e),Bg.set(e,t)),e}const Up=t=>Bg.get(t);function R2(t,e,{blocked:n,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(t,e),c=es(l);return r&&l.addEventListener("upgradeneeded",h=>{r(es(l.result),h.oldVersion,h.newVersion,es(l.transaction),h)}),n&&l.addEventListener("blocked",h=>n(h.oldVersion,h.newVersion,h)),c.then(h=>{a&&h.addEventListener("close",()=>a()),s&&h.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const k2=["get","getKey","getAll","getAllKeys","count"],N2=["put","add","delete","clear"],$p=new Map;function jw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($p.get(e))return $p.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=N2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||k2.includes(n)))return;const a=async function(l,...c){const h=this.transaction(l,s?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&h.done]))[0]};return $p.set(e,a),a}I2(t=>({...t,get:(e,n,r)=>jw(e,n)||t.get(e,n,r),has:(e,n)=>!!jw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(V2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function V2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bm="@firebase/app",Fw="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new $g("@firebase/app"),L2="@firebase/app-compat",O2="@firebase/analytics-compat",M2="@firebase/analytics",j2="@firebase/app-check-compat",F2="@firebase/app-check",U2="@firebase/auth",$2="@firebase/auth-compat",B2="@firebase/database",z2="@firebase/data-connect",W2="@firebase/database-compat",H2="@firebase/functions",q2="@firebase/functions-compat",K2="@firebase/installations",G2="@firebase/installations-compat",Q2="@firebase/messaging",Y2="@firebase/messaging-compat",X2="@firebase/performance",J2="@firebase/performance-compat",Z2="@firebase/remote-config",eV="@firebase/remote-config-compat",tV="@firebase/storage",nV="@firebase/storage-compat",rV="@firebase/firestore",iV="@firebase/vertexai",sV="@firebase/firestore-compat",oV="firebase",aV="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",lV={[bm]:"fire-core",[L2]:"fire-core-compat",[M2]:"fire-analytics",[O2]:"fire-analytics-compat",[F2]:"fire-app-check",[j2]:"fire-app-check-compat",[U2]:"fire-auth",[$2]:"fire-auth-compat",[B2]:"fire-rtdb",[z2]:"fire-data-connect",[W2]:"fire-rtdb-compat",[H2]:"fire-fn",[q2]:"fire-fn-compat",[K2]:"fire-iid",[G2]:"fire-iid-compat",[Q2]:"fire-fcm",[Y2]:"fire-fcm-compat",[X2]:"fire-perf",[J2]:"fire-perf-compat",[Z2]:"fire-rc",[eV]:"fire-rc-compat",[tV]:"fire-gcs",[nV]:"fire-gcs-compat",[rV]:"fire-fst",[sV]:"fire-fst-compat",[iV]:"fire-vertex","fire-js":"fire-js",[oV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=new Map,uV=new Map,Cm=new Map;function Uw(t,e){try{t.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ao(t){const e=t.name;if(Cm.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,t);for(const n of Wd.values())Uw(n,t);for(const n of uV.values())Uw(n,t);return!0}function vh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new Nu("app","Firebase",cV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=aV;function zg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Sm,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ts.create("bad-app-name",{appName:String(s)});if(n||(n=fb()),!n)throw ts.create("no-options");const a=Wd.get(s);if(a){if(oo(n,a.options)&&oo(r,a.config))return a;throw ts.create("duplicate-app",{appName:s})}const l=new y2(s);for(const h of Cm.values())l.addComponent(h);const c=new dV(n,r,l);return Wd.set(s,c),c}function Wg(t=Sm){const e=Wd.get(t);if(!e&&t===Sm&&fb())return zg();if(!e)throw ts.create("no-app",{appName:t});return e}function Nr(t,e,n){var r;let s=(r=lV[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(c.join(" "));return}ao(new ls(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="firebase-heartbeat-database",fV=1,gu="firebase-heartbeat-store";let Bp=null;function vb(){return Bp||(Bp=R2(hV,fV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(gu)}catch(n){console.warn(n)}}}}).catch(t=>{throw ts.create("idb-open",{originalErrorMessage:t.message})})),Bp}async function pV(t){try{const n=(await vb()).transaction(gu),r=await n.objectStore(gu).get(_b(t));return await n.done,r}catch(e){if(e instanceof $r)yi.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(n.message)}}}async function $w(t,e){try{const r=(await vb()).transaction(gu,"readwrite");await r.objectStore(gu).put(e,_b(t)),await r.done}catch(n){if(n instanceof $r)yi.warn(n.message);else{const r=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yi.warn(r.message)}}}function _b(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=1024,gV=30;class yV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _V(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Bw();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>gV){const l=wV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){yi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Bw(),{heartbeatsToSend:r,unsentEntries:s}=vV(this._heartbeatsCache.heartbeats),a=zd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return yi.warn(n),""}}}function Bw(){return new Date().toISOString().substring(0,10)}function vV(t,e=mV){const n=[];let r=t.slice();for(const s of t){const a=n.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),zw(n)>e){a.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),zw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _V{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return s2()?o2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await pV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return $w(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return $w(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zw(t){return zd(JSON.stringify({version:2,heartbeats:t})).length}function wV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xV(t){ao(new ls("platform-logger",e=>new D2(e),"PRIVATE")),ao(new ls("heartbeat",e=>new yV(e),"PRIVATE")),Nr(bm,Fw,t),Nr(bm,Fw,"esm2017"),Nr("fire-js","")}xV("");var EV="firebase",TV="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nr(EV,TV,"app");var Ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,wb;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,T){function C(){}C.prototype=T.prototype,P.D=T.prototype,P.prototype=new C,P.prototype.constructor=P,P.C=function(A,M,U){for(var D=Array(arguments.length-2),te=2;te<arguments.length;te++)D[te-2]=arguments[te];return T.prototype[M].apply(A,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(P,T,C){C||(C=0);var A=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)A[M]=T.charCodeAt(C++)|T.charCodeAt(C++)<<8|T.charCodeAt(C++)<<16|T.charCodeAt(C++)<<24;else for(M=0;16>M;++M)A[M]=T[C++]|T[C++]<<8|T[C++]<<16|T[C++]<<24;T=P.g[0],C=P.g[1],M=P.g[2];var U=P.g[3],D=T+(U^C&(M^U))+A[0]+3614090360&4294967295;T=C+(D<<7&4294967295|D>>>25),D=U+(M^T&(C^M))+A[1]+3905402710&4294967295,U=T+(D<<12&4294967295|D>>>20),D=M+(C^U&(T^C))+A[2]+606105819&4294967295,M=U+(D<<17&4294967295|D>>>15),D=C+(T^M&(U^T))+A[3]+3250441966&4294967295,C=M+(D<<22&4294967295|D>>>10),D=T+(U^C&(M^U))+A[4]+4118548399&4294967295,T=C+(D<<7&4294967295|D>>>25),D=U+(M^T&(C^M))+A[5]+1200080426&4294967295,U=T+(D<<12&4294967295|D>>>20),D=M+(C^U&(T^C))+A[6]+2821735955&4294967295,M=U+(D<<17&4294967295|D>>>15),D=C+(T^M&(U^T))+A[7]+4249261313&4294967295,C=M+(D<<22&4294967295|D>>>10),D=T+(U^C&(M^U))+A[8]+1770035416&4294967295,T=C+(D<<7&4294967295|D>>>25),D=U+(M^T&(C^M))+A[9]+2336552879&4294967295,U=T+(D<<12&4294967295|D>>>20),D=M+(C^U&(T^C))+A[10]+4294925233&4294967295,M=U+(D<<17&4294967295|D>>>15),D=C+(T^M&(U^T))+A[11]+2304563134&4294967295,C=M+(D<<22&4294967295|D>>>10),D=T+(U^C&(M^U))+A[12]+1804603682&4294967295,T=C+(D<<7&4294967295|D>>>25),D=U+(M^T&(C^M))+A[13]+4254626195&4294967295,U=T+(D<<12&4294967295|D>>>20),D=M+(C^U&(T^C))+A[14]+2792965006&4294967295,M=U+(D<<17&4294967295|D>>>15),D=C+(T^M&(U^T))+A[15]+1236535329&4294967295,C=M+(D<<22&4294967295|D>>>10),D=T+(M^U&(C^M))+A[1]+4129170786&4294967295,T=C+(D<<5&4294967295|D>>>27),D=U+(C^M&(T^C))+A[6]+3225465664&4294967295,U=T+(D<<9&4294967295|D>>>23),D=M+(T^C&(U^T))+A[11]+643717713&4294967295,M=U+(D<<14&4294967295|D>>>18),D=C+(U^T&(M^U))+A[0]+3921069994&4294967295,C=M+(D<<20&4294967295|D>>>12),D=T+(M^U&(C^M))+A[5]+3593408605&4294967295,T=C+(D<<5&4294967295|D>>>27),D=U+(C^M&(T^C))+A[10]+38016083&4294967295,U=T+(D<<9&4294967295|D>>>23),D=M+(T^C&(U^T))+A[15]+3634488961&4294967295,M=U+(D<<14&4294967295|D>>>18),D=C+(U^T&(M^U))+A[4]+3889429448&4294967295,C=M+(D<<20&4294967295|D>>>12),D=T+(M^U&(C^M))+A[9]+568446438&4294967295,T=C+(D<<5&4294967295|D>>>27),D=U+(C^M&(T^C))+A[14]+3275163606&4294967295,U=T+(D<<9&4294967295|D>>>23),D=M+(T^C&(U^T))+A[3]+4107603335&4294967295,M=U+(D<<14&4294967295|D>>>18),D=C+(U^T&(M^U))+A[8]+1163531501&4294967295,C=M+(D<<20&4294967295|D>>>12),D=T+(M^U&(C^M))+A[13]+2850285829&4294967295,T=C+(D<<5&4294967295|D>>>27),D=U+(C^M&(T^C))+A[2]+4243563512&4294967295,U=T+(D<<9&4294967295|D>>>23),D=M+(T^C&(U^T))+A[7]+1735328473&4294967295,M=U+(D<<14&4294967295|D>>>18),D=C+(U^T&(M^U))+A[12]+2368359562&4294967295,C=M+(D<<20&4294967295|D>>>12),D=T+(C^M^U)+A[5]+4294588738&4294967295,T=C+(D<<4&4294967295|D>>>28),D=U+(T^C^M)+A[8]+2272392833&4294967295,U=T+(D<<11&4294967295|D>>>21),D=M+(U^T^C)+A[11]+1839030562&4294967295,M=U+(D<<16&4294967295|D>>>16),D=C+(M^U^T)+A[14]+4259657740&4294967295,C=M+(D<<23&4294967295|D>>>9),D=T+(C^M^U)+A[1]+2763975236&4294967295,T=C+(D<<4&4294967295|D>>>28),D=U+(T^C^M)+A[4]+1272893353&4294967295,U=T+(D<<11&4294967295|D>>>21),D=M+(U^T^C)+A[7]+4139469664&4294967295,M=U+(D<<16&4294967295|D>>>16),D=C+(M^U^T)+A[10]+3200236656&4294967295,C=M+(D<<23&4294967295|D>>>9),D=T+(C^M^U)+A[13]+681279174&4294967295,T=C+(D<<4&4294967295|D>>>28),D=U+(T^C^M)+A[0]+3936430074&4294967295,U=T+(D<<11&4294967295|D>>>21),D=M+(U^T^C)+A[3]+3572445317&4294967295,M=U+(D<<16&4294967295|D>>>16),D=C+(M^U^T)+A[6]+76029189&4294967295,C=M+(D<<23&4294967295|D>>>9),D=T+(C^M^U)+A[9]+3654602809&4294967295,T=C+(D<<4&4294967295|D>>>28),D=U+(T^C^M)+A[12]+3873151461&4294967295,U=T+(D<<11&4294967295|D>>>21),D=M+(U^T^C)+A[15]+530742520&4294967295,M=U+(D<<16&4294967295|D>>>16),D=C+(M^U^T)+A[2]+3299628645&4294967295,C=M+(D<<23&4294967295|D>>>9),D=T+(M^(C|~U))+A[0]+4096336452&4294967295,T=C+(D<<6&4294967295|D>>>26),D=U+(C^(T|~M))+A[7]+1126891415&4294967295,U=T+(D<<10&4294967295|D>>>22),D=M+(T^(U|~C))+A[14]+2878612391&4294967295,M=U+(D<<15&4294967295|D>>>17),D=C+(U^(M|~T))+A[5]+4237533241&4294967295,C=M+(D<<21&4294967295|D>>>11),D=T+(M^(C|~U))+A[12]+1700485571&4294967295,T=C+(D<<6&4294967295|D>>>26),D=U+(C^(T|~M))+A[3]+2399980690&4294967295,U=T+(D<<10&4294967295|D>>>22),D=M+(T^(U|~C))+A[10]+4293915773&4294967295,M=U+(D<<15&4294967295|D>>>17),D=C+(U^(M|~T))+A[1]+2240044497&4294967295,C=M+(D<<21&4294967295|D>>>11),D=T+(M^(C|~U))+A[8]+1873313359&4294967295,T=C+(D<<6&4294967295|D>>>26),D=U+(C^(T|~M))+A[15]+4264355552&4294967295,U=T+(D<<10&4294967295|D>>>22),D=M+(T^(U|~C))+A[6]+2734768916&4294967295,M=U+(D<<15&4294967295|D>>>17),D=C+(U^(M|~T))+A[13]+1309151649&4294967295,C=M+(D<<21&4294967295|D>>>11),D=T+(M^(C|~U))+A[4]+4149444226&4294967295,T=C+(D<<6&4294967295|D>>>26),D=U+(C^(T|~M))+A[11]+3174756917&4294967295,U=T+(D<<10&4294967295|D>>>22),D=M+(T^(U|~C))+A[2]+718787259&4294967295,M=U+(D<<15&4294967295|D>>>17),D=C+(U^(M|~T))+A[9]+3951481745&4294967295,P.g[0]=P.g[0]+T&4294967295,P.g[1]=P.g[1]+(M+(D<<21&4294967295|D>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+U&4294967295}r.prototype.u=function(P,T){T===void 0&&(T=P.length);for(var C=T-this.blockSize,A=this.B,M=this.h,U=0;U<T;){if(M==0)for(;U<=C;)s(this,P,U),U+=this.blockSize;if(typeof P=="string"){for(;U<T;)if(A[M++]=P.charCodeAt(U++),M==this.blockSize){s(this,A),M=0;break}}else for(;U<T;)if(A[M++]=P[U++],M==this.blockSize){s(this,A),M=0;break}}this.h=M,this.o+=T},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var T=1;T<P.length-8;++T)P[T]=0;var C=8*this.o;for(T=P.length-8;T<P.length;++T)P[T]=C&255,C/=256;for(this.u(P),P=Array(16),T=C=0;4>T;++T)for(var A=0;32>A;A+=8)P[C++]=this.g[T]>>>A&255;return P};function a(P,T){var C=c;return Object.prototype.hasOwnProperty.call(C,P)?C[P]:C[P]=T(P)}function l(P,T){this.h=T;for(var C=[],A=!0,M=P.length-1;0<=M;M--){var U=P[M]|0;A&&U==T||(C[M]=U,A=!1)}this.g=C}var c={};function h(P){return-128<=P&&128>P?a(P,function(T){return new l([T|0],0>T?-1:0)}):new l([P|0],0>P?-1:0)}function p(P){if(isNaN(P)||!isFinite(P))return w;if(0>P)return N(p(-P));for(var T=[],C=1,A=0;P>=C;A++)T[A]=P/C|0,C*=4294967296;return new l(T,0)}function g(P,T){if(P.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(P.charAt(0)=="-")return N(g(P.substring(1),T));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(T,8)),A=w,M=0;M<P.length;M+=8){var U=Math.min(8,P.length-M),D=parseInt(P.substring(M,M+U),T);8>U?(U=p(Math.pow(T,U)),A=A.j(U).add(p(D))):(A=A.j(C),A=A.add(p(D)))}return A}var w=h(0),x=h(1),S=h(16777216);t=l.prototype,t.m=function(){if(L(this))return-N(this).m();for(var P=0,T=1,C=0;C<this.g.length;C++){var A=this.i(C);P+=(0<=A?A:4294967296+A)*T,T*=4294967296}return P},t.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(R(this))return"0";if(L(this))return"-"+N(this).toString(P);for(var T=p(Math.pow(P,6)),C=this,A="";;){var M=Y(C,T).g;C=O(C,M.j(T));var U=((0<C.g.length?C.g[0]:C.h)>>>0).toString(P);if(C=M,R(C))return U+A;for(;6>U.length;)U="0"+U;A=U+A}},t.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function R(P){if(P.h!=0)return!1;for(var T=0;T<P.g.length;T++)if(P.g[T]!=0)return!1;return!0}function L(P){return P.h==-1}t.l=function(P){return P=O(this,P),L(P)?-1:R(P)?0:1};function N(P){for(var T=P.g.length,C=[],A=0;A<T;A++)C[A]=~P.g[A];return new l(C,~P.h).add(x)}t.abs=function(){return L(this)?N(this):this},t.add=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],A=0,M=0;M<=T;M++){var U=A+(this.i(M)&65535)+(P.i(M)&65535),D=(U>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);A=D>>>16,U&=65535,D&=65535,C[M]=D<<16|U}return new l(C,C[C.length-1]&-2147483648?-1:0)};function O(P,T){return P.add(N(T))}t.j=function(P){if(R(this)||R(P))return w;if(L(this))return L(P)?N(this).j(N(P)):N(N(this).j(P));if(L(P))return N(this.j(N(P)));if(0>this.l(S)&&0>P.l(S))return p(this.m()*P.m());for(var T=this.g.length+P.g.length,C=[],A=0;A<2*T;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(var M=0;M<P.g.length;M++){var U=this.i(A)>>>16,D=this.i(A)&65535,te=P.i(M)>>>16,de=P.i(M)&65535;C[2*A+2*M]+=D*de,q(C,2*A+2*M),C[2*A+2*M+1]+=U*de,q(C,2*A+2*M+1),C[2*A+2*M+1]+=D*te,q(C,2*A+2*M+1),C[2*A+2*M+2]+=U*te,q(C,2*A+2*M+2)}for(A=0;A<T;A++)C[A]=C[2*A+1]<<16|C[2*A];for(A=T;A<2*T;A++)C[A]=0;return new l(C,0)};function q(P,T){for(;(P[T]&65535)!=P[T];)P[T+1]+=P[T]>>>16,P[T]&=65535,T++}function B(P,T){this.g=P,this.h=T}function Y(P,T){if(R(T))throw Error("division by zero");if(R(P))return new B(w,w);if(L(P))return T=Y(N(P),T),new B(N(T.g),N(T.h));if(L(T))return T=Y(P,N(T)),new B(N(T.g),T.h);if(30<P.g.length){if(L(P)||L(T))throw Error("slowDivide_ only works with positive integers.");for(var C=x,A=T;0>=A.l(P);)C=Q(C),A=Q(A);var M=$(C,1),U=$(A,1);for(A=$(A,2),C=$(C,2);!R(A);){var D=U.add(A);0>=D.l(P)&&(M=M.add(C),U=D),A=$(A,1),C=$(C,1)}return T=O(P,M.j(T)),new B(M,T)}for(M=w;0<=P.l(T);){for(C=Math.max(1,Math.floor(P.m()/T.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),U=p(C),D=U.j(T);L(D)||0<D.l(P);)C-=A,U=p(C),D=U.j(T);R(U)&&(U=x),M=M.add(U),P=O(P,D)}return new B(M,P)}t.A=function(P){return Y(this,P).h},t.and=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],A=0;A<T;A++)C[A]=this.i(A)&P.i(A);return new l(C,this.h&P.h)},t.or=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],A=0;A<T;A++)C[A]=this.i(A)|P.i(A);return new l(C,this.h|P.h)},t.xor=function(P){for(var T=Math.max(this.g.length,P.g.length),C=[],A=0;A<T;A++)C[A]=this.i(A)^P.i(A);return new l(C,this.h^P.h)};function Q(P){for(var T=P.g.length+1,C=[],A=0;A<T;A++)C[A]=P.i(A)<<1|P.i(A-1)>>>31;return new l(C,P.h)}function $(P,T){var C=T>>5;T%=32;for(var A=P.g.length-C,M=[],U=0;U<A;U++)M[U]=0<T?P.i(U+C)>>>T|P.i(U+C+1)<<32-T:P.i(U+C);return new l(M,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,wb=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=g,ns=l}).apply(typeof Ww<"u"?Ww:typeof self<"u"?self:typeof window<"u"?window:{});var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xb,Gl,Eb,Td,Im,Tb,bb,Sb;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,E){return d==Array.prototype||d==Object.prototype||(d[y]=E.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof cd=="object"&&cd];for(var y=0;y<d.length;++y){var E=d[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(d,y){if(y)e:{var E=r;d=d.split(".");for(var I=0;I<d.length-1;I++){var W=d[I];if(!(W in E))break e;E=E[W]}d=d[d.length-1],I=E[d],y=y(I),y!=I&&y!=null&&e(E,d,{configurable:!0,writable:!0,value:y})}}function a(d,y){d instanceof String&&(d+="");var E=0,I=!1,W={next:function(){if(!I&&E<d.length){var X=E++;return{value:y(X,d[X]),done:!1}}return I=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(d){return d||function(){return a(this,function(y,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function p(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function g(d,y,E){return d.call.apply(d.bind,arguments)}function w(d,y,E){if(!d)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,I),d.apply(y,W)}}return function(){return d.apply(y,arguments)}}function x(d,y,E){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:w,x.apply(null,arguments)}function S(d,y){var E=Array.prototype.slice.call(arguments,1);return function(){var I=E.slice();return I.push.apply(I,arguments),d.apply(this,I)}}function R(d,y){function E(){}E.prototype=y.prototype,d.aa=y.prototype,d.prototype=new E,d.prototype.constructor=d,d.Qb=function(I,W,X){for(var ce=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)ce[qe-2]=arguments[qe];return y.prototype[W].apply(I,ce)}}function L(d){const y=d.length;if(0<y){const E=Array(y);for(let I=0;I<y;I++)E[I]=d[I];return E}return[]}function N(d,y){for(let E=1;E<arguments.length;E++){const I=arguments[E];if(h(I)){const W=d.length||0,X=I.length||0;d.length=W+X;for(let ce=0;ce<X;ce++)d[W+ce]=I[ce]}else d.push(I)}}class O{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function q(d){return/^[\s\xa0]*$/.test(d)}function B(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function Y(d){return Y[" "](d),d}Y[" "]=function(){};var Q=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function $(d,y,E){for(const I in d)y.call(E,d[I],I,d)}function P(d,y){for(const E in d)y.call(void 0,d[E],E,d)}function T(d){const y={};for(const E in d)y[E]=d[E];return y}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(d,y){let E,I;for(let W=1;W<arguments.length;W++){I=arguments[W];for(E in I)d[E]=I[E];for(let X=0;X<C.length;X++)E=C[X],Object.prototype.hasOwnProperty.call(I,E)&&(d[E]=I[E])}}function M(d){var y=1;d=d.split(":");const E=[];for(;0<y&&d.length;)E.push(d.shift()),y--;return d.length&&E.push(d.join(":")),E}function U(d){c.setTimeout(()=>{throw d},0)}function D(){var d=fe;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class te{constructor(){this.h=this.g=null}add(y,E){const I=de.get();I.set(y,E),this.h?this.h.next=I:this.g=I,this.h=I}}var de=new O(()=>new De,d=>d.reset());class De{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,oe=!1,fe=new te,he=()=>{const d=c.Promise.resolve(void 0);_e=()=>{d.then(z)}};var z=()=>{for(var d;d=D();){try{d.h.call(d.g)}catch(E){U(E)}var y=de;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}oe=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function xe(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}xe.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,y),c.removeEventListener("test",E,y)}catch{}return d}();function se(d,y){if(xe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var E=this.type=d.type,I=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(Q){e:{try{Y(y.nodeName);var W=!0;break e}catch{}W=!1}W||(y=null)}}else E=="mouseover"?y=d.fromElement:E=="mouseout"&&(y=d.toElement);this.relatedTarget=y,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:J[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&se.aa.h.call(this)}}R(se,xe);var J={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),Te=0;function Me(d,y,E,I,W){this.listener=d,this.proxy=null,this.src=y,this.type=E,this.capture=!!I,this.ha=W,this.key=++Te,this.da=this.fa=!1}function ht(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Rn(d){this.src=d,this.g={},this.h=0}Rn.prototype.add=function(d,y,E,I,W){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var ce=qn(d,y,I,W);return-1<ce?(y=d[ce],E||(y.fa=!1)):(y=new Me(y,this.src,X,!!I,W),y.fa=E,d.push(y)),y};function Br(d,y){var E=y.type;if(E in d.g){var I=d.g[E],W=Array.prototype.indexOf.call(I,y,void 0),X;(X=0<=W)&&Array.prototype.splice.call(I,W,1),X&&(ht(y),d.g[E].length==0&&(delete d.g[E],d.h--))}}function qn(d,y,E,I){for(var W=0;W<d.length;++W){var X=d[W];if(!X.da&&X.listener==y&&X.capture==!!E&&X.ha==I)return W}return-1}var Kn="closure_lm_"+(1e6*Math.random()|0),zr={};function Pt(d,y,E,I,W){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Pt(d,y[X],E,I,W);return null}return E=Ka(E),d&&d[le]?d.K(y,E,p(I)?!!I.capture:!1,W):Wr(d,y,E,!1,I,W)}function Wr(d,y,E,I,W,X){if(!y)throw Error("Invalid event type");var ce=p(W)?!!W.capture:!!W,qe=wo(d);if(qe||(d[Kn]=qe=new Rn(d)),E=qe.add(y,E,I,ce,X),E.proxy)return E;if(I=Bu(),E.proxy=I,I.src=d,I.listener=E,d.addEventListener)Ve||(W=ce),W===void 0&&(W=!1),d.addEventListener(y.toString(),I,W);else if(d.attachEvent)d.attachEvent(qr(y.toString()),I);else if(d.addListener&&d.removeListener)d.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Bu(){function d(E){return y.call(d.src,d.listener,E)}const y=qa;return d}function _o(d,y,E,I,W){if(Array.isArray(y))for(var X=0;X<y.length;X++)_o(d,y[X],E,I,W);else I=p(I)?!!I.capture:!!I,E=Ka(E),d&&d[le]?(d=d.i,y=String(y).toString(),y in d.g&&(X=d.g[y],E=qn(X,E,I,W),-1<E&&(ht(X[E]),Array.prototype.splice.call(X,E,1),X.length==0&&(delete d.g[y],d.h--)))):d&&(d=wo(d))&&(y=d.g[y.toString()],d=-1,y&&(d=qn(y,E,I,W)),(E=-1<d?y[d]:null)&&Hr(E))}function Hr(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[le])Br(y.i,d);else{var E=d.type,I=d.proxy;y.removeEventListener?y.removeEventListener(E,I,d.capture):y.detachEvent?y.detachEvent(qr(E),I):y.addListener&&y.removeListener&&y.removeListener(I),(E=wo(y))?(Br(E,d),E.h==0&&(E.src=null,y[Kn]=null)):ht(d)}}}function qr(d){return d in zr?zr[d]:zr[d]="on"+d}function qa(d,y){if(d.da)d=!0;else{y=new se(y,this);var E=d.listener,I=d.ha||d.src;d.fa&&Hr(d),d=E.call(I,y)}return d}function wo(d){return d=d[Kn],d instanceof Rn?d:null}var xo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ka(d){return typeof d=="function"?d:(d[xo]||(d[xo]=function(y){return d.handleEvent(y)}),d[xo])}function xt(){Z.call(this),this.i=new Rn(this),this.M=this,this.F=null}R(xt,Z),xt.prototype[le]=!0,xt.prototype.removeEventListener=function(d,y,E,I){_o(this,d,y,E,I)};function Et(d,y){var E,I=d.F;if(I)for(E=[];I;I=I.F)E.push(I);if(d=d.M,I=y.type||y,typeof y=="string")y=new xe(y,d);else if(y instanceof xe)y.target=y.target||d;else{var W=y;y=new xe(I,d),A(y,W)}if(W=!0,E)for(var X=E.length-1;0<=X;X--){var ce=y.g=E[X];W=Kr(ce,I,!0,y)&&W}if(ce=y.g=d,W=Kr(ce,I,!0,y)&&W,W=Kr(ce,I,!1,y)&&W,E)for(X=0;X<E.length;X++)ce=y.g=E[X],W=Kr(ce,I,!1,y)&&W}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var E=d.g[y],I=0;I<E.length;I++)ht(E[I]);delete d.g[y],d.h--}}this.F=null},xt.prototype.K=function(d,y,E,I){return this.i.add(String(d),y,!1,E,I)},xt.prototype.L=function(d,y,E,I){return this.i.add(String(d),y,!0,E,I)};function Kr(d,y,E,I){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var W=!0,X=0;X<y.length;++X){var ce=y[X];if(ce&&!ce.da&&ce.capture==E){var qe=ce.listener,Tt=ce.ha||ce.src;ce.fa&&Br(d.i,ce),W=qe.call(Tt,I)!==!1&&W}}return W&&!I.defaultPrevented}function Ga(d,y,E){if(typeof d=="function")E&&(d=x(d,E));else if(d&&typeof d.handleEvent=="function")d=x(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:c.setTimeout(d,y||0)}function Ei(d){d.g=Ga(()=>{d.g=null,d.i&&(d.i=!1,Ei(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class Es extends Z{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Ei(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(d){Z.call(this),this.h=d,this.g={}}R(Ts,Z);var Qa=[];function Ya(d){$(d.g,function(y,E){this.g.hasOwnProperty(E)&&Hr(y)},d),d.g={}}Ts.prototype.N=function(){Ts.aa.N.call(this),Ya(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xa=c.JSON.stringify,Ja=c.JSON.parse,Za=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function bs(){}bs.prototype.h=null;function Eo(d){return d.h||(d.h=d.i())}function To(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){xe.call(this,"d")}R(gr,xe);function bo(){xe.call(this,"c")}R(bo,xe);var yr={},el=null;function Ss(){return el=el||new xt}yr.La="serverreachability";function tl(d){xe.call(this,yr.La,d)}R(tl,xe);function Gr(d){const y=Ss();Et(y,new tl(y))}yr.STAT_EVENT="statevent";function nl(d,y){xe.call(this,yr.STAT_EVENT,d),this.stat=y}R(nl,xe);function ft(d){const y=Ss();Et(y,new nl(y,d))}yr.Ma="timingevent";function So(d,y){xe.call(this,yr.Ma,d),this.size=y}R(So,xe);function Gn(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},y)}function Cs(){this.g=!0}Cs.prototype.xa=function(){this.g=!1};function Is(d,y,E,I,W,X){d.info(function(){if(d.g)if(X)for(var ce="",qe=X.split("&"),Tt=0;Tt<qe.length;Tt++){var $e=qe[Tt].split("=");if(1<$e.length){var Rt=$e[0];$e=$e[1];var vt=Rt.split("_");ce=2<=vt.length&&vt[1]=="type"?ce+(Rt+"="+$e+"&"):ce+(Rt+"=redacted&")}}else ce=null;else ce=X;return"XMLHTTP REQ ("+I+") [attempt "+W+"]: "+y+`
`+E+`
`+ce})}function Co(d,y,E,I,W,X,ce){d.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+W+"]: "+y+`
`+E+`
`+X+" "+ce})}function Qn(d,y,E,I){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+Hh(d,E)+(I?" "+I:"")})}function rl(d,y){d.info(function(){return"TIMEOUT: "+y})}Cs.prototype.info=function(){};function Hh(d,y){if(!d.g)return y;if(!y)return null;try{var E=JSON.parse(y);if(E){for(d=0;d<E.length;d++)if(Array.isArray(E[d])){var I=E[d];if(!(2>I.length)){var W=I[1];if(Array.isArray(W)&&!(1>W.length)){var X=W[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ce=1;ce<W.length;ce++)W[ce]=""}}}}return Xa(E)}catch{return y}}var Io={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zu={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Yn;function As(){}R(As,bs),As.prototype.g=function(){return new XMLHttpRequest},As.prototype.i=function(){return{}},Yn=new As;function Xn(d,y,E,I){this.j=d,this.i=y,this.l=E,this.R=I||1,this.U=new Ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Wu}function Wu(){this.i=null,this.g="",this.h=!1}var il={},Ao={};function Po(d,y,E){d.L=1,d.v=Ii(xn(y)),d.m=E,d.P=!0,sl(d,null)}function sl(d,y){d.F=Date.now(),Ge(d),d.A=xn(d.v);var E=d.A,I=d.R;Array.isArray(I)||(I=[String(I)]),Pi(E.i,"t",I),d.C=0,E=d.j.J,d.h=new Wu,d.g=lc(d.j,E?y:null,!d.m),0<d.O&&(d.M=new Es(x(d.Y,d,d.g),d.O)),y=d.U,E=d.g,I=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(Qa[0]=W.toString()),W=Qa);for(var X=0;X<W.length;X++){var ce=Pt(E,W[X],I||y.handleEvent,!1,y.h||y);if(!ce)break;y.g[ce.key]=ce}y=d.H?T(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),Gr(),Is(d.i,d.u,d.A,d.l,d.R,d.m)}Xn.prototype.ca=function(d){d=d.target;const y=this.M;y&&cn(d)==3?y.j():this.Y(d)},Xn.prototype.Y=function(d){try{if(d==this.g)e:{const vt=cn(this.g);var y=this.g.Ba();const Vn=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||dl(this.g)))){this.J||vt!=4||y==7||(y==8||0>=Vn?Gr(3):Gr(2)),Ps(this);var E=this.g.Z();this.X=E;t:if(Hu(this)){var I=dl(this.g);d="";var W=I.length,X=cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),Ti(this);var ce="";break t}this.h.i=new c.TextDecoder}for(y=0;y<W;y++)this.h.h=!0,d+=this.h.i.decode(I[y],{stream:!(X&&y==W-1)});I.length=0,this.h.g+=d,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=E==200,Co(this.i,this.u,this.A,this.l,this.R,vt,E),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Tt=this.g;if((qe=Tt.g?Tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(qe)){var $e=qe;break t}}$e=null}if(E=$e)Qn(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ol(this,E);else{this.o=!1,this.s=3,ft(12),Nn(this),Ti(this);break e}}if(this.P){E=!0;let Tn;for(;!this.J&&this.C<ce.length;)if(Tn=qh(this,ce),Tn==Ao){vt==4&&(this.s=4,ft(14),E=!1),Qn(this.i,this.l,null,"[Incomplete Response]");break}else if(Tn==il){this.s=4,ft(15),Qn(this.i,this.l,ce,"[Invalid Chunk]"),E=!1;break}else Qn(this.i,this.l,Tn,null),ol(this,Tn);if(Hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||ce.length!=0||this.h.h||(this.s=1,ft(16),E=!1),this.o=this.o&&E,!E)Qn(this.i,this.l,ce,"[Invalid Chunked Response]"),Nn(this),Ti(this);else if(0<ce.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),fl(Rt),Rt.M=!0,ft(11))}}else Qn(this.i,this.l,ce,null),ol(this,ce);vt==4&&Nn(this),this.o&&!this.J&&(vt==4?Uo(this.j,this):(this.o=!1,Ge(this)))}else Lo(this.g),E==400&&0<ce.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Nn(this),Ti(this)}}}catch{}finally{}};function Hu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function qh(d,y){var E=d.C,I=y.indexOf(`
`,E);return I==-1?Ao:(E=Number(y.substring(E,I)),isNaN(E)?il:(I+=1,I+E>y.length?Ao:(y=y.slice(I,I+E),d.C=I+E,y)))}Xn.prototype.cancel=function(){this.J=!0,Nn(this)};function Ge(d){d.S=Date.now()+d.I,qu(d,d.I)}function qu(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Gn(x(d.ba,d),y)}function Ps(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Xn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(rl(this.i,this.A),this.L!=2&&(Gr(),ft(17)),Nn(this),this.s=2,Ti(this)):qu(this,this.S-d)};function Ti(d){d.j.G==0||d.J||Uo(d.j,d)}function Nn(d){Ps(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,Ya(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function ol(d,y){try{var E=d.j;if(E.G!=0&&(E.g==d||nn(E.h,d))){if(!d.K&&nn(E.h,d)&&E.G==3){try{var I=E.Da.g.parse(y)}catch{I=null}if(Array.isArray(I)&&I.length==3){var W=I;if(W[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<d.F)Fo(E),nr(E);else break e;jo(E),ft(18)}}else E.za=W[1],0<E.za-E.T&&37500>W[2]&&E.F&&E.v==0&&!E.C&&(E.C=Gn(x(E.Za,E),6e3));if(1>=Gu(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else Zr(E,11)}else if((d.K||E.g==d)&&Fo(E),!q(y))for(W=E.Da.g.parse(y),y=0;y<W.length;y++){let $e=W[y];if(E.T=$e[0],$e=$e[1],E.G==2)if($e[0]=="c"){E.K=$e[1],E.ia=$e[2];const Rt=$e[3];Rt!=null&&(E.la=Rt,E.j.info("VER="+E.la));const vt=$e[4];vt!=null&&(E.Aa=vt,E.j.info("SVER="+E.Aa));const Vn=$e[5];Vn!=null&&typeof Vn=="number"&&0<Vn&&(I=1.5*Vn,E.L=I,E.j.info("backChannelRequestTimeoutMs_="+I)),I=E;const Tn=d.g;if(Tn){const Os=Tn.g?Tn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Os){var X=I.h;X.g||Os.indexOf("spdy")==-1&&Os.indexOf("quic")==-1&&Os.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(al(X,X.h),X.h=null))}if(I.D){const Bo=Tn.g?Tn.g.getResponseHeader("X-HTTP-Session-Id"):null;Bo&&(I.ya=Bo,Ke(I.I,I.D,Bo))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-d.F,E.j.info("Handshake RTT: "+E.R+"ms")),I=E;var ce=d;if(I.qa=ac(I,I.J?I.ia:null,I.W),ce.K){Qu(I.h,ce);var qe=ce,Tt=I.L;Tt&&(qe.I=Tt),qe.B&&(Ps(qe),Ge(qe)),I.g=ce}else Ls(I);0<E.i.length&&xr(E)}else $e[0]!="stop"&&$e[0]!="close"||Zr(E,7);else E.G==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?Zr(E,7):Mt(E):$e[0]!="noop"&&E.l&&E.l.ta($e),E.v=0)}}Gr(4)}catch{}}var Ku=class{constructor(d,y){this.g=d,this.map=y}};function Rs(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Gu(d){return d.h?1:d.g?d.g.size:0}function nn(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function al(d,y){d.g?d.g.add(y):d.h=y}function Qu(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Rs.prototype.cancel=function(){if(this.i=Yu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Yu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const E of d.g.values())y=y.concat(E.D);return y}return L(d.i)}function Ro(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var y=[],E=d.length,I=0;I<E;I++)y.push(d[I]);return y}y=[],E=0;for(I in d)y[E++]=d[I];return y}function ko(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var y=[];d=d.length;for(var E=0;E<d;E++)y.push(E);return y}y=[],E=0;for(const I in d)y[E++]=I;return y}}}function bi(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var E=ko(d),I=Ro(d),W=I.length,X=0;X<W;X++)y.call(void 0,I[X],E&&E[X],d)}var ks=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Kh(d,y){if(d){d=d.split("&");for(var E=0;E<d.length;E++){var I=d[E].indexOf("="),W=null;if(0<=I){var X=d[E].substring(0,I);W=d[E].substring(I+1)}else X=d[E];y(X,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Qr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Qr){this.h=d.h,Ns(this,d.j),this.o=d.o,this.g=d.g,Si(this,d.s),this.l=d.l;var y=d.i,E=new vr;E.i=y.i,y.g&&(E.g=new Map(y.g),E.h=y.h),Ci(this,E),this.m=d.m}else d&&(y=String(d).match(ks))?(this.h=!1,Ns(this,y[1]||"",!0),this.o=Ue(y[2]||""),this.g=Ue(y[3]||"",!0),Si(this,y[4]),this.l=Ue(y[5]||"",!0),Ci(this,y[6]||"",!0),this.m=Ue(y[7]||"")):(this.h=!1,this.i=new vr(null,this.h))}Qr.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Ai(y,No,!0),":");var E=this.g;return(E||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Ai(y,No,!0),"@"),d.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&d.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Ai(E,E.charAt(0)=="/"?Zu:Ju,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Ai(E,ll)),d.join("")};function xn(d){return new Qr(d)}function Ns(d,y,E){d.j=E?Ue(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Si(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function Ci(d,y,E){y instanceof vr?(d.i=y,_r(d.i,d.h)):(E||(y=Ai(y,ec)),d.i=new vr(y,d.h))}function Ke(d,y,E){d.i.set(y,E)}function Ii(d){return Ke(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Ue(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Ai(d,y,E){return typeof d=="string"?(d=encodeURI(d).replace(y,Xu),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Xu(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var No=/[#\/\?@]/g,Ju=/[#\?:]/g,Zu=/[#\?]/g,ec=/[#\?@]/g,ll=/#/g;function vr(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function Ot(d){d.g||(d.g=new Map,d.h=0,d.i&&Kh(d.i,function(y,E){d.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=vr.prototype,t.add=function(d,y){Ot(this),this.i=null,d=Dn(this,d);var E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(y),this.h+=1,this};function Jn(d,y){Ot(d),y=Dn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Zn(d,y){return Ot(d),y=Dn(d,y),d.g.has(y)}t.forEach=function(d,y){Ot(this),this.g.forEach(function(E,I){E.forEach(function(W){d.call(y,W,I,this)},this)},this)},t.na=function(){Ot(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),E=[];for(let I=0;I<y.length;I++){const W=d[I];for(let X=0;X<W.length;X++)E.push(y[I])}return E},t.V=function(d){Ot(this);let y=[];if(typeof d=="string")Zn(this,d)&&(y=y.concat(this.g.get(Dn(this,d))));else{d=Array.from(this.g.values());for(let E=0;E<d.length;E++)y=y.concat(d[E])}return y},t.set=function(d,y){return Ot(this),this.i=null,d=Dn(this,d),Zn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},t.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Pi(d,y,E){Jn(d,y),0<E.length&&(d.i=null,d.g.set(Dn(d,y),L(E)),d.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var E=0;E<y.length;E++){var I=y[E];const X=encodeURIComponent(String(I)),ce=this.V(I);for(I=0;I<ce.length;I++){var W=X;ce[I]!==""&&(W+="="+encodeURIComponent(String(ce[I]))),d.push(W)}}return this.i=d.join("&")};function Dn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function _r(d,y){y&&!d.j&&(Ot(d),d.i=null,d.g.forEach(function(E,I){var W=I.toLowerCase();I!=W&&(Jn(this,I),Pi(this,W,E))},d)),d.j=y}function Gh(d,y){const E=new Cs;if(c.Image){const I=new Image;I.onload=S(un,E,"TestLoadImage: loaded",!0,y,I),I.onerror=S(un,E,"TestLoadImage: error",!1,y,I),I.onabort=S(un,E,"TestLoadImage: abort",!1,y,I),I.ontimeout=S(un,E,"TestLoadImage: timeout",!1,y,I),c.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=d}else y(!1)}function tc(d,y){const E=new Cs,I=new AbortController,W=setTimeout(()=>{I.abort(),un(E,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:I.signal}).then(X=>{clearTimeout(W),X.ok?un(E,"TestPingServer: ok",!0,y):un(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(W),un(E,"TestPingServer: error",!1,y)})}function un(d,y,E,I,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),I(E)}catch{}}function Qh(){this.g=new Za}function nc(d,y,E){const I=E||"";try{bi(d,function(W,X){let ce=W;p(W)&&(ce=Xa(W)),y.push(I+X+"="+encodeURIComponent(ce))})}catch(W){throw y.push(I+"type="+encodeURIComponent("_badmap")),W}}function Yr(d){this.l=d.Ub||null,this.j=d.eb||!1}R(Yr,bs),Yr.prototype.g=function(){return new Ds(this.l,this.j)},Yr.prototype.i=function(d){return function(){return d}}({});function Ds(d,y){xt.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(Ds,xt),t=Ds.prototype,t.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,tr(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||c).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,er(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,tr(this)),this.g&&(this.readyState=3,tr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;rc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function rc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?er(this):tr(this),this.readyState==3&&rc(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,er(this))},t.Qa=function(d){this.g&&(this.response=d,er(this))},t.ga=function(){this.g&&er(this)};function er(d){d.readyState=4,d.l=null,d.j=null,d.v=null,tr(d)}t.setRequestHeader=function(d,y){this.u.append(d,y)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=y.next();return d.join(`\r
`)};function tr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Xr(d){let y="";return $(d,function(E,I){y+=I,y+=":",y+=E,y+=`\r
`}),y}function Ri(d,y,E){e:{for(I in E){var I=!1;break e}I=!0}I||(E=Xr(E),typeof d=="string"?E!=null&&encodeURIComponent(String(E)):Ke(d,y,E))}function Ze(d){xt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(Ze,xt);var Yh=/^https?$/i,ul=["POST","PUT"];t=Ze.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,y,E,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Yn.g(),this.v=this.o?Eo(this.o):Eo(Yn),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(X){Vs(this,X);return}if(d=E||"",E=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var W in I)E.set(W,I[W]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const X of I.keys())E.set(X,I.get(X));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(E.keys()).find(X=>X.toLowerCase()=="content-type"),W=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(ul,y,void 0))||I||W||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ce]of E)this.g.setRequestHeader(X,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vo(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){Vs(this,X)}};function Vs(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Do(d),En(d)}function Do(d){d.A||(d.A=!0,Et(d,"complete"),Et(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,Et(this,"complete"),Et(this,"abort"),En(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),En(this,!0)),Ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?cl(this):this.bb())},t.bb=function(){cl(this)};function cl(d){if(d.h&&typeof l<"u"&&(!d.v[1]||cn(d)!=4||d.Z()!=2)){if(d.u&&cn(d)==4)Ga(d.Ea,0,d);else if(Et(d,"readystatechange"),cn(d)==4){d.h=!1;try{const ce=d.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var I;if(I=ce===0){var W=String(d.D).match(ks)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),I=!Yh.test(W?W.toLowerCase():"")}E=I}if(E)Et(d,"complete"),Et(d,"success");else{d.m=6;try{var X=2<cn(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",Do(d)}}finally{En(d)}}}}function En(d,y){if(d.g){Vo(d);const E=d.g,I=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||Et(d,"ready");try{E.onreadystatechange=I}catch{}}}function Vo(d){d.I&&(c.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function cn(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<cn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),Ja(y)}};function dl(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Lo(d){const y={};d=(d.g&&2<=cn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<d.length;I++){if(q(d[I]))continue;var E=M(d[I]);const W=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const X=y[W]||[];y[W]=X,X.push(E)}P(y,function(I){return I.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function wr(d,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||y}function hl(d){this.Aa=0,this.i=[],this.j=new Cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=wr("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=wr("baseRetryDelayMs",5e3,d),this.cb=wr("retryDelaySeedMs",1e4,d),this.Wa=wr("forwardChannelMaxRetries",2,d),this.wa=wr("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Rs(d&&d.concurrentRequestLimit),this.Da=new Qh,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=hl.prototype,t.la=8,t.G=1,t.connect=function(d,y,E,I){ft(0),this.W=d,this.H=y||{},E&&I!==void 0&&(this.H.OSID=E,this.H.OAID=I),this.F=this.X,this.I=ac(this,null,this.W),xr(this)};function Mt(d){if(Oo(d),d.G==3){var y=d.U++,E=xn(d.I);if(Ke(E,"SID",d.K),Ke(E,"RID",y),Ke(E,"TYPE","terminate"),Jr(d,E),y=new Xn(d,d.j,y),y.L=2,y.v=Ii(xn(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(y.v.toString(),"")}catch{}!E&&c.Image&&(new Image().src=y.v,E=!0),E||(y.g=lc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Ge(y)}oc(d)}function nr(d){d.g&&(fl(d),d.g.cancel(),d.g=null)}function Oo(d){nr(d),d.u&&(c.clearTimeout(d.u),d.u=null),Fo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function xr(d){if(!wn(d.h)&&!d.s){d.s=!0;var y=d.Ga;_e||he(),oe||(_e(),oe=!0),fe.add(y,d),d.B=0}}function Xh(d,y){return Gu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Gn(x(d.Ga,d,y),sc(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new Xn(this,this.j,d);let X=this.o;if(this.S&&(X?(X=T(X),A(X,this.S)):X=this.S),this.m!==null||this.O||(W.H=X,X=null),this.P)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var I=this.i[E];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(y+=I,4096<y){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=ki(this,W,y),E=xn(this.I),Ke(E,"RID",d),Ke(E,"CVER",22),this.D&&Ke(E,"X-HTTP-Session-Id",this.D),Jr(this,E),X&&(this.O?y="headers="+encodeURIComponent(String(Xr(X)))+"&"+y:this.m&&Ri(E,this.m,X)),al(this.h,W),this.Ua&&Ke(E,"TYPE","init"),this.P?(Ke(E,"$req",y),Ke(E,"SID","null"),W.T=!0,Po(W,E,null)):Po(W,E,y),this.G=2}}else this.G==3&&(d?Mo(this,d):this.i.length==0||wn(this.h)||Mo(this))};function Mo(d,y){var E;y?E=y.l:E=d.U++;const I=xn(d.I);Ke(I,"SID",d.K),Ke(I,"RID",E),Ke(I,"AID",d.T),Jr(d,I),d.m&&d.o&&Ri(I,d.m,d.o),E=new Xn(d,d.j,E,d.B+1),d.m===null&&(E.H=d.o),y&&(d.i=y.D.concat(d.i)),y=ki(d,E,1e3),E.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),al(d.h,E),Po(E,I,y)}function Jr(d,y){d.H&&$(d.H,function(E,I){Ke(y,I,E)}),d.l&&bi({},function(E,I){Ke(y,I,E)})}function ki(d,y,E){E=Math.min(d.i.length,E);var I=d.l?x(d.l.Na,d.l,d):null;e:{var W=d.i;let X=-1;for(;;){const ce=["count="+E];X==-1?0<E?(X=W[0].g,ce.push("ofs="+X)):X=0:ce.push("ofs="+X);let qe=!0;for(let Tt=0;Tt<E;Tt++){let $e=W[Tt].g;const Rt=W[Tt].map;if($e-=X,0>$e)X=Math.max(0,W[Tt].g-100),qe=!1;else try{nc(Rt,ce,"req"+$e+"_")}catch{I&&I(Rt)}}if(qe){I=ce.join("&");break e}}}return d=d.i.splice(0,E),y.D=d,I}function Ls(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;_e||he(),oe||(_e(),oe=!0),fe.add(y,d),d.v=0}}function jo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Gn(x(d.Fa,d),sc(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,ic(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Gn(x(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),nr(this),ic(this))};function fl(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function ic(d){d.g=new Xn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=xn(d.qa);Ke(y,"RID","rpc"),Ke(y,"SID",d.K),Ke(y,"AID",d.T),Ke(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&Ke(y,"TO",d.ja),Ke(y,"TYPE","xmlhttp"),Jr(d,y),d.m&&d.o&&Ri(y,d.m,d.o),d.L&&(d.g.I=d.L);var E=d.g;d=d.ia,E.L=1,E.v=Ii(xn(y)),E.m=null,E.P=!0,sl(E,d)}t.Za=function(){this.C!=null&&(this.C=null,nr(this),jo(this),ft(19))};function Fo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Uo(d,y){var E=null;if(d.g==y){Fo(d),fl(d),d.g=null;var I=2}else if(nn(d.h,y))E=y.D,Qu(d.h,y),I=1;else return;if(d.G!=0){if(y.o)if(I==1){E=y.m?y.m.length:0,y=Date.now()-y.F;var W=d.B;I=Ss(),Et(I,new So(I,E)),xr(d)}else Ls(d);else if(W=y.s,W==3||W==0&&0<y.X||!(I==1&&Xh(d,y)||I==2&&jo(d)))switch(E&&0<E.length&&(y=d.h,y.i=y.i.concat(E)),W){case 1:Zr(d,5);break;case 4:Zr(d,10);break;case 3:Zr(d,6);break;default:Zr(d,2)}}}function sc(d,y){let E=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(E*=2),E*y}function Zr(d,y){if(d.j.info("Error code "+y),y==2){var E=x(d.fb,d),I=d.Xa;const W=!I;I=new Qr(I||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ns(I,"https"),Ii(I),W?Gh(I.toString(),E):tc(I.toString(),E)}else ft(2);d.G=0,d.l&&d.l.sa(y),oc(d),Oo(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function oc(d){if(d.G=0,d.ka=[],d.l){const y=Yu(d.h);(y.length!=0||d.i.length!=0)&&(N(d.ka,y),N(d.ka,d.i),d.h.i.length=0,L(d.i),d.i.length=0),d.l.ra()}}function ac(d,y,E){var I=E instanceof Qr?xn(E):new Qr(E);if(I.g!="")y&&(I.g=y+"."+I.g),Si(I,I.s);else{var W=c.location;I=W.protocol,y=y?y+"."+W.hostname:W.hostname,W=+W.port;var X=new Qr(null);I&&Ns(X,I),y&&(X.g=y),W&&Si(X,W),E&&(X.l=E),I=X}return E=d.D,y=d.ya,E&&y&&Ke(I,E,y),Ke(I,"VER",d.la),Jr(d,I),I}function lc(d,y,E){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new Ze(new Yr({eb:E})):new Ze(d.pa),y.Ha(d.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function pl(){}t=pl.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $o(){}$o.prototype.g=function(d,y){return new rn(d,y)};function rn(d,y){xt.call(this),this.g=new hl(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!q(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!q(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Er(this)}R(rn,xt),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Mt(this.g)},rn.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.u&&(E={},E.__data__=Xa(d),d=E);y.i.push(new Ku(y.Ya++,d)),y.G==3&&xr(y)},rn.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,rn.aa.N.call(this)};function uc(d){gr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const E in y){d=E;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}R(uc,gr);function cc(){bo.call(this),this.status=1}R(cc,bo);function Er(d){this.g=d}R(Er,pl),Er.prototype.ua=function(){Et(this.g,"a")},Er.prototype.ta=function(d){Et(this.g,new uc(d))},Er.prototype.sa=function(d){Et(this.g,new cc)},Er.prototype.ra=function(){Et(this.g,"b")},$o.prototype.createWebChannel=$o.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,Sb=function(){return new $o},bb=function(){return Ss()},Tb=yr,Im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Io.NO_ERROR=0,Io.TIMEOUT=8,Io.HTTP_ERROR=6,Td=Io,zu.COMPLETE="complete",Eb=zu,To.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Gl=To,Ze.prototype.listenOnce=Ze.prototype.L,Ze.prototype.getLastError=Ze.prototype.Ka,Ze.prototype.getLastErrorCode=Ze.prototype.Ba,Ze.prototype.getStatus=Ze.prototype.Z,Ze.prototype.getResponseJson=Ze.prototype.Oa,Ze.prototype.getResponseText=Ze.prototype.oa,Ze.prototype.send=Ze.prototype.ea,Ze.prototype.setWithCredentials=Ze.prototype.Ha,xb=Ze}).apply(typeof cd<"u"?cd:typeof self<"u"?self:typeof window<"u"?window:{});const Hw="@firebase/firestore",qw="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ua="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo=new $g("@firebase/firestore");function da(){return lo.logLevel}function me(t,...e){if(lo.logLevel<=je.DEBUG){const n=e.map(Hg);lo.debug(`Firestore (${Ua}): ${t}`,...n)}}function vi(t,...e){if(lo.logLevel<=je.ERROR){const n=e.map(Hg);lo.error(`Firestore (${Ua}): ${t}`,...n)}}function Aa(t,...e){if(lo.logLevel<=je.WARN){const n=e.map(Hg);lo.warn(`Firestore (${Ua}): ${t}`,...n)}}function Hg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pe(t="Unexpected state"){const e=`FIRESTORE (${Ua}) INTERNAL ASSERTION FAILED: `+t;throw vi(e),new Error(e)}function He(t,e){t||Pe()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ee extends $r{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class SV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CV{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){He(this.o===void 0);let r=this.i;const s=h=>this.i!==r?(r=this.i,n(h)):Promise.resolve();let a=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new pi,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const h=a;e.enqueueRetryable(async()=>{await h.promise,await s(this.currentUser)})},c=h=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new pi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new Cb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Jt(e)}}class IV{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class AV{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new IV(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Kw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PV{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,zn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){He(this.o===void 0);const r=a=>{a.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,me("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?s(a):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Kw(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new Kw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=RV(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<n&&(r+=e.charAt(s[a]%62))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function Am(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Le(r,s);{const a=Ib(),l=kV(a.encode(Gw(t,n)),a.encode(Gw(e,n)));return l!==0?l:Le(r,s)}}n+=r>65535?2:1}return Le(t.length,e.length)}function Gw(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function kV(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Le(t[n],e[n]);return Le(t.length,e.length)}function Pa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw=-62135596800,Yw=1e6;class It{static now(){return It.fromMillis(Date.now())}static fromDate(e){return It.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Yw);return new It(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ee(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ee(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Qw)throw new Ee(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ee(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Yw}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Qw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new It(0,0))}static max(){return new ke(new It(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="__name__";class Ir{constructor(e,n,r){n===void 0?n=0:n>e.length&&Pe(),r===void 0?r=e.length-n:r>e.length-n&&Pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ir.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ir?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const a=Ir.compareSegments(e.get(s),n.get(s));if(a!==0)return a}return Le(e.length,n.length)}static compareSegments(e,n){const r=Ir.isNumericId(e),s=Ir.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ir.extractNumericId(e).compare(Ir.extractNumericId(n)):Am(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class tt extends Ir{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ee(ie.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const NV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Ir{construct(e,n,r){return new Wt(e,n,r)}static isValidIdentifier(e){return NV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Xw}static keyField(){return new Wt([Xw])}static fromServerFormat(e){const n=[];let r="",s=0;const a=()=>{if(r.length===0)throw new Ee(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new Ee(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[s+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Ee(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new Ee(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(n)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(tt.fromString(e))}static fromName(e){return new Ce(tt.fromString(e).popFirst(5))}static empty(){return new Ce(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=-1;function DV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ke.fromTimestamp(r===1e9?new It(n+1,0):new It(n,r));return new us(s,Ce.empty(),e)}function VV(t){return new us(t.readTime,t.key,yu)}class us{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new us(ke.min(),Ce.empty(),yu)}static max(){return new us(ke.max(),Ce.empty(),yu)}}function LV(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ce.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class MV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==OV)throw t;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let s=0,a=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&n()},h=>r(h))}),l=!0,a===s&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(s=>s?ee.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,a)=>{r.push(n.call(this,s,a))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let h=0;h<a;h++){const p=h;n(e[p]).next(g=>{l[p]=g,++c,c===a&&r(l)},g=>s(g))}})}static doWhile(e,n){return new ee((r,s)=>{const a=()=>{e()===!0?n().next(()=>{a()},s):r()};a()})}}function jV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ba(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}_h.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg=-1;function wh(t){return t==null}function Hd(t){return t===0&&1/t==-1/0}function FV(t){return typeof t=="number"&&Number.isInteger(t)&&!Hd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="";function UV(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Jw(e)),e=$V(t.get(n),e);return Jw(e)}function $V(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const a=t.charAt(s);switch(a){case"\0":n+="";break;case Pb:n+="";break;default:n+=a}}return n}function Jw(t){return t+Pb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function _s(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Rb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Bt.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dd(this.root,e,this.comparator,!1)}getReverseIterator(){return new dd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dd(this.root,e,this.comparator,!0)}}class dd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bt{constructor(e,n,r,s,a){this.key=e,this.value=n,this.color=r??Bt.RED,this.left=s??Bt.EMPTY,this.right=a??Bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,a){return new Bt(e??this.key,n??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,n,r),null):a===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Bt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Pe();const e=this.left.check();if(e!==this.right.check())throw Pe();return e+(this.isRed()?0:1)}}Bt.EMPTY=null,Bt.RED=!0,Bt.BLACK=!1;Bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Pe()}get value(){throw Pe()}get color(){throw Pe()}get left(){throw Pe()}get right(){throw Pe()}copy(e,n,r,s,a){return this}insert(e,n,r){return new Bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ex(this.data.getIterator())}getIteratorFrom(e){return new ex(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class ex{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new In([])}unionWith(e){let n=new At(Wt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new kb("Invalid base64 string: "+a):a}}(e);return new Ht(n)}static fromUint8Array(e){const n=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new Ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ht.EMPTY_BYTE_STRING=new Ht("");const BV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(t){if(He(!!t),typeof t=="string"){let e=0;const n=BV.exec(t);if(He(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:yt(t.seconds),nanos:yt(t.nanos)}}function yt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ds(t){return typeof t=="string"?Ht.fromBase64String(t):Ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="server_timestamp",Db="__type__",Vb="__previous_value__",Lb="__local_write_time__";function Kg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Db])===null||n===void 0?void 0:n.stringValue)===Nb}function xh(t){const e=t.mapValue.fields[Vb];return Kg(e)?xh(e):e}function vu(t){const e=cs(t.mapValue.fields[Lb].timestampValue);return new It(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n,r,s,a,l,c,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=p}}const qd="(default)";class _u{constructor(e,n){this.projectId=e,this.database=n||qd}static empty(){return new _u("","")}get isDefaultDatabase(){return this.database===qd}isEqual(e){return e instanceof _u&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ob="__type__",WV="__max__",hd={mapValue:{}},Mb="__vector__",Kd="value";function hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kg(t)?4:qV(t)?9007199254740991:HV(t)?10:11:Pe()}function jr(t,e){if(t===e)return!0;const n=hs(t);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return vu(t).isEqual(vu(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=cs(s.timestampValue),c=cs(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,a){return ds(s.bytesValue).isEqual(ds(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,a){return yt(s.geoPointValue.latitude)===yt(a.geoPointValue.latitude)&&yt(s.geoPointValue.longitude)===yt(a.geoPointValue.longitude)}(t,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return yt(s.integerValue)===yt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=yt(s.doubleValue),c=yt(a.doubleValue);return l===c?Hd(l)===Hd(c):isNaN(l)&&isNaN(c)}return!1}(t,e);case 9:return Pa(t.arrayValue.values||[],e.arrayValue.values||[],jr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(Zw(l)!==Zw(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!jr(l[h],c[h])))return!1;return!0}(t,e);default:return Pe()}}function wu(t,e){return(t.values||[]).find(n=>jr(n,e))!==void 0}function Ra(t,e){if(t===e)return 0;const n=hs(t),r=hs(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return function(a,l){const c=yt(a.integerValue||a.doubleValue),h=yt(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(t,e);case 3:return tx(t.timestampValue,e.timestampValue);case 4:return tx(vu(t),vu(e));case 5:return Am(t.stringValue,e.stringValue);case 6:return function(a,l){const c=ds(a),h=ds(l);return c.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),h=l.split("/");for(let p=0;p<c.length&&p<h.length;p++){const g=Le(c[p],h[p]);if(g!==0)return g}return Le(c.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,l){const c=Le(yt(a.latitude),yt(l.latitude));return c!==0?c:Le(yt(a.longitude),yt(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return nx(t.arrayValue,e.arrayValue);case 10:return function(a,l){var c,h,p,g;const w=a.fields||{},x=l.fields||{},S=(c=w[Kd])===null||c===void 0?void 0:c.arrayValue,R=(h=x[Kd])===null||h===void 0?void 0:h.arrayValue,L=Le(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=R==null?void 0:R.values)===null||g===void 0?void 0:g.length)||0);return L!==0?L:nx(S,R)}(t.mapValue,e.mapValue);case 11:return function(a,l){if(a===hd.mapValue&&l===hd.mapValue)return 0;if(a===hd.mapValue)return 1;if(l===hd.mapValue)return-1;const c=a.fields||{},h=Object.keys(c),p=l.fields||{},g=Object.keys(p);h.sort(),g.sort();for(let w=0;w<h.length&&w<g.length;++w){const x=Am(h[w],g[w]);if(x!==0)return x;const S=Ra(c[h[w]],p[g[w]]);if(S!==0)return S}return Le(h.length,g.length)}(t.mapValue,e.mapValue);default:throw Pe()}}function tx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=cs(t),r=cs(e),s=Le(n.seconds,r.seconds);return s!==0?s:Le(n.nanos,r.nanos)}function nx(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const a=Ra(n[s],r[s]);if(a)return a}return Le(n.length,r.length)}function ka(t){return Pm(t)}function Pm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=cs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ds(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const a of n.values||[])s?s=!1:r+=",",r+=Pm(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Pm(n.fields[l])}`;return s+"}"}(t.mapValue):Pe()}function bd(t){switch(hs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=xh(t);return e?16+bd(e):16;case 5:return 2*t.stringValue.length;case 6:return ds(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+bd(a),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return _s(r.fields,(a,l)=>{s+=a.length+bd(l)}),s}(t.mapValue);default:throw Pe()}}function Rm(t){return!!t&&"integerValue"in t}function Gg(t){return!!t&&"arrayValue"in t}function rx(t){return!!t&&"nullValue"in t}function ix(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sd(t){return!!t&&"mapValue"in t}function HV(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ob])===null||n===void 0?void 0:n.stringValue)===Mb}function nu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return _s(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nu(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===WV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(e){this.value=e}static empty(){return new vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nu(n)}setAll(e){let n=Wt.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!n.isImmediateParentOf(c)){const h=this.getFieldsMap(n);this.applyChanges(h,r,s),r={},s=[],n=c.popLast()}l?r[c.lastSegment()]=nu(l):s.push(c.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,s)}delete(e){const n=this.field(e.popLast());Sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Sd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){_s(n,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new vn(nu(this.value))}}function jb(t){const e=[];return _s(t.fields,(n,r)=>{const s=new Wt([n]);if(Sd(r)){const a=jb(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,r,s,a,l,c){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new Zt(e,0,ke.min(),ke.min(),ke.min(),vn.empty(),0)}static newFoundDocument(e,n,r,s){return new Zt(e,1,n,ke.min(),r,s,0)}static newNoDocument(e,n){return new Zt(e,2,n,ke.min(),ke.min(),vn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,ke.min(),ke.min(),vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n){this.position=e,this.inclusive=n}}function sx(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const a=e[s],l=t.position[s];if(a.field.isKeyField()?r=Ce.comparator(Ce.fromName(l.referenceValue),n.key):r=Ra(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function ox(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n="asc"){this.field=e,this.dir=n}}function KV(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{}class Ct extends Fb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new QV(e,n,r):n==="array-contains"?new JV(e,r):n==="in"?new ZV(e,r):n==="not-in"?new eL(e,r):n==="array-contains-any"?new tL(e,r):new Ct(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new YV(e,r):new XV(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ra(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(Ra(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Fr extends Fb{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Fr(e,n)}matches(e){return Ub(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Ub(t){return t.op==="and"}function $b(t){return GV(t)&&Ub(t)}function GV(t){for(const e of t.filters)if(e instanceof Fr)return!1;return!0}function km(t){if(t instanceof Ct)return t.field.canonicalString()+t.op.toString()+ka(t.value);if($b(t))return t.filters.map(e=>km(e)).join(",");{const e=t.filters.map(n=>km(n)).join(",");return`${t.op}(${e})`}}function Bb(t,e){return t instanceof Ct?function(r,s){return s instanceof Ct&&r.op===s.op&&r.field.isEqual(s.field)&&jr(r.value,s.value)}(t,e):t instanceof Fr?function(r,s){return s instanceof Fr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,c)=>a&&Bb(l,s.filters[c]),!0):!1}(t,e):void Pe()}function zb(t){return t instanceof Ct?function(n){return`${n.field.canonicalString()} ${n.op} ${ka(n.value)}`}(t):t instanceof Fr?function(n){return n.op.toString()+" {"+n.getFilters().map(zb).join(" ,")+"}"}(t):"Filter"}class QV extends Ct{constructor(e,n,r){super(e,n,r),this.key=Ce.fromName(r.referenceValue)}matches(e){const n=Ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class YV extends Ct{constructor(e,n){super(e,"in",n),this.keys=Wb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class XV extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=Wb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Wb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ce.fromName(r.referenceValue))}class JV extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Gg(n)&&wu(n.arrayValue,this.value)}}class ZV extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&wu(this.value.arrayValue,n)}}class eL extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!wu(this.value.arrayValue,n)}}class tL extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>wu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nL{constructor(e,n=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.le=null}}function ax(t,e=null,n=[],r=[],s=null,a=null,l=null){return new nL(t,e,n,r,s,a,l)}function Qg(t){const e=Ne(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>km(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ka(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ka(r)).join(",")),e.le=n}return e.le}function Yg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!KV(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Bb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ox(t.startAt,e.startAt)&&ox(t.endAt,e.endAt)}function Nm(t){return Ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n=null,r=[],s=[],a=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=h,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function rL(t,e,n,r,s,a,l,c){return new Eh(t,e,n,r,s,a,l,c)}function Xg(t){return new Eh(t)}function lx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function iL(t){return t.collectionGroup!==null}function ru(t){const e=Ne(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new At(Wt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(c=c.add(p.field))})}),c})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new Qd(a,r))}),n.has(Wt.keyField().canonicalString())||e.he.push(new Qd(Wt.keyField(),r))}return e.he}function Dr(t){const e=Ne(t);return e.Pe||(e.Pe=sL(e,ru(t))),e.Pe}function sL(t,e){if(t.limitType==="F")return ax(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new Qd(s.field,a)});const n=t.endAt?new Gd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Gd(t.startAt.position,t.startAt.inclusive):null;return ax(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dm(t,e,n){return new Eh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Th(t,e){return Yg(Dr(t),Dr(e))&&t.limitType===e.limitType}function Hb(t){return`${Qg(Dr(t))}|lt:${t.limitType}`}function ha(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>zb(s)).join(", ")}]`),wh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ka(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ka(s)).join(",")),`Target(${r})`}(Dr(t))}; limitType=${t.limitType})`}function bh(t,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Ce.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,s){for(const a of ru(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,c,h){const p=sx(l,c,h);return l.inclusive?p<=0:p<0}(r.startAt,ru(r),s)||r.endAt&&!function(l,c,h){const p=sx(l,c,h);return l.inclusive?p>=0:p>0}(r.endAt,ru(r),s))}(t,e)}function oL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function qb(t){return(e,n)=>{let r=!1;for(const s of ru(t)){const a=aL(s,e,n);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function aL(t,e,n){const r=t.field.isKeyField()?Ce.comparator(e.key,n.key):function(a,l,c){const h=l.data.field(a),p=c.data.field(a);return h!==null&&p!==null?Ra(h,p):Pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(n,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return Rb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=new ot(Ce.comparator);function _i(){return lL}const Kb=new ot(Ce.comparator);function Ql(...t){let e=Kb;for(const n of t)e=e.insert(n.key,n);return e}function Gb(t){let e=Kb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ro(){return iu()}function Qb(){return iu()}function iu(){return new mo(t=>t.toString(),(t,e)=>t.isEqual(e))}const uL=new ot(Ce.comparator),cL=new At(Ce.comparator);function Fe(...t){let e=cL;for(const n of t)e=e.add(n);return e}const dL=new At(Le);function hL(){return dL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hd(e)?"-0":e}}function Yb(t){return{integerValue:""+t}}function fL(t,e){return FV(e)?Yb(e):Jg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function pL(t,e,n){return t instanceof Yd?function(s,a){const l={fields:{[Db]:{stringValue:Nb},[Lb]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Kg(a)&&(a=xh(a)),a&&(l.fields[Vb]=a),{mapValue:l}}(n,e):t instanceof xu?Jb(t,e):t instanceof Eu?Zb(t,e):function(s,a){const l=Xb(s,a),c=ux(l)+ux(s.Ie);return Rm(l)&&Rm(s.Ie)?Yb(c):Jg(s.serializer,c)}(t,e)}function mL(t,e,n){return t instanceof xu?Jb(t,e):t instanceof Eu?Zb(t,e):n}function Xb(t,e){return t instanceof Xd?function(r){return Rm(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class Yd extends Sh{}class xu extends Sh{constructor(e){super(),this.elements=e}}function Jb(t,e){const n=eS(e);for(const r of t.elements)n.some(s=>jr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Eu extends Sh{constructor(e){super(),this.elements=e}}function Zb(t,e){let n=eS(e);for(const r of t.elements)n=n.filter(s=>!jr(s,r));return{arrayValue:{values:n}}}class Xd extends Sh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function ux(t){return yt(t.integerValue||t.doubleValue)}function eS(t){return Gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function gL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof xu&&s instanceof xu||r instanceof Eu&&s instanceof Eu?Pa(r.elements,s.elements,jr):r instanceof Xd&&s instanceof Xd?jr(r.Ie,s.Ie):r instanceof Yd&&s instanceof Yd}(t.transform,e.transform)}class yL{constructor(e,n){this.version=e,this.transformResults=n}}class Hn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Hn}static exists(e){return new Hn(void 0,e)}static updateTime(e){return new Hn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ch{}function tS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Zg(t.key,Hn.none()):new Vu(t.key,t.data,Hn.none());{const n=t.data,r=vn.empty();let s=new At(Wt.comparator);for(let a of e.fields)if(!s.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new ws(t.key,r,new In(s.toArray()),Hn.none())}}function vL(t,e,n){t instanceof Vu?function(s,a,l){const c=s.value.clone(),h=dx(s.fieldTransforms,a,l.transformResults);c.setAll(h),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):t instanceof ws?function(s,a,l){if(!Cd(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=dx(s.fieldTransforms,a,l.transformResults),h=a.data;h.setAll(nS(s)),h.setAll(c),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(t,e,n):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function su(t,e,n,r){return t instanceof Vu?function(a,l,c,h){if(!Cd(a.precondition,l))return c;const p=a.value.clone(),g=hx(a.fieldTransforms,h,l);return p.setAll(g),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof ws?function(a,l,c,h){if(!Cd(a.precondition,l))return c;const p=hx(a.fieldTransforms,h,l),g=l.data;return g.setAll(nS(a)),g.setAll(p),l.convertToFoundDocument(l.version,g).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(w=>w.field))}(t,e,n,r):function(a,l,c){return Cd(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(t,e,n)}function _L(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),a=Xb(r.transform,s||null);a!=null&&(n===null&&(n=vn.empty()),n.set(r.field,a))}return n||null}function cx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Pa(r,s,(a,l)=>gL(a,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Vu extends Ch{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ws extends Ch{constructor(e,n,r,s,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function nS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function dx(t,e,n){const r=new Map;He(t.length===n.length);for(let s=0;s<n.length;s++){const a=t[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,mL(l,c,n[s]))}return r}function hx(t,e,n){const r=new Map;for(const s of t){const a=s.transform,l=n.data.field(s.field);r.set(s.field,pL(a,l,e))}return r}class Zg extends Ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wL extends Ch{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&vL(a,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Qb();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=n.has(s.key)?null:c;const h=tS(l,c);h!==null&&r.set(s.key,h),l.isValidDocument()||l.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Fe())}isEqual(e){return this.batchId===e.batchId&&Pa(this.mutations,e.mutations,(n,r)=>cx(n,r))&&Pa(this.baseMutations,e.baseMutations,(n,r)=>cx(n,r))}}class ey{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){He(e.mutations.length===r.length);let s=function(){return uL}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new ey(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,Be;function bL(t){switch(t){case ie.OK:return Pe();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Pe()}}function rS(t){if(t===void 0)return vi("GRPC error has no .code"),ie.UNKNOWN;switch(t){case wt.OK:return ie.OK;case wt.CANCELLED:return ie.CANCELLED;case wt.UNKNOWN:return ie.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ie.INTERNAL;case wt.UNAVAILABLE:return ie.UNAVAILABLE;case wt.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case wt.NOT_FOUND:return ie.NOT_FOUND;case wt.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case wt.ABORTED:return ie.ABORTED;case wt.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case wt.DATA_LOSS:return ie.DATA_LOSS;default:return Pe()}}(Be=wt||(wt={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new ns([4294967295,4294967295],0);function fx(t){const e=Ib().encode(t),n=new wb;return n.update(e),new Uint8Array(n.digest())}function px(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new ns([n,r],0),new ns([s,a],0)]}class ty{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(r<0)throw new Yl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ns.fromNumber(this.Ee)}Ae(e,n,r){let s=e.add(n.multiply(ns.fromNumber(r)));return s.compare(SL)===1&&(s=new ns([s.getBits(0),s.getBits(1)],0)),s.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=fx(e),[r,s]=px(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);if(!this.Re(l))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new ty(a,s,n);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.Ee===0)return;const n=fx(e),[r,s]=px(n);for(let a=0;a<this.hashCount;a++){const l=this.Ae(r,s,a);this.Ve(l)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,s,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Lu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ih(ke.min(),s,new ot(Le),_i(),Fe())}}class Lu{constructor(e,n,r,s,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lu(r,n,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,r,s){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=s}}class iS{constructor(e,n){this.targetId=e,this.ge=n}}class sS{constructor(e,n,r=Ht.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class mx{constructor(){this.pe=0,this.ye=gx(),this.we=Ht.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Fe(),n=Fe(),r=Fe();return this.ye.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Pe()}}),new Lu(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=gx()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,He(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class CL{constructor(e){this.ke=e,this.qe=new Map,this.Qe=_i(),this.$e=fd(),this.Ue=fd(),this.Ke=new ot(Le)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,s)=>{this.Je(s)&&n(s)})}Ze(e){const n=e.targetId,r=e.ge.count,s=this.Xe(n);if(s){const a=s.target;if(Nm(a))if(r===0){const l=new Ce(a.path);this.ze(n,l,Zt.newNoDocument(l,ke.min()))}else He(r===1);else{const l=this.et(n);if(l!==r){const c=this.tt(e),h=c?this.nt(c,e,l):1;if(h!==0){this.Ye(n);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=n;let l,c;try{l=ds(r).toUint8Array()}catch(h){if(h instanceof kb)return Aa("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{c=new ty(l,s,a)}catch(h){return Aa(h instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return c.Ee===0?null:c}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let s=0;return r.forEach(a=>{const l=this.ke.it(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.ze(n,a,null),s++)}),s}ot(e){const n=new Map;this.qe.forEach((a,l)=>{const c=this.Xe(l);if(c){if(a.current&&Nm(c.target)){const h=new Ce(c.target.path);this._t(h).has(l)||this.ut(l,h)||this.ze(l,h,Zt.newNoDocument(h,e))}a.ve&&(n.set(l,a.Fe()),a.Me())}});let r=Fe();this.Ue.forEach((a,l)=>{let c=!0;l.forEachWhile(h=>{const p=this.Xe(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.Qe.forEach((a,l)=>l.setReadTime(e));const s=new Ih(e,n,this.Ke,this.Qe,r);return this.Qe=_i(),this.$e=fd(),this.Ue=fd(),this.Ke=new ot(Le),s}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const s=this.He(e);this.ut(e,n)?s.xe(n,1):s.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new mx,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new At(Le),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new At(Le),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||me("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new mx),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function fd(){return new ot(Ce.comparator)}function gx(){return new ot(Ce.comparator)}const IL={asc:"ASCENDING",desc:"DESCENDING"},AL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PL={and:"AND",or:"OR"};class RL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vm(t,e){return t.useProto3Json||wh(e)?e:{value:e}}function Jd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function oS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function kL(t,e){return Jd(t,e.toTimestamp())}function Vr(t){return He(!!t),ke.fromTimestamp(function(n){const r=cs(n);return new It(r.seconds,r.nanos)}(t))}function ny(t,e){return Lm(t,e).canonicalString()}function Lm(t,e){const n=function(s){return new tt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function aS(t){const e=tt.fromString(t);return He(hS(e)),e}function Om(t,e){return ny(t.databaseId,e.path)}function zp(t,e){const n=aS(e);if(n.get(1)!==t.databaseId.projectId)throw new Ee(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ee(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ce(uS(n))}function lS(t,e){return ny(t.databaseId,e)}function NL(t){const e=aS(t);return e.length===4?tt.emptyPath():uS(e)}function Mm(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function uS(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function yx(t,e,n){return{name:Om(t,e),fields:n.value.mapValue.fields}}function DL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(He(g===void 0||typeof g=="string"),Ht.fromBase64String(g||"")):(He(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Ht.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(p){const g=p.code===void 0?ie.UNKNOWN:rS(p.code);return new Ee(g,p.message||"")}(l);n=new sS(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=zp(t,r.document.name),a=Vr(r.document.updateTime),l=r.document.createTime?Vr(r.document.createTime):ke.min(),c=new vn({mapValue:{fields:r.document.fields}}),h=Zt.newFoundDocument(s,a,l,c),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Id(p,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=zp(t,r.document),a=r.readTime?Vr(r.readTime):ke.min(),l=Zt.newNoDocument(s,a),c=r.removedTargetIds||[];n=new Id([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=zp(t,r.document),a=r.removedTargetIds||[];n=new Id([],a,s,null)}else{if(!("filter"in e))return Pe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new TL(s,a),c=r.targetId;n=new iS(c,l)}}return n}function VL(t,e){let n;if(e instanceof Vu)n={update:yx(t,e.key,e.value)};else if(e instanceof Zg)n={delete:Om(t,e.key)};else if(e instanceof ws)n={update:yx(t,e.key,e.data),updateMask:zL(e.fieldMask)};else{if(!(e instanceof wL))return Pe();n={verify:Om(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof Yd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof xu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Eu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Xd)return{fieldPath:l.field.canonicalString(),increment:c.Ie};throw Pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:kL(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Pe()}(t,e.precondition)),n}function LL(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(s,a){let l=s.updateTime?Vr(s.updateTime):Vr(a);return l.isEqual(ke.min())&&(l=Vr(a)),new yL(l,s.transformResults||[])}(n,e))):[]}function OL(t,e){return{documents:[lS(t,e.path)]}}function ML(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=lS(t,s);const a=function(p){if(p.length!==0)return dS(Fr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const l=function(p){if(p.length!==0)return p.map(g=>function(x){return{field:fa(x.field),direction:UL(x.dir)}}(g))}(e.orderBy);l&&(n.structuredQuery.orderBy=l);const c=Vm(t,e.limit);return c!==null&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:s}}function jL(t){let e=NL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){He(r===1);const g=n.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(w){const x=cS(w);return x instanceof Fr&&$b(x)?x.getFilters():[x]}(n.where));let l=[];n.orderBy&&(l=function(w){return w.map(x=>function(R){return new Qd(pa(R.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(x))}(n.orderBy));let c=null;n.limit&&(c=function(w){let x;return x=typeof w=="object"?w.value:w,wh(x)?null:x}(n.limit));let h=null;n.startAt&&(h=function(w){const x=!!w.before,S=w.values||[];return new Gd(S,x)}(n.startAt));let p=null;return n.endAt&&(p=function(w){const x=!w.before,S=w.values||[];return new Gd(S,x)}(n.endAt)),rL(e,s,l,a,c,"F",h,p)}function FL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cS(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=pa(n.unaryFilter.field);return Ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=pa(n.unaryFilter.field);return Ct.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=pa(n.unaryFilter.field);return Ct.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=pa(n.unaryFilter.field);return Ct.create(l,"!=",{nullValue:"NULL_VALUE"});default:return Pe()}}(t):t.fieldFilter!==void 0?function(n){return Ct.create(pa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Fr.create(n.compositeFilter.filters.map(r=>cS(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Pe()}}(n.compositeFilter.op))}(t):Pe()}function UL(t){return IL[t]}function $L(t){return AL[t]}function BL(t){return PL[t]}function fa(t){return{fieldPath:t.canonicalString()}}function pa(t){return Wt.fromServerFormat(t.fieldPath)}function dS(t){return t instanceof Ct?function(n){if(n.op==="=="){if(ix(n.value))return{unaryFilter:{field:fa(n.field),op:"IS_NAN"}};if(rx(n.value))return{unaryFilter:{field:fa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ix(n.value))return{unaryFilter:{field:fa(n.field),op:"IS_NOT_NAN"}};if(rx(n.value))return{unaryFilter:{field:fa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fa(n.field),op:$L(n.op),value:n.value}}}(t):t instanceof Fr?function(n){const r=n.getFilters().map(s=>dS(s));return r.length===1?r[0]:{compositeFilter:{op:BL(n.op),filters:r}}}(t):Pe()}function zL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,s,a=ke.min(),l=ke.min(),c=Ht.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=h}withSequenceNumber(e){return new Zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.Tt=e}}function HL(t){const e=jL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(){this.Tn=new KL}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(us.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class KL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new At(tt.comparator),a=!s.has(r);return this.index[n]=s.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new At(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fS=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(fS,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Na(0)}static Kn(){return new Na(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="LruGarbageCollector",GL=1048576;function wx([t,e],[n,r]){const s=Le(t,n);return s===0?Le(e,r):s}class QL{constructor(e){this.Hn=e,this.buffer=new At(wx),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();wx(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class YL{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){me(_x,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ba(n)?me(_x,"Ignoring IndexedDB error during garbage collection: ",n):await $a(n)}await this.er(3e5)})}}class XL{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(_h.ae);const r=new QL(n);return this.tr.forEachTarget(e,s=>r.Zn(s.sequenceNumber)).next(()=>this.tr.rr(e,s=>r.Zn(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(me("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(vx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),vx):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,s,a,l,c,h,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),s=this.params.maximumSequenceNumbersToCollect):s=w,l=Date.now(),this.nthSequenceNumber(e,s))).next(w=>(r=w,c=Date.now(),this.removeTargets(e,r,n))).next(w=>(a=w,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(w=>(p=Date.now(),da()<=je.DEBUG&&me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-g}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(h-c)+`ms
	Removed ${w} documents in `+(p-h)+`ms
Total Duration: ${p-g}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:w})))}}function JL(t,e){return new XL(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.changes=new mo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&su(r.mutation,s,In.empty(),It.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Fe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Fe()){const s=ro();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(a=>{let l=Ql();return a.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=ro();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Fe()))}populateOverlays(e,n,r){const s=[];return r.forEach(a=>{n.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,c)=>{n.set(l,c)})})}computeViews(e,n,r,s){let a=_i();const l=iu(),c=function(){return iu()}();return n.forEach((h,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof ws)?a=a.insert(p.key,p):g!==void 0?(l.set(p.key,g.mutation.getFieldMask()),su(g.mutation,p,g.mutation.getFieldMask(),It.now())):l.set(p.key,In.empty())}),this.recalculateAndSaveOverlays(e,a).next(h=>(h.forEach((p,g)=>l.set(p,g)),n.forEach((p,g)=>{var w;return c.set(p,new eO(g,(w=l.get(p))!==null&&w!==void 0?w:null))}),c))}recalculateAndSaveOverlays(e,n){const r=iu();let s=new ot((l,c)=>l-c),a=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const c of l)c.keys().forEach(h=>{const p=n.get(h);if(p===null)return;let g=r.get(h)||In.empty();g=c.applyToLocalView(p,g),r.set(h,g);const w=(s.get(c.batchId)||Fe()).add(h);s=s.insert(c.batchId,w)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),p=h.key,g=h.value,w=Qb();g.forEach(x=>{if(!a.has(x)){const S=tS(n.get(x),r.get(x));S!==null&&w.set(x,S),a=a.add(x)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,w))}return ee.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Ce.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):iL(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-a.size):ee.resolve(ro());let c=yu,h=a;return l.next(p=>ee.forEach(p,(g,w)=>(c<w.largestBatchId&&(c=w.largestBatchId),a.get(g)?ee.resolve():this.remoteDocumentCache.getEntry(e,g).next(x=>{h=h.insert(g,x)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,h,p,Fe())).next(g=>({batchId:c,changes:Gb(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ce(n)).next(r=>{let s=Ql();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const a=n.collectionGroup;let l=Ql();return this.indexManager.getCollectionParents(e,a).next(c=>ee.forEach(c,h=>{const p=function(w,x){return new Eh(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,h.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next(g=>{g.forEach((w,x)=>{l=l.insert(w,x)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,s))).next(l=>{a.forEach((h,p)=>{const g=p.getKey();l.get(g)===null&&(l=l.insert(g,Zt.newInvalidDocument(g)))});let c=Ql();return l.forEach((h,p)=>{const g=a.get(h);g!==void 0&&su(g.mutation,p,In.empty(),It.now()),bh(n,p)&&(c=c.insert(h,p))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Vr(s.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(s){return{name:s.name,query:HL(s.bundledQuery),readTime:Vr(s.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(){this.overlays=new ot(Ce.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ro();return ee.forEach(n,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,a)=>{this.Et(e,n,a)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Rr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const s=ro(),a=n.length+1,l=new Ce(n.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,p=h.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&h.largestBatchId>r&&s.set(h.getKey(),h)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let a=new ot((p,g)=>p-g);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=ro(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const c=ro(),h=a.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,g)=>c.set(p,g)),!(c.size()>=s)););return ee.resolve(c)}Et(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Rr.get(s.largestBatchId).delete(r.key);this.Rr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new EL(n,r));let a=this.Rr.get(n);a===void 0&&(a=Fe(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(){this.sessionToken=Ht.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.Vr=new At(Vt.mr),this.gr=new At(Vt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Vt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Vt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Ce(new tt([])),r=new Vt(n,e),s=new Vt(n,e+1),a=[];return this.gr.forEachInRange([r,s],l=>{this.wr(l),a.push(l.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Ce(new tt([])),r=new Vt(n,e),s=new Vt(n,e+1);let a=Fe();return this.gr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Vt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Vt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Ce.comparator(e.key,n.key)||Le(e.Cr,n.Cr)}static pr(e,n){return Le(e.Cr,n.Cr)||Ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new At(Vt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new xL(a,n,r,s);this.mutationQueue.push(l);for(const c of s)this.Mr=this.Mr.add(new Vt(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ee.resolve(l)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Nr(r),a=s<0?0:s;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?qg:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vt(n,0),s=new Vt(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,s],l=>{const c=this.Or(l.Cr);a.push(c)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(Le);return n.forEach(s=>{const a=new Vt(s,0),l=new Vt(s,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,l],c=>{r=r.add(c.Cr)})}),ee.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let a=r;Ce.isDocumentKey(a)||(a=a.child(""));const l=new Vt(new Ce(a),0);let c=new At(Le);return this.Mr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(c=c.add(h.Cr)),!0)},l),ee.resolve(this.Br(c))}Br(e){const n=[];return e.forEach(r=>{const s=this.Or(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){He(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ee.forEach(n.mutations,s=>{const a=new Vt(s.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Vt(n,0),s=this.Mr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(e){this.kr=e,this.docs=function(){return new ot(Ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),a=s?s.size:0,l=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let r=_i();return n.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Zt.newInvalidDocument(s))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let a=_i();const l=n.path,c=new Ce(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:p,value:{document:g}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||LV(VV(g),r)<=0||(s.has(g.key)||bh(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,n,r,s){Pe()}qr(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new aO(this)}getSize(e){return ee.resolve(this.size)}}class aO extends ZL{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Ir.addEntry(e,s)):this.Ir.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e){this.persistence=e,this.Qr=new mo(n=>Qg(n),Yg),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Ur=new ry,this.targetCount=0,this.Kr=Na.Un()}forEachTarget(e,n){return this.Qr.forEach((r,s)=>n(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new Na(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let s=0;const a=[];return this.Qr.forEach((l,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Qr.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),ee.waitFor(a).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const s=this.persistence.referenceDelegate,a=[];return s&&n.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new _h(0),this.zr=!1,this.zr=!0,this.jr=new iO,this.referenceDelegate=e(this),this.Hr=new lO(this),this.indexManager=new qL,this.remoteDocumentCache=function(s){return new oO(s)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new WL(n),this.Yr=new nO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new sO(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){me("MemoryPersistence","Starting transaction:",e);const s=new uO(this.Gr.next());return this.referenceDelegate.Zr(),r(s).next(a=>this.referenceDelegate.Xr(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}ei(e,n){return ee.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class uO extends MV{constructor(e){super(),this.currentSequenceNumber=e}}class iy{constructor(e){this.persistence=e,this.ti=new ry,this.ni=null}static ri(e){return new iy(e)}get ii(){if(this.ni)return this.ni;throw Pe()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(s=>this.ii.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,r=>{const s=Ce.fromPath(r);return this.si(e,s).next(a=>{a||n.removeEntry(s,ke.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Zd{constructor(e,n){this.persistence=e,this.oi=new mo(r=>UV(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=JL(this,n)}static ri(e,n){return new Zd(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(r,s)=>this.ar(e,r,s).next(a=>a?ee.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.qr(e,l=>this.ar(e,l,n).next(c=>{c||(r++,a.removeEntry(l,ke.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=bd(e.data.value)),n}ar(e,n,r){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.oi.get(n);return ee.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=s}static Yi(e,n){let r=Fe(),s=Fe();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new sy(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return i2()?8:jV(tn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,s){const a={result:null};return this.rs(e,n).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.ss(e,n,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new cO;return this._s(e,n,l).next(c=>{if(a.result=c,this.Xi)return this.us(e,n,l,c.size)})}).next(()=>a.result)}us(e,n,r,s){return r.documentReadCount<this.es?(da()<=je.DEBUG&&me("QueryEngine","SDK will not create cache indexes for query:",ha(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(da()<=je.DEBUG&&me("QueryEngine","Query:",ha(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ts*s?(da()<=je.DEBUG&&me("QueryEngine","The SDK decides to create cache indexes for query:",ha(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(n))):ee.resolve())}rs(e,n){if(lx(n))return ee.resolve(null);let r=Dr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Dm(n,null,"F"),r=Dr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=Fe(...a);return this.ns.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.cs(n,c);return this.ls(n,p,l,h.readTime)?this.rs(e,Dm(n,null,"F")):this.hs(e,p,n,h)}))})))}ss(e,n,r,s){return lx(n)||s.isEqual(ke.min())?ee.resolve(null):this.ns.getDocuments(e,r).next(a=>{const l=this.cs(n,a);return this.ls(n,l,r,s)?ee.resolve(null):(da()<=je.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ha(n)),this.hs(e,l,n,DV(s,yu)).next(c=>c))})}cs(e,n){let r=new At(qb(e));return n.forEach((s,a)=>{bh(e,a)&&(r=r.add(a))}),r}ls(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}_s(e,n,r){return da()<=je.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",ha(n)),this.ns.getDocumentsMatchingQuery(e,n,us.min(),r)}hs(e,n,r,s){return this.ns.getDocumentsMatchingQuery(e,r,s).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oy="LocalStore",hO=3e8;class fO{constructor(e,n,r,s){this.persistence=e,this.Ps=n,this.serializer=s,this.Ts=new ot(Le),this.Is=new mo(a=>Qg(a),Yg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tO(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function pO(t,e,n,r){return new fO(t,e,n,r)}async function mS(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let h=Fe();for(const p of s){l.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}for(const p of a){c.push(p.batchId);for(const g of p.mutations)h=h.add(g.key)}return n.localDocuments.getDocuments(r,h).next(p=>({Rs:p,removedBatchIds:l,addedBatchIds:c}))})})}function mO(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(c,h,p,g){const w=p.batch,x=w.keys();let S=ee.resolve();return x.forEach(R=>{S=S.next(()=>g.getEntry(h,R)).next(L=>{const N=p.docVersions.get(R);He(N!==null),L.version.compareTo(N)<0&&(w.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),g.addEntry(L)))})}),S.next(()=>c.mutationQueue.removeMutationBatch(h,w))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Fe();for(let p=0;p<c.mutationResults.length;++p)c.mutationResults[p].transformResults.length>0&&(h=h.add(c.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function gS(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function gO(t,e){const n=Ne(t),r=e.snapshotVersion;let s=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.ds.newChangeBuffer({trackRemovals:!0});s=n.Ts;const c=[];e.targetChanges.forEach((g,w)=>{const x=s.get(w);if(!x)return;c.push(n.Hr.removeMatchingKeys(a,g.removedDocuments,w).next(()=>n.Hr.addMatchingKeys(a,g.addedDocuments,w)));let S=x.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(w)!==null?S=S.withResumeToken(Ht.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),s=s.insert(w,S),function(L,N,O){return L.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=hO?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(x,S,g)&&c.push(n.Hr.updateTargetData(a,S))});let h=_i(),p=Fe();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&c.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),c.push(yO(a,l,e.documentUpdates).next(g=>{h=g.Vs,p=g.fs})),!r.isEqual(ke.min())){const g=n.Hr.getLastRemoteSnapshotVersion(a).next(w=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(g)}return ee.waitFor(c).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,h,p)).next(()=>h)}).then(a=>(n.Ts=s,a))}function yO(t,e,n){let r=Fe(),s=Fe();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=_i();return n.forEach((c,h)=>{const p=a.get(c);h.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(c)),h.isNoDocument()&&h.version.isEqual(ke.min())?(e.removeEntry(c,h.readTime),l=l.insert(c,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(c,h)):me(oy,"Ignoring outdated watch update for ",c,". Current version:",p.version," Watch version:",h.version)}),{Vs:l,fs:s}})}function vO(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=qg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _O(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Hr.getTargetData(r,e).next(a=>a?(s=a,ee.resolve(s)):n.Hr.allocateTargetId(r).next(l=>(s=new Zi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ts.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function jm(t,e,n){const r=Ne(t),s=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Ba(l))throw l;me(oy,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ts=r.Ts.remove(e),r.Is.delete(s.target)}function xx(t,e,n){const r=Ne(t);let s=ke.min(),a=Fe();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,g){const w=Ne(h),x=w.Is.get(g);return x!==void 0?ee.resolve(w.Ts.get(x)):w.Hr.getTargetData(p,g)}(r,l,Dr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(l,c.targetId).next(h=>{a=h})}).next(()=>r.Ps.getDocumentsMatchingQuery(l,e,n?s:ke.min(),n?a:Fe())).next(c=>(wO(r,oL(e),c),{documents:c,gs:a})))}function wO(t,e,n){let r=t.Es.get(e)||ke.min();n.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Es.set(e,r)}class Ex{constructor(){this.activeTargetIds=hL()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xO{constructor(){this.ho=new Ex,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Ex,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="ConnectivityMonitor";class bx{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){me(Tx,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){me(Tx,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pd=null;function Fm(){return pd===null?pd=function(){return 268435456+Math.round(2147483648*Math.random())}():pd++,"0x"+pd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="RestConnection",TO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bO{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${s}`,this.wo=this.databaseId.database===qd?`project_id=${r}`:`project_id=${r}&database_id=${s}`}So(e,n,r,s,a){const l=Fm(),c=this.bo(e,n.toUriEncodedString());me(Wp,`Sending RPC '${e}' ${l}:`,c,r);const h={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(h,s,a),this.vo(e,c,h,r).then(p=>(me(Wp,`Received RPC '${e}' ${l}: `,p),p),p=>{throw Aa(Wp,`RPC '${e}' ${l} failed with error: `,p,"url: ",c,"request:",r),p})}Co(e,n,r,s,a,l){return this.So(e,n,r,s,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ua}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}bo(e,n){const r=TO[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yt="WebChannelConnection";class CO extends bO{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,s){const a=Fm();return new Promise((l,c)=>{const h=new xb;h.setWithCredentials(!0),h.listenOnce(Eb.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Td.NO_ERROR:const g=h.getResponseJson();me(Yt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),l(g);break;case Td.TIMEOUT:me(Yt,`RPC '${e}' ${a} timed out`),c(new Ee(ie.DEADLINE_EXCEEDED,"Request time out"));break;case Td.HTTP_ERROR:const w=h.getStatus();if(me(Yt,`RPC '${e}' ${a} failed with status:`,w,"response text:",h.getResponseText()),w>0){let x=h.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const R=function(N){const O=N.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(O)>=0?O:ie.UNKNOWN}(S.status);c(new Ee(R,S.message))}else c(new Ee(ie.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new Ee(ie.UNAVAILABLE,"Connection failed."));break;default:Pe()}}finally{me(Yt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(s);me(Yt,`RPC '${e}' ${a} sending request:`,s),h.send(n,"POST",p,r,15)})}Wo(e,n,r){const s=Fm(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Sb(),c=bb(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Do(h.initMessageHeaders,n,r),h.encodeInitMessageHeaders=!0;const g=a.join("");me(Yt,`Creating RPC '${e}' stream ${s}: ${g}`,h);const w=l.createWebChannel(g,h);let x=!1,S=!1;const R=new SO({Fo:N=>{S?me(Yt,`Not sending because RPC '${e}' stream ${s} is closed:`,N):(x||(me(Yt,`Opening RPC '${e}' stream ${s} transport.`),w.open(),x=!0),me(Yt,`RPC '${e}' stream ${s} sending:`,N),w.send(N))},Mo:()=>w.close()}),L=(N,O,q)=>{N.listen(O,B=>{try{q(B)}catch(Y){setTimeout(()=>{throw Y},0)}})};return L(w,Gl.EventType.OPEN,()=>{S||(me(Yt,`RPC '${e}' stream ${s} transport opened.`),R.Qo())}),L(w,Gl.EventType.CLOSE,()=>{S||(S=!0,me(Yt,`RPC '${e}' stream ${s} transport closed`),R.Uo())}),L(w,Gl.EventType.ERROR,N=>{S||(S=!0,Aa(Yt,`RPC '${e}' stream ${s} transport errored:`,N),R.Uo(new Ee(ie.UNAVAILABLE,"The operation could not be completed")))}),L(w,Gl.EventType.MESSAGE,N=>{var O;if(!S){const q=N.data[0];He(!!q);const B=q,Y=(B==null?void 0:B.error)||((O=B[0])===null||O===void 0?void 0:O.error);if(Y){me(Yt,`RPC '${e}' stream ${s} received error:`,Y);const Q=Y.status;let $=function(C){const A=wt[C];if(A!==void 0)return rS(A)}(Q),P=Y.message;$===void 0&&($=ie.INTERNAL,P="Unknown error status: "+Q+" with message "+Y.message),S=!0,R.Uo(new Ee($,P)),w.close()}else me(Yt,`RPC '${e}' stream ${s} received:`,q),R.Ko(q)}}),L(c,Tb.STAT_EVENT,N=>{N.stat===Im.PROXY?me(Yt,`RPC '${e}' stream ${s} detected buffering proxy`):N.stat===Im.NOPROXY&&me(Yt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{R.$o()},0),R}}function Hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){return new RL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,n,r=1e3,s=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=s,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),s=Math.max(0,n-r);s>0&&me("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,s,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="PersistentStream";class vS{constructor(e,n,r,s,a,l,c,h){this.Ti=e,this.n_=r,this.r_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new yS(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.i_===n&&this.V_(r,s)},r=>{e(()=>{const s=new Ee(ie.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(s)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(s=>{r(()=>this.m_(s))}),this.stream.onMessage(s=>{r(()=>++this.__==1?this.g_(s):this.onNext(s))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return me(Sx,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(me(Sx,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class IO extends vS{constructor(e,n,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=DL(this.serializer,e),r=function(a){if(!("targetChange"in a))return ke.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?ke.min():l.readTime?Vr(l.readTime):ke.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Mm(this.serializer),n.addTarget=function(a,l){let c;const h=l.target;if(c=Nm(h)?{documents:OL(a,h)}:{query:ML(a,h).ht},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=oS(a,l.resumeToken);const p=Vm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}else if(l.snapshotVersion.compareTo(ke.min())>0){c.readTime=Jd(a,l.snapshotVersion.toTimestamp());const p=Vm(a,l.expectedCount);p!==null&&(c.expectedCount=p)}return c}(this.serializer,e);const r=FL(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Mm(this.serializer),n.removeTarget=e,this.I_(n)}}class AO extends vS{constructor(e,n,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=LL(e.writeResults,e.commitTime),r=Vr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Mm(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>VL(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{}class RO extends PO{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.F_=!1}M_(){if(this.F_)throw new Ee(ie.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.So(e,Lm(n,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ee(ie.UNKNOWN,a.toString())})}Co(e,n,r,s,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Co(e,Lm(n,r),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ee(ie.UNKNOWN,l.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class kO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(vi(n),this.N_=!1):me("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uo="RemoteStore";class NO{constructor(e,n,r,s,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(l=>{r.enqueueAndForget(async()=>{go(this)&&(me(uo,"Restarting streams for network reachability change."),await async function(h){const p=Ne(h);p.W_.add(4),await Ou(p),p.j_.set("Unknown"),p.W_.delete(4),await Ph(p)}(this))})}),this.j_=new kO(r,s)}}async function Ph(t){if(go(t))for(const e of t.G_)await e(!0)}async function Ou(t){for(const e of t.G_)await e(!1)}function _S(t,e){const n=Ne(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),cy(n)?uy(n):za(n).c_()&&ly(n,e))}function ay(t,e){const n=Ne(t),r=za(n);n.K_.delete(e),r.c_()&&wS(n,e),n.K_.size===0&&(r.c_()?r.P_():go(n)&&n.j_.set("Unknown"))}function ly(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}za(t).y_(e)}function wS(t,e){t.H_.Ne(e),za(t).w_(e)}function uy(t){t.H_=new CL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),za(t).start(),t.j_.B_()}function cy(t){return go(t)&&!za(t).u_()&&t.K_.size>0}function go(t){return Ne(t).W_.size===0}function xS(t){t.H_=void 0}async function DO(t){t.j_.set("Online")}async function VO(t){t.K_.forEach((e,n)=>{ly(t,e)})}async function LO(t,e){xS(t),cy(t)?(t.j_.q_(e),uy(t)):t.j_.set("Unknown")}async function OO(t,e,n){if(t.j_.set("Online"),e instanceof sS&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.K_.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.K_.delete(c),s.H_.removeTarget(c))}(t,e)}catch(r){me(uo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await eh(t,r)}else if(e instanceof Id?t.H_.We(e):e instanceof iS?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ke.min()))try{const r=await gS(t.localStore);n.compareTo(r)>=0&&await function(a,l){const c=a.H_.ot(l);return c.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const g=a.K_.get(p);g&&a.K_.set(p,g.withResumeToken(h.resumeToken,l))}}),c.targetMismatches.forEach((h,p)=>{const g=a.K_.get(h);if(!g)return;a.K_.set(h,g.withResumeToken(Ht.EMPTY_BYTE_STRING,g.snapshotVersion)),wS(a,h);const w=new Zi(g.target,h,p,g.sequenceNumber);ly(a,w)}),a.remoteSyncer.applyRemoteEvent(c)}(t,n)}catch(r){me(uo,"Failed to raise snapshot:",r),await eh(t,r)}}async function eh(t,e,n){if(!Ba(e))throw e;t.W_.add(1),await Ou(t),t.j_.set("Offline"),n||(n=()=>gS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{me(uo,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Ph(t)})}function ES(t,e){return e().catch(n=>eh(t,n,e))}async function Rh(t){const e=Ne(t),n=fs(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:qg;for(;MO(e);)try{const s=await vO(e.localStore,r);if(s===null){e.U_.length===0&&n.P_();break}r=s.batchId,jO(e,s)}catch(s){await eh(e,s)}TS(e)&&bS(e)}function MO(t){return go(t)&&t.U_.length<10}function jO(t,e){t.U_.push(e);const n=fs(t);n.c_()&&n.S_&&n.b_(e.mutations)}function TS(t){return go(t)&&!fs(t).u_()&&t.U_.length>0}function bS(t){fs(t).start()}async function FO(t){fs(t).C_()}async function UO(t){const e=fs(t);for(const n of t.U_)e.b_(n.mutations)}async function $O(t,e,n){const r=t.U_.shift(),s=ey.from(r,e,n);await ES(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Rh(t)}async function BO(t,e){e&&fs(t).S_&&await async function(r,s){if(function(l){return bL(l)&&l!==ie.ABORTED}(s.code)){const a=r.U_.shift();fs(r).h_(),await ES(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Rh(r)}}(t,e),TS(t)&&bS(t)}async function Cx(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),me(uo,"RemoteStore received new credentials");const r=go(n);n.W_.add(3),await Ou(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Ph(n)}async function zO(t,e){const n=Ne(t);e?(n.W_.delete(2),await Ph(n)):e||(n.W_.add(2),await Ou(n),n.j_.set("Unknown"))}function za(t){return t.J_||(t.J_=function(n,r,s){const a=Ne(n);return a.M_(),new IO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:DO.bind(null,t),No:VO.bind(null,t),Lo:LO.bind(null,t),p_:OO.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),cy(t)?uy(t):t.j_.set("Unknown")):(await t.J_.stop(),xS(t))})),t.J_}function fs(t){return t.Y_||(t.Y_=function(n,r,s){const a=Ne(n);return a.M_(),new AO(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:FO.bind(null,t),Lo:BO.bind(null,t),D_:UO.bind(null,t),v_:$O.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Rh(t)):(await t.Y_.stop(),t.U_.length>0&&(me(uo,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r,s,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,a){const l=Date.now()+r,c=new dy(e,n,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ee(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hy(t,e){if(vi("AsyncQueue",`${e}: ${t}`),Ba(t))return new Ee(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{static emptySet(e){return new xa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ce.comparator(n.key,r.key):(n,r)=>Ce.comparator(n.key,r.key),this.keyedMap=Ql(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof xa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new xa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(){this.Z_=new ot(Ce.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Pe():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Da{constructor(e,n,r,s,a,l,c,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,s,a){const l=[];return n.forEach(c=>{l.push({type:0,doc:c})}),new Da(e,n,xa.emptySet(n),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Th(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class HO{constructor(){this.queries=Ax(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const s=Ne(n),a=s.queries;s.queries=Ax(),a.forEach((l,c)=>{for(const h of c.ta)h.onError(r)})})(this,new Ee(ie.ABORTED,"Firestore shutting down"))}}function Ax(){return new mo(t=>Hb(t),Th)}async function SS(t,e){const n=Ne(t);let r=3;const s=e.query;let a=n.queries.get(s);a?!a.na()&&e.ra()&&(r=2):(a=new WO,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(s,!0);break;case 1:a.ea=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(l){const c=hy(l,`Initialization of query '${ha(e.query)}' failed`);return void e.onError(c)}n.queries.set(s,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&fy(n)}async function CS(t,e){const n=Ne(t),r=e.query;let s=3;const a=n.queries.get(r);if(a){const l=a.ta.indexOf(e);l>=0&&(a.ta.splice(l,1),a.ta.length===0?s=e.ra()?0:1:!a.na()&&e.ra()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qO(t,e){const n=Ne(t);let r=!1;for(const s of e){const a=s.query,l=n.queries.get(a);if(l){for(const c of l.ta)c.oa(s)&&(r=!0);l.ea=s}}r&&fy(n)}function KO(t,e,n){const r=Ne(t),s=r.queries.get(e);if(s)for(const a of s.ta)a.onError(n);r.queries.delete(e)}function fy(t){t.ia.forEach(e=>{e.next()})}var Um,Px;(Px=Um||(Um={}))._a="default",Px.Cache="cache";class IS{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.key=e}}class PS{constructor(e){this.key=e}}class GO{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Fe(),this.mutatedKeys=Fe(),this.ya=qb(e),this.wa=new xa(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new Ix,s=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,l=s,c=!1;const h=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((g,w)=>{const x=s.get(g),S=bh(this.query,w)?w:null,R=!!x&&this.mutatedKeys.has(x.key),L=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let N=!1;x&&S?x.data.isEqual(S.data)?R!==L&&(r.track({type:3,doc:S}),N=!0):this.va(x,S)||(r.track({type:2,doc:S}),N=!0,(h&&this.ya(S,h)>0||p&&this.ya(S,p)<0)&&(c=!0)):!x&&S?(r.track({type:0,doc:S}),N=!0):x&&!S&&(r.track({type:1,doc:x}),N=!0,(h||p)&&(c=!0)),N&&(S?(l=l.add(S),a=L?a.add(g):a.delete(g)):(l=l.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const g=this.query.limitType==="F"?l.last():l.first();l=l.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:l,Da:r,ls:c,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const l=e.Da.X_();l.sort((g,w)=>function(S,R){const L=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Pe()}};return L(S)-L(R)}(g.type,w.type)||this.ya(g.doc,w.doc)),this.Ca(r),s=s!=null&&s;const c=n&&!s?this.Fa():[],h=this.pa.size===0&&this.current&&!s?1:0,p=h!==this.ga;return this.ga=h,l.length!==0||p?{snapshot:new Da(this.query,e.wa,a,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:c}:{Ma:c}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ix,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Fe(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new PS(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new AS(r))}),n}Oa(e){this.fa=e.gs,this.pa=Fe();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Da.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const py="SyncEngine";class QO{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class YO{constructor(e){this.key=e,this.Ba=!1}}class XO{constructor(e,n,r,s,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.La={},this.ka=new mo(c=>Hb(c),Th),this.qa=new Map,this.Qa=new Set,this.$a=new ot(Ce.comparator),this.Ua=new Map,this.Ka=new ry,this.Wa={},this.Ga=new Map,this.za=Na.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function JO(t,e,n=!0){const r=LS(t);let s;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.Na()):s=await RS(r,e,n,!0),s}async function ZO(t,e){const n=LS(t);await RS(n,e,!0,!1)}async function RS(t,e,n,r){const s=await _O(t.localStore,Dr(e)),a=s.targetId,l=t.sharedClientState.addLocalQueryTarget(a,n);let c;return r&&(c=await eM(t,e,a,l==="current",s.resumeToken)),t.isPrimaryClient&&n&&_S(t.remoteStore,s),c}async function eM(t,e,n,r,s){t.Ha=(w,x,S)=>async function(L,N,O,q){let B=N.view.ba(O);B.ls&&(B=await xx(L.localStore,N.query,!1).then(({documents:P})=>N.view.ba(P,B)));const Y=q&&q.targetChanges.get(N.targetId),Q=q&&q.targetMismatches.get(N.targetId)!=null,$=N.view.applyChanges(B,L.isPrimaryClient,Y,Q);return kx(L,N.targetId,$.Ma),$.snapshot}(t,w,x,S);const a=await xx(t.localStore,e,!0),l=new GO(e,a.gs),c=l.ba(a.documents),h=Lu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),p=l.applyChanges(c,t.isPrimaryClient,h);kx(t,n,p.Ma);const g=new QO(e,n,l);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function tM(t,e,n){const r=Ne(t),s=r.ka.get(e),a=r.qa.get(s.targetId);if(a.length>1)return r.qa.set(s.targetId,a.filter(l=>!Th(l,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await jm(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&ay(r.remoteStore,s.targetId),$m(r,s.targetId)}).catch($a)):($m(r,s.targetId),await jm(r.localStore,s.targetId,!0))}async function nM(t,e){const n=Ne(t),r=n.ka.get(e),s=n.qa.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ay(n.remoteStore,r.targetId))}async function rM(t,e,n){const r=cM(t);try{const s=await function(l,c){const h=Ne(l),p=It.now(),g=c.reduce((S,R)=>S.add(R.key),Fe());let w,x;return h.persistence.runTransaction("Locally write mutations","readwrite",S=>{let R=_i(),L=Fe();return h.ds.getEntries(S,g).next(N=>{R=N,R.forEach((O,q)=>{q.isValidDocument()||(L=L.add(O))})}).next(()=>h.localDocuments.getOverlayedDocuments(S,R)).next(N=>{w=N;const O=[];for(const q of c){const B=_L(q,w.get(q.key).overlayedDocument);B!=null&&O.push(new ws(q.key,B,jb(B.value.mapValue),Hn.exists(!0)))}return h.mutationQueue.addMutationBatch(S,p,O,c)}).next(N=>{x=N;const O=N.applyToLocalDocumentSet(w,L);return h.documentOverlayCache.saveOverlays(S,N.batchId,O)})}).then(()=>({batchId:x.batchId,changes:Gb(w)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,h){let p=l.Wa[l.currentUser.toKey()];p||(p=new ot(Le)),p=p.insert(c,h),l.Wa[l.currentUser.toKey()]=p}(r,s.batchId,n),await Mu(r,s.changes),await Rh(r.remoteStore)}catch(s){const a=hy(s,"Failed to persist write");n.reject(a)}}async function kS(t,e){const n=Ne(t);try{const r=await gO(n.localStore,e);e.targetChanges.forEach((s,a)=>{const l=n.Ua.get(a);l&&(He(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.Ba=!0:s.modifiedDocuments.size>0?He(l.Ba):s.removedDocuments.size>0&&(He(l.Ba),l.Ba=!1))}),await Mu(n,r,e)}catch(r){await $a(r)}}function Rx(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ka.forEach((a,l)=>{const c=l.view.sa(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const h=Ne(l);h.onlineState=c;let p=!1;h.queries.forEach((g,w)=>{for(const x of w.ta)x.sa(c)&&(p=!0)}),p&&fy(h)}(r.eventManager,e),s.length&&r.La.p_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function iM(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Ua.get(e),a=s&&s.key;if(a){let l=new ot(Ce.comparator);l=l.insert(a,Zt.newNoDocument(a,ke.min()));const c=Fe().add(a),h=new Ih(ke.min(),new Map,new ot(Le),l,c);await kS(r,h),r.$a=r.$a.remove(a),r.Ua.delete(e),my(r)}else await jm(r.localStore,e,!1).then(()=>$m(r,e,n)).catch($a)}async function sM(t,e){const n=Ne(t),r=e.batch.batchId;try{const s=await mO(n.localStore,e);DS(n,r,null),NS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Mu(n,s)}catch(s){await $a(s)}}async function oM(t,e,n){const r=Ne(t);try{const s=await function(l,c){const h=Ne(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return h.mutationQueue.lookupMutationBatch(p,c).next(w=>(He(w!==null),g=w.keys(),h.mutationQueue.removeMutationBatch(p,w))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,g,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>h.localDocuments.getDocuments(p,g))})}(r.localStore,e);DS(r,e,n),NS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Mu(r,s)}catch(s){await $a(s)}}function NS(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function DS(t,e,n){const r=Ne(t);let s=r.Wa[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(n?a.reject(n):a.resolve(),s=s.remove(e)),r.Wa[r.currentUser.toKey()]=s}}function $m(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||VS(t,r)})}function VS(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(ay(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),my(t))}function kx(t,e,n){for(const r of n)r instanceof AS?(t.Ka.addReference(r.key,e),aM(t,r)):r instanceof PS?(me(py,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||VS(t,r.key)):Pe()}function aM(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(me(py,"New document in limbo: "+n),t.Qa.add(r),my(t))}function my(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Ce(tt.fromString(e)),r=t.za.next();t.Ua.set(r,new YO(n)),t.$a=t.$a.insert(n,r),_S(t.remoteStore,new Zi(Dr(Xg(n.path)),r,"TargetPurposeLimboResolution",_h.ae))}}async function Mu(t,e,n){const r=Ne(t),s=[],a=[],l=[];r.ka.isEmpty()||(r.ka.forEach((c,h)=>{l.push(r.Ha(h,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const w=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(h.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(h.targetId,w?"current":"not-current")}if(p){s.push(p);const w=sy.Yi(h.targetId,p);a.push(w)}}))}),await Promise.all(l),r.La.p_(s),await async function(h,p){const g=Ne(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>ee.forEach(p,x=>ee.forEach(x.Hi,S=>g.persistence.referenceDelegate.addReference(w,x.targetId,S)).next(()=>ee.forEach(x.Ji,S=>g.persistence.referenceDelegate.removeReference(w,x.targetId,S)))))}catch(w){if(!Ba(w))throw w;me(oy,"Failed to update sequence numbers: "+w)}for(const w of p){const x=w.targetId;if(!w.fromCache){const S=g.Ts.get(x),R=S.snapshotVersion,L=S.withLastLimboFreeSnapshotVersion(R);g.Ts=g.Ts.insert(x,L)}}}(r.localStore,a))}async function lM(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){me(py,"User change. New user:",e.toKey());const r=await mS(n.localStore,e);n.currentUser=e,function(a,l){a.Ga.forEach(c=>{c.forEach(h=>{h.reject(new Ee(ie.CANCELLED,l))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Mu(n,r.Rs)}}function uM(t,e){const n=Ne(t),r=n.Ua.get(e);if(r&&r.Ba)return Fe().add(r.key);{let s=Fe();const a=n.qa.get(e);if(!a)return s;for(const l of a){const c=n.ka.get(l);s=s.unionWith(c.view.Sa)}return s}}function LS(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iM.bind(null,e),e.La.p_=qO.bind(null,e.eventManager),e.La.Ja=KO.bind(null,e.eventManager),e}function cM(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=sM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oM.bind(null,e),e}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return pO(this.persistence,new dO,e.initialUser,this.serializer)}Xa(e){return new pS(iy.ri,this.serializer)}Za(e){return new xO}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class dM extends th{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){He(this.persistence.referenceDelegate instanceof Zd);const r=this.persistence.referenceDelegate.garbageCollector;return new YL(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new pS(r=>Zd.ri(r,n),this.serializer)}}class Bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Rx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=lM.bind(null,this.syncEngine),await zO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new HO}()}createDatastore(e){const n=Ah(e.databaseInfo.databaseId),r=function(a){return new CO(a)}(e.databaseInfo);return function(a,l,c,h){return new RO(a,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,a,l,c){return new NO(r,s,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,n=>Rx(this.syncEngine,n,0),function(){return bx.D()?new bx:new EO}())}createSyncEngine(e,n){return function(s,a,l,c,h,p,g){const w=new XO(s,a,l,c,h,p);return g&&(w.ja=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const a=Ne(s);me(uo,"RemoteStore shutting down."),a.W_.add(5),await Ou(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Bm.provider={build:()=>new Bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="FirestoreClient";class hM{constructor(e,n,r,s,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Jt.UNAUTHENTICATED,this.clientId=Ab.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{me(ps,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(me(ps,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qp(t,e){t.asyncQueue.verifyOperationInProgress(),me(ps,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await mS(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Nx(t,e){t.asyncQueue.verifyOperationInProgress();const n=await fM(t);me(ps,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Cx(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Cx(e.remoteStore,s)),t._onlineComponents=e}async function fM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){me(ps,"Using user provided OfflineComponentProvider");try{await qp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Aa("Error using user provided cache. Falling back to memory cache: "+n),await qp(t,new th)}}else me(ps,"Using default OfflineComponentProvider"),await qp(t,new dM(void 0));return t._offlineComponents}async function MS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(me(ps,"Using user provided OnlineComponentProvider"),await Nx(t,t._uninitializedComponentsProvider._online)):(me(ps,"Using default OnlineComponentProvider"),await Nx(t,new Bm))),t._onlineComponents}function pM(t){return MS(t).then(e=>e.syncEngine)}async function jS(t){const e=await MS(t),n=e.eventManager;return n.onListen=JO.bind(null,e.syncEngine),n.onUnlisten=tM.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ZO.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nM.bind(null,e.syncEngine),n}function mM(t,e,n={}){const r=new pi;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,p){const g=new OS({next:x=>{g.su(),l.enqueueAndForget(()=>CS(a,w));const S=x.docs.has(c);!S&&x.fromCache?p.reject(new Ee(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&x.fromCache&&h&&h.source==="server"?p.reject(new Ee(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),w=new IS(Xg(c.path),g,{includeMetadataChanges:!0,Ta:!0});return SS(a,w)}(await jS(t),t.asyncQueue,e,n,r)),r.promise}function gM(t,e,n={}){const r=new pi;return t.asyncQueue.enqueueAndForget(async()=>function(a,l,c,h,p){const g=new OS({next:x=>{g.su(),l.enqueueAndForget(()=>CS(a,w)),x.fromCache&&h.source==="server"?p.reject(new Ee(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),w=new IS(c,g,{includeMetadataChanges:!0,Ta:!0});return SS(a,w)}(await jS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t,e,n){if(!n)throw new Ee(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function yM(t,e,n,r){if(e===!0&&r===!0)throw new Ee(ie.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vx(t){if(!Ce.isDocumentKey(t))throw new Ee(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Lx(t){if(Ce.isDocumentKey(t))throw new Ee(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function gy(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Pe()}function fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ee(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=gy(t);throw new Ee(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="firestore.googleapis.com",Ox=!0;class Mx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ee(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$S,this.ssl=Ox}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Ox;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GL)throw new Ee(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Ee(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Ee(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Ee(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ee(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ee(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new bV;switch(r.type){case"firstParty":return new AV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ee(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Dx.get(n);r&&(me("ComponentProvider","Removing Datastore"),Dx.delete(n),r.terminate())}(this),Promise.resolve()}}function vM(t,e,n,r={}){var s;const a=(t=fr(t,kh))._getSettings(),l=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;a.host!==$S&&a.host!==c&&Aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},a),{host:c,ssl:!1,emulatorOptions:r});if(!oo(h,l)&&(t._setSettings(h),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Jt.MOCK_USER;else{p=mb(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Ee(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Jt(w)}t._authCredentials=new SV(new Cb(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Nh(this.firestore,e,this._query)}}class _n{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class rs extends Nh{constructor(e,n,r){super(e,n,Xg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new Ce(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function hr(t,e,...n){if(t=ut(t),US("collection","path",e),t instanceof kh){const r=tt.fromString(e,...n);return Lx(r),new rs(t,null,r)}{if(!(t instanceof _n||t instanceof rs))throw new Ee(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return Lx(r),new rs(t.firestore,null,r)}}function dr(t,e,...n){if(t=ut(t),arguments.length===1&&(e=Ab.newId()),US("doc","path",e),t instanceof kh){const r=tt.fromString(e,...n);return Vx(r),new _n(t,null,new Ce(r))}{if(!(t instanceof _n||t instanceof rs))throw new Ee(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return Vx(r),new _n(t.firestore,t instanceof rs?t.converter:null,new Ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx="AsyncQueue";class Fx{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new yS(this,"async_queue_retry"),this.Su=()=>{const r=Hp();r&&me(jx,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Hp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new pi;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ba(e))throw e;me(jx,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const s=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw vi("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const s=dy.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(s),s}Du(){this.gu&&Pe()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class yo extends kh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Fx,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Fx(e),this._firestoreClient=void 0,await e}}}function BS(t,e){const n=typeof t=="object"?t:Wg(),r=typeof t=="string"?t:e||qd,s=vh(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=hb("firestore");a&&vM(s,...a)}return s}function yy(t){if(t._terminated)throw new Ee(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_M(t),t._firestoreClient}function _M(t){var e,n,r;const s=t._freezeSettings(),a=function(c,h,p,g){return new zV(c,h,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,FS(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new hM(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Va{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Va(Ht.fromBase64String(e))}catch(n){throw new Ee(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Va(Ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ee(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ee(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ee(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=/^__.*__$/;class xM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ws(e,this.data,this.fieldMask,n,this.fieldTransforms):new Vu(e,this.data,n,this.fieldTransforms)}}class zS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ws(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Pe()}}class xy{constructor(e,n,r,s,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new xy(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.$u(e),s}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ku({path:r,Qu:!1});return s.Bu(),s}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return nh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(WS(this.Lu)&&wM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class EM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ah(e)}ju(e,n,r,s=!1){return new xy({Lu:e,methodName:n,zu:r,path:Wt.emptyPath(),Qu:!1,Gu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ey(t){const e=t._freezeSettings(),n=Ah(t._databaseId);return new EM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HS(t,e,n,r,s,a={}){const l=t.ju(a.merge||a.mergeFields?2:0,e,n,s);Ty("Data must be an object, but it was:",l,r);const c=qS(r,l);let h,p;if(a.merge)h=new In(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const g=[];for(const w of a.mergeFields){const x=zm(e,w,n);if(!l.contains(x))throw new Ee(ie.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);GS(g,x)||g.push(x)}h=new In(g),p=l.fieldTransforms.filter(w=>h.covers(w.field))}else h=null,p=l.fieldTransforms;return new xM(new vn(c),h,p)}class Vh extends vy{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vh}}function TM(t,e,n,r){const s=t.ju(1,e,n);Ty("Data must be an object, but it was:",s,r);const a=[],l=vn.empty();_s(r,(h,p)=>{const g=by(e,h,n);p=ut(p);const w=s.Uu(g);if(p instanceof Vh)a.push(g);else{const x=Lh(p,w);x!=null&&(a.push(g),l.set(g,x))}});const c=new In(a);return new zS(l,c,s.fieldTransforms)}function bM(t,e,n,r,s,a){const l=t.ju(1,e,n),c=[zm(e,r,n)],h=[s];if(a.length%2!=0)throw new Ee(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)c.push(zm(e,a[x])),h.push(a[x+1]);const p=[],g=vn.empty();for(let x=c.length-1;x>=0;--x)if(!GS(p,c[x])){const S=c[x];let R=h[x];R=ut(R);const L=l.Uu(S);if(R instanceof Vh)p.push(S);else{const N=Lh(R,L);N!=null&&(p.push(S),g.set(S,N))}}const w=new In(p);return new zS(g,w,l.fieldTransforms)}function Lh(t,e){if(KS(t=ut(t)))return Ty("Unsupported field value:",e,t),qS(t,e);if(t instanceof vy)return function(r,s){if(!WS(s.Lu))throw s.Wu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const c of r){let h=Lh(c,s.Ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),a.push(h),l++}return{arrayValue:{values:a}}}(t,e)}return function(r,s){if((r=ut(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=It.fromDate(r);return{timestampValue:Jd(s.serializer,a)}}if(r instanceof It){const a=new It(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Jd(s.serializer,a)}}if(r instanceof _y)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Va)return{bytesValue:oS(s.serializer,r._byteString)};if(r instanceof _n){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.Wu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ny(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof wy)return function(l,c){return{mapValue:{fields:{[Ob]:{stringValue:Mb},[Kd]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw c.Wu("VectorValues must only contain numeric values.");return Jg(c.serializer,p)})}}}}}}(r,s);throw s.Wu(`Unsupported field value: ${gy(r)}`)}(t,e)}function qS(t,e){const n={};return Rb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(t,(r,s)=>{const a=Lh(s,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function KS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof It||t instanceof _y||t instanceof Va||t instanceof _n||t instanceof vy||t instanceof wy)}function Ty(t,e,n){if(!KS(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=gy(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function zm(t,e,n){if((e=ut(e))instanceof Dh)return e._internalPath;if(typeof e=="string")return by(t,e);throw nh("Field path arguments must be of type string or ",t,!1,void 0,n)}const SM=new RegExp("[~\\*/\\[\\]]");function by(t,e,n){if(e.search(SM)>=0)throw nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dh(...e.split("."))._internalPath}catch{throw nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nh(t,e,n,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(a||l)&&(h+=" (found",a&&(h+=` in field ${r}`),l&&(h+=` in document ${s}`),h+=")"),new Ee(ie.INVALID_ARGUMENT,c+t+h)}function GS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,n,r,s,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new CM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(YS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class CM extends QS{data(){return super.data()}}function YS(t,e){return typeof e=="string"?by(t,e):e instanceof Dh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Ee(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AM{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return _s(e,(s,a)=>{r[s]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,s;const a=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Kd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>yt(l.doubleValue));return new wy(a)}convertGeoPoint(e){return new _y(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=xh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vu(e));default:return null}}convertTimestamp(e){const n=cs(e);return new It(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);He(hS(r));const s=new _u(r.get(1),r.get(3)),a=new Ce(r.popFirst(5));return s.isEqual(n)||vi(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JS extends QS{constructor(e,n,r,s,a,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(YS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ad extends JS{data(e={}){return super.data(e)}}class PM{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Xl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ad(this._firestore,this._userDataWriter,r.key,r,new Xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ee(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const h=new Ad(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Xl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const h=new Ad(s._firestore,s._userDataWriter,c.doc.key,c.doc,new Xl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return c.type!==0&&(p=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),g=l.indexOf(c.doc.key)),{type:RM(c.type),doc:h,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t){t=fr(t,_n);const e=fr(t.firestore,yo);return mM(yy(e),t._key).then(n=>kM(e,t,n))}class ZS extends AM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Va(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function ms(t){t=fr(t,Nh);const e=fr(t.firestore,yo),n=yy(e),r=new ZS(e);return IM(t._query),gM(n,t._query).then(s=>new PM(e,r,t,s))}function Cy(t,e,n){t=fr(t,_n);const r=fr(t.firestore,yo),s=XS(t.converter,e,n);return Oh(r,[HS(Ey(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Hn.none())])}function Ux(t,e,n,...r){t=fr(t,_n);const s=fr(t.firestore,yo),a=Ey(s);let l;return l=typeof(e=ut(e))=="string"||e instanceof Dh?bM(a,"updateDoc",t._key,e,n,r):TM(a,"updateDoc",t._key,e),Oh(s,[l.toMutation(t._key,Hn.exists(!0))])}function Pd(t){return Oh(fr(t.firestore,yo),[new Zg(t._key,Hn.none())])}function Wm(t,e){const n=fr(t.firestore,yo),r=dr(t),s=XS(t.converter,e);return Oh(n,[HS(Ey(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Hn.exists(!1))]).then(()=>r)}function Oh(t,e){return function(r,s){const a=new pi;return r.asyncQueue.enqueueAndForget(async()=>rM(await pM(r),s,a)),a.promise}(yy(t),e)}function kM(t,e,n){const r=n.docs.get(e._key),s=new ZS(t);return new JS(t,s,e._key,r,new Xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Ua=s})(po),ao(new ls("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new yo(new CV(r.getProvider("auth-internal")),new PV(l,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Ee(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new _u(p.options.projectId,g)}(l,s),l);return a=Object.assign({useFetchStreams:n},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),Nr(Hw,qw,e),Nr(Hw,qw,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC="firebasestorage.googleapis.com",tC="storageBucket",NM=2*60*1e3,DM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends $r{constructor(e,n,r=0){super(Kp(e),`Firebase Storage: ${n} (${Kp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Kp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ct;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ct||(ct={}));function Kp(t){return"storage/"+t}function Iy(){const t="An unknown error occurred, please check the error payload for server response.";return new dt(ct.UNKNOWN,t)}function VM(t){return new dt(ct.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function LM(t){return new dt(ct.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function OM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(ct.UNAUTHENTICATED,t)}function MM(){return new dt(ct.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function jM(t){return new dt(ct.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function FM(){return new dt(ct.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function UM(){return new dt(ct.CANCELED,"User canceled the upload/download.")}function $M(t){return new dt(ct.INVALID_URL,"Invalid URL '"+t+"'.")}function BM(t){return new dt(ct.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function zM(){return new dt(ct.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tC+"' property when initializing the app?")}function WM(){return new dt(ct.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function HM(){return new dt(ct.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function qM(t){return new dt(ct.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hm(t){return new dt(ct.INVALID_ARGUMENT,t)}function nC(){return new dt(ct.APP_DELETED,"The Firebase app was deleted.")}function KM(t){return new dt(ct.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ou(t,e){return new dt(ct.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Bl(t){throw new dt(ct.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=An.makeFromUrl(e,n)}catch{return new An(e,"")}if(r.path==="")return r;throw BM(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function a(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),h={bucket:1,path:3};function p(Y){Y.path_=decodeURIComponent(Y.path)}const g="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",S=new RegExp(`^https?://${w}/${g}/b/${s}/o${x}`,"i"),R={bucket:1,path:3},L=n===eC?"(?:storage.googleapis.com|storage.cloud.google.com)":n,N="([^?#]*)",O=new RegExp(`^https?://${L}/${s}/${N}`,"i"),B=[{regex:c,indices:h,postModify:a},{regex:S,indices:R,postModify:p},{regex:O,indices:{bucket:1,path:2},postModify:p}];for(let Y=0;Y<B.length;Y++){const Q=B[Y],$=Q.regex.exec(e);if($){const P=$[Q.indices.bucket];let T=$[Q.indices.path];T||(T=""),r=new An(P,T),Q.postModify(r);break}}if(r==null)throw $M(e);return r}}class GM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QM(t,e,n){let r=1,s=null,a=null,l=!1,c=0;function h(){return c===2}let p=!1;function g(...N){p||(p=!0,e.apply(null,N))}function w(N){s=setTimeout(()=>{s=null,t(S,h())},N)}function x(){a&&clearTimeout(a)}function S(N,...O){if(p){x();return}if(N){x(),g.call(null,N,...O);return}if(h()||l){x(),g.call(null,N,...O);return}r<64&&(r*=2);let B;c===1?(c=2,B=0):B=(r+Math.random())*1e3,w(B)}let R=!1;function L(N){R||(R=!0,x(),!p&&(s!==null?(N||(c=2),clearTimeout(s),w(0)):N||(c=1)))}return w(0),a=setTimeout(()=>{l=!0,L(!0)},n),L}function YM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){return t!==void 0}function JM(t){return typeof t=="object"&&!Array.isArray(t)}function Ay(t){return typeof t=="string"||t instanceof String}function $x(t){return Py()&&t instanceof Blob}function Py(){return typeof Blob<"u"}function Bx(t,e,n,r){if(r<e)throw Hm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Hm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function rC(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var so;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(so||(so={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||s||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ej{constructor(e,n,r,s,a,l,c,h,p,g,w,x=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=h,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=w,this.retry=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,R)=>{this.resolve_=S,this.reject_=R,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new md(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=c=>{const h=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(h,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const c=a.getErrorCode()===so.NO_ERROR,h=a.getStatus();if(!c||ZM(h,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===so.ABORT;r(!1,new md(!1,null,g));return}const p=this.successCodes_.indexOf(h)!==-1;r(!0,new md(p,a))})},n=(r,s)=>{const a=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const h=this.callback_(c,c.getResponse());XM(h)?a(h):a()}catch(h){l(h)}else if(c!==null){const h=Iy();h.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,h)):l(h)}else if(s.canceled){const h=this.appDelete_?nC():UM();l(h)}else{const h=FM();l(h)}};this.canceled_?n(!1,new md(!1,null,!0)):this.backoffId_=QM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&YM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class md{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function tj(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function nj(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rj(t,e){e&&(t["X-Firebase-GMPID"]=e)}function ij(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function sj(t,e,n,r,s,a,l=!0){const c=rC(t.urlParams),h=t.url+c,p=Object.assign({},t.headers);return rj(p,e),tj(p,n),nj(p,a),ij(p,r),new ej(h,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function aj(...t){const e=oj();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(Py())return new Blob(t);throw new dt(ct.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function lj(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(t){if(typeof atob>"u")throw qM("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ar={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gp{constructor(e,n){this.data=e,this.contentType=n||null}}function cj(t,e){switch(t){case Ar.RAW:return new Gp(iC(e));case Ar.BASE64:case Ar.BASE64URL:return new Gp(sC(t,e));case Ar.DATA_URL:return new Gp(hj(e),fj(e))}throw Iy()}function iC(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function dj(t){let e;try{e=decodeURIComponent(t)}catch{throw ou(Ar.DATA_URL,"Malformed data URL.")}return iC(e)}function sC(t,e){switch(t){case Ar.BASE64:{const s=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(s||a)throw ou(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Ar.BASE64URL:{const s=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(s||a)throw ou(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=uj(e)}catch(s){throw s.message.includes("polyfill")?s:ou(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class oC{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ou(Ar.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=pj(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function hj(t){const e=new oC(t);return e.base64?sC(Ar.BASE64,e.rest):dj(e.rest)}function fj(t){return new oC(t).contentType}function pj(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,n){let r=0,s="";$x(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if($x(this.data_)){const r=this.data_,s=lj(r,e,n);return s===null?null:new Gi(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Gi(r,!0)}}static getBlob(...e){if(Py()){const n=e.map(r=>r instanceof Gi?r.data_:r);return new Gi(aj.apply(null,n))}else{const n=e.map(l=>Ay(l)?cj(Ar.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const s=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let c=0;c<l.length;c++)s[a++]=l[c]}),new Gi(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(t){let e;try{e=JSON.parse(t)}catch{return null}return JM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mj(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function gj(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function lC(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(t,e){return e}class an{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||yj}}let gd=null;function vj(t){return!Ay(t)||t.length<2?t:lC(t)}function uC(){if(gd)return gd;const t=[];t.push(new an("bucket")),t.push(new an("generation")),t.push(new an("metageneration")),t.push(new an("name","fullPath",!0));function e(a,l){return vj(l)}const n=new an("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const s=new an("size");return s.xform=r,t.push(s),t.push(new an("timeCreated")),t.push(new an("updated")),t.push(new an("md5Hash",null,!0)),t.push(new an("cacheControl",null,!0)),t.push(new an("contentDisposition",null,!0)),t.push(new an("contentEncoding",null,!0)),t.push(new an("contentLanguage",null,!0)),t.push(new an("contentType",null,!0)),t.push(new an("metadata","customMetadata",!0)),gd=t,gd}function _j(t,e){function n(){const r=t.bucket,s=t.fullPath,a=new An(r,s);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function wj(t,e,n){const r={};r.type="file";const s=n.length;for(let a=0;a<s;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return _j(r,t),r}function cC(t,e,n){const r=aC(e);return r===null?null:wj(t,r,n)}function xj(t,e,n,r){const s=aC(e);if(s===null||!Ay(s.downloadTokens))return null;const a=s.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const g=t.bucket,w=t.fullPath,x="/b/"+l(g)+"/o/"+l(w),S=Mh(x,n,r),R=rC({alt:"media",token:p});return S+R})[0]}function Ej(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const a=e[s];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class Ry{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t){if(!t)throw Iy()}function Tj(t,e){function n(r,s){const a=cC(t,s,e);return dC(a!==null),a}return n}function bj(t,e){function n(r,s){const a=cC(t,s,e);return dC(a!==null),xj(a,s,t.host,t._protocol)}return n}function hC(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=MM():s=OM():n.getStatus()===402?s=LM(t.bucket):n.getStatus()===403?s=jM(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function fC(t){const e=hC(t);function n(r,s){let a=e(r,s);return r.getStatus()===404&&(a=VM(t.path)),a.serverResponse=s.serverResponse,a}return n}function Sj(t,e,n){const r=e.fullServerUrl(),s=Mh(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,c=new Ry(s,a,bj(t,n),l);return c.errorHandler=fC(e),c}function Cj(t,e){const n=e.fullServerUrl(),r=Mh(n,t.host,t._protocol),s="DELETE",a=t.maxOperationRetryTime;function l(h,p){}const c=new Ry(r,s,l,a);return c.successCodes=[200,204],c.errorHandler=fC(e),c}function Ij(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Aj(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Ij(null,e)),r}function Pj(t,e,n,r,s){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function c(){let B="";for(let Y=0;Y<2;Y++)B=B+Math.random().toString().slice(2);return B}const h=c();l["Content-Type"]="multipart/related; boundary="+h;const p=Aj(e,r,s),g=Ej(p,n),w="--"+h+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+h+`\r
Content-Type: `+p.contentType+`\r
\r
`,x=`\r
--`+h+"--",S=Gi.getBlob(w,r,x);if(S===null)throw WM();const R={name:p.fullPath},L=Mh(a,t.host,t._protocol),N="POST",O=t.maxUploadRetryTime,q=new Ry(L,N,Tj(t,n),O);return q.urlParams=R,q.headers=l,q.body=S.uploadData(),q.errorHandler=hC(e),q}class Rj{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=so.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=so.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=so.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Bl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const a in s)s.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,s[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Bl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Bl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Bl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Bl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class kj extends Rj{initXhr(){this.xhr_.responseType="text"}}function ky(){return new kj}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n){this._service=e,n instanceof An?this._location=n:this._location=An.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new co(e,n)}get root(){const e=new An(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lC(this._location.path)}get storage(){return this._service}get parent(){const e=mj(this._location.path);if(e===null)return null;const n=new An(this._location.bucket,e);return new co(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw KM(e)}}function Nj(t,e,n){t._throwIfRoot("uploadBytes");const r=Pj(t.storage,t._location,uC(),new Gi(e,!0),n);return t.storage.makeRequestWithTokens(r,ky).then(s=>({metadata:s,ref:t}))}function Dj(t){t._throwIfRoot("getDownloadURL");const e=Sj(t.storage,t._location,uC());return t.storage.makeRequestWithTokens(e,ky).then(n=>{if(n===null)throw HM();return n})}function Vj(t){t._throwIfRoot("deleteObject");const e=Cj(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ky)}function Lj(t,e){const n=gj(t._location.path,e),r=new An(t._location.bucket,n);return new co(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(t){return/^[A-Za-z]+:\/\//.test(t)}function Mj(t,e){return new co(t,e)}function pC(t,e){if(t instanceof Ny){const n=t;if(n._bucket==null)throw zM();const r=new co(n,n._bucket);return e!=null?pC(r,e):r}else return e!==void 0?Lj(t,e):t}function jj(t,e){if(e&&Oj(e)){if(t instanceof Ny)return Mj(t,e);throw Hm("To use ref(service, url), the first argument must be a Storage instance.")}else return pC(t,e)}function zx(t,e){const n=e==null?void 0:e[tC];return n==null?null:An.makeFromBucketSpec(n,t)}function Fj(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:mb(s,t.app.options.projectId))}class Ny{constructor(e,n,r,s,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=a,this._bucket=null,this._host=eC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NM,this._maxUploadRetryTime=DM,this._requests=new Set,s!=null?this._bucket=An.makeFromBucketSpec(s,this._host):this._bucket=zx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=An.makeFromBucketSpec(this._url,e):this._bucket=zx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Bx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Bx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new co(this,e)}_makeRequest(e,n,r,s,a=!0){if(this._deleted)return new GM(nC());{const l=sj(e,this._appId,r,s,n,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Wx="@firebase/storage",Hx="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="storage";function Uj(t,e,n){return t=ut(t),Nj(t,e,n)}function $j(t){return t=ut(t),Dj(t)}function qx(t){return t=ut(t),Vj(t)}function Qp(t,e){return t=ut(t),jj(t,e)}function Bj(t=Wg(),e){t=ut(t);const r=vh(t,mC).getImmediate({identifier:e}),s=hb("storage");return s&&zj(r,...s),r}function zj(t,e,n,r={}){Fj(t,e,n,r)}function Wj(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Ny(n,r,s,e,po)}function Hj(){ao(new ls(mC,Wj,"PUBLIC").setMultipleInstances(!0)),Nr(Wx,Hx,""),Nr(Wx,Hx,"esm2017")}Hj();function Dy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function gC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qj=gC,yC=new Nu("auth","Firebase",gC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rh=new $g("@firebase/auth");function Kj(t,...e){rh.logLevel<=je.WARN&&rh.warn(`Auth (${po}): ${t}`,...e)}function Rd(t,...e){rh.logLevel<=je.ERROR&&rh.error(`Auth (${po}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t,...e){throw Vy(t,...e)}function Lr(t,...e){return Vy(t,...e)}function vC(t,e,n){const r=Object.assign(Object.assign({},qj()),{[e]:n});return new Nu("auth","Firebase",r).create(e,{appName:t.name})}function is(t){return vC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yC.create(t,...e)}function Ae(t,e,...n){if(!t)throw Vy(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Rd(e),new Error(e)}function wi(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Gj(){return Kx()==="http:"||Kx()==="https:"}function Kx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Gj()||t2()||"connection"in navigator)?navigator.onLine:!0}function Yj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.shortDelay=e,this.longDelay=n,wi(n>e,"Short delay should be less than long delay!"),this.isMobile=JD()||n2()}get(){return Qj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t,e){wi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=new ju(3e4,6e4);function vo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xs(t,e,n,r,s={}){return wC(t,s,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const c=Du(Object.assign({key:t.config.apiKey},l)).slice(1),h=await t._getAdditionalHeaders();h["Content-Type"]="application/json",t.languageCode&&(h["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:h},a);return e2()||(p.referrerPolicy="no-referrer"),_C.fetch()(xC(t,t.config.apiHost,n,c),p)})}async function wC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Xj),e);try{const s=new e4(t),a=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw yd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const c=a.ok?l.errorMessage:l.error.message,[h,p]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(t,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw yd(t,"email-already-in-use",l);if(h==="USER_DISABLED")throw yd(t,"user-disabled",l);const g=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw vC(t,g,p);pr(t,g)}}catch(s){if(s instanceof $r)throw s;pr(t,"network-request-failed",{message:String(s)})}}async function jh(t,e,n,r,s={}){const a=await xs(t,e,n,r,s);return"mfaPendingCredential"in a&&pr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function xC(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Ly(t.config,s):`${t.config.apiScheme}://${s}`}function Zj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class e4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),Jj.get())})}}function yd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Lr(t,e,r);return s.customData._tokenResponse=n,s}function Gx(t){return t!==void 0&&t.enterprise!==void 0}class t4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Zj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function n4(t,e){return xs(t,"GET","/v2/recaptchaConfig",vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r4(t,e){return xs(t,"POST","/v1/accounts:delete",e)}async function EC(t,e){return xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function i4(t,e=!1){const n=ut(t),r=await n.getIdToken(e),s=Oy(r);Ae(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:au(Yp(s.auth_time)),issuedAtTime:au(Yp(s.iat)),expirationTime:au(Yp(s.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Yp(t){return Number(t)*1e3}function Oy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Rd("JWT malformed, contained fewer than 3 sections"),null;try{const s=cb(n);return s?JSON.parse(s):(Rd("Failed to decode base64 JWT payload"),null)}catch(s){return Rd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Qx(t){const e=Oy(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof $r&&s4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function s4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=au(this.lastLoginAt),this.creationTime=au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ih(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Tu(t,EC(n,{idToken:r}));Ae(s==null?void 0:s.users.length,n,"internal-error");const a=s.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?TC(a.providerUserInfo):[],c=l4(t.providerData,l),h=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(c!=null&&c.length),g=h?p:!1,w={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Km(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(t,w)}async function a4(t){const e=ut(t);await ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function l4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function TC(t){return t.map(e=>{var{providerId:n}=e,r=Dy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u4(t,e){const n=await wC(t,{},async()=>{const r=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=t.config,l=xC(t,s,"/v1/token",`key=${a}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",_C.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function c4(t,e){return xs(t,"POST","/v2/accounts:revokeToken",vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=Qx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:a}=await u4(e,n);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:a}=n,l=new Ea;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),s&&(Ae(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),a&&(Ae(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ea,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,a=Dy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new o4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Km(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Tu(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return i4(this,e)}reload(){return a4(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ih(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(zn(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await Tu(this,r4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,a,l,c,h,p,g;const w=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(s=n.email)!==null&&s!==void 0?s:void 0,S=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,R=(l=n.photoURL)!==null&&l!==void 0?l:void 0,L=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(h=n._redirectEventId)!==null&&h!==void 0?h:void 0,O=(p=n.createdAt)!==null&&p!==void 0?p:void 0,q=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:B,emailVerified:Y,isAnonymous:Q,providerData:$,stsTokenManager:P}=n;Ae(B&&P,e,"internal-error");const T=Ea.fromJSON(this.name,P);Ae(typeof B=="string",e,"internal-error"),qi(w,e.name),qi(x,e.name),Ae(typeof Y=="boolean",e,"internal-error"),Ae(typeof Q=="boolean",e,"internal-error"),qi(S,e.name),qi(R,e.name),qi(L,e.name),qi(N,e.name),qi(O,e.name),qi(q,e.name);const C=new ui({uid:B,auth:e,email:x,emailVerified:Y,displayName:w,isAnonymous:Q,photoURL:R,phoneNumber:S,tenantId:L,stsTokenManager:T,createdAt:O,lastLoginAt:q});return $&&Array.isArray($)&&(C.providerData=$.map(A=>Object.assign({},A))),N&&(C._redirectEventId=N),C}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ea;s.updateFromServerResponse(n);const a=new ui({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ih(a),a}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];Ae(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?TC(s.providerUserInfo):[],l=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),c=new Ea;c.updateFromIdToken(r);const h=new ui({uid:s.localId,auth:e,stsTokenManager:c,isAnonymous:l}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Km(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx=new Map;function ci(t){wi(t instanceof Function,"Expected a class definition");let e=Yx.get(t);return e?(wi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Yx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}bC.type="NONE";const Xx=bC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ta{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=kd(this.userKey,s.apiKey,a),this.fullPersistenceKey=kd("persistence",s.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ta(ci(Xx),e,r);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||ci(Xx);const l=kd(r,e.config.apiKey,e.name);let c=null;for(const p of n)try{const g=await p._get(l);if(g){const w=ui._fromJSON(e,g);p!==a&&(c=w),a=p;break}}catch{}const h=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!h.length?new Ta(a,e,r):(a=h[0],c&&await a._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new Ta(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(RC(e))return"Blackberry";if(kC(e))return"Webos";if(CC(e))return"Safari";if((e.includes("chrome/")||IC(e))&&!e.includes("edge/"))return"Chrome";if(PC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SC(t=tn()){return/firefox\//i.test(t)}function CC(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IC(t=tn()){return/crios\//i.test(t)}function AC(t=tn()){return/iemobile/i.test(t)}function PC(t=tn()){return/android/i.test(t)}function RC(t=tn()){return/blackberry/i.test(t)}function kC(t=tn()){return/webos/i.test(t)}function My(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function d4(t=tn()){var e;return My(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function h4(){return r2()&&document.documentMode===10}function NC(t=tn()){return My(t)||PC(t)||kC(t)||RC(t)||/windows phone/i.test(t)||AC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(t,e=[]){let n;switch(t){case"Browser":n=Jx(tn());break;case"Worker":n=`${Jx(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,c)=>{try{const h=e(a);l(h)}catch(h){c(h)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p4(t,e={}){return xs(t,"GET","/v2/passwordPolicy",vo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=6;class g4{constructor(e){var n,r,s,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:m4,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,a,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(n=h.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(s=h.containsLowercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(a=h.containsUppercaseLetter)!==null&&a!==void 0?a:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Zx(this),this.idTokenSubscription=new Zx(this),this.beforeStateQueue=new f4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Ta.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await EC(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(zn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(s=h.user,a=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ih(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Yj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(zn(this.app))return Promise.reject(is(this));const n=e?ut(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return zn(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return zn(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await p4(this),n=new g4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await c4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ci(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(c,this,"internal-error"),c.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const h=e.addObserver(n,r,s);return()=>{l=!0,h()}}else{const h=e.addObserver(n);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=DC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Kj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Wa(t){return ut(t)}class Zx{constructor(e){this.auth=e,this.observer=null,this.addObserver=d2(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function v4(t){Fh=t}function VC(t){return Fh.loadJS(t)}function _4(){return Fh.recaptchaEnterpriseScript}function w4(){return Fh.gapiScript}function x4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class E4{constructor(){this.enterprise=new T4}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class T4{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const b4="recaptcha-enterprise",LC="NO_RECAPTCHA";class S4{constructor(e){this.type=b4,this.auth=Wa(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,c)=>{n4(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const p=new t4(h);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(h=>{c(h)})})}function s(a,l,c){const h=window.grecaptcha;Gx(h)?h.enterprise.ready(()=>{h.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(LC)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new E4().execute("siteKey",{action:"verify"}):new Promise((a,l)=>{r(this.auth).then(c=>{if(!n&&Gx(window.grecaptcha))s(c,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=_4();h.length!==0&&(h+=c),VC(h).then(()=>{s(c,a,l)}).catch(p=>{l(p)})}}).catch(c=>{l(c)})})}}async function eE(t,e,n,r=!1,s=!1){const a=new S4(t);let l;if(s)l=LC;else try{l=await a.verify(n)}catch{l=await a.verify(n,!0)}const c=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,p=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function tE(t,e,n,r,s){var a;if(!((a=t._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await eE(t,e,n,n==="getOobCode");return r(t,l)}else return r(t,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await eE(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C4(t,e){const n=vh(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),a=n.getOptions();if(oo(a,e??{}))return s;pr(s,"already-initialized")}return n.initialize({options:e})}function I4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ci);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function A4(t,e,n){const r=Wa(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=OC(e),{host:l,port:c}=P4(e),h=c===null?"":`:${c}`,p={url:`${a}//${l}${h}/`},g=Object.freeze({host:l,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(oo(p,r.config.emulator)&&oo(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,R4()}function OC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function P4(t){const e=OC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:nE(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:nE(l)}}}function nE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function R4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function k4(t,e){return xs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N4(t,e){return jh(t,"POST","/v1/accounts:signInWithPassword",vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D4(t,e){return jh(t,"POST","/v1/accounts:signInWithEmailLink",vo(t,e))}async function V4(t,e){return jh(t,"POST","/v1/accounts:signInWithEmailLink",vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends jy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new bu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new bu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tE(e,n,"signInWithPassword",N4);case"emailLink":return D4(e,{email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tE(e,r,"signUpPassword",k4);case"emailLink":return V4(e,{idToken:n,email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(t,e){return jh(t,"POST","/v1/accounts:signInWithIdp",vo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4="http://localhost";class ho extends jy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ho(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,a=Dy(n,["providerId","signInMethod"]);if(!r||!s)return null;const l=new ho(r,s);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return ba(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ba(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ba(e,n)}buildRequest(){const e={requestUri:L4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function M4(t){const e=ql(Kl(t)).link,n=e?ql(Kl(e)).deep_link_id:null,r=ql(Kl(t)).deep_link_id;return(r?ql(Kl(r)).link:null)||r||n||e||t}class Fy{constructor(e){var n,r,s,a,l,c;const h=ql(Kl(e)),p=(n=h.apiKey)!==null&&n!==void 0?n:null,g=(r=h.oobCode)!==null&&r!==void 0?r:null,w=O4((s=h.mode)!==null&&s!==void 0?s:null);Ae(p&&g&&w,"argument-error"),this.apiKey=p,this.operation=w,this.code=g,this.continueUrl=(a=h.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const n=M4(e);try{return new Fy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.providerId=Ha.PROVIDER_ID}static credential(e,n){return bu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Fy.parseLink(n);return Ae(r,"argument-error"),bu._fromEmailAndCode(e,r.code,r.tenantId)}}Ha.PROVIDER_ID="password";Ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends MC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Fu{constructor(){super("facebook.com")}static credential(e){return ho._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ho._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Fu{constructor(){super("github.com")}static credential(e){return ho._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.GITHUB_SIGN_IN_METHOD="github.com";Xi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Fu{constructor(){super("twitter.com")}static credential(e,n){return ho._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const a=await ui._fromIdTokenResponse(e,r,s),l=rE(r);return new La({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=rE(r);return new La({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function rE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh extends $r{constructor(e,n,r,s){var a;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,sh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new sh(e,n,r,s)}}function jC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?sh._fromErrorAndOperation(t,a,e,r):a})}async function j4(t,e,n=!1){const r=await Tu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return La._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e,n=!1){const{auth:r}=t;if(zn(r.app))return Promise.reject(is(r));const s="reauthenticate";try{const a=await Tu(t,jC(r,s,e,t),n);Ae(a.idToken,r,"internal-error");const l=Oy(a.idToken);Ae(l,r,"internal-error");const{sub:c}=l;return Ae(t.uid===c,r,"user-mismatch"),La._forOperation(t,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&pr(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(t,e,n=!1){if(zn(t.app))return Promise.reject(is(t));const r="signIn",s=await jC(t,r,e),a=await La._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(a.user),a}async function U4(t,e){return FC(Wa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $4(t){const e=Wa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function B4(t,e,n){return zn(t.app)?Promise.reject(is(t)):U4(ut(t),Ha.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$4(t),r})}function z4(t,e,n,r){return ut(t).onIdTokenChanged(e,n,r)}function W4(t,e,n){return ut(t).beforeAuthStateChanged(e,n)}function Uh(t,e,n,r){return ut(t).onAuthStateChanged(e,n,r)}function $h(t){return ut(t).signOut()}const oh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=1e3,q4=10;class $C extends UC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=NC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);h4()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,q4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},H4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}$C.type="LOCAL";const K4=$C;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC extends UC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}BC.type="SESSION";const zC=BC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Bh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:a}=n.data,l=this.handlersMap[s];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const c=Array.from(l).map(async p=>p(n.origin,a)),h=await G4(c);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:h})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,l;return new Promise((c,h)=>{const p=Uy("",20);s.port1.start();const g=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:s,onMessage(w){const x=w;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),c(x.data.response);break;default:clearTimeout(g),clearTimeout(a),h(new Error("invalid_response"));break}}},this.handlers.add(l),s.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[s.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(){return window}function Y4(t){Or().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WC(){return typeof Or().WorkerGlobalScope<"u"&&typeof Or().importScripts=="function"}async function X4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function J4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Z4(){return WC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC="firebaseLocalStorageDb",eF=1,ah="firebaseLocalStorage",qC="fbase_key";class Uu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zh(t,e){return t.transaction([ah],e?"readwrite":"readonly").objectStore(ah)}function tF(){const t=indexedDB.deleteDatabase(HC);return new Uu(t).toPromise()}function Gm(){const t=indexedDB.open(HC,eF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ah,{keyPath:qC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ah)?e(r):(r.close(),await tF(),e(await Gm()))})})}async function iE(t,e,n){const r=zh(t,!0).put({[qC]:e,value:n});return new Uu(r).toPromise()}async function nF(t,e){const n=zh(t,!1).get(e),r=await new Uu(n).toPromise();return r===void 0?null:r.value}function sE(t,e){const n=zh(t,!0).delete(e);return new Uu(n).toPromise()}const rF=800,iF=3;class KC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>iF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(Z4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await X4(),!this.activeServiceWorker)return;this.sender=new Q4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||J4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Gm();return await iE(e,oh,"1"),await sE(e,oh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>nF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=zh(s,!1).getAll();return new Uu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),rF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}KC.type="LOCAL";const sF=KC;new ju(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t,e){return e?ci(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y extends jy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ba(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ba(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ba(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function aF(t){return FC(t.auth,new $y(t),t.bypassAuthState)}function lF(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),F4(n,new $y(t),t.bypassAuthState)}async function uF(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),j4(n,new $y(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:a,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return aF;case"linkViaPopup":case"linkViaRedirect":return uF;case"reauthViaPopup":case"reauthViaRedirect":return lF;default:pr(this.auth,"internal-error")}}resolve(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){wi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cF=new ju(2e3,1e4);class wa extends GC{constructor(e,n,r,s,a){super(e,n,s,a),this.provider=r,this.authWindow=null,this.pollId=null,wa.currentPopupAction&&wa.currentPopupAction.cancel(),wa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){wi(this.filter.length===1,"Popup operations only handle one event");const e=Uy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,cF.get())};e()}}wa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF="pendingRedirect",Nd=new Map;class hF extends GC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nd.get(this.auth._key());if(!e){try{const r=await fF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nd.set(this.auth._key(),e)}return this.bypassAuthState||Nd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fF(t,e){const n=gF(e),r=mF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function pF(t,e){Nd.set(t._key(),e)}function mF(t){return ci(t._redirectPersistence)}function gF(t){return kd(dF,t.config.apiKey,t.name)}async function yF(t,e,n=!1){if(zn(t.app))return Promise.reject(is(t));const r=Wa(t),s=oF(r,e),l=await new hF(r,s,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vF=10*60*1e3;class _F{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!wF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!QC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vF&&this.cachedEventUids.clear(),this.cachedEventUids.has(oE(e))}saveEventToCache(e){this.cachedEventUids.add(oE(e)),this.lastProcessedEventTime=Date.now()}}function oE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function QC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function wF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return QC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xF(t,e={}){return xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TF=/^https?/;async function bF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await xF(t);for(const n of e)try{if(SF(n))return}catch{}pr(t,"unauthorized-domain")}function SF(t){const e=qm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!TF.test(n))return!1;if(EF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF=new ju(3e4,6e4);function aE(){const t=Or().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function IF(t){return new Promise((e,n)=>{var r,s,a;function l(){aE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aE(),n(Lr(t,"network-request-failed"))},timeout:CF.get()})}if(!((s=(r=Or().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((a=Or().gapi)===null||a===void 0)&&a.load)l();else{const c=x4("iframefcb");return Or()[c]=()=>{gapi.load?l():n(Lr(t,"network-request-failed"))},VC(`${w4()}?onload=${c}`).catch(h=>n(h))}}).catch(e=>{throw Dd=null,e})}let Dd=null;function AF(t){return Dd=Dd||IF(t),Dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=new ju(5e3,15e3),RF="__/auth/iframe",kF="emulator/auth/iframe",NF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},DF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VF(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ly(e,kF):`https://${t.config.authDomain}/${RF}`,r={apiKey:e.apiKey,appName:t.name,v:po},s=DF.get(t.config.apiHost);s&&(r.eid=s);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Du(r).slice(1)}`}async function LF(t){const e=await AF(t),n=Or().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:VF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NF,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const l=Lr(t,"network-request-failed"),c=Or().setTimeout(()=>{a(l)},PF.get());function h(){Or().clearTimeout(c),s(r)}r.ping(h).then(h,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},MF=500,jF=600,FF="_blank",UF="http://localhost";class lE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $F(t,e,n,r=MF,s=jF){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},OF),{width:r.toString(),height:s.toString(),top:a,left:l}),p=tn().toLowerCase();n&&(c=IC(p)?FF:n),SC(p)&&(e=e||UF,h.scrollbars="yes");const g=Object.entries(h).reduce((x,[S,R])=>`${x}${S}=${R},`,"");if(d4(p)&&c!=="_self")return BF(e||"",c),new lE(null);const w=window.open(e||"",c,g);Ae(w,t,"popup-blocked");try{w.focus()}catch{}return new lE(w)}function BF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF="__/auth/handler",WF="emulator/auth/handler",HF=encodeURIComponent("fac");async function uE(t,e,n,r,s,a){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:po,eventId:s};if(e instanceof MC){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",c2(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,w]of Object.entries({}))l[g]=w}if(e instanceof Fu){const g=e.getScopes().filter(w=>w!=="");g.length>0&&(l.scopes=g.join(","))}t.tenantId&&(l.tid=t.tenantId);const c=l;for(const g of Object.keys(c))c[g]===void 0&&delete c[g];const h=await t._getAppCheckToken(),p=h?`#${HF}=${encodeURIComponent(h)}`:"";return`${qF(t)}?${Du(c).slice(1)}${p}`}function qF({config:t}){return t.emulator?Ly(t,WF):`https://${t.authDomain}/${zF}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp="webStorageSupport";class KF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zC,this._completeRedirectFn=yF,this._overrideRedirectResult=pF}async _openPopup(e,n,r,s){var a;wi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await uE(e,n,r,qm(),s);return $F(e,l,Uy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const a=await uE(e,n,r,qm(),s);return Y4(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:a}=this.eventManagers[n];return s?Promise.resolve(s):(wi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LF(e),r=new _F(e);return n.register("authEvent",s=>(Ae(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xp,{type:Xp},s=>{var a;const l=(a=s==null?void 0:s[0])===null||a===void 0?void 0:a[Xp];l!==void 0&&n(!!l),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return NC()||CC()||My()}}const GF=KF;var cE="@firebase/auth",dE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function XF(t){ao(new ls("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;Ae(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:DC(t)},p=new y4(r,s,a,h);return I4(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ao(new ls("auth-internal",e=>{const n=Wa(e.getProvider("auth").getImmediate());return(r=>new QF(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(cE,dE,YF(t)),Nr(cE,dE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JF=5*60,ZF=pb("authIdTokenMaxAge")||JF;let hE=null;const e3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ZF)return;const s=n==null?void 0:n.token;hE!==s&&(hE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function t3(t=Wg()){const e=vh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=C4(t,{popupRedirectResolver:GF,persistence:[sF,K4,zC]}),r=pb("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=e3(a.toString());W4(n,l,()=>l(n.currentUser)),z4(n,c=>l(c))}}const s=db("auth");return s&&A4(n,`http://${s}`),n}function n3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}v4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const a=Lr("internal-error");a.customData=s,n(a)},r.type="text/javascript",r.charset="UTF-8",n3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});XF("Browser");console.log("initializeApp:",typeof zg);console.log("getFirestore:",typeof BS);const r3={apiKey:"AIzaSyBOM041d620q5TBYfl7E6SexEqR8NGrWQE",authDomain:"aussie-gut-pack.firebaseapp.com",projectId:"aussie-gut-pack",storageBucket:"aussie-gut-pack.firebasestorage.app",messagingSenderId:"834797498886",appId:"1:834797498886:web:cb2f88ab4523480400c987"},Wh=zg(r3);console.log("Firebase app:",Wh);const gt=BS(Wh);console.log("Firestore db:",gt);const Jp=Bj(Wh),mi=t3(Wh);function i3(){const{isDarkMode:t}=k.useContext(Lt),e=k.useRef(null),n=k.useRef(null),[r,s]=k.useState(!1),[a,l]=k.useState(!1),[c,h]=k.useState({quotes:[],currentWorkout:{description:"",warmup:[],main:[]},scheduledWorkouts:[],aboutUs:"",dailyChallenges:[],lastUpdated:null}),[p,g]=k.useState(0),[w,x]=k.useState(null),[S,R]=k.useState(()=>JSON.parse(localStorage.getItem("completedChallenges"))||[]);k.useEffect(()=>{(async()=>{var M,U;const Q=dr(gt,"content","home"),$=await Sy(Q);let P={quotes:["An athlete won't judge you for working out.","A millionaire won't judge you for starting a business.","A musician won't judge you for trying to sing a song.","It's always the people going nowhere that have something to say.","Idle hands do the devil's work"],currentWorkout:{description:"A quick 20-minute routine to kickstart your metabolism and improve digestion.",warmup:["5-minute brisk walk or jog","3 sets of 15 squats"],main:["3 sets of 10 push-ups","2 sets of 20 jumping jacks","1-minute plank hold"]},scheduledWorkouts:[],aboutUs:"We are dedicated to bringing you information about Australian Shepherds and how to maintain a healthy gut. Our mission is to educate and inspire a natural approach to wellness for you and your furry friends.",dailyChallenges:["Drink 8 glasses of water.","Take a 10-minute digestion-boosting walk with your Aussie.","Try a gut-friendly snack like yogurt or pumpkin."],lastUpdated:null};if($.exists()){const D=$.data();P={...P,...D,currentWorkout:{...P.currentWorkout,...D.currentWorkout,warmup:((M=D.currentWorkout)==null?void 0:M.warmup)||P.currentWorkout.warmup,main:((U=D.currentWorkout)==null?void 0:U.main)||P.currentWorkout.main},scheduledWorkouts:D.scheduledWorkouts||[],dailyChallenges:D.dailyChallenges||P.dailyChallenges}}const T=new Date,C=[...P.scheduledWorkouts];let A=!1;if(C.sort((D,te)=>new Date(D.updateDateTime)-new Date(te.updateDateTime)),C.length>0){const D=C[0],te=new Date(D.updateDateTime);T>=te&&(!P.lastUpdated||new Date(P.lastUpdated)<te)&&(P.currentWorkout={description:D.description||"",warmup:D.warmup||[],main:D.main||[]},C.shift(),P.scheduledWorkouts=C,P.lastUpdated=T.toISOString(),A=!0)}A&&await Cy(Q,P,{merge:!0}),h(P);try{const D=hr(gt,"content","blog","posts"),de=(await ms(D)).docs.map(De=>({id:De.id,...De.data()}));if(de.length>0){de.sort((oe,fe)=>new Date(fe.date)-new Date(oe.date));const De=de[0],_e=L(De);x({...De,excerpt:_e})}else x({id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being..."}],excerpt:"Gut health is crucial for overall well-being..."})}catch(D){console.error("Error fetching blog posts:",D),x({id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being..."}],excerpt:"Gut health is crucial for overall well-being..."})}})()},[]);const L=Y=>{if(!Y||!Y.blocks||Y.blocks.length===0)return"Read more...";const Q=Y.blocks.find($=>$.type==="paragraph"||$.type==="list"||$.type==="bullet");return Q?Q.type==="paragraph"&&Q.content?Q.content.split(" ").slice(0,30).join(" ")+"...":Array.isArray(Q.content)&&Q.content.length>0?Q.content[0]+(Q.content.length>1?"...":""):"Read more...":"Read more..."};k.useEffect(()=>{const Y=new IntersectionObserver(Q=>{Q.forEach($=>{const P=$.isIntersecting;$.target===e.current&&s(P),$.target===n.current&&l(P)})},{threshold:.2});return e.current&&Y.observe(e.current),n.current&&Y.observe(n.current),()=>{e.current&&Y.unobserve(e.current),n.current&&Y.unobserve(n.current)}},[]),k.useEffect(()=>{const Y=setInterval(()=>{g(Q=>(Q+1)%c.quotes.length)},4e3);return()=>clearInterval(Y)},[c.quotes.length]),k.useEffect(()=>{localStorage.setItem("completedChallenges",JSON.stringify(S))},[S]);const N={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}},exit:{opacity:0,y:-20,transition:{duration:.5,ease:"easeIn"}}},O={hidden:{opacity:0,scale:.8,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeOut"}},exit:{opacity:0,scale:.8,y:-20,transition:{duration:.5,ease:"easeIn"}}},q=Y=>{R(Q=>Q.includes(Y)?Q.filter($=>$!==Y):[...Q,Y])},B=c.dailyChallenges.length>0&&S.length===c.dailyChallenges.length&&c.dailyChallenges.every((Y,Q)=>S.includes(Q));return _.jsxs("div",{className:`min-h-screen flex flex-col ${t?"bg-stone-900":"bg-white"}`,children:[_.jsx("section",{ref:e,className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:_.jsxs("div",{className:"container mx-auto text-center",children:[_.jsx("h1",{className:`text-5xl md:text-6xl font-extrabold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Welcome to Aussie Gut Pack"}),_.jsx("p",{className:`text-2xl max-w-2xl mx-auto mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Empowering Your Digestive Health, Naturally."}),_.jsxs("div",{className:`flex flex-col md:flex-row gap-6 transition-all duration-700 ease-in-out ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsxs("div",{className:"md:w-1/2 p-6 flex flex-col justify-center",children:[_.jsx("h2",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"About Us"}),_.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:c.aboutUs}),_.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[_.jsx(cr,{to:"/fitness-tips",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900",children:"Learn More"}),_.jsx(cr,{to:"/signup",variant:"primary",className:`${t?"bg-red-600 text-white hover:bg-red-700":"bg-red-700 text-white hover:bg-red-800"}`,children:"Join the Pack"})]})]}),_.jsx("div",{className:"md:w-1/2 flex justify-center items-center",children:_.jsx("div",{className:"h-80 w-80 md:h-[400px] md:w-[400px] overflow-hidden relative rounded-full",children:_.jsx(dR,{className:"w-full h-full object-cover"})})})]})]})}),_.jsx("hr",{className:`my-12 ${t?"border-stone-700":"border-stone-300"}`}),_.jsx("section",{ref:n,className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:_.jsxs("div",{className:`container mx-auto text-center transition-all duration-700 ease-in-out ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsx("h2",{className:`text-3xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Wisdom to Win The Day"}),_.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:_.jsx(p_,{mode:"wait",children:_.jsxs(Dw.p,{variants:N,initial:"hidden",animate:"visible",exit:"exit",className:`text-xl italic transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:['"',c.quotes[p],'"']},p)})}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[_.jsxs("div",{children:[_.jsx("h3",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Workout of the Day"}),_.jsx("p",{className:`text-lg mb-6 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:c.currentWorkout.description}),_.jsx("h4",{className:`text-xl font-semibold mb-3 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Warm Up"}),_.jsx("ul",{className:`text-left list-disc pl-6 mb-6 transition-colors duration-300 ease-in-out ${t?"text-blue-300":"text-blue-600"}`,children:(c.currentWorkout.warmup||[]).map((Y,Q)=>_.jsx("li",{className:"mb-2 text-lg",children:Y},`warmup-${Q}`))}),_.jsx("h4",{className:`text-xl font-semibold mb-3 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Main Workout"}),_.jsx("ul",{className:`text-left list-disc pl-6 mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:(c.currentWorkout.main||[]).map((Y,Q)=>_.jsx("li",{className:"mb-2 text-lg",children:Y},`main-${Q}`))}),_.jsx(cr,{to:"/fitness-tips",variant:"primary",className:"mx-auto bg-red-800 text-white hover:bg-red-900",children:"More Fitness Tips"})]}),_.jsxs("div",{children:[_.jsx("h3",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Daily Gut Health Challenges"}),_.jsx("ul",{className:`text-left list-disc pl-6 mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:(c.dailyChallenges||[]).map((Y,Q)=>_.jsxs("li",{className:"mb-2 text-lg flex items-center",children:[_.jsx("input",{type:"checkbox",checked:S.includes(Q),onChange:()=>q(Q),className:"mr-2"}),Y]},`challenge-${Q}`))}),_.jsx(p_,{children:B&&_.jsx(Dw.p,{variants:O,initial:"hidden",animate:"visible",exit:"exit",className:`text-lg font-semibold transition-colors duration-300 ease-in-out ${t?"text-green-400":"text-green-600"}`,children:"Great job, Pack Leader!"})})]})]})]})}),_.jsx("hr",{className:`my-12 ${t?"border-stone-700":"border-stone-300"}`}),w&&_.jsx("section",{className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:_.jsxs("div",{className:"container mx-auto text-center",children:[_.jsx("h2",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Latest From Our Blog"}),_.jsx("h3",{className:`text-xl font-semibold mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:w.title}),_.jsx("p",{className:`text-sm mb-4 transition-colors duration-300 ease-in-out ${t?"text-gray-400":"text-gray-600"}`,children:w.date}),_.jsx("p",{className:`text-lg mb-6 max-w-2xl mx-auto transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:w.excerpt}),_.jsx(cr,{to:`/blog/${w.id}`,variant:"primary",className:"mx-auto bg-red-800 text-white hover:bg-red-900",children:"Read More"})]})}),_.jsx("hr",{className:`my-12 ${t?"border-stone-700":"border-stone-300"}`}),_.jsxs("div",{className:`py-8 ${t?"bg-stone-800":"bg-stone-100"} text-center`,children:[_.jsx("p",{className:`text-lg mb-4 ${t?"text-white":"text-red-600"}`,children:"Want more? Check out our full library of fitness tips!"}),_.jsx(cr,{to:"/fitness-tips",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900",children:"Explore Now"})]})]})}const YC=k.createContext(),s3=({children:t})=>{const[e,n]=k.useState([]),r=h=>{n(p=>p.find(w=>w.id===h.id)?p.map(w=>w.id===h.id?{...w,quantity:w.quantity+1}:w):[...p,{...h,quantity:1}])},s=(h,p)=>{p<=0?a(h):n(g=>g.map(w=>w.id===h?{...w,quantity:p}:w))},a=h=>{n(p=>p.filter(g=>g.id!==h))},l=()=>{n([])},c=()=>e.reduce((h,p)=>h+p.price*p.quantity,0);return _.jsx(YC.Provider,{value:{cart:e,addToCart:r,updateQuantity:s,removeFromCart:a,clearCart:l,getTotalPrice:c},children:t})},XC=()=>k.useContext(YC);function o3(){var D;const{isDarkMode:t}=k.useContext(Lt),{cart:e,addToCart:n,updateQuantity:r,removeFromCart:s,getTotalPrice:a}=XC(),[l,c]=k.useState([]),[h,p]=k.useState([]),[g,w]=k.useState(!1),[x,S]=k.useState(""),[R,L]=k.useState(""),[N,O]=k.useState(!1),[q,B]=k.useState(!0),[Y,Q]=k.useState(!1),$=k.useRef(null),P=k.useRef(null),T=ys();k.useEffect(()=>{console.log("isMiniCartOpen updated to:",N)},[N]),k.useEffect(()=>{console.log("showAll updated to:",g)},[g]),k.useEffect(()=>{const te=de=>{const De=document.querySelector(".cart-button"),_e=de.target.closest(".add-to-cart-button"),oe=Date.now(),fe=P.current?oe-P.current:1/0;console.log("Outside click handler triggered, target:",de.target),console.log("Is target an Add to Cart button?",!!_e),console.log("Time since last Add to Cart click:",fe),console.log("IsMiniCartOpen?",N),console.log("OpenedByAdd?",Y),N&&!de.target.closest(".mini-cart-sidebar")&&!(De!=null&&De.contains(de.target))&&!_e&&fe>100&&!Y&&(console.log("Outside click detected, closing sidebar"),O(!1))};return document.addEventListener("click",te),()=>document.removeEventListener("click",te)},[N,Y]),k.useEffect(()=>{(async()=>{try{B(!0);const De=(await ms(hr(gt,"categories"))).docs.map(fe=>({id:fe.id,...fe.data()}));c(De);const oe=(await ms(hr(gt,"products"))).docs.map(fe=>({id:fe.id,...fe.data()}));p(oe)}catch(de){console.error("Error fetching data from Firestore:",de)}finally{B(!1)}})()},[]),k.useEffect(()=>(e.length>0&&($.current&&clearTimeout($.current),console.log("Cart updated, opening sidebar, cart length:",e.length),Q(!0),O(!0),e.length!==1&&($.current=setTimeout(()=>{console.log("Auto-closing sidebar after 3 seconds"),O(!1),Q(!1)},3e3))),()=>{$.current&&clearTimeout($.current)}),[e]),k.useEffect(()=>{e.length===0&&N&&(console.log("Cart is empty, closing sidebar"),O(!1),Q(!1))},[e,N]);const C=te=>{P.current=Date.now(),n(te)},A=te=>{const de=[...te];switch(x){case"price-asc":return de.sort((De,_e)=>De.price-_e.price);case"price-desc":return de.sort((De,_e)=>_e.price-De.price);case"name-asc":return de.sort((De,_e)=>De.name.localeCompare(_e.name));case"name-desc":return de.sort((De,_e)=>_e.name.localeCompare(De.name));default:return de}},M=R?h.filter(te=>te.categoryId===R):h,U=A(M);return _.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 flex ${t?"bg-stone-900":"bg-stone-50"}`,children:[_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsx("h1",{className:`text-4xl font-bold transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Products"}),_.jsxs("button",{className:"cart-button relative flex items-center gap-2 px-4 py-2 rounded-md font-semibold transition-all duration-300 ease-in-out bg-red-800 text-white hover:bg-red-900 active:bg-red-950",onClick:te=>{te.stopPropagation(),console.log("Cart button clicked, isMiniCartOpen:",N),O(!N)},children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 transition-transform duration-300 ease-in-out group-hover:scale-110",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),_.jsx("span",{children:"Cart"}),Array.isArray(e)&&e.length>0&&_.jsx("span",{className:`absolute -top-2 -right-2 bg-yellow-500 text-black rounded-full h-6 w-6 flex items-center justify-center text-sm transition-all duration-300 ease-in-out ${e.length>0?"animate-bounce":""}`,children:e.reduce((te,de)=>te+de.quantity,0)})]})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:`text-lg font-medium transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Filter by Section:"}),_.jsxs("select",{value:R,onChange:te=>L(te.target.value),className:`px-4 py-2 border rounded-md focus:outline-none transition-all duration-300 ease-in-out ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500 focus:border-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500 focus:border-red-500"}`,children:[_.jsx("option",{value:"",children:"All Sections"}),l.map(te=>_.jsx("option",{value:te.id,children:te.name},te.id))]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:`text-lg font-medium transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Sort By:"}),_.jsxs("select",{value:x,onChange:te=>S(te.target.value),className:`px-4 py-2 border rounded-md focus:outline-none transition-all duration-300 ease-in-out ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500 focus:border-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500 focus:border-red-500"}`,children:[_.jsx("option",{value:"",children:"None"}),_.jsx("option",{value:"price-asc",children:"Price: Low to High"}),_.jsx("option",{value:"price-desc",children:"Price: High to Low"}),_.jsx("option",{value:"name-asc",children:"Name: A-Z"}),_.jsx("option",{value:"name-desc",children:"Name: Z-A"})]})]})]}),_.jsx("button",{onClick:()=>{console.log("Show All button clicked, current showAll:",g),w(te=>{const de=!te;return console.log("Setting showAll to:",de),de&&(console.log("Resetting filterCategory to show all products"),L("")),de})},className:`px-4 py-2 rounded-md font-semibold transition-all duration-300 ease-in-out ${t?"bg-red-600 text-white hover:bg-red-700 active:bg-red-800":"bg-red-800 text-white hover:bg-red-900 active:bg-red-950"}`,children:g?"Group by Category":"Show All Products"})]}),q?_.jsx("div",{className:"flex justify-center items-center h-64",children:_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-red-600"})}):R?_.jsxs("div",{className:"mb-12",children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:((D=l.find(te=>te.id===R))==null?void 0:D.name)||"Section"}),U.length===0?_.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"No products found in this section."}):_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:U.map(te=>_.jsxs("div",{className:`p-4 border rounded-md shadow-md transition-all duration-300 ease-in-out hover:shadow-lg ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[_.jsx("img",{src:te.image,alt:te.name,className:"w-full h-48 object-cover rounded-md mb-4 transition-transform duration-300 ease-in-out hover:scale-105",onError:de=>{de.target.src="https://via.placeholder.com/80",console.error(`Failed to load image for ${te.name}`)}}),_.jsx("h3",{className:`text-lg font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:te.name}),_.jsx("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:te.description}),_.jsxs("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",te.price.toFixed(2)]}),_.jsxs("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Color: ",te.color]}),_.jsxs("p",{className:`text-sm mb-4 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Size: ",te.size]}),_.jsx("button",{onClick:de=>{de.stopPropagation(),P.current=Date.now(),C(te)},className:"add-to-cart-button bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out w-full",children:"Add to Cart"})]},te.id))})]}):g?_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:U.map(te=>_.jsxs("div",{className:`p-4 border rounded-md shadow-md transition-all duration-300 ease-in-out hover:shadow-lg ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[_.jsx("img",{src:te.image,alt:te.name,className:"w-full h-48 object-cover rounded-md mb-4 transition-transform duration-300 ease-in-out hover:scale-105",onError:de=>{de.target.src="https://via.placeholder.com/80",console.error(`Failed to load image for ${te.name}`)}}),_.jsx("h3",{className:`text-lg font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:te.name}),_.jsx("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:te.description}),_.jsxs("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",te.price.toFixed(2)]}),_.jsxs("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Color: ",te.color]}),_.jsxs("p",{className:`text-sm mb-4 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Size: ",te.size]}),_.jsx("button",{onClick:de=>{de.stopPropagation(),P.current=Date.now(),C(te)},className:"add-to-cart-button bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out w-full",children:"Add to Cart"})]},te.id))}):l.map(te=>_.jsxs("div",{className:"mb-12",children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:te.name}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:A(h.filter(de=>de.categoryId===te.id)).map(de=>_.jsxs("div",{className:`p-4 border rounded-md shadow-md transition-all duration-300 ease-in-out hover:shadow-lg ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[_.jsx("img",{src:de.image,alt:de.name,className:"w-full h-48 object-cover rounded-md mb-4 transition-transform duration-300 ease-in-out hover:scale-105",onError:De=>{De.target.src="https://via.placeholder.com/80",console.error(`Failed to load image for ${de.name}`)}}),_.jsx("h3",{className:`text-lg font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:de.name}),_.jsx("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:de.description}),_.jsxs("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",de.price.toFixed(2)]}),_.jsxs("p",{className:`text-sm mb-2 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Color: ",de.color]}),_.jsxs("p",{className:`text-sm mb-4 transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["Size: ",de.size]}),_.jsx("button",{onClick:De=>{De.stopPropagation(),P.current=Date.now(),C(de)},className:"add-to-cart-button bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out w-full",children:"Add to Cart"})]},de.id))})]},te.id))]}),N&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"mini-cart-backdrop fixed inset-0 bg-black bg-opacity-50 z-40 active",onClick:te=>{te.stopPropagation(),console.log("Backdrop clicked, closing sidebar"),O(!1)}}),_.jsx("div",{className:`mini-cart-sidebar w-80 p-6 border-l shadow-lg h-screen fixed right-0 top-0 z-50 overflow-y-auto transition-transform duration-300 ease-in-out transform ${N?"translate-x-0":"translate-x-full"} ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:_.jsxs("div",{className:`mini-cart-content ${N?"active":""}`,children:[_.jsxs("div",{className:"flex justify-between items-center mb-6",children:[_.jsx("h2",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Your Cart"}),_.jsx("button",{onClick:te=>{te.stopPropagation(),console.log("Close button clicked, closing sidebar"),O(!1)},className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300 hover:text-red-400":"text-stone-600 hover:text-red-600"}`,children:"✕"})]}),!Array.isArray(e)||e.length===0?_.jsx("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"Your cart is empty."}):_.jsxs("div",{className:"space-y-4",children:[_.jsx(dh,{component:null,children:e.map(te=>_.jsx(ch,{timeout:300,classNames:"cart-item",children:_.jsxs("div",{className:`flex items-center gap-4 p-3 border rounded-md transition-all duration-300 ease-in-out ${t?"border-stone-600":"border-red-300"}`,children:[_.jsx("img",{src:te.image,alt:te.name,className:"w-16 h-16 object-cover rounded-md",onError:de=>{de.target.src="https://via.placeholder.com/80"}}),_.jsxs("div",{className:"flex-1",children:[_.jsx("p",{className:`text-sm font-medium transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:te.name}),_.jsxs("p",{className:`text-xs transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:["$",te.price.toFixed(2)," x ",te.quantity]}),_.jsx("div",{className:"flex items-center gap-2 mt-2",children:_.jsxs("div",{className:"flex items-center border-2 border-red-300 rounded-full px-2 py-1",children:[te.quantity===1?_.jsx("button",{onClick:de=>{de.stopPropagation(),s(te.id)},className:"text-red-600 hover:text-red-800 active:text-red-900 transition-all duration-300 ease-in-out",children:_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5-4h4M9 7h6m-5 4v6m4-6v6"})})}):_.jsx("button",{onClick:de=>{de.stopPropagation(),r(te.id,te.quantity-1)},className:"text-black px-2 py-1 rounded-full hover:bg-gray-200 active:bg-gray-300 transition-all duration-300 ease-in-out",children:"-"}),_.jsx("span",{className:`text-sm mx-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:te.quantity}),_.jsx("button",{onClick:de=>{de.stopPropagation(),r(te.id,te.quantity+1)},className:"text-black px-2 py-1 rounded-full hover:bg-gray-200 active:bg-gray-300 transition-all duration-300 ease-in-out",children:"+"})]})})]}),_.jsx("button",{onClick:de=>{de.stopPropagation(),s(te.id)},className:"text-red-600 hover:text-red-800 active:text-red-900 transition-colors duration-300 ease-in-out",children:"✕"})]})},te.id))}),_.jsxs("div",{className:"border-t pt-4 mt-4",children:[_.jsxs("p",{className:`text-lg font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:["Subtotal: $",a().toFixed(2)]}),_.jsx("button",{onClick:te=>{te.stopPropagation(),O(!1),T("/cart")},className:"w-full bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 active:bg-red-950 transition-all duration-300 ease-in-out mt-4",children:"Go to Cart"}),_.jsx("button",{onClick:te=>{te.stopPropagation(),O(!1),T("/cart")},className:"w-full bg-red-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-700 active:bg-red-800 transition-all duration-300 ease-in-out mt-2",children:"Proceed to Checkout"})]})]})]})})]})]})}function a3(){const{isDarkMode:t}=k.useContext(Lt),{cart:e,updateQuantity:n,removeFromCart:r,clearCart:s,getTotalPrice:a}=XC(),[l,c]=k.useState(!1),[h,p]=k.useState({name:"",email:"",address:""}),g=ys(),w=async x=>{if(x.preventDefault(),!h.name||!h.email||!h.address){alert("Please fill in all fields to proceed with checkout.");return}c(!0);try{const S={items:e,total:a(),customer:h,createdAt:new Date().toISOString(),status:"pending"};await Wm(hr(gt,"orders"),S),s(),alert("Order placed successfully! Thank you for your purchase."),g("/")}catch(S){console.error("Error placing order:",S),alert("Failed to place order. Please try again.")}finally{c(!1),p({name:"",email:"",address:""})}};return _.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[_.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Your Cart"}),e.length===0?_.jsxs("div",{className:"text-center",children:[_.jsx("p",{className:`text-lg mb-4 ${t?"text-stone-300":"text-stone-600"}`,children:"Your cart is empty."}),_.jsx("button",{onClick:()=>g("/products"),className:"bg-red-800 text-white px-6 py-3 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Shop Now"})]}):_.jsxs("div",{className:"space-y-8",children:[_.jsx("div",{className:"space-y-4",children:e.map(x=>_.jsxs("div",{className:`flex items-center gap-4 p-4 border rounded-md ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[_.jsx("img",{src:x.image,alt:x.name,className:"w-20 h-20 object-cover rounded-md",onError:S=>{S.target.src="https://via.placeholder.com/80"}}),_.jsxs("div",{className:"flex-1",children:[_.jsx("h3",{className:`text-lg font-medium ${t?"text-white":"text-red-600"}`,children:x.name}),_.jsxs("p",{className:`text-sm ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",x.price.toFixed(2)]}),_.jsxs("p",{className:`text-sm ${t?"text-stone-300":"text-stone-600"}`,children:["Subtotal: $",(x.price*x.quantity).toFixed(2)]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("button",{onClick:()=>n(x.id,x.quantity-1),className:"bg-gray-300 text-black px-2 py-1 rounded-md hover:bg-gray-400 transition-colors duration-300 ease-in-out",disabled:l,children:"-"}),_.jsx("span",{className:`text-lg ${t?"text-white":"text-red-600"}`,children:x.quantity}),_.jsx("button",{onClick:()=>n(x.id,x.quantity+1),className:"bg-gray-300 text-black px-2 py-1 rounded-md hover:bg-gray-400 transition-colors duration-300 ease-in-out",disabled:l,children:"+"})]}),_.jsx("button",{onClick:()=>r(x.id),className:"bg-red-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-red-700 transition-colors duration-300 ease-in-out",disabled:l,children:"Remove"})]},x.id))}),_.jsxs("div",{className:`p-6 border rounded-md ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-white":"text-red-600"}`,children:"Order Summary"}),_.jsxs("p",{className:`text-lg mb-4 ${t?"text-stone-300":"text-stone-600"}`,children:["Total: $",a().toFixed(2)]}),_.jsxs("form",{onSubmit:w,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-white":"text-red-600"}`,children:"Full Name"}),_.jsx("input",{type:"text",value:h.name,onChange:x=>p({...h,name:x.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"John Doe",disabled:l})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-white":"text-red-600"}`,children:"Email"}),_.jsx("input",{type:"email",value:h.email,onChange:x=>p({...h,email:x.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"john.doe@example.com",disabled:l})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 ${t?"text-white":"text-red-600"}`,children:"Shipping Address"}),_.jsx("textarea",{value:h.address,onChange:x=>p({...h,address:x.target.value}),required:!0,rows:"3",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"123 Main St, City, Country",disabled:l})]}),_.jsx("button",{type:"submit",className:`w-full px-4 py-2 rounded-md font-semibold transition-colors duration-300 ease-in-out ${l?"bg-gray-500 text-white cursor-not-allowed":"bg-red-800 text-white hover:bg-red-900"}`,disabled:l,children:l?"Processing...":"Place Order"})]})]})]})]})}const Qm=[{id:1,title:"Microbiome Basics",content:"Your gut contains over 100 trillion bacteria, with more than 1000 different species playing crucial roles in digestion, immunity, and overall health.",category:"Fundamentals"},{id:2,title:"Probiotics Matter",content:"Probiotics are live bacteria that can improve digestive health, boost immune function, and potentially help with mental health.",category:"Nutrition"},{id:3,title:"This means nothing to me",content:"This is all just filler crap",category:"Nutrition"},{id:4,title:"Worst for Gut Microbiome",content:["The following harm gut health (in order of severity):","• Stress: Elevates cortisol, disrupting gut flora and increasing permeability","• Glyphosate: Kills beneficial bacteria, feeds pathogenic ones","• Antibiotics: Kills good and bad bacteria; pair with spore-based probiotics to avoid yeast infections","• Seed Oils: Feed pathogenic bacteria, have a long half-life","• Refined Sugars: Feed harmful bacteria, promote dysbiosis","• Long-term Restrictive Diets: Reduce microbiome diversity","• Processed Foods: Contain antibiotics, glyphosate, and dyes that feed pathogenic bacteria and cancer cells"],category:"Gut Microbiome Education"},{id:5,title:"Types of Probiotics",content:`Key probiotic types include:
• Bacillus (subtilis, coagulans, clausii, indicus): Endospore-protected, survives gastric system and antibiotics, colonizes all gut areas, called 'next-generation probiotics'
• Lactobacillus (acidophilus, rhamnosus, reuteri, plantarum, casei, gasseri): Some strains survive gastric system, mainly colonize upper intestines
• Bifidobacterium (longum, infantis, bifidum, animalis, lactis): Doesn’t survive gastric system or antibiotics, functions in lower intestines; seek exopolysaccharide strains for dendritic cell communication
• Saccharomyces (boulardii, cerevisiae): Gram-positive yeast, survives antibiotics but not gastric system, aids antibiotic-associated diarrhea`,category:"Gut Microbiome Education"},{id:6,title:"Pillars of a Healthy Gut",content:`Build a resilient gut with:
• A nutrient-dense, diverse, unprocessed diet with prebiotics
• Healthy exercise, sleep, and an uplifting social life worth enjoying
• Sun exposure and skin contact with nature
• Research-backed, third-party-tested supplements tailored to your needs`,category:"Gut Microbiome Education"},{id:7,title:"Boosts Cognition",content:"A healthy gut strengthens your immune system and helps fight off infections.",category:"Benefits"},{id:8,title:"Improves Digestion",content:"Proper gut health aids digestion, prevents bloating, and reduces stomach discomfort.",category:"Benefits"},{id:9,title:"Enhances Mental Health",content:"Your gut and brain are connected—good gut health can help reduce anxiety and improve mood.",category:"Benefits"}];function Ym({title:t,content:e,footer:n,className:r}){const{isDarkMode:s}=k.useContext(Lt);return _.jsxs("div",{className:`p-4 border rounded-lg shadow-md ${s?"bg-stone-800 border-stone-700":"bg-white border-red-300"} ${r}`,children:[_.jsx("h3",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${s?"text-red-400":"text-red-800"}`,children:t}),e&&_.jsx("p",{className:`mt-2 transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:e}),n&&_.jsx("p",{className:`mt-2 text-sm transition-colors duration-300 ease-in-out ${s?"text-white":"text-red-600"}`,children:n})]})}function l3(){const{isDarkMode:t}=k.useContext(Lt);k.useEffect(()=>{});const e=Qm.filter(r=>r.category==="Benefits"),n=Qm.filter(r=>r.category!=="Benefits");return _.jsxs("div",{className:`container mx-auto px-4 py-8 min-h-screen flex flex-col ${t?"bg-stone-900":"bg-white"}`,children:[_.jsx("div",{className:"pt-16"}),_.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Understanding Gut Health"}),_.jsxs("section",{className:"mb-8 flex-grow",children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"What is Gut Health?"}),_.jsx("p",{className:`leading-relaxed transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Gut health refers to the balance and function of bacteria in the digestive system..."})]}),_.jsxs("section",{className:"py-12 px-6 flex-grow",children:[_.jsx("h2",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Why Gut Health Matters"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map(r=>_.jsx(Pr,{to:`/gut-health/${r.id}`,children:_.jsx(Ym,{title:r.title,content:r.content,className:"hover:shadow-lg transition-shadow duration-300 ease-in-out"})},r.id))})]}),_.jsxs("section",{className:"flex-grow",children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Gut Health Facts"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-4",children:n.map(r=>_.jsx(Pr,{to:`/gut-health/${r.id}`,children:_.jsx(Ym,{title:r.title,content:r.content,footer:`Category: ${r.category}`,className:`border-l-4 border-red-500 hover:shadow-lg transition-shadow duration-300 ease-in-out ${t?"bg-stone-800":"bg-stone-50"}`})},r.id))})]})]})}function u3(){const{id:t}=TE(),{isDarkMode:e}=k.useContext(Lt);ys();const n=Qm.find(r=>r.id.toString()===t);return n?_.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${e?"bg-stone-900":"bg-white"}`,children:[_.jsx("h1",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:n.title}),_.jsxs("p",{className:`mb-4 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:["Category: ",n.category]}),Array.isArray(n.content)?_.jsx("ul",{className:`text-lg mb-6 list-disc pl-6 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:n.content.map((r,s)=>_.jsx("li",{className:"mb-2",children:r},s))}):_.jsx("p",{className:`text-lg mb-6 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:n.content}),_.jsx(cr,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]}):_.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${e?"bg-stone-900":"bg-white"}`,children:[_.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:"Fact Not Found"}),_.jsx(cr,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]})}const c3=[{id:1,name:"Enterogermina",description:"spore-forming probiotic that survives antibiotics and stomach acids, promoting gut health and recovery.",price:"",category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"],url:"https://a.co/d/ePluKSI"},{id:2,name:"Just thrive probiotic",description:"Something here about the product",price:29.99,category:"Long Term",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:3,name:"Megasporebiotic",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]}];function d3(){const{isDarkMode:t}=k.useContext(Lt),[e,n]=k.useState([]),r=l=>n([...e,l]),s=l=>n(e.filter(c=>c.id!==l)),a=e.reduce((l,c)=>l+c.price,0);return _.jsxs("div",{className:"container mx-auto px-4 py-8",children:[_.jsx("h1",{className:`text-3xl font-bold mb-6 ${t?"text-green-300":"text-green-800"}`,children:"Purchase Gut Health Supplements"}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[_.jsxs("div",{children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-green-200":"text-green-700"}`,children:"Available Products"}),c3.map(l=>_.jsxs("div",{className:`border p-4 mb-4 rounded-lg flex justify-between items-center ${t?"border-gray-700 bg-gray-800":"border-gray-300 bg-white"}`,children:[_.jsxs("div",{children:[_.jsx("h3",{className:`font-bold ${t?"text-gray-300":"text-gray-800"}`,children:l.name}),_.jsxs("p",{className:`${t?"text-green-400":"text-green-700"}`,children:["$",l.price]})]}),_.jsx(cr,{onClick:()=>r(l),variant:"primary",children:"Add to Cart"})]},l.id))]}),_.jsxs("div",{children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-green-200":"text-green-700"}`,children:"Your Cart"}),e.length===0?_.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"}):_.jsxs(_.Fragment,{children:[e.map(l=>_.jsxs("div",{className:`flex justify-between items-center border-b py-2 ${t?"border-gray-700":"border-gray-300"}`,children:[_.jsx("span",{className:`${t?"text-gray-300":"text-gray-800"}`,children:l.name}),_.jsxs("div",{children:[_.jsxs("span",{className:`mr-4 ${t?"text-green-400":"text-green-700"}`,children:["$",l.price]}),_.jsx("button",{onClick:()=>s(l.id),className:"text-red-500 hover:text-red-600",children:"Remove"})]})]},l.id)),_.jsxs("div",{className:`mt-4 font-bold ${t?"text-green-300":"text-green-800"}`,children:["Total: $",a.toFixed(2)]}),_.jsx(cr,{className:"mt-4 w-full",variant:"primary",disabled:e.length===0,children:"Checkout"})]})]})]})]})}const h3=()=>{const{isDarkMode:t}=k.useContext(Lt),[e,n]=k.useState([]),[r,s]=k.useState(!0),[a,l]=k.useState(null);k.useEffect(()=>{(async()=>{try{const g=hr(gt,"content","blog","posts"),x=(await ms(g)).docs.map(S=>({id:S.id,title:S.data().title,blocks:S.data().blocks||[{type:"paragraph",content:""}],lastEdited:S.data().lastEdited||""}));if(console.log("Fetched blog posts:",x),x.length>0){const S=x.sort((R,L)=>{const N=R.lastEdited?new Date(R.lastEdited):new Date(0);return(L.lastEdited?new Date(L.lastEdited):new Date(0))-N});n(S)}else n([])}catch(g){console.error("Error fetching blog posts:",g),l("Failed to load blog posts: "+g.message),n([])}finally{s(!1)}})()},[]);const c=p=>p?new Date(p).toLocaleString([],{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}):"Never edited",h=p=>{if(!p.blocks||p.blocks.length===0)return"Read more...";const g=p.blocks.find(w=>w.type==="paragraph"||w.type==="list"||w.type==="bullet");return g?g.type==="paragraph"?g.content.split(" ").slice(0,15).join(" ")+"...":Array.isArray(g.content)?g.content[0]+(g.content.length>1?"...":""):"Read more...":"Read more..."};return r?_.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[_.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),_.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"Loading posts..."})]}):a?_.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[_.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),_.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:a})]}):_.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[_.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),e.length===0?_.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"No blog posts available yet. Check back soon!"}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(p=>_.jsx(Pr,{to:`/blog/${p.id}`,className:"block group",children:_.jsx(Ym,{title:p.title,footer:_.jsxs("span",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["Last Edited: ",c(p.lastEdited)]}),content:_.jsx("p",{className:`text-base transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:h(p)}),className:`p-6 rounded-lg shadow-md transition-all duration-300 ease-in-out ${t?"bg-stone-800 hover:bg-stone-700":"bg-white hover:bg-stone-100"} group-hover:shadow-lg`})},p.id))})]})},f3=()=>{const{id:t}=TE(),{isDarkMode:e}=k.useContext(Lt),[n,r]=k.useState(null);k.useEffect(()=>{(async()=>{const l=dr(gt,"content","blog","posts",t),c=await Sy(l);c.exists()?r({id:c.id,...c.data()}):r(null)})()},[t]);const s=a=>a?new Date(a).toLocaleString([],{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}):"Never edited";return n?_.jsx("div",{className:`min-h-screen container mx-auto px-6 py-12 ${e?"bg-stone-900":"bg-stone-50"}`,children:_.jsxs("div",{className:"max-w-3xl mx-auto",children:[_.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:n.title}),_.jsxs("p",{className:`text-lg mb-8 transition-colors duration-300 ease-in-out ${e?"text-stone-400":"text-stone-500"}`,children:["Last Edited: ",s(n.lastEdited)]}),_.jsx("div",{className:`prose prose-lg max-w-none transition-colors duration-300 ease-in-out ${e?"text-stone-200 prose-invert":"text-stone-700"}`,children:n.blocks&&n.blocks.length>0?n.blocks.map((a,l)=>_.jsx("div",{className:"mb-6",children:a.type==="paragraph"?_.jsx("p",{children:a.content}):a.type==="list"&&Array.isArray(a.content)?_.jsx("ol",{className:"list-decimal pl-6 space-y-2",children:a.content.map((c,h)=>_.jsx("li",{children:c},h))}):a.type==="bullet"&&Array.isArray(a.content)?_.jsx("ul",{className:"list-disc pl-6 space-y-2",children:a.content.map((c,h)=>_.jsx("li",{children:c},h))}):a.type==="image"&&a.content?_.jsx("img",{src:a.content,alt:"Blog content",className:"w-full max-w-md mx-auto rounded-lg shadow-md"}):a.type==="link"&&a.content.url?_.jsx(Pr,{to:a.content.url,target:"_blank",rel:"noopener noreferrer",className:`underline transition-colors duration-300 ease-in-out ${e?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-500"}`,children:a.content.text||a.content.url}):_.jsx("p",{className:"text-red-500",children:"Invalid block format"})},l)):_.jsx("p",{children:"No content available."})}),_.jsx(cr,{to:"/blog",variant:"primary",className:"mt-8 bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]})}):_.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${e?"bg-stone-900":"bg-stone-50"}`,children:[_.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:"Post Not Found"}),_.jsx(cr,{to:"/blog",variant:"primary",className:"bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]})},p3=[{question:"What is gut health?",answer:"Gut health refers to the balance of microorganisms in your digestive tract."},{question:"How can I improve my gut health?",answer:"Eating fiber-rich foods, fermented foods, and avoiding processed sugars can help."},{question:"What foods are good for gut health?",answer:"Fermented foods like yogurt, kimchi, and kefir, along with fiber-rich vegetables like broccoli and beans, are great for gut health."},{question:"Can stress affect gut health?",answer:"Yes, stress can alter the balance of gut bacteria and affect digestion, leading to issues like bloating or stomach discomfort."}];function m3(){const{isDarkMode:t}=k.useContext(Lt);return _.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[_.jsx("h1",{className:`text-4xl font-extrabold text-center mb-6 ${t?"text-green-300":"text-green-700"}`,children:"Frequently Asked Questions"}),_.jsx("div",{className:"space-y-4",children:p3.map((e,n)=>_.jsxs("details",{className:`group border p-4 rounded-lg shadow-md transition-all duration-300 ease-in-out ${t?"bg-gray-800 border-gray-700 text-gray-300":"bg-white border-gray-300 text-gray-800"}`,children:[_.jsxs("summary",{className:`cursor-pointer font-semibold text-lg flex justify-between items-center ${t?"group-open:text-green-400":"group-open:text-green-600"}`,children:[e.question,_.jsx("span",{className:"text-green-500 group-open:rotate-180 transition-transform duration-300",children:"▼"})]}),_.jsx("p",{className:"mt-2 text-gray-600",children:e.answer})]},n))})]})}class $u{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const g3=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},zt={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:g3()},By=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},y3=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=By(t);zt.publicKey=n.publicKey,zt.blockHeadless=n.blockHeadless,zt.storageProvider=n.storageProvider,zt.blockList=n.blockList,zt.limitRate=n.limitRate,zt.origin=n.origin||e},JC=async(t,e,n={})=>{const r=await fetch(zt.origin+t,{method:"POST",headers:n,body:e}),s=await r.text(),a=new $u(r.status,s);if(r.ok)return a;throw a},ZC=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},v3=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},eI=t=>t.webdriver||!t.languages||t.languages.length===0,tI=()=>new $u(451,"Unavailable For Headless Browser"),_3=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},w3=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},x3=(t,e)=>t instanceof FormData?t.get(e):t[e],nI=(t,e)=>{if(w3(t))return!1;_3(t.list,t.watchVariable);const n=x3(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},rI=()=>new $u(403,"Forbidden"),E3=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},T3=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},iI=async(t,e,n)=>{if(!e.throttle||!n)return!1;E3(e.throttle,e.id);const r=e.id||t;return await T3(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},sI=()=>new $u(429,"Too Many Requests"),b3=async(t,e,n,r)=>{const s=By(r),a=s.publicKey||zt.publicKey,l=s.blockHeadless||zt.blockHeadless,c=s.storageProvider||zt.storageProvider,h={...zt.blockList,...s.blockList},p={...zt.limitRate,...s.limitRate};return l&&eI(navigator)?Promise.reject(tI()):(ZC(a,t,e),v3(n),n&&nI(h,n)?Promise.reject(rI()):await iI(location.pathname,p,c)?Promise.reject(sI()):JC("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},S3=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},C3=t=>typeof t=="string"?document.querySelector(t):t,I3=async(t,e,n,r)=>{const s=By(r),a=s.publicKey||zt.publicKey,l=s.blockHeadless||zt.blockHeadless,c=zt.storageProvider||s.storageProvider,h={...zt.blockList,...s.blockList},p={...zt.limitRate,...s.limitRate};if(l&&eI(navigator))return Promise.reject(tI());const g=C3(n);ZC(a,t,e),S3(g);const w=new FormData(g);return nI(h,w)?Promise.reject(rI()):await iI(location.pathname,p,c)?Promise.reject(sI()):(w.append("lib_version","4.4.1"),w.append("service_id",t),w.append("template_id",e),w.append("user_id",a),JC("/api/v1.0/email/send-form",w))},A3={init:y3,send:b3,sendForm:I3,EmailJSResponseStatus:$u};function P3(){const{isDarkMode:t}=k.useContext(Lt),[e,n]=k.useState({name:"",email:"",message:""}),[r,s]=k.useState(""),a=c=>{const{name:h,value:p}=c.target;n(g=>({...g,[h]:p}))},l=c=>{c.preventDefault(),s("Sending..."),A3.send("service_abc123","template_xyz789",{from_name:e.name,from_email:e.email,message:e.message,to_email:"ThomasScales13@yahoo.com"},"user_123456").then(h=>{s("Thank you! Your inquiry has been sent."),n({name:"",email:"",message:""}),setTimeout(()=>s(""),3e3)},h=>{s("Failed to send message. Please try again."),console.error("EmailJS error:",h.text),setTimeout(()=>s(""),3e3)})};return _.jsx("div",{className:`min-h-screen py-12 px-4 ${t?"bg-stone-900":"bg-white"}`,children:_.jsxs("div",{className:"max-w-2xl mx-auto",children:[_.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Contact Us"}),_.jsx("p",{className:`mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Have any questions or inquiries? Fill out the form below, and we'll get back to you as soon as possible!"}),_.jsxs("form",{onSubmit:l,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"name",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Name"}),_.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:a,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your Name"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Email"}),_.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:a,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"your@email.com"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"message",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Message"}),_.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:a,required:!0,rows:"5",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your inquiry or message..."})]}),_.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Send Message"}),r&&_.jsx("p",{className:`mt-4 text-center transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:r})]})]})})}function R3(){const{isDarkMode:t}=k.useContext(Lt),[e,n]=k.useState(""),[r,s]=k.useState(""),[a,l]=k.useState(!1),[c,h]=k.useState(null),p=ys();k.useEffect(()=>{const x=Uh(mi,S=>{l(!!S)});return()=>x()},[]);const g=async x=>{x.preventDefault(),h(null);try{await B4(mi,e,r),l(!0)}catch(S){h("Failed to log in: "+S.message)}},w=async()=>{try{await $h(mi),l(!1),p("/admin")}catch(x){h("Failed to log out: "+x.message)}};return a?_.jsxs("div",{className:`min-h-screen flex flex-col items-center justify-center ${t?"bg-stone-900":"bg-white"}`,children:[_.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-8`,children:"Admin Dashboard"}),_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsx("button",{onClick:()=>p("/admin/home"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Edit Home Page Content"}),_.jsx("button",{onClick:()=>p("/admin/blog"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Manage Blog Posts"}),_.jsx("button",{onClick:()=>p("/admin/products"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Manage Products"}),_.jsx("button",{onClick:()=>p("/"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Home"}),_.jsx("button",{onClick:w,className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Log Out"})]})]}):_.jsx("div",{className:`min-h-screen flex items-center justify-center ${t?"bg-stone-900":"bg-white"}`,children:_.jsxs("div",{className:`p-6 ${t?"bg-stone-800":"bg-stone-100"} rounded shadow`,children:[_.jsx("h2",{className:`text-2xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-4`,children:"Admin Login"}),c&&_.jsx("p",{className:`text-red-500 mb-4 ${t?"text-red-400":"text-red-600"}`,children:c}),_.jsxs("form",{onSubmit:g,children:[_.jsx("div",{className:"mb-4",children:_.jsx("input",{type:"email",value:e,onChange:x=>n(x.target.value),className:`border p-2 w-full mb-4 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Enter email",required:!0})}),_.jsx("div",{className:"mb-4",children:_.jsx("input",{type:"password",value:r,onChange:x=>s(x.target.value),className:`border p-2 w-full mb-4 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Enter password",required:!0})}),_.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Login"})]})]})})}function k3(){const{isDarkMode:t}=k.useContext(Lt),[e,n]=k.useState([""]),[r,s]=k.useState(""),[a,l]=k.useState([""]),[c,h]=k.useState([""]),[p,g]=k.useState([]),[w,x]=k.useState(""),[S,R]=k.useState([""]),[L,N]=k.useState(null),O=ys();k.useEffect(()=>{const se=Uh(mi,J=>{J||O("/admin")});return()=>se()},[O]),k.useEffect(()=>{(async()=>{var J,le,Te,Me,ht,Rn,Br,qn;try{const Kn=dr(gt,"content","home"),zr=await Sy(Kn);if(zr.exists()){const Pt=zr.data();n((J=Pt.quotes)!=null&&J.length?Pt.quotes:[""]),s(((le=Pt.currentWorkout)==null?void 0:le.description)||""),l((Me=(Te=Pt.currentWorkout)==null?void 0:Te.warmup)!=null&&Me.length?Pt.currentWorkout.warmup:[""]),h((Rn=(ht=Pt.currentWorkout)==null?void 0:ht.main)!=null&&Rn.length?Pt.currentWorkout.main:[""]),g((Br=Pt.scheduledWorkouts)!=null&&Br.length?Pt.scheduledWorkouts.map(Wr=>({...Wr,warmup:Wr.warmup||[""],main:Wr.main||[""]})):[{description:"",warmup:[""],main:[""],updateDateTime:""}]),x(Pt.aboutUs||""),R((qn=Pt.dailyChallenges)!=null&&qn.length?Pt.dailyChallenges:[""])}}catch(Kn){N("Failed to load content: "+Kn.message)}})()},[]);const q=async()=>{N(null);const se={quotes:e.filter(J=>J.trim()!==""),currentWorkout:{description:r,warmup:a.filter(J=>J.trim()!==""),main:c.filter(J=>J.trim()!=="")},scheduledWorkouts:p.filter(J=>J.description.trim()&&(J.warmup.length>0||J.main.length>0)&&J.updateDateTime.trim()).map(J=>({description:J.description,warmup:J.warmup.filter(le=>le.trim()!==""),main:J.main.filter(le=>le.trim()!==""),updateDateTime:J.updateDateTime})),aboutUs:w.trim(),dailyChallenges:S.filter(J=>J.trim()!==""),lastUpdated:new Date().toISOString()};try{await Cy(dr(gt,"content","home"),se),alert("Home page content saved successfully!"),O("/admin")}catch(J){N("Error saving changes: "+J.message)}},B=async()=>{try{await $h(mi),O("/admin")}catch(se){N("Failed to log out: "+se.message)}},Y=()=>n([...e,""]),Q=se=>n(e.filter((J,le)=>le!==se)),$=(se,J)=>{const le=[...e];le[se]=J,n(le)},P=()=>l([...a,""]),T=se=>l(a.filter((J,le)=>le!==se)),C=(se,J)=>{const le=[...a];le[se]=J,l(le)},A=()=>h([...c,""]),M=se=>h(c.filter((J,le)=>le!==se)),U=(se,J)=>{const le=[...c];le[se]=J,h(le)},D=()=>g([...p,{description:"",warmup:[""],main:[""],updateDateTime:""}]),te=se=>g(p.filter((J,le)=>le!==se)),de=(se,J,le)=>{const Te=[...p];Te[se][J]=le,g(Te)},De=se=>{const J=[...p];J[se].warmup.push(""),g(J)},_e=(se,J)=>{const le=[...p];le[se].warmup=le[se].warmup.filter((Te,Me)=>Me!==J),g(le)},oe=(se,J,le)=>{const Te=[...p];Te[se].warmup[J]=le,g(Te)},fe=se=>{const J=[...p];J[se].main.push(""),g(J)},he=(se,J)=>{const le=[...p];le[se].main=le[se].main.filter((Te,Me)=>Me!==J),g(le)},z=(se,J,le)=>{const Te=[...p];Te[se].main[J]=le,g(Te)},Z=()=>R([...S,""]),xe=se=>R(S.filter((J,le)=>le!==se)),Ve=(se,J)=>{const le=[...S];le[se]=J,R(le)};return _.jsxs("div",{className:`min-h-screen p-6 ${t?"bg-stone-900":"bg-white"}`,children:[_.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-6`,children:"Edit Home Page Content"}),L&&_.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:L}),_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Quotes"}),e.map((se,J)=>_.jsxs("div",{className:"flex mb-2",children:[_.jsx("input",{type:"text",value:se,onChange:le=>$(J,le.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Quote ${J+1}`}),_.jsx("button",{onClick:()=>Q(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:e.length===1,children:"Remove"})]},J)),_.jsx("button",{onClick:Y,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Quote"})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"About Us"}),_.jsx("textarea",{value:w,onChange:se=>x(se.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"About Us text"})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Current Workout of the Day"}),_.jsx("textarea",{value:r,onChange:se=>s(se.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Current workout description"}),_.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-blue-300":"text-blue-600"} mt-4 mb-2`,children:"Warm Up Exercises"}),a.map((se,J)=>_.jsxs("div",{className:"flex mb-2",children:[_.jsx("input",{type:"text",value:se,onChange:le=>C(J,le.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Warm Up ${J+1}`}),_.jsx("button",{onClick:()=>T(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:a.length===1,children:"Remove"})]},`warmup-${J}`)),_.jsx("button",{onClick:P,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mb-4",children:"Add Warm Up Exercise"}),_.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mt-4 mb-2`,children:"Main Workout Exercises"}),c.map((se,J)=>_.jsxs("div",{className:"flex mb-2",children:[_.jsx("input",{type:"text",value:se,onChange:le=>U(J,le.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Main Exercise ${J+1}`}),_.jsx("button",{onClick:()=>M(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:c.length===1,children:"Remove"})]},`main-${J}`)),_.jsx("button",{onClick:A,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Main Exercise"})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Scheduled Workouts"}),p.map((se,J)=>_.jsxs("div",{className:`mb-4 border p-4 rounded ${t?"border-stone-600":"border-red-300"}`,children:[_.jsx("input",{type:"datetime-local",value:se.updateDateTime?se.updateDateTime.slice(0,16):"",onChange:le=>de(J,"updateDateTime",new Date(le.target.value).toISOString()),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Update Date and Time"}),_.jsx("textarea",{value:se.description,onChange:le=>de(J,"description",le.target.value),className:`border p-2 w-full h-24 mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Workout Description"}),_.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-blue-300":"text-blue-600"} mt-2 mb-2`,children:"Warm Up Exercises"}),se.warmup.map((le,Te)=>_.jsxs("div",{className:"flex mb-2",children:[_.jsx("input",{type:"text",value:le,onChange:Me=>oe(J,Te,Me.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Warm Up ${Te+1}`}),_.jsx("button",{onClick:()=>_e(J,Te),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:se.warmup.length===1,children:"Remove"})]},`warmup-${J}-${Te}`)),_.jsx("button",{onClick:()=>De(J),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mb-4",children:"Add Warm Up Exercise"}),_.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mt-2 mb-2`,children:"Main Workout Exercises"}),se.main.map((le,Te)=>_.jsxs("div",{className:"flex mb-2",children:[_.jsx("input",{type:"text",value:le,onChange:Me=>z(J,Te,Me.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Main Exercise ${Te+1}`}),_.jsx("button",{onClick:()=>he(J,Te),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:se.main.length===1,children:"Remove"})]},`main-${J}-${Te}`)),_.jsx("button",{onClick:()=>fe(J),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mr-2",children:"Add Main Exercise"}),_.jsx("button",{onClick:()=>te(J),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",disabled:p.length===1&&!p[0].description,children:"Remove Workout"})]},J)),_.jsx("button",{onClick:D,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Scheduled Workout"})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Daily Gut Health Challenges"}),S.map((se,J)=>_.jsxs("div",{className:"flex mb-2",children:[_.jsx("input",{type:"text",value:se,onChange:le=>Ve(J,le.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Challenge ${J+1}`}),_.jsx("button",{onClick:()=>xe(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:S.length===1,children:"Remove"})]},J)),_.jsx("button",{onClick:Z,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Challenge"})]}),_.jsx("button",{onClick:q,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Save Changes"}),_.jsx("button",{onClick:()=>O("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Back to Admin Dashboard"}),_.jsx("button",{onClick:B,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Log Out"})]})}function N3(){const{isDarkMode:t}=k.useContext(Lt),[e,n]=k.useState([]),[r,s]=k.useState(null),[a,l]=k.useState(null),c=ys();k.useEffect(()=>{const $=Uh(mi,P=>{P||c("/admin")});return()=>$()},[c]),k.useEffect(()=>{(async()=>{try{const P=hr(gt,"content","blog","posts"),A=(await ms(P)).docs.map(M=>({id:M.id,title:M.data().title||"",blocks:M.data().blocks||[{type:"paragraph",content:""}],lastEdited:M.data().lastEdited||""})).sort((M,U)=>{const D=M.lastEdited?new Date(M.lastEdited):new Date(0);return(U.lastEdited?new Date(U.lastEdited):new Date(0))-D});n(A.length?A:[{id:"",title:"",blocks:[{type:"paragraph",content:""}],lastEdited:""}])}catch(P){l("Failed to load blog posts: "+P.message)}})()},[]);const h=async()=>{l(null);try{const $=hr(gt,"content","blog","posts"),P=await ms($);for(const T of P.docs)await Pd(T.ref);for(const T of e)if(T.title.trim()&&T.blocks.some(C=>C.type==="paragraph"||C.type==="image"||C.type==="link"?C.content.trim():C.content.some(A=>A.trim()))){const C=T.id||Date.now().toString();await Cy(dr($,C),{id:C,title:T.title,blocks:T.blocks.map(A=>({type:A.type,content:A.type==="paragraph"||A.type==="image"?A.content:A.type==="link"?{url:A.content.url,text:A.content.text}:A.content.filter(M=>M.trim()!=="")})),lastEdited:T.lastEdited||new Date().toISOString()})}alert("Blog posts saved successfully!"),s(null),c("/admin")}catch($){l("Error saving blog posts: "+$.message)}},p=async()=>{try{await $h(mi),c("/admin")}catch($){l("Failed to log out: "+$.message)}},g=()=>{const $=[...e,{id:"",title:"",blocks:[{type:"paragraph",content:""}],lastEdited:new Date().toISOString()}];n($),s($.length-1)},w=$=>{const P=e.filter((T,C)=>C!==$);n(P),s(null)},x=($,P,T)=>{const C=[...e];C[$]={...C[$],[P]:T,lastEdited:new Date().toISOString()},n(C)},S=($,P)=>{const T=[...e];T[$].blocks.push({type:P,content:P==="paragraph"||P==="image"?"":P==="link"?{url:"",text:""}:[""]}),T[$].lastEdited=new Date().toISOString(),n(T)},R=($,P)=>{const T=[...e];T[$].blocks=T[$].blocks.filter((C,A)=>A!==P),T[$].lastEdited=new Date().toISOString(),n(T)},L=($,P,T)=>{const C=[...e];C[$].blocks[P]={type:T,content:T==="paragraph"||T==="image"?"":T==="link"?{url:"",text:""}:[""]},C[$].lastEdited=new Date().toISOString(),n(C)},N=($,P,T)=>{const C=[...e];C[$].blocks[P].content=T,C[$].lastEdited=new Date().toISOString(),n(C)},O=($,P,T,C)=>{const A=[...e];A[$].blocks[P].content[T]=C,A[$].lastEdited=new Date().toISOString(),n(A)},q=($,P)=>{const T=[...e];T[$].blocks[P].content.push(""),T[$].lastEdited=new Date().toISOString(),n(T)},B=($,P,T)=>{const C=[...e];C[$].blocks[P].content=C[$].blocks[P].content.filter((A,M)=>M!==T),C[$].lastEdited=new Date().toISOString(),n(C)},Y=($,P,T,C)=>{const A=[...e];A[$].blocks[P].content[T]=C,A[$].lastEdited=new Date().toISOString(),n(A)},Q=$=>$?new Date($).toLocaleString([],{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0}):"Never edited";return _.jsxs("div",{className:`min-h-screen p-6 ${t?"bg-stone-900":"bg-white"}`,children:[_.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-6`,children:"Manage Blog Posts"}),a&&_.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:a}),r===null?_.jsxs("div",{className:"mb-6",children:[e.length===0?_.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"No blog posts available. Add a new post to get started."}):_.jsx("div",{className:"grid gap-4",children:e.map(($,P)=>_.jsxs("div",{className:`p-4 border rounded cursor-pointer transition-all duration-300 ease-in-out hover:shadow-lg ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,onClick:()=>s(P),children:[_.jsx("h3",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:$.title||"Untitled Post"}),_.jsxs("p",{className:`text-sm italic transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["Last Edited: ",Q($.lastEdited)]})]},P))}),_.jsx("button",{onClick:g,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-4",children:"Add Blog Post"}),_.jsx("button",{onClick:()=>c("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-4 ml-4",children:"Back to Admin Dashboard"}),_.jsx("button",{onClick:p,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-4 ml-4",children:"Log Out"})]}):_.jsxs("div",{className:"mb-6",children:[_.jsxs("div",{className:`mb-4 border p-4 rounded ${t?"border-stone-600":"border-red-300"}`,children:[_.jsx("input",{type:"text",value:e[r].title,onChange:$=>x(r,"title",$.target.value),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Blog Title"}),_.jsxs("p",{className:`text-sm italic mb-4 transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["Last Edited:"," ",Q(e[r].lastEdited)]}),_.jsxs("div",{className:"mb-2",children:[_.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Content Blocks"}),e[r].blocks.map(($,P)=>_.jsxs("div",{className:"mb-4 border-t pt-2 mt-2 border-stone-400",children:[_.jsxs("div",{className:"flex items-center mb-2",children:[_.jsx("label",{className:`mr-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Block Type:"}),_.jsxs("select",{value:$.type,onChange:T=>L(r,P,T.target.value),className:`border p-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,children:[_.jsx("option",{value:"paragraph",children:"Paragraph"}),_.jsx("option",{value:"list",children:"Numbered List"}),_.jsx("option",{value:"bullet",children:"Bullet Points"}),_.jsx("option",{value:"image",children:"Image"}),_.jsx("option",{value:"link",children:"Link"})]}),_.jsx("button",{onClick:()=>R(r,P),className:"ml-2 bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:e[r].blocks.length===1,children:"Remove Block"})]}),$.type==="paragraph"?_.jsx("textarea",{value:$.content,onChange:T=>N(r,P,T.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Paragraph Content"}):$.type==="image"?_.jsxs("div",{className:"space-y-2",children:[_.jsx("input",{type:"text",value:$.content,onChange:T=>N(r,P,T.target.value),className:`border p-2 w-full ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Image URL (e.g., https://example.com/image.jpg)"}),$.content&&_.jsx("img",{src:$.content,alt:"Preview",className:"w-full max-w-xs rounded-lg shadow-md"})]}):$.type==="link"?_.jsxs("div",{className:"space-y-2",children:[_.jsx("input",{type:"text",value:$.content.url,onChange:T=>O(r,P,"url",T.target.value),className:`border p-2 w-full ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Link URL (e.g., https://example.com)"}),_.jsx("input",{type:"text",value:$.content.text,onChange:T=>O(r,P,"text",T.target.value),className:`border p-2 w-full ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Link Text (e.g., Click here)"})]}):_.jsxs("div",{children:[$.content.map((T,C)=>_.jsxs("div",{className:"flex mb-2",children:[_.jsx("input",{type:"text",value:T,onChange:A=>Y(r,P,C,A.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Item ${C+1}`}),_.jsx("button",{onClick:()=>B(r,P,C),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:e[r].blocks[P].content.length===1,children:"Remove"})]},C)),_.jsx("button",{onClick:()=>q(r,P),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add List Item"})]})]},P)),_.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[_.jsx("button",{onClick:()=>S(r,"paragraph"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Paragraph"}),_.jsx("button",{onClick:()=>S(r,"list"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Numbered List"}),_.jsx("button",{onClick:()=>S(r,"bullet"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Bullet Points"}),_.jsx("button",{onClick:()=>S(r,"image"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Image"}),_.jsx("button",{onClick:()=>S(r,"link"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Link"})]})]}),_.jsx("button",{onClick:()=>w(r),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mr-4",disabled:e.length===1,children:"Remove Post"}),_.jsx("button",{onClick:()=>s(null),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Back to List"})]}),_.jsx("button",{onClick:h,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Save Changes"}),_.jsx("button",{onClick:()=>c("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Back to Admin Dashboard"}),_.jsx("button",{onClick:p,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Log Out"})]})]})}function D3(){const{isDarkMode:t}=k.useContext(Lt),[e,n]=k.useState([]),[r,s]=k.useState([]),[a,l]=k.useState(""),[c,h]=k.useState({categoryId:"",name:"",price:"",description:"",image:null,color:"",size:""}),[p,g]=k.useState(null),[w,x]=k.useState(null),[S,R]=k.useState(null),L=ys();k.useEffect(()=>{const T=Uh(mi,C=>{C||L("/admin")});return()=>T()},[L]),k.useEffect(()=>{(async()=>{try{const A=(await ms(hr(gt,"categories"))).docs.map(D=>({id:D.id,...D.data()}));n(A);const U=(await ms(hr(gt,"products"))).docs.map(D=>({id:D.id,...D.data()}));s(U)}catch(C){R("Error fetching data from Firestore: "+C.message)}})()},[]);const N=async T=>{if(T.preventDefault(),!!a)try{const C=await Wm(hr(gt,"categories"),{name:a});n([...e,{id:C.id,name:a}]),l("")}catch(C){R("Error adding category: "+C.message)}},O=async T=>{try{const C=dr(gt,"categories",T.id);await Ux(C,{name:T.name}),n(e.map(A=>A.id===T.id?{...A,name:T.name}:A)),g(null)}catch(C){R("Error updating category: "+C.message)}},q=async T=>{try{await Pd(dr(gt,"categories",T)),n(e.filter(A=>A.id!==T));const C=r.filter(A=>A.categoryId===T);for(const A of C){if(A.image&&A.image!=="https://via.placeholder.com/80"){const M=A.image.split("/products%2F")[1].split("?")[0],U=Qp(Jp,`products/${decodeURIComponent(M)}`);await qx(U).catch(D=>{R(`Error deleting image for product ${A.id}: `+D.message)})}await Pd(dr(gt,"products",A.id))}s(r.filter(A=>A.categoryId!==T))}catch(C){R("Error deleting category: "+C.message)}},B=async T=>{if(!T)return null;const C=Qp(Jp,`products/${T.name}`);return await Uj(C,T),await $j(C)},Y=async T=>{if(T.preventDefault(),!(!c.categoryId||!c.name||!c.price))try{const C=await B(c.image),A=await Wm(hr(gt,"products"),{categoryId:c.categoryId,name:c.name,price:parseFloat(c.price),description:c.description||"No description available",image:C||"https://via.placeholder.com/80",color:c.color||"N/A",size:c.size||"N/A"});s([...r,{id:A.id,categoryId:c.categoryId,name:c.name,price:parseFloat(c.price),description:c.description||"No description available",image:C||"https://via.placeholder.com/80",color:c.color||"N/A",size:c.size||"N/A"}]),h({categoryId:"",name:"",price:"",description:"",image:null,color:"",size:""})}catch(C){R("Error adding product: "+C.message),alert("Failed to add product. Check Firebase Storage rules and ensure Storage is enabled.")}},Q=async T=>{try{const C=T.image instanceof File?await B(T.image):T.image,A=dr(gt,"products",T.id);await Ux(A,{categoryId:T.categoryId,name:T.name,price:parseFloat(T.price),description:T.description,image:C||"https://via.placeholder.com/80",color:T.color,size:T.size}),s(r.map(M=>M.id===T.id?{...M,categoryId:T.categoryId,name:T.name,price:parseFloat(T.price),description:T.description,image:C||"https://via.placeholder.com/80",color:T.color,size:T.size}:M)),x(null)}catch(C){R("Error updating product: "+C.message),alert("Failed to update product. Check Firebase Storage rules and ensure Storage is enabled.")}},$=async T=>{try{const C=r.find(A=>A.id===T);if(C.image&&C.image!=="https://via.placeholder.com/80"){const A=C.image.split("/products%2F")[1].split("?")[0],M=Qp(Jp,`products/${decodeURIComponent(A)}`);await qx(M).catch(U=>{R(`Error deleting image for product ${T}: `+U.message)})}await Pd(dr(gt,"products",T)),s(r.filter(A=>A.id!==T))}catch(C){R("Error deleting product: "+C.message)}},P=async()=>{try{await $h(mi),L("/admin")}catch(T){R("Failed to log out: "+T.message)}};return _.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[_.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Admin - Manage Products"}),S&&_.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:S}),_.jsxs("div",{className:"mb-12",children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Add New Category"}),_.jsxs("form",{onSubmit:N,className:"flex gap-4",children:[_.jsx("input",{type:"text",value:a,onChange:T=>l(T.target.value),placeholder:"Category Name",className:`flex-1 px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`}),_.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Category"})]})]}),_.jsxs("div",{className:"mb-12",children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Manage Categories"}),_.jsx("div",{className:"space-y-4",children:e.map(T=>_.jsx("div",{className:`p-4 border rounded-md ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:(p==null?void 0:p.id)===T.id?_.jsxs("div",{className:"flex gap-4",children:[_.jsx("input",{type:"text",value:p.name,onChange:C=>g({...p,name:C.target.value}),className:`flex-1 px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`}),_.jsx("button",{onClick:()=>O(p),className:"bg-green-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-green-700 transition-colors duration-300 ease-in-out",children:"Save"}),_.jsx("button",{onClick:()=>g(null),className:"bg-gray-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-gray-700 transition-colors duration-300 ease-in-out",children:"Cancel"})]}):_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("span",{className:`text-lg font-medium ${t?"text-white":"text-red-600"}`,children:T.name}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>g(T),className:"bg-blue-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-blue-700 transition-colors duration-300 ease-in-out",children:"Edit"}),_.jsx("button",{onClick:()=>q(T.id),className:"bg-red-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-red-700 transition-colors duration-300 ease-in-out",children:"Delete"})]})]})},T.id))})]}),_.jsxs("div",{className:"mb-12",children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Add New Product"}),_.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Category"}),_.jsxs("select",{value:c.categoryId,onChange:T=>h({...c,categoryId:T.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,children:[_.jsx("option",{value:"",children:"Select a category"}),e.map(T=>_.jsx("option",{value:T.id,children:T.name},T.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Name"}),_.jsx("input",{type:"text",value:c.name,onChange:T=>h({...c,name:T.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Product Name"})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Price"}),_.jsx("input",{type:"number",step:"0.01",value:c.price,onChange:T=>h({...c,price:T.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Price (e.g., 29.99)"})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Description"}),_.jsx("textarea",{value:c.description,onChange:T=>h({...c,description:T.target.value}),rows:"3",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-purple-300 text-purple-600 focus:ring-purple-500"}`,placeholder:"Product Description"})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Image"}),_.jsx("input",{type:"file",accept:"image/*",onChange:T=>h({...c,image:T.target.files[0]}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Color"}),_.jsx("input",{type:"text",value:c.color,onChange:T=>h({...c,color:T.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Color (optional)"})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Size"}),_.jsx("input",{type:"text",value:c.size,onChange:T=>h({...c,size:T.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Size (optional)"})]}),_.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Add Product"})]})]}),_.jsxs("div",{children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Manage Products"}),_.jsx("div",{className:"space-y-4",children:r.map(T=>{var C;return _.jsx("div",{className:`p-4 border rounded-md ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:(w==null?void 0:w.id)===T.id?_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Category"}),_.jsxs("select",{value:w.categoryId,onChange:A=>x({...w,categoryId:A.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,children:[_.jsx("option",{value:"",children:"Select a category"}),e.map(A=>_.jsx("option",{value:A.id,children:A.name},A.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Name"}),_.jsx("input",{type:"text",value:w.name,onChange:A=>x({...w,name:A.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Price"}),_.jsx("input",{type:"number",step:"0.01",value:w.price,onChange:A=>x({...w,price:A.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Description"}),_.jsx("textarea",{value:w.description,onChange:A=>x({...w,description:A.target.value}),rows:"3",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Image"}),_.jsx("input",{type:"file",accept:"image/*",onChange:A=>x({...w,image:A.target.files[0]}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`}),w.image&&typeof w.image=="string"&&_.jsx("img",{src:w.image,alt:"Current product",className:"w-32 h-32 object-cover mt-2 rounded-md"})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Color"}),_.jsx("input",{type:"text",value:w.color,onChange:A=>x({...w,color:A.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Size"}),_.jsx("input",{type:"text",value:w.size,onChange:A=>x({...w,size:A.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("button",{onClick:()=>Q(w),className:"bg-green-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-green-700 transition-colors duration-300 ease-in-out w-full",children:"Save"}),_.jsx("button",{onClick:()=>x(null),className:"bg-gray-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-gray-700 transition-colors duration-300 ease-in-out w-full",children:"Cancel"})]})]}):_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[T.image&&T.image!=="https://via.placeholder.com/80"&&_.jsx("img",{src:T.image,alt:T.name,className:"w-16 h-16 object-cover rounded-md"}),_.jsxs("div",{children:[_.jsx("span",{className:`text-lg font-medium ${t?"text-white":"text-red-600"}`,children:T.name}),_.jsxs("p",{className:`text-sm ${t?"text-stone-300":"text-stone-600"}`,children:["Category:"," ",((C=e.find(A=>A.id===T.categoryId))==null?void 0:C.name)||"Unknown"]}),_.jsxs("p",{className:`text-sm ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",T.price.toFixed(2)]})]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>x(T),className:"bg-blue-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-blue-700 transition-colors duration-300 ease-in-out",children:"Edit"}),_.jsx("button",{onClick:()=>$(T.id),className:"bg-red-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-red-700 transition-colors duration-300 ease-in-out",children:"Delete"})]})]})},T.id)})})]}),_.jsxs("div",{className:"mt-6 flex gap-4",children:[_.jsx("button",{onClick:()=>L("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Admin Dashboard"}),_.jsx("button",{onClick:P,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Log Out"})]})]})}var V3={};const Lt=k.createContext();function L3(){const[t,e]=k.useState(()=>{const s=localStorage.getItem("theme");return s?JSON.parse(s):!0});k.useEffect(()=>{localStorage.setItem("theme",JSON.stringify(t))},[t]);const n=()=>e(s=>!s),r=V3.REACT_APP_BASE_PATH||"/";return console.log("Basename:",r),_.jsx(s3,{children:_.jsx(Lt.Provider,{value:{isDarkMode:t,toggleTheme:n},children:_.jsx(VP,{basename:r,children:_.jsx(dh,{children:_.jsx(ch,{classNames:"fade",timeout:300,children:_.jsx(cP,{children:_.jsxs(Ut,{path:"/",element:_.jsx(lR,{}),children:[_.jsx(Ut,{index:!0,element:_.jsx(i3,{})}),_.jsx(Ut,{path:"products",element:_.jsx(o3,{})}),_.jsx(Ut,{path:"cart",element:_.jsx(a3,{})}),_.jsx(Ut,{path:"gut-health",element:_.jsx(l3,{})}),_.jsx(Ut,{path:"gut-health/:id",element:_.jsx(u3,{})}),_.jsx(Ut,{path:"purchase",element:_.jsx(d3,{})}),_.jsx(Ut,{path:"blog",element:_.jsx(h3,{})}),_.jsx(Ut,{path:"blog/:id",element:_.jsx(f3,{})}),_.jsx(Ut,{path:"faq",element:_.jsx(m3,{})}),_.jsx(Ut,{path:"contact",element:_.jsx(P3,{})}),_.jsx(Ut,{path:"admin",element:_.jsx(R3,{})}),_.jsx(Ut,{path:"admin/home",element:_.jsx(k3,{})}),_.jsx(Ut,{path:"admin/blog",element:_.jsx(N3,{})}),_.jsx(Ut,{path:"admin/products",element:_.jsx(D3,{})}),_.jsx(Ut,{path:"*",element:_.jsx("div",{children:"404 - Page Not Found"})})]})})},window.location.pathname)})})})})}console.log("Main.jsx is running");yA.createRoot(document.getElementById("root")).render(_.jsx(Wn.StrictMode,{children:_.jsx(L3,{})}));
