(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();function wp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zd={exports:{}},Ya={},ef={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function JS(){if(n0)return Ne;n0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.iterator;function w(H){return H===null||typeof H!="object"?null:(H=_&&H[_]||H["@@iterator"],typeof H=="function"?H:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,M={};function D(H,Z,ve){this.props=H,this.context=Z,this.refs=M,this.updater=ve||S}D.prototype.isReactComponent={},D.prototype.setState=function(H,Z){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,Z,"setState")},D.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function j(){}j.prototype=D.prototype;function $(H,Z,ve){this.props=H,this.context=Z,this.refs=M,this.updater=ve||S}var O=$.prototype=new j;O.constructor=$,P(O,D.prototype),O.isPureReactComponent=!0;var U=Array.isArray,z=Object.prototype.hasOwnProperty,X={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function A(H,Z,ve){var ie,J={},oe=null,xe=null;if(Z!=null)for(ie in Z.ref!==void 0&&(xe=Z.ref),Z.key!==void 0&&(oe=""+Z.key),Z)z.call(Z,ie)&&!I.hasOwnProperty(ie)&&(J[ie]=Z[ie]);var Re=arguments.length-2;if(Re===1)J.children=ve;else if(1<Re){for(var $e=Array(Re),lt=0;lt<Re;lt++)$e[lt]=arguments[lt+2];J.children=$e}if(H&&H.defaultProps)for(ie in Re=H.defaultProps,Re)J[ie]===void 0&&(J[ie]=Re[ie]);return{$$typeof:t,type:H,key:oe,ref:xe,props:J,_owner:X.current}}function b(H,Z){return{$$typeof:t,type:H.type,key:Z,ref:H.ref,props:H.props,_owner:H._owner}}function V(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function F(H){var Z={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(ve){return Z[ve]})}var W=/\/+/g;function R(H,Z){return typeof H=="object"&&H!==null&&H.key!=null?F(""+H.key):Z.toString(36)}function je(H,Z,ve,ie,J){var oe=typeof H;(oe==="undefined"||oe==="boolean")&&(H=null);var xe=!1;if(H===null)xe=!0;else switch(oe){case"string":case"number":xe=!0;break;case"object":switch(H.$$typeof){case t:case e:xe=!0}}if(xe)return xe=H,J=J(xe),H=ie===""?"."+R(xe,0):ie,U(J)?(ve="",H!=null&&(ve=H.replace(W,"$&/")+"/"),je(J,Z,ve,"",function(lt){return lt})):J!=null&&(V(J)&&(J=b(J,ve+(!J.key||xe&&xe.key===J.key?"":(""+J.key).replace(W,"$&/")+"/")+H)),Z.push(J)),1;if(xe=0,ie=ie===""?".":ie+":",U(H))for(var Re=0;Re<H.length;Re++){oe=H[Re];var $e=ie+R(oe,Re);xe+=je(oe,Z,ve,$e,J)}else if($e=w(H),typeof $e=="function")for(H=$e.call(H),Re=0;!(oe=H.next()).done;)oe=oe.value,$e=ie+R(oe,Re++),xe+=je(oe,Z,ve,$e,J);else if(oe==="object")throw Z=String(H),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return xe}function et(H,Z,ve){if(H==null)return H;var ie=[],J=0;return je(H,ie,"","",function(oe){return Z.call(ve,oe,J++)}),ie}function Ke(H){if(H._status===-1){var Z=H._result;Z=Z(),Z.then(function(ve){(H._status===0||H._status===-1)&&(H._status=1,H._result=ve)},function(ve){(H._status===0||H._status===-1)&&(H._status=2,H._result=ve)}),H._status===-1&&(H._status=0,H._result=Z)}if(H._status===1)return H._result.default;throw H._result}var Ce={current:null},ae={transition:null},ge={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:ae,ReactCurrentOwner:X};function ce(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:et,forEach:function(H,Z,ve){et(H,function(){Z.apply(this,arguments)},ve)},count:function(H){var Z=0;return et(H,function(){Z++}),Z},toArray:function(H){return et(H,function(Z){return Z})||[]},only:function(H){if(!V(H))throw Error("React.Children.only expected to receive a single React element child.");return H}},Ne.Component=D,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=$,Ne.StrictMode=i,Ne.Suspense=f,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ne.act=ce,Ne.cloneElement=function(H,Z,ve){if(H==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+H+".");var ie=P({},H.props),J=H.key,oe=H.ref,xe=H._owner;if(Z!=null){if(Z.ref!==void 0&&(oe=Z.ref,xe=X.current),Z.key!==void 0&&(J=""+Z.key),H.type&&H.type.defaultProps)var Re=H.type.defaultProps;for($e in Z)z.call(Z,$e)&&!I.hasOwnProperty($e)&&(ie[$e]=Z[$e]===void 0&&Re!==void 0?Re[$e]:Z[$e])}var $e=arguments.length-2;if($e===1)ie.children=ve;else if(1<$e){Re=Array($e);for(var lt=0;lt<$e;lt++)Re[lt]=arguments[lt+2];ie.children=Re}return{$$typeof:t,type:H.type,key:J,ref:oe,props:ie,_owner:xe}},Ne.createContext=function(H){return H={$$typeof:u,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},H.Provider={$$typeof:a,_context:H},H.Consumer=H},Ne.createElement=A,Ne.createFactory=function(H){var Z=A.bind(null,H);return Z.type=H,Z},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(H){return{$$typeof:h,render:H}},Ne.isValidElement=V,Ne.lazy=function(H){return{$$typeof:y,_payload:{_status:-1,_result:H},_init:Ke}},Ne.memo=function(H,Z){return{$$typeof:p,type:H,compare:Z===void 0?null:Z}},Ne.startTransition=function(H){var Z=ae.transition;ae.transition={};try{H()}finally{ae.transition=Z}},Ne.unstable_act=ce,Ne.useCallback=function(H,Z){return Ce.current.useCallback(H,Z)},Ne.useContext=function(H){return Ce.current.useContext(H)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(H){return Ce.current.useDeferredValue(H)},Ne.useEffect=function(H,Z){return Ce.current.useEffect(H,Z)},Ne.useId=function(){return Ce.current.useId()},Ne.useImperativeHandle=function(H,Z,ve){return Ce.current.useImperativeHandle(H,Z,ve)},Ne.useInsertionEffect=function(H,Z){return Ce.current.useInsertionEffect(H,Z)},Ne.useLayoutEffect=function(H,Z){return Ce.current.useLayoutEffect(H,Z)},Ne.useMemo=function(H,Z){return Ce.current.useMemo(H,Z)},Ne.useReducer=function(H,Z,ve){return Ce.current.useReducer(H,Z,ve)},Ne.useRef=function(H){return Ce.current.useRef(H)},Ne.useState=function(H){return Ce.current.useState(H)},Ne.useSyncExternalStore=function(H,Z,ve){return Ce.current.useSyncExternalStore(H,Z,ve)},Ne.useTransition=function(){return Ce.current.useTransition()},Ne.version="18.3.1",Ne}var r0;function Ep(){return r0||(r0=1,ef.exports=JS()),ef.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function ZS(){if(i0)return Ya;i0=1;var t=Ep(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(h,f,p){var y,_={},w=null,S=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(S=f.ref);for(y in f)i.call(f,y)&&!a.hasOwnProperty(y)&&(_[y]=f[y]);if(h&&h.defaultProps)for(y in f=h.defaultProps,f)_[y]===void 0&&(_[y]=f[y]);return{$$typeof:e,type:h,key:w,ref:S,props:_,_owner:o.current}}return Ya.Fragment=n,Ya.jsx=u,Ya.jsxs=u,Ya}var s0;function eC(){return s0||(s0=1,Zd.exports=ZS()),Zd.exports}var E=eC(),k=Ep();const Mn=wp(k);var ac={},tf={exports:{}},ln={},nf={exports:{}},rf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o0;function tC(){return o0||(o0=1,function(t){function e(ae,ge){var ce=ae.length;ae.push(ge);e:for(;0<ce;){var H=ce-1>>>1,Z=ae[H];if(0<o(Z,ge))ae[H]=ge,ae[ce]=Z,ce=H;else break e}}function n(ae){return ae.length===0?null:ae[0]}function i(ae){if(ae.length===0)return null;var ge=ae[0],ce=ae.pop();if(ce!==ge){ae[0]=ce;e:for(var H=0,Z=ae.length,ve=Z>>>1;H<ve;){var ie=2*(H+1)-1,J=ae[ie],oe=ie+1,xe=ae[oe];if(0>o(J,ce))oe<Z&&0>o(xe,J)?(ae[H]=xe,ae[oe]=ce,H=oe):(ae[H]=J,ae[ie]=ce,H=ie);else if(oe<Z&&0>o(xe,ce))ae[H]=xe,ae[oe]=ce,H=oe;else break e}}return ge}function o(ae,ge){var ce=ae.sortIndex-ge.sortIndex;return ce!==0?ce:ae.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],p=[],y=1,_=null,w=3,S=!1,P=!1,M=!1,D=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function O(ae){for(var ge=n(p);ge!==null;){if(ge.callback===null)i(p);else if(ge.startTime<=ae)i(p),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=n(p)}}function U(ae){if(M=!1,O(ae),!P)if(n(f)!==null)P=!0,Ke(z);else{var ge=n(p);ge!==null&&Ce(U,ge.startTime-ae)}}function z(ae,ge){P=!1,M&&(M=!1,j(A),A=-1),S=!0;var ce=w;try{for(O(ge),_=n(f);_!==null&&(!(_.expirationTime>ge)||ae&&!F());){var H=_.callback;if(typeof H=="function"){_.callback=null,w=_.priorityLevel;var Z=H(_.expirationTime<=ge);ge=t.unstable_now(),typeof Z=="function"?_.callback=Z:_===n(f)&&i(f),O(ge)}else i(f);_=n(f)}if(_!==null)var ve=!0;else{var ie=n(p);ie!==null&&Ce(U,ie.startTime-ge),ve=!1}return ve}finally{_=null,w=ce,S=!1}}var X=!1,I=null,A=-1,b=5,V=-1;function F(){return!(t.unstable_now()-V<b)}function W(){if(I!==null){var ae=t.unstable_now();V=ae;var ge=!0;try{ge=I(!0,ae)}finally{ge?R():(X=!1,I=null)}}else X=!1}var R;if(typeof $=="function")R=function(){$(W)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,et=je.port2;je.port1.onmessage=W,R=function(){et.postMessage(null)}}else R=function(){D(W,0)};function Ke(ae){I=ae,X||(X=!0,R())}function Ce(ae,ge){A=D(function(){ae(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_continueExecution=function(){P||S||(P=!0,Ke(z))},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(ae){switch(w){case 1:case 2:case 3:var ge=3;break;default:ge=w}var ce=w;w=ge;try{return ae()}finally{w=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ae,ge){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ce=w;w=ae;try{return ge()}finally{w=ce}},t.unstable_scheduleCallback=function(ae,ge,ce){var H=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?H+ce:H):ce=H,ae){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ce+Z,ae={id:y++,callback:ge,priorityLevel:ae,startTime:ce,expirationTime:Z,sortIndex:-1},ce>H?(ae.sortIndex=ce,e(p,ae),n(f)===null&&ae===n(p)&&(M?(j(A),A=-1):M=!0,Ce(U,ce-H))):(ae.sortIndex=Z,e(f,ae),P||S||(P=!0,Ke(z))),ae},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(ae){var ge=w;return function(){var ce=w;w=ge;try{return ae.apply(this,arguments)}finally{w=ce}}}}(rf)),rf}var a0;function nC(){return a0||(a0=1,nf.exports=tC()),nf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l0;function rC(){if(l0)return ln;l0=1;var t=Ep(),e=nC();function n(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,l=1;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function a(r,s){u(r,s),u(r+"Capture",s)}function u(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},_={};function w(r){return f.call(_,r)?!0:f.call(y,r)?!1:p.test(r)?_[r]=!0:(y[r]=!0,!1)}function S(r,s,l,d){if(l!==null&&l.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return d?!1:l!==null?!l.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function P(r,s,l,d){if(s===null||typeof s>"u"||S(r,s,l,d))return!0;if(d)return!1;if(l!==null)switch(l.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function M(r,s,l,d,m,v,T){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=d,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=r,this.type=s,this.sanitizeURL=v,this.removeEmptyString=T}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){D[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];D[s]=new M(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){D[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){D[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){D[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){D[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){D[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){D[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){D[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function $(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(j,$);D[s]=new M(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(j,$);D[s]=new M(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(j,$);D[s]=new M(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){D[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),D.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){D[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function O(r,s,l,d){var m=D.hasOwnProperty(s)?D[s]:null;(m!==null?m.type!==0:d||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(P(s,l,m,d)&&(l=null),d||m===null?w(s)&&(l===null?r.removeAttribute(s):r.setAttribute(s,""+l)):m.mustUseProperty?r[m.propertyName]=l===null?m.type===3?!1:"":l:(s=m.attributeName,d=m.attributeNamespace,l===null?r.removeAttribute(s):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,d?r.setAttributeNS(d,s,l):r.setAttribute(s,l))))}var U=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),X=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),F=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),je=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),ae=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=ae&&r[ae]||r["@@iterator"],typeof r=="function"?r:null)}var ce=Object.assign,H;function Z(r){if(H===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);H=s&&s[1]||""}return`
`+H+r}var ve=!1;function ie(r,s){if(!r||ve)return"";ve=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Q){var d=Q}Reflect.construct(r,[],s)}else{try{s.call()}catch(Q){d=Q}r.call(s.prototype)}else{try{throw Error()}catch(Q){d=Q}r()}}catch(Q){if(Q&&d&&typeof Q.stack=="string"){for(var m=Q.stack.split(`
`),v=d.stack.split(`
`),T=m.length-1,N=v.length-1;1<=T&&0<=N&&m[T]!==v[N];)N--;for(;1<=T&&0<=N;T--,N--)if(m[T]!==v[N]){if(T!==1||N!==1)do if(T--,N--,0>N||m[T]!==v[N]){var L=`
`+m[T].replace(" at new "," at ");return r.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",r.displayName)),L}while(1<=T&&0<=N);break}}}finally{ve=!1,Error.prepareStackTrace=l}return(r=r?r.displayName||r.name:"")?Z(r):""}function J(r){switch(r.tag){case 5:return Z(r.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return r=ie(r.type,!1),r;case 11:return r=ie(r.type.render,!1),r;case 1:return r=ie(r.type,!0),r;default:return""}}function oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case I:return"Fragment";case X:return"Portal";case b:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case je:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case F:return(r.displayName||"Context")+".Consumer";case V:return(r._context.displayName||"Context")+".Provider";case W:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case et:return s=r.displayName||null,s!==null?s:oe(r.type)||"Memo";case Ke:s=r._payload,r=r._init;try{return oe(r(s))}catch{}}return null}function xe(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(s);case 8:return s===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Re(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function $e(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function lt(r){var s=$e(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),d=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return m.call(this)},set:function(T){d=""+T,v.call(this,T)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return d},setValue:function(T){d=""+T},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function xn(r){r._valueTracker||(r._valueTracker=lt(r))}function Ar(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),d="";return r&&(d=$e(r)?r.checked?"true":"false":r.value),r=d,r!==l?(s.setValue(r),!0):!1}function wn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function tr(r,s){var l=s.checked;return ce({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??r._wrapperState.initialChecked})}function gt(r,s){var l=s.defaultValue==null?"":s.defaultValue,d=s.checked!=null?s.checked:s.defaultChecked;l=Re(s.value!=null?s.value:l),r._wrapperState={initialChecked:d,initialValue:l,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Pr(r,s){s=s.checked,s!=null&&O(r,"checked",s,!1)}function ia(r,s){Pr(r,s);var l=Re(s.value),d=s.type;if(l!=null)d==="number"?(l===0&&r.value===""||r.value!=l)&&(r.value=""+l):r.value!==""+l&&(r.value=""+l);else if(d==="submit"||d==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Ms(r,s.type,l):s.hasOwnProperty("defaultValue")&&Ms(r,s.type,Re(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function Gl(r,s,l){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var d=s.type;if(!(d!=="submit"&&d!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,l||s===r.value||(r.value=s),r.defaultValue=s}l=r.name,l!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,l!==""&&(r.name=l)}function Ms(r,s,l){(s!=="number"||wn(r.ownerDocument)!==r)&&(l==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+l&&(r.defaultValue=""+l))}var br=Array.isArray;function Ir(r,s,l,d){if(r=r.options,s){s={};for(var m=0;m<l.length;m++)s["$"+l[m]]=!0;for(l=0;l<r.length;l++)m=s.hasOwnProperty("$"+r[l].value),r[l].selected!==m&&(r[l].selected=m),m&&d&&(r[l].defaultSelected=!0)}else{for(l=""+Re(l),s=null,m=0;m<r.length;m++){if(r[m].value===l){r[m].selected=!0,d&&(r[m].defaultSelected=!0);return}s!==null||r[m].disabled||(s=r[m])}s!==null&&(s.selected=!0)}}function sa(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Ls(r,s){var l=s.value;if(l==null){if(l=s.children,s=s.defaultValue,l!=null){if(s!=null)throw Error(n(92));if(br(l)){if(1<l.length)throw Error(n(93));l=l[0]}s=l}s==null&&(s=""),l=s}r._wrapperState={initialValue:Re(l)}}function Os(r,s){var l=Re(s.value),d=Re(s.defaultValue);l!=null&&(l=""+l,l!==r.value&&(r.value=l),s.defaultValue==null&&r.defaultValue!==l&&(r.defaultValue=l)),d!=null&&(r.defaultValue=""+d)}function oa(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function yt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?yt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Rr,aa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,l,d,m){MSApp.execUnsafeLocalFunction(function(){return r(s,l,d,m)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Rr=Rr||document.createElement("div"),Rr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Rr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function ti(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hi=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(r){Hi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Wi[s]=Wi[r]})});function la(r,s,l){return s==null||typeof s=="boolean"||s===""?"":l||typeof s!="number"||s===0||Wi.hasOwnProperty(r)&&Wi[r]?(""+s).trim():s+"px"}function ua(r,s){r=r.style;for(var l in s)if(s.hasOwnProperty(l)){var d=l.indexOf("--")===0,m=la(l,s[l],d);l==="float"&&(l="cssFloat"),d?r.setProperty(l,m):r[l]=m}}var ca=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ha(r,s){if(s){if(ca[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(n(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(n(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(n(61))}if(s.style!=null&&typeof s.style!="object")throw Error(n(62))}}function da(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gi=null;function js(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Fs=null,En=null,nr=null;function Bs(r){if(r=La(r)){if(typeof Fs!="function")throw Error(n(280));var s=r.stateNode;s&&(s=Eu(s),Fs(r.stateNode,r.type,s))}}function rr(r){En?nr?nr.push(r):nr=[r]:En=r}function fa(){if(En){var r=En,s=nr;if(nr=En=null,Bs(r),s)for(r=0;r<s.length;r++)Bs(s[r])}}function qi(r,s){return r(s)}function pa(){}var kr=!1;function ma(r,s,l){if(kr)return r(s,l);kr=!0;try{return qi(r,s,l)}finally{kr=!1,(En!==null||nr!==null)&&(pa(),fa())}}function ut(r,s){var l=r.stateNode;if(l===null)return null;var d=Eu(l);if(d===null)return null;l=d[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(d=!d.disabled)||(r=r.type,d=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!d;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var Us=!1;if(h)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){Us=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{Us=!1}function Ki(r,s,l,d,m,v,T,N,L){var Q=Array.prototype.slice.call(arguments,3);try{s.apply(l,Q)}catch(ne){this.onError(ne)}}var Qi=!1,$s=null,On=!1,ga=null,Ph={onError:function(r){Qi=!0,$s=r}};function zs(r,s,l,d,m,v,T,N,L){Qi=!1,$s=null,Ki.apply(Ph,arguments)}function ql(r,s,l,d,m,v,T,N,L){if(zs.apply(this,arguments),Qi){if(Qi){var Q=$s;Qi=!1,$s=null}else throw Error(n(198));On||(On=!0,ga=Q)}}function jn(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function Xi(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Fn(r){if(jn(r)!==r)throw Error(n(188))}function Kl(r){var s=r.alternate;if(!s){if(s=jn(r),s===null)throw Error(n(188));return s!==r?null:r}for(var l=r,d=s;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(d=m.return,d!==null){l=d;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return Fn(m),r;if(v===d)return Fn(m),s;v=v.sibling}throw Error(n(188))}if(l.return!==d.return)l=m,d=v;else{for(var T=!1,N=m.child;N;){if(N===l){T=!0,l=m,d=v;break}if(N===d){T=!0,d=m,l=v;break}N=N.sibling}if(!T){for(N=v.child;N;){if(N===l){T=!0,l=v,d=m;break}if(N===d){T=!0,d=v,l=m;break}N=N.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==d)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?r:s}function ya(r){return r=Kl(r),r!==null?Ws(r):null}function Ws(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Ws(r);if(s!==null)return s;r=r.sibling}return null}var Hs=e.unstable_scheduleCallback,va=e.unstable_cancelCallback,Ql=e.unstable_shouldYield,bh=e.unstable_requestPaint,He=e.unstable_now,Xl=e.unstable_getCurrentPriorityLevel,Yi=e.unstable_ImmediatePriority,ni=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,_a=e.unstable_LowPriority,Yl=e.unstable_IdlePriority,Ji=null,hn=null;function Jl(r){if(hn&&typeof hn.onCommitFiberRoot=="function")try{hn.onCommitFiberRoot(Ji,r,void 0,(r.current.flags&128)===128)}catch{}}var Kt=Math.clz32?Math.clz32:eu,xa=Math.log,Zl=Math.LN2;function eu(r){return r>>>=0,r===0?32:31-(xa(r)/Zl|0)|0}var Gs=64,qs=4194304;function ri(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Zi(r,s){var l=r.pendingLanes;if(l===0)return 0;var d=0,m=r.suspendedLanes,v=r.pingedLanes,T=l&268435455;if(T!==0){var N=T&~m;N!==0?d=ri(N):(v&=T,v!==0&&(d=ri(v)))}else T=l&~m,T!==0?d=ri(T):v!==0&&(d=ri(v));if(d===0)return 0;if(s!==0&&s!==d&&!(s&m)&&(m=d&-d,v=s&-s,m>=v||m===16&&(v&4194240)!==0))return s;if(d&4&&(d|=l&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=d;0<s;)l=31-Kt(s),m=1<<l,d|=r[l],s&=~m;return d}function Ih(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nr(r,s){for(var l=r.suspendedLanes,d=r.pingedLanes,m=r.expirationTimes,v=r.pendingLanes;0<v;){var T=31-Kt(v),N=1<<T,L=m[T];L===-1?(!(N&l)||N&d)&&(m[T]=Ih(N,s)):L<=s&&(r.expiredLanes|=N),v&=~N}}function dn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function es(){var r=Gs;return Gs<<=1,!(Gs&4194240)&&(Gs=64),r}function ii(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function si(r,s,l){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-Kt(s),r[s]=l}function We(r,s){var l=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var d=r.eventTimes;for(r=r.expirationTimes;0<l;){var m=31-Kt(l),v=1<<m;s[m]=0,d[m]=-1,r[m]=-1,l&=~v}}function oi(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var d=31-Kt(l),m=1<<d;m&s|r[d]&s&&(r[d]|=s),l&=~m}}var Ve=0;function ai(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var tu,Ks,nu,ru,iu,wa=!1,ir=[],Rt=null,Bn=null,Un=null,li=new Map,Sn=new Map,sr=[],Rh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function su(r,s){switch(r){case"focusin":case"focusout":Rt=null;break;case"dragenter":case"dragleave":Bn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":li.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sn.delete(s.pointerId)}}function en(r,s,l,d,m,v){return r===null||r.nativeEvent!==v?(r={blockedOn:s,domEventName:l,eventSystemFlags:d,nativeEvent:v,targetContainers:[m]},s!==null&&(s=La(s),s!==null&&Ks(s)),r):(r.eventSystemFlags|=d,s=r.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),r)}function kh(r,s,l,d,m){switch(s){case"focusin":return Rt=en(Rt,r,s,l,d,m),!0;case"dragenter":return Bn=en(Bn,r,s,l,d,m),!0;case"mouseover":return Un=en(Un,r,s,l,d,m),!0;case"pointerover":var v=m.pointerId;return li.set(v,en(li.get(v)||null,r,s,l,d,m)),!0;case"gotpointercapture":return v=m.pointerId,Sn.set(v,en(Sn.get(v)||null,r,s,l,d,m)),!0}return!1}function ou(r){var s=ss(r.target);if(s!==null){var l=jn(s);if(l!==null){if(s=l.tag,s===13){if(s=Xi(l),s!==null){r.blockedOn=s,iu(r.priority,function(){nu(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Dr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=Qs(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(l===null){l=r.nativeEvent;var d=new l.constructor(l.type,l);Gi=d,l.target.dispatchEvent(d),Gi=null}else return s=La(l),s!==null&&Ks(s),r.blockedOn=l,!1;s.shift()}return!0}function ts(r,s,l){Dr(r)&&l.delete(s)}function au(){wa=!1,Rt!==null&&Dr(Rt)&&(Rt=null),Bn!==null&&Dr(Bn)&&(Bn=null),Un!==null&&Dr(Un)&&(Un=null),li.forEach(ts),Sn.forEach(ts)}function $n(r,s){r.blockedOn===s&&(r.blockedOn=null,wa||(wa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,au)))}function zn(r){function s(m){return $n(m,r)}if(0<ir.length){$n(ir[0],r);for(var l=1;l<ir.length;l++){var d=ir[l];d.blockedOn===r&&(d.blockedOn=null)}}for(Rt!==null&&$n(Rt,r),Bn!==null&&$n(Bn,r),Un!==null&&$n(Un,r),li.forEach(s),Sn.forEach(s),l=0;l<sr.length;l++)d=sr[l],d.blockedOn===r&&(d.blockedOn=null);for(;0<sr.length&&(l=sr[0],l.blockedOn===null);)ou(l),l.blockedOn===null&&sr.shift()}var Vr=U.ReactCurrentBatchConfig,ui=!0;function Ye(r,s,l,d){var m=Ve,v=Vr.transition;Vr.transition=null;try{Ve=1,Ea(r,s,l,d)}finally{Ve=m,Vr.transition=v}}function Nh(r,s,l,d){var m=Ve,v=Vr.transition;Vr.transition=null;try{Ve=4,Ea(r,s,l,d)}finally{Ve=m,Vr.transition=v}}function Ea(r,s,l,d){if(ui){var m=Qs(r,s,l,d);if(m===null)zh(r,s,d,ns,l),su(r,d);else if(kh(m,r,s,l,d))d.stopPropagation();else if(su(r,d),s&4&&-1<Rh.indexOf(r)){for(;m!==null;){var v=La(m);if(v!==null&&tu(v),v=Qs(r,s,l,d),v===null&&zh(r,s,d,ns,l),v===m)break;m=v}m!==null&&d.stopPropagation()}else zh(r,s,d,null,l)}}var ns=null;function Qs(r,s,l,d){if(ns=null,r=js(d),r=ss(r),r!==null)if(s=jn(r),s===null)r=null;else if(l=s.tag,l===13){if(r=Xi(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return ns=r,null}function Ta(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xl()){case Yi:return 1;case ni:return 4;case Tn:case _a:return 16;case Yl:return 536870912;default:return 16}default:return 16}}var fn=null,Xs=null,tn=null;function Sa(){if(tn)return tn;var r,s=Xs,l=s.length,d,m="value"in fn?fn.value:fn.textContent,v=m.length;for(r=0;r<l&&s[r]===m[r];r++);var T=l-r;for(d=1;d<=T&&s[l-d]===m[v-d];d++);return tn=m.slice(r,1<d?1-d:void 0)}function Ys(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function or(){return!0}function Ca(){return!1}function kt(r){function s(l,d,m,v,T){this._reactName=l,this._targetInst=m,this.type=d,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var N in r)r.hasOwnProperty(N)&&(l=r[N],this[N]=l?l(v):v[N]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?or:Ca,this.isPropagationStopped=Ca,this}return ce(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),s}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Js=kt(Wn),ar=ce({},Wn,{view:0,detail:0}),Dh=kt(ar),Zs,Mr,ci,rs=ce({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ci&&(ci&&r.type==="mousemove"?(Zs=r.screenX-ci.screenX,Mr=r.screenY-ci.screenY):Mr=Zs=0,ci=r),Zs)},movementY:function(r){return"movementY"in r?r.movementY:Mr}}),eo=kt(rs),Aa=ce({},rs,{dataTransfer:0}),lu=kt(Aa),to=ce({},ar,{relatedTarget:0}),no=kt(to),uu=ce({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),Lr=kt(uu),cu=ce({},Wn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),hu=kt(cu),du=ce({},Wn,{data:0}),Pa=kt(du),ro={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pu(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=fu[r])?!!s[r]:!1}function lr(){return pu}var c=ce({},ar,{key:function(r){if(r.key){var s=ro[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Ys(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Qt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(r){return r.type==="keypress"?Ys(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Ys(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),g=kt(c),x=ce({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),C=kt(x),G=ce({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),Y=kt(G),ue=ce({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=kt(ue),_t=ce({},rs,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=kt(_t),Ct=[9,13,27,32],ft=h&&"CompositionEvent"in window,Cn=null;h&&"documentMode"in document&&(Cn=document.documentMode);var pn=h&&"TextEvent"in window&&!Cn,is=h&&(!ft||Cn&&8<Cn&&11>=Cn),io=" ",Xm=!1;function Ym(r,s){switch(r){case"keyup":return Ct.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var so=!1;function QT(r,s){switch(r){case"compositionend":return Jm(s);case"keypress":return s.which!==32?null:(Xm=!0,io);case"textInput":return r=s.data,r===io&&Xm?null:r;default:return null}}function XT(r,s){if(so)return r==="compositionend"||!ft&&Ym(r,s)?(r=Sa(),tn=Xs=fn=null,so=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return is&&s.locale!=="ko"?null:s.data;default:return null}}var YT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!YT[r.type]:s==="textarea"}function eg(r,s,l,d){rr(d),s=_u(s,"onChange"),0<s.length&&(l=new Js("onChange","change",null,l,d),r.push({event:l,listeners:s}))}var ba=null,Ia=null;function JT(r){vg(r,0)}function mu(r){var s=co(r);if(Ar(s))return r}function ZT(r,s){if(r==="change")return s}var tg=!1;if(h){var Vh;if(h){var Mh="oninput"in document;if(!Mh){var ng=document.createElement("div");ng.setAttribute("oninput","return;"),Mh=typeof ng.oninput=="function"}Vh=Mh}else Vh=!1;tg=Vh&&(!document.documentMode||9<document.documentMode)}function rg(){ba&&(ba.detachEvent("onpropertychange",ig),Ia=ba=null)}function ig(r){if(r.propertyName==="value"&&mu(Ia)){var s=[];eg(s,Ia,r,js(r)),ma(JT,s)}}function eS(r,s,l){r==="focusin"?(rg(),ba=s,Ia=l,ba.attachEvent("onpropertychange",ig)):r==="focusout"&&rg()}function tS(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return mu(Ia)}function nS(r,s){if(r==="click")return mu(s)}function rS(r,s){if(r==="input"||r==="change")return mu(s)}function iS(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Hn=typeof Object.is=="function"?Object.is:iS;function Ra(r,s){if(Hn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),d=Object.keys(s);if(l.length!==d.length)return!1;for(d=0;d<l.length;d++){var m=l[d];if(!f.call(s,m)||!Hn(r[m],s[m]))return!1}return!0}function sg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function og(r,s){var l=sg(r);r=0;for(var d;l;){if(l.nodeType===3){if(d=r+l.textContent.length,r<=s&&d>=s)return{node:l,offset:s-r};r=d}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=sg(l)}}function ag(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?ag(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function lg(){for(var r=window,s=wn();s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=wn(r.document)}return s}function Lh(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function sS(r){var s=lg(),l=r.focusedElem,d=r.selectionRange;if(s!==l&&l&&l.ownerDocument&&ag(l.ownerDocument.documentElement,l)){if(d!==null&&Lh(l)){if(s=d.start,r=d.end,r===void 0&&(r=s),"selectionStart"in l)l.selectionStart=s,l.selectionEnd=Math.min(r,l.value.length);else if(r=(s=l.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var m=l.textContent.length,v=Math.min(d.start,m);d=d.end===void 0?v:Math.min(d.end,m),!r.extend&&v>d&&(m=d,d=v,v=m),m=og(l,v);var T=og(l,d);m&&T&&(r.rangeCount!==1||r.anchorNode!==m.node||r.anchorOffset!==m.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(s=s.createRange(),s.setStart(m.node,m.offset),r.removeAllRanges(),v>d?(r.addRange(s),r.extend(T.node,T.offset)):(s.setEnd(T.node,T.offset),r.addRange(s)))}}for(s=[],r=l;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<s.length;l++)r=s[l],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var oS=h&&"documentMode"in document&&11>=document.documentMode,oo=null,Oh=null,ka=null,jh=!1;function ug(r,s,l){var d=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;jh||oo==null||oo!==wn(d)||(d=oo,"selectionStart"in d&&Lh(d)?d={start:d.selectionStart,end:d.selectionEnd}:(d=(d.ownerDocument&&d.ownerDocument.defaultView||window).getSelection(),d={anchorNode:d.anchorNode,anchorOffset:d.anchorOffset,focusNode:d.focusNode,focusOffset:d.focusOffset}),ka&&Ra(ka,d)||(ka=d,d=_u(Oh,"onSelect"),0<d.length&&(s=new Js("onSelect","select",null,s,l),r.push({event:s,listeners:d}),s.target=oo)))}function gu(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var ao={animationend:gu("Animation","AnimationEnd"),animationiteration:gu("Animation","AnimationIteration"),animationstart:gu("Animation","AnimationStart"),transitionend:gu("Transition","TransitionEnd")},Fh={},cg={};h&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete ao.animationend.animation,delete ao.animationiteration.animation,delete ao.animationstart.animation),"TransitionEvent"in window||delete ao.transitionend.transition);function yu(r){if(Fh[r])return Fh[r];if(!ao[r])return r;var s=ao[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in cg)return Fh[r]=s[l];return r}var hg=yu("animationend"),dg=yu("animationiteration"),fg=yu("animationstart"),pg=yu("transitionend"),mg=new Map,gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(r,s){mg.set(r,s),a(s,[r])}for(var Bh=0;Bh<gg.length;Bh++){var Uh=gg[Bh],aS=Uh.toLowerCase(),lS=Uh[0].toUpperCase()+Uh.slice(1);hi(aS,"on"+lS)}hi(hg,"onAnimationEnd"),hi(dg,"onAnimationIteration"),hi(fg,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(pg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Na="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Na));function yg(r,s,l){var d=r.type||"unknown-event";r.currentTarget=l,ql(d,s,void 0,r),r.currentTarget=null}function vg(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var d=r[l],m=d.event;d=d.listeners;e:{var v=void 0;if(s)for(var T=d.length-1;0<=T;T--){var N=d[T],L=N.instance,Q=N.currentTarget;if(N=N.listener,L!==v&&m.isPropagationStopped())break e;yg(m,N,Q),v=L}else for(T=0;T<d.length;T++){if(N=d[T],L=N.instance,Q=N.currentTarget,N=N.listener,L!==v&&m.isPropagationStopped())break e;yg(m,N,Q),v=L}}}if(On)throw r=ga,On=!1,ga=null,r}function Qe(r,s){var l=s[Qh];l===void 0&&(l=s[Qh]=new Set);var d=r+"__bubble";l.has(d)||(_g(s,r,2,!1),l.add(d))}function $h(r,s,l){var d=0;s&&(d|=4),_g(l,r,d,s)}var vu="_reactListening"+Math.random().toString(36).slice(2);function Da(r){if(!r[vu]){r[vu]=!0,i.forEach(function(l){l!=="selectionchange"&&(uS.has(l)||$h(l,!1,r),$h(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[vu]||(s[vu]=!0,$h("selectionchange",!1,s))}}function _g(r,s,l,d){switch(Ta(s)){case 1:var m=Ye;break;case 4:m=Nh;break;default:m=Ea}l=m.bind(null,s,l,r),m=void 0,!Us||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),d?m!==void 0?r.addEventListener(s,l,{capture:!0,passive:m}):r.addEventListener(s,l,!0):m!==void 0?r.addEventListener(s,l,{passive:m}):r.addEventListener(s,l,!1)}function zh(r,s,l,d,m){var v=d;if(!(s&1)&&!(s&2)&&d!==null)e:for(;;){if(d===null)return;var T=d.tag;if(T===3||T===4){var N=d.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(T===4)for(T=d.return;T!==null;){var L=T.tag;if((L===3||L===4)&&(L=T.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;T=T.return}for(;N!==null;){if(T=ss(N),T===null)return;if(L=T.tag,L===5||L===6){d=v=T;continue e}N=N.parentNode}}d=d.return}ma(function(){var Q=v,ne=js(l),se=[];e:{var te=mg.get(r);if(te!==void 0){var he=Js,pe=r;switch(r){case"keypress":if(Ys(l)===0)break e;case"keydown":case"keyup":he=g;break;case"focusin":pe="focus",he=no;break;case"focusout":pe="blur",he=no;break;case"beforeblur":case"afterblur":he=no;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=Y;break;case hg:case dg:case fg:he=Lr;break;case pg:he=ze;break;case"scroll":he=Dh;break;case"wheel":he=Me;break;case"copy":case"cut":case"paste":he=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=C}var me=(s&4)!==0,ct=!me&&r==="scroll",q=me?te!==null?te+"Capture":null:te;me=[];for(var B=Q,K;B!==null;){K=B;var le=K.stateNode;if(K.tag===5&&le!==null&&(K=le,q!==null&&(le=ut(B,q),le!=null&&me.push(Va(B,le,K)))),ct)break;B=B.return}0<me.length&&(te=new he(te,pe,null,l,ne),se.push({event:te,listeners:me}))}}if(!(s&7)){e:{if(te=r==="mouseover"||r==="pointerover",he=r==="mouseout"||r==="pointerout",te&&l!==Gi&&(pe=l.relatedTarget||l.fromElement)&&(ss(pe)||pe[Or]))break e;if((he||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,he?(pe=l.relatedTarget||l.toElement,he=Q,pe=pe?ss(pe):null,pe!==null&&(ct=jn(pe),pe!==ct||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(he=null,pe=Q),he!==pe)){if(me=eo,le="onMouseLeave",q="onMouseEnter",B="mouse",(r==="pointerout"||r==="pointerover")&&(me=C,le="onPointerLeave",q="onPointerEnter",B="pointer"),ct=he==null?te:co(he),K=pe==null?te:co(pe),te=new me(le,B+"leave",he,l,ne),te.target=ct,te.relatedTarget=K,le=null,ss(ne)===Q&&(me=new me(q,B+"enter",pe,l,ne),me.target=K,me.relatedTarget=ct,le=me),ct=le,he&&pe)t:{for(me=he,q=pe,B=0,K=me;K;K=lo(K))B++;for(K=0,le=q;le;le=lo(le))K++;for(;0<B-K;)me=lo(me),B--;for(;0<K-B;)q=lo(q),K--;for(;B--;){if(me===q||q!==null&&me===q.alternate)break t;me=lo(me),q=lo(q)}me=null}else me=null;he!==null&&xg(se,te,he,me,!1),pe!==null&&ct!==null&&xg(se,ct,pe,me,!0)}}e:{if(te=Q?co(Q):window,he=te.nodeName&&te.nodeName.toLowerCase(),he==="select"||he==="input"&&te.type==="file")var ye=ZT;else if(Zm(te))if(tg)ye=rS;else{ye=tS;var we=eS}else(he=te.nodeName)&&he.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ye=nS);if(ye&&(ye=ye(r,Q))){eg(se,ye,l,ne);break e}we&&we(r,te,Q),r==="focusout"&&(we=te._wrapperState)&&we.controlled&&te.type==="number"&&Ms(te,"number",te.value)}switch(we=Q?co(Q):window,r){case"focusin":(Zm(we)||we.contentEditable==="true")&&(oo=we,Oh=Q,ka=null);break;case"focusout":ka=Oh=oo=null;break;case"mousedown":jh=!0;break;case"contextmenu":case"mouseup":case"dragend":jh=!1,ug(se,l,ne);break;case"selectionchange":if(oS)break;case"keydown":case"keyup":ug(se,l,ne)}var Ee;if(ft)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else so?Ym(r,l)&&(Pe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Pe="onCompositionStart");Pe&&(is&&l.locale!=="ko"&&(so||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&so&&(Ee=Sa()):(fn=ne,Xs="value"in fn?fn.value:fn.textContent,so=!0)),we=_u(Q,Pe),0<we.length&&(Pe=new Pa(Pe,r,null,l,ne),se.push({event:Pe,listeners:we}),Ee?Pe.data=Ee:(Ee=Jm(l),Ee!==null&&(Pe.data=Ee)))),(Ee=pn?QT(r,l):XT(r,l))&&(Q=_u(Q,"onBeforeInput"),0<Q.length&&(ne=new Pa("onBeforeInput","beforeinput",null,l,ne),se.push({event:ne,listeners:Q}),ne.data=Ee))}vg(se,s)})}function Va(r,s,l){return{instance:r,listener:s,currentTarget:l}}function _u(r,s){for(var l=s+"Capture",d=[];r!==null;){var m=r,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=ut(r,l),v!=null&&d.unshift(Va(r,v,m)),v=ut(r,s),v!=null&&d.push(Va(r,v,m))),r=r.return}return d}function lo(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function xg(r,s,l,d,m){for(var v=s._reactName,T=[];l!==null&&l!==d;){var N=l,L=N.alternate,Q=N.stateNode;if(L!==null&&L===d)break;N.tag===5&&Q!==null&&(N=Q,m?(L=ut(l,v),L!=null&&T.unshift(Va(l,L,N))):m||(L=ut(l,v),L!=null&&T.push(Va(l,L,N)))),l=l.return}T.length!==0&&r.push({event:s,listeners:T})}var cS=/\r\n?/g,hS=/\u0000|\uFFFD/g;function wg(r){return(typeof r=="string"?r:""+r).replace(cS,`
`).replace(hS,"")}function xu(r,s,l){if(s=wg(s),wg(r)!==s&&l)throw Error(n(425))}function wu(){}var Wh=null,Hh=null;function Gh(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var qh=typeof setTimeout=="function"?setTimeout:void 0,dS=typeof clearTimeout=="function"?clearTimeout:void 0,Eg=typeof Promise=="function"?Promise:void 0,fS=typeof queueMicrotask=="function"?queueMicrotask:typeof Eg<"u"?function(r){return Eg.resolve(null).then(r).catch(pS)}:qh;function pS(r){setTimeout(function(){throw r})}function Kh(r,s){var l=s,d=0;do{var m=l.nextSibling;if(r.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(d===0){r.removeChild(m),zn(s);return}d--}else l!=="$"&&l!=="$?"&&l!=="$!"||d++;l=m}while(l);zn(s)}function di(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Tg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}var uo=Math.random().toString(36).slice(2),ur="__reactFiber$"+uo,Ma="__reactProps$"+uo,Or="__reactContainer$"+uo,Qh="__reactEvents$"+uo,mS="__reactListeners$"+uo,gS="__reactHandles$"+uo;function ss(r){var s=r[ur];if(s)return s;for(var l=r.parentNode;l;){if(s=l[Or]||l[ur]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Tg(r);r!==null;){if(l=r[ur])return l;r=Tg(r)}return s}r=l,l=r.parentNode}return null}function La(r){return r=r[ur]||r[Or],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function co(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(n(33))}function Eu(r){return r[Ma]||null}var Xh=[],ho=-1;function fi(r){return{current:r}}function Xe(r){0>ho||(r.current=Xh[ho],Xh[ho]=null,ho--)}function Ge(r,s){ho++,Xh[ho]=r.current,r.current=s}var pi={},Ft=fi(pi),nn=fi(!1),os=pi;function fo(r,s){var l=r.type.contextTypes;if(!l)return pi;var d=r.stateNode;if(d&&d.__reactInternalMemoizedUnmaskedChildContext===s)return d.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=s[v];return d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=m),m}function rn(r){return r=r.childContextTypes,r!=null}function Tu(){Xe(nn),Xe(Ft)}function Sg(r,s,l){if(Ft.current!==pi)throw Error(n(168));Ge(Ft,s),Ge(nn,l)}function Cg(r,s,l){var d=r.stateNode;if(s=s.childContextTypes,typeof d.getChildContext!="function")return l;d=d.getChildContext();for(var m in d)if(!(m in s))throw Error(n(108,xe(r)||"Unknown",m));return ce({},l,d)}function Su(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||pi,os=Ft.current,Ge(Ft,r),Ge(nn,nn.current),!0}function Ag(r,s,l){var d=r.stateNode;if(!d)throw Error(n(169));l?(r=Cg(r,s,os),d.__reactInternalMemoizedMergedChildContext=r,Xe(nn),Xe(Ft),Ge(Ft,r)):Xe(nn),Ge(nn,l)}var jr=null,Cu=!1,Yh=!1;function Pg(r){jr===null?jr=[r]:jr.push(r)}function yS(r){Cu=!0,Pg(r)}function mi(){if(!Yh&&jr!==null){Yh=!0;var r=0,s=Ve;try{var l=jr;for(Ve=1;r<l.length;r++){var d=l[r];do d=d(!0);while(d!==null)}jr=null,Cu=!1}catch(m){throw jr!==null&&(jr=jr.slice(r+1)),Hs(Yi,mi),m}finally{Ve=s,Yh=!1}}return null}var po=[],mo=0,Au=null,Pu=0,An=[],Pn=0,as=null,Fr=1,Br="";function ls(r,s){po[mo++]=Pu,po[mo++]=Au,Au=r,Pu=s}function bg(r,s,l){An[Pn++]=Fr,An[Pn++]=Br,An[Pn++]=as,as=r;var d=Fr;r=Br;var m=32-Kt(d)-1;d&=~(1<<m),l+=1;var v=32-Kt(s)+m;if(30<v){var T=m-m%5;v=(d&(1<<T)-1).toString(32),d>>=T,m-=T,Fr=1<<32-Kt(s)+m|l<<m|d,Br=v+r}else Fr=1<<v|l<<m|d,Br=r}function Jh(r){r.return!==null&&(ls(r,1),bg(r,1,0))}function Zh(r){for(;r===Au;)Au=po[--mo],po[mo]=null,Pu=po[--mo],po[mo]=null;for(;r===as;)as=An[--Pn],An[Pn]=null,Br=An[--Pn],An[Pn]=null,Fr=An[--Pn],An[Pn]=null}var mn=null,gn=null,Je=!1,Gn=null;function Ig(r,s){var l=kn(5,null,null,0);l.elementType="DELETED",l.stateNode=s,l.return=r,s=r.deletions,s===null?(r.deletions=[l],r.flags|=16):s.push(l)}function Rg(r,s){switch(r.tag){case 5:var l=r.type;return s=s.nodeType!==1||l.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,mn=r,gn=di(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,mn=r,gn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(l=as!==null?{id:Fr,overflow:Br}:null,r.memoizedState={dehydrated:s,treeContext:l,retryLane:1073741824},l=kn(18,null,null,0),l.stateNode=s,l.return=r,r.child=l,mn=r,gn=null,!0):!1;default:return!1}}function ed(r){return(r.mode&1)!==0&&(r.flags&128)===0}function td(r){if(Je){var s=gn;if(s){var l=s;if(!Rg(r,s)){if(ed(r))throw Error(n(418));s=di(l.nextSibling);var d=mn;s&&Rg(r,s)?Ig(d,l):(r.flags=r.flags&-4097|2,Je=!1,mn=r)}}else{if(ed(r))throw Error(n(418));r.flags=r.flags&-4097|2,Je=!1,mn=r}}}function kg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;mn=r}function bu(r){if(r!==mn)return!1;if(!Je)return kg(r),Je=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Gh(r.type,r.memoizedProps)),s&&(s=gn)){if(ed(r))throw Ng(),Error(n(418));for(;s;)Ig(r,s),s=di(s.nextSibling)}if(kg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(n(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="/$"){if(s===0){gn=di(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++}r=r.nextSibling}gn=null}}else gn=mn?di(r.stateNode.nextSibling):null;return!0}function Ng(){for(var r=gn;r;)r=di(r.nextSibling)}function go(){gn=mn=null,Je=!1}function nd(r){Gn===null?Gn=[r]:Gn.push(r)}var vS=U.ReactCurrentBatchConfig;function Oa(r,s,l){if(r=l.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var d=l.stateNode}if(!d)throw Error(n(147,r));var m=d,v=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(T){var N=m.refs;T===null?delete N[v]:N[v]=T},s._stringRef=v,s)}if(typeof r!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,r))}return r}function Iu(r,s){throw r=Object.prototype.toString.call(s),Error(n(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Dg(r){var s=r._init;return s(r._payload)}function Vg(r){function s(q,B){if(r){var K=q.deletions;K===null?(q.deletions=[B],q.flags|=16):K.push(B)}}function l(q,B){if(!r)return null;for(;B!==null;)s(q,B),B=B.sibling;return null}function d(q,B){for(q=new Map;B!==null;)B.key!==null?q.set(B.key,B):q.set(B.index,B),B=B.sibling;return q}function m(q,B){return q=Ti(q,B),q.index=0,q.sibling=null,q}function v(q,B,K){return q.index=K,r?(K=q.alternate,K!==null?(K=K.index,K<B?(q.flags|=2,B):K):(q.flags|=2,B)):(q.flags|=1048576,B)}function T(q){return r&&q.alternate===null&&(q.flags|=2),q}function N(q,B,K,le){return B===null||B.tag!==6?(B=qd(K,q.mode,le),B.return=q,B):(B=m(B,K),B.return=q,B)}function L(q,B,K,le){var ye=K.type;return ye===I?ne(q,B,K.props.children,le,K.key):B!==null&&(B.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ke&&Dg(ye)===B.type)?(le=m(B,K.props),le.ref=Oa(q,B,K),le.return=q,le):(le=Zu(K.type,K.key,K.props,null,q.mode,le),le.ref=Oa(q,B,K),le.return=q,le)}function Q(q,B,K,le){return B===null||B.tag!==4||B.stateNode.containerInfo!==K.containerInfo||B.stateNode.implementation!==K.implementation?(B=Kd(K,q.mode,le),B.return=q,B):(B=m(B,K.children||[]),B.return=q,B)}function ne(q,B,K,le,ye){return B===null||B.tag!==7?(B=gs(K,q.mode,le,ye),B.return=q,B):(B=m(B,K),B.return=q,B)}function se(q,B,K){if(typeof B=="string"&&B!==""||typeof B=="number")return B=qd(""+B,q.mode,K),B.return=q,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case z:return K=Zu(B.type,B.key,B.props,null,q.mode,K),K.ref=Oa(q,null,B),K.return=q,K;case X:return B=Kd(B,q.mode,K),B.return=q,B;case Ke:var le=B._init;return se(q,le(B._payload),K)}if(br(B)||ge(B))return B=gs(B,q.mode,K,null),B.return=q,B;Iu(q,B)}return null}function te(q,B,K,le){var ye=B!==null?B.key:null;if(typeof K=="string"&&K!==""||typeof K=="number")return ye!==null?null:N(q,B,""+K,le);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case z:return K.key===ye?L(q,B,K,le):null;case X:return K.key===ye?Q(q,B,K,le):null;case Ke:return ye=K._init,te(q,B,ye(K._payload),le)}if(br(K)||ge(K))return ye!==null?null:ne(q,B,K,le,null);Iu(q,K)}return null}function he(q,B,K,le,ye){if(typeof le=="string"&&le!==""||typeof le=="number")return q=q.get(K)||null,N(B,q,""+le,ye);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case z:return q=q.get(le.key===null?K:le.key)||null,L(B,q,le,ye);case X:return q=q.get(le.key===null?K:le.key)||null,Q(B,q,le,ye);case Ke:var we=le._init;return he(q,B,K,we(le._payload),ye)}if(br(le)||ge(le))return q=q.get(K)||null,ne(B,q,le,ye,null);Iu(B,le)}return null}function pe(q,B,K,le){for(var ye=null,we=null,Ee=B,Pe=B=0,bt=null;Ee!==null&&Pe<K.length;Pe++){Ee.index>Pe?(bt=Ee,Ee=null):bt=Ee.sibling;var Be=te(q,Ee,K[Pe],le);if(Be===null){Ee===null&&(Ee=bt);break}r&&Ee&&Be.alternate===null&&s(q,Ee),B=v(Be,B,Pe),we===null?ye=Be:we.sibling=Be,we=Be,Ee=bt}if(Pe===K.length)return l(q,Ee),Je&&ls(q,Pe),ye;if(Ee===null){for(;Pe<K.length;Pe++)Ee=se(q,K[Pe],le),Ee!==null&&(B=v(Ee,B,Pe),we===null?ye=Ee:we.sibling=Ee,we=Ee);return Je&&ls(q,Pe),ye}for(Ee=d(q,Ee);Pe<K.length;Pe++)bt=he(Ee,q,Pe,K[Pe],le),bt!==null&&(r&&bt.alternate!==null&&Ee.delete(bt.key===null?Pe:bt.key),B=v(bt,B,Pe),we===null?ye=bt:we.sibling=bt,we=bt);return r&&Ee.forEach(function(Si){return s(q,Si)}),Je&&ls(q,Pe),ye}function me(q,B,K,le){var ye=ge(K);if(typeof ye!="function")throw Error(n(150));if(K=ye.call(K),K==null)throw Error(n(151));for(var we=ye=null,Ee=B,Pe=B=0,bt=null,Be=K.next();Ee!==null&&!Be.done;Pe++,Be=K.next()){Ee.index>Pe?(bt=Ee,Ee=null):bt=Ee.sibling;var Si=te(q,Ee,Be.value,le);if(Si===null){Ee===null&&(Ee=bt);break}r&&Ee&&Si.alternate===null&&s(q,Ee),B=v(Si,B,Pe),we===null?ye=Si:we.sibling=Si,we=Si,Ee=bt}if(Be.done)return l(q,Ee),Je&&ls(q,Pe),ye;if(Ee===null){for(;!Be.done;Pe++,Be=K.next())Be=se(q,Be.value,le),Be!==null&&(B=v(Be,B,Pe),we===null?ye=Be:we.sibling=Be,we=Be);return Je&&ls(q,Pe),ye}for(Ee=d(q,Ee);!Be.done;Pe++,Be=K.next())Be=he(Ee,q,Pe,Be.value,le),Be!==null&&(r&&Be.alternate!==null&&Ee.delete(Be.key===null?Pe:Be.key),B=v(Be,B,Pe),we===null?ye=Be:we.sibling=Be,we=Be);return r&&Ee.forEach(function(YS){return s(q,YS)}),Je&&ls(q,Pe),ye}function ct(q,B,K,le){if(typeof K=="object"&&K!==null&&K.type===I&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case z:e:{for(var ye=K.key,we=B;we!==null;){if(we.key===ye){if(ye=K.type,ye===I){if(we.tag===7){l(q,we.sibling),B=m(we,K.props.children),B.return=q,q=B;break e}}else if(we.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ke&&Dg(ye)===we.type){l(q,we.sibling),B=m(we,K.props),B.ref=Oa(q,we,K),B.return=q,q=B;break e}l(q,we);break}else s(q,we);we=we.sibling}K.type===I?(B=gs(K.props.children,q.mode,le,K.key),B.return=q,q=B):(le=Zu(K.type,K.key,K.props,null,q.mode,le),le.ref=Oa(q,B,K),le.return=q,q=le)}return T(q);case X:e:{for(we=K.key;B!==null;){if(B.key===we)if(B.tag===4&&B.stateNode.containerInfo===K.containerInfo&&B.stateNode.implementation===K.implementation){l(q,B.sibling),B=m(B,K.children||[]),B.return=q,q=B;break e}else{l(q,B);break}else s(q,B);B=B.sibling}B=Kd(K,q.mode,le),B.return=q,q=B}return T(q);case Ke:return we=K._init,ct(q,B,we(K._payload),le)}if(br(K))return pe(q,B,K,le);if(ge(K))return me(q,B,K,le);Iu(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,B!==null&&B.tag===6?(l(q,B.sibling),B=m(B,K),B.return=q,q=B):(l(q,B),B=qd(K,q.mode,le),B.return=q,q=B),T(q)):l(q,B)}return ct}var yo=Vg(!0),Mg=Vg(!1),Ru=fi(null),ku=null,vo=null,rd=null;function id(){rd=vo=ku=null}function sd(r){var s=Ru.current;Xe(Ru),r._currentValue=s}function od(r,s,l){for(;r!==null;){var d=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,d!==null&&(d.childLanes|=s)):d!==null&&(d.childLanes&s)!==s&&(d.childLanes|=s),r===l)break;r=r.return}}function _o(r,s){ku=r,rd=vo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(sn=!0),r.firstContext=null)}function bn(r){var s=r._currentValue;if(rd!==r)if(r={context:r,memoizedValue:s,next:null},vo===null){if(ku===null)throw Error(n(308));vo=r,ku.dependencies={lanes:0,firstContext:r}}else vo=vo.next=r;return s}var us=null;function ad(r){us===null?us=[r]:us.push(r)}function Lg(r,s,l,d){var m=s.interleaved;return m===null?(l.next=l,ad(s)):(l.next=m.next,m.next=l),s.interleaved=l,Ur(r,d)}function Ur(r,s){r.lanes|=s;var l=r.alternate;for(l!==null&&(l.lanes|=s),l=r,r=r.return;r!==null;)r.childLanes|=s,l=r.alternate,l!==null&&(l.childLanes|=s),l=r,r=r.return;return l.tag===3?l.stateNode:null}var gi=!1;function ld(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Og(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function $r(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function yi(r,s,l){var d=r.updateQueue;if(d===null)return null;if(d=d.shared,Fe&2){var m=d.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),d.pending=s,Ur(r,l)}return m=d.interleaved,m===null?(s.next=s,ad(d)):(s.next=m.next,m.next=s),d.interleaved=s,Ur(r,l)}function Nu(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194240)!==0)){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,oi(r,l)}}function jg(r,s){var l=r.updateQueue,d=r.alternate;if(d!==null&&(d=d.updateQueue,l===d)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?m=v=s:v=v.next=s}else m=v=s;l={baseState:d.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:d.shared,effects:d.effects},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}function Du(r,s,l,d){var m=r.updateQueue;gi=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var L=N,Q=L.next;L.next=null,T===null?v=Q:T.next=Q,T=L;var ne=r.alternate;ne!==null&&(ne=ne.updateQueue,N=ne.lastBaseUpdate,N!==T&&(N===null?ne.firstBaseUpdate=Q:N.next=Q,ne.lastBaseUpdate=L))}if(v!==null){var se=m.baseState;T=0,ne=Q=L=null,N=v;do{var te=N.lane,he=N.eventTime;if((d&te)===te){ne!==null&&(ne=ne.next={eventTime:he,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var pe=r,me=N;switch(te=s,he=l,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){se=pe.call(he,se,te);break e}se=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,te=typeof pe=="function"?pe.call(he,se,te):pe,te==null)break e;se=ce({},se,te);break e;case 2:gi=!0}}N.callback!==null&&N.lane!==0&&(r.flags|=64,te=m.effects,te===null?m.effects=[N]:te.push(N))}else he={eventTime:he,lane:te,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ne===null?(Q=ne=he,L=se):ne=ne.next=he,T|=te;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;te=N,N=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&(L=se),m.baseState=L,m.firstBaseUpdate=Q,m.lastBaseUpdate=ne,s=m.shared.interleaved,s!==null){m=s;do T|=m.lane,m=m.next;while(m!==s)}else v===null&&(m.shared.lanes=0);ds|=T,r.lanes=T,r.memoizedState=se}}function Fg(r,s,l){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var d=r[s],m=d.callback;if(m!==null){if(d.callback=null,d=l,typeof m!="function")throw Error(n(191,m));m.call(d)}}}var ja={},cr=fi(ja),Fa=fi(ja),Ba=fi(ja);function cs(r){if(r===ja)throw Error(n(174));return r}function ud(r,s){switch(Ge(Ba,s),Ge(Fa,r),Ge(cr,ja),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:vt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=vt(s,r)}Xe(cr),Ge(cr,s)}function xo(){Xe(cr),Xe(Fa),Xe(Ba)}function Bg(r){cs(Ba.current);var s=cs(cr.current),l=vt(s,r.type);s!==l&&(Ge(Fa,r),Ge(cr,l))}function cd(r){Fa.current===r&&(Xe(cr),Xe(Fa))}var tt=fi(0);function Vu(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var hd=[];function dd(){for(var r=0;r<hd.length;r++)hd[r]._workInProgressVersionPrimary=null;hd.length=0}var Mu=U.ReactCurrentDispatcher,fd=U.ReactCurrentBatchConfig,hs=0,nt=null,xt=null,At=null,Lu=!1,Ua=!1,$a=0,_S=0;function Bt(){throw Error(n(321))}function pd(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!Hn(r[l],s[l]))return!1;return!0}function md(r,s,l,d,m,v){if(hs=v,nt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Mu.current=r===null||r.memoizedState===null?TS:SS,r=l(d,m),Ua){v=0;do{if(Ua=!1,$a=0,25<=v)throw Error(n(301));v+=1,At=xt=null,s.updateQueue=null,Mu.current=CS,r=l(d,m)}while(Ua)}if(Mu.current=Fu,s=xt!==null&&xt.next!==null,hs=0,At=xt=nt=null,Lu=!1,s)throw Error(n(300));return r}function gd(){var r=$a!==0;return $a=0,r}function hr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?nt.memoizedState=At=r:At=At.next=r,At}function In(){if(xt===null){var r=nt.alternate;r=r!==null?r.memoizedState:null}else r=xt.next;var s=At===null?nt.memoizedState:At.next;if(s!==null)At=s,xt=r;else{if(r===null)throw Error(n(310));xt=r,r={memoizedState:xt.memoizedState,baseState:xt.baseState,baseQueue:xt.baseQueue,queue:xt.queue,next:null},At===null?nt.memoizedState=At=r:At=At.next=r}return At}function za(r,s){return typeof s=="function"?s(r):s}function yd(r){var s=In(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=xt,m=d.baseQueue,v=l.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}d.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,d=d.baseState;var N=T=null,L=null,Q=v;do{var ne=Q.lane;if((hs&ne)===ne)L!==null&&(L=L.next={lane:0,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),d=Q.hasEagerState?Q.eagerState:r(d,Q.action);else{var se={lane:ne,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null};L===null?(N=L=se,T=d):L=L.next=se,nt.lanes|=ne,ds|=ne}Q=Q.next}while(Q!==null&&Q!==v);L===null?T=d:L.next=N,Hn(d,s.memoizedState)||(sn=!0),s.memoizedState=d,s.baseState=T,s.baseQueue=L,l.lastRenderedState=d}if(r=l.interleaved,r!==null){m=r;do v=m.lane,nt.lanes|=v,ds|=v,m=m.next;while(m!==r)}else m===null&&(l.lanes=0);return[s.memoizedState,l.dispatch]}function vd(r){var s=In(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=r;var d=l.dispatch,m=l.pending,v=s.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do v=r(v,T.action),T=T.next;while(T!==m);Hn(v,s.memoizedState)||(sn=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),l.lastRenderedState=v}return[v,d]}function Ug(){}function $g(r,s){var l=nt,d=In(),m=s(),v=!Hn(d.memoizedState,m);if(v&&(d.memoizedState=m,sn=!0),d=d.queue,_d(Hg.bind(null,l,d,r),[r]),d.getSnapshot!==s||v||At!==null&&At.memoizedState.tag&1){if(l.flags|=2048,Wa(9,Wg.bind(null,l,d,m,s),void 0,null),Pt===null)throw Error(n(349));hs&30||zg(l,s,m)}return m}function zg(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function Wg(r,s,l,d){s.value=l,s.getSnapshot=d,Gg(s)&&qg(r)}function Hg(r,s,l){return l(function(){Gg(s)&&qg(r)})}function Gg(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!Hn(r,l)}catch{return!0}}function qg(r){var s=Ur(r,1);s!==null&&Xn(s,r,1,-1)}function Kg(r){var s=hr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:r},s.queue=r,r=r.dispatch=ES.bind(null,nt,r),[s.memoizedState,r]}function Wa(r,s,l,d){return r={tag:r,create:s,destroy:l,deps:d,next:null},s=nt.updateQueue,s===null?(s={lastEffect:null,stores:null},nt.updateQueue=s,s.lastEffect=r.next=r):(l=s.lastEffect,l===null?s.lastEffect=r.next=r:(d=l.next,l.next=r,r.next=d,s.lastEffect=r)),r}function Qg(){return In().memoizedState}function Ou(r,s,l,d){var m=hr();nt.flags|=r,m.memoizedState=Wa(1|s,l,void 0,d===void 0?null:d)}function ju(r,s,l,d){var m=In();d=d===void 0?null:d;var v=void 0;if(xt!==null){var T=xt.memoizedState;if(v=T.destroy,d!==null&&pd(d,T.deps)){m.memoizedState=Wa(s,l,v,d);return}}nt.flags|=r,m.memoizedState=Wa(1|s,l,v,d)}function Xg(r,s){return Ou(8390656,8,r,s)}function _d(r,s){return ju(2048,8,r,s)}function Yg(r,s){return ju(4,2,r,s)}function Jg(r,s){return ju(4,4,r,s)}function Zg(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ey(r,s,l){return l=l!=null?l.concat([r]):null,ju(4,4,Zg.bind(null,s,r),l)}function xd(){}function ty(r,s){var l=In();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&pd(s,d[1])?d[0]:(l.memoizedState=[r,s],r)}function ny(r,s){var l=In();s=s===void 0?null:s;var d=l.memoizedState;return d!==null&&s!==null&&pd(s,d[1])?d[0]:(r=r(),l.memoizedState=[r,s],r)}function ry(r,s,l){return hs&21?(Hn(l,s)||(l=es(),nt.lanes|=l,ds|=l,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,sn=!0),r.memoizedState=l)}function xS(r,s){var l=Ve;Ve=l!==0&&4>l?l:4,r(!0);var d=fd.transition;fd.transition={};try{r(!1),s()}finally{Ve=l,fd.transition=d}}function iy(){return In().memoizedState}function wS(r,s,l){var d=wi(r);if(l={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null},sy(r))oy(s,l);else if(l=Lg(r,s,l,d),l!==null){var m=Yt();Xn(l,r,d,m),ay(l,s,d)}}function ES(r,s,l){var d=wi(r),m={lane:d,action:l,hasEagerState:!1,eagerState:null,next:null};if(sy(r))oy(s,m);else{var v=r.alternate;if(r.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var T=s.lastRenderedState,N=v(T,l);if(m.hasEagerState=!0,m.eagerState=N,Hn(N,T)){var L=s.interleaved;L===null?(m.next=m,ad(s)):(m.next=L.next,L.next=m),s.interleaved=m;return}}catch{}finally{}l=Lg(r,s,m,d),l!==null&&(m=Yt(),Xn(l,r,d,m),ay(l,s,d))}}function sy(r){var s=r.alternate;return r===nt||s!==null&&s===nt}function oy(r,s){Ua=Lu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function ay(r,s,l){if(l&4194240){var d=s.lanes;d&=r.pendingLanes,l|=d,s.lanes=l,oi(r,l)}}var Fu={readContext:bn,useCallback:Bt,useContext:Bt,useEffect:Bt,useImperativeHandle:Bt,useInsertionEffect:Bt,useLayoutEffect:Bt,useMemo:Bt,useReducer:Bt,useRef:Bt,useState:Bt,useDebugValue:Bt,useDeferredValue:Bt,useTransition:Bt,useMutableSource:Bt,useSyncExternalStore:Bt,useId:Bt,unstable_isNewReconciler:!1},TS={readContext:bn,useCallback:function(r,s){return hr().memoizedState=[r,s===void 0?null:s],r},useContext:bn,useEffect:Xg,useImperativeHandle:function(r,s,l){return l=l!=null?l.concat([r]):null,Ou(4194308,4,Zg.bind(null,s,r),l)},useLayoutEffect:function(r,s){return Ou(4194308,4,r,s)},useInsertionEffect:function(r,s){return Ou(4,2,r,s)},useMemo:function(r,s){var l=hr();return s=s===void 0?null:s,r=r(),l.memoizedState=[r,s],r},useReducer:function(r,s,l){var d=hr();return s=l!==void 0?l(s):s,d.memoizedState=d.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},d.queue=r,r=r.dispatch=wS.bind(null,nt,r),[d.memoizedState,r]},useRef:function(r){var s=hr();return r={current:r},s.memoizedState=r},useState:Kg,useDebugValue:xd,useDeferredValue:function(r){return hr().memoizedState=r},useTransition:function(){var r=Kg(!1),s=r[0];return r=xS.bind(null,r[1]),hr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,l){var d=nt,m=hr();if(Je){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),Pt===null)throw Error(n(349));hs&30||zg(d,s,l)}m.memoizedState=l;var v={value:l,getSnapshot:s};return m.queue=v,Xg(Hg.bind(null,d,v,r),[r]),d.flags|=2048,Wa(9,Wg.bind(null,d,v,l,s),void 0,null),l},useId:function(){var r=hr(),s=Pt.identifierPrefix;if(Je){var l=Br,d=Fr;l=(d&~(1<<32-Kt(d)-1)).toString(32)+l,s=":"+s+"R"+l,l=$a++,0<l&&(s+="H"+l.toString(32)),s+=":"}else l=_S++,s=":"+s+"r"+l.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},SS={readContext:bn,useCallback:ty,useContext:bn,useEffect:_d,useImperativeHandle:ey,useInsertionEffect:Yg,useLayoutEffect:Jg,useMemo:ny,useReducer:yd,useRef:Qg,useState:function(){return yd(za)},useDebugValue:xd,useDeferredValue:function(r){var s=In();return ry(s,xt.memoizedState,r)},useTransition:function(){var r=yd(za)[0],s=In().memoizedState;return[r,s]},useMutableSource:Ug,useSyncExternalStore:$g,useId:iy,unstable_isNewReconciler:!1},CS={readContext:bn,useCallback:ty,useContext:bn,useEffect:_d,useImperativeHandle:ey,useInsertionEffect:Yg,useLayoutEffect:Jg,useMemo:ny,useReducer:vd,useRef:Qg,useState:function(){return vd(za)},useDebugValue:xd,useDeferredValue:function(r){var s=In();return xt===null?s.memoizedState=r:ry(s,xt.memoizedState,r)},useTransition:function(){var r=vd(za)[0],s=In().memoizedState;return[r,s]},useMutableSource:Ug,useSyncExternalStore:$g,useId:iy,unstable_isNewReconciler:!1};function qn(r,s){if(r&&r.defaultProps){s=ce({},s),r=r.defaultProps;for(var l in r)s[l]===void 0&&(s[l]=r[l]);return s}return s}function wd(r,s,l,d){s=r.memoizedState,l=l(d,s),l=l==null?s:ce({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var Bu={isMounted:function(r){return(r=r._reactInternals)?jn(r)===r:!1},enqueueSetState:function(r,s,l){r=r._reactInternals;var d=Yt(),m=wi(r),v=$r(d,m);v.payload=s,l!=null&&(v.callback=l),s=yi(r,v,m),s!==null&&(Xn(s,r,m,d),Nu(s,r,m))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var d=Yt(),m=wi(r),v=$r(d,m);v.tag=1,v.payload=s,l!=null&&(v.callback=l),s=yi(r,v,m),s!==null&&(Xn(s,r,m,d),Nu(s,r,m))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=Yt(),d=wi(r),m=$r(l,d);m.tag=2,s!=null&&(m.callback=s),s=yi(r,m,d),s!==null&&(Xn(s,r,d,l),Nu(s,r,d))}};function ly(r,s,l,d,m,v,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(d,v,T):s.prototype&&s.prototype.isPureReactComponent?!Ra(l,d)||!Ra(m,v):!0}function uy(r,s,l){var d=!1,m=pi,v=s.contextType;return typeof v=="object"&&v!==null?v=bn(v):(m=rn(s)?os:Ft.current,d=s.contextTypes,v=(d=d!=null)?fo(r,m):pi),s=new s(l,v),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Bu,r.stateNode=s,s._reactInternals=r,d&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=m,r.__reactInternalMemoizedMaskedChildContext=v),s}function cy(r,s,l,d){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,d),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,d),s.state!==r&&Bu.enqueueReplaceState(s,s.state,null)}function Ed(r,s,l,d){var m=r.stateNode;m.props=l,m.state=r.memoizedState,m.refs={},ld(r);var v=s.contextType;typeof v=="object"&&v!==null?m.context=bn(v):(v=rn(s)?os:Ft.current,m.context=fo(r,v)),m.state=r.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(wd(r,s,v,l),m.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(s=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),s!==m.state&&Bu.enqueueReplaceState(m,m.state,null),Du(r,l,m,d),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308)}function wo(r,s){try{var l="",d=s;do l+=J(d),d=d.return;while(d);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:r,source:s,stack:m,digest:null}}function Td(r,s,l){return{value:r,source:null,stack:l??null,digest:s??null}}function Sd(r,s){try{console.error(s.value)}catch(l){setTimeout(function(){throw l})}}var AS=typeof WeakMap=="function"?WeakMap:Map;function hy(r,s,l){l=$r(-1,l),l.tag=3,l.payload={element:null};var d=s.value;return l.callback=function(){qu||(qu=!0,Fd=d),Sd(r,s)},l}function dy(r,s,l){l=$r(-1,l),l.tag=3;var d=r.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;l.payload=function(){return d(m)},l.callback=function(){Sd(r,s)}}var v=r.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){Sd(r,s),typeof d!="function"&&(_i===null?_i=new Set([this]):_i.add(this));var T=s.stack;this.componentDidCatch(s.value,{componentStack:T!==null?T:""})}),l}function fy(r,s,l){var d=r.pingCache;if(d===null){d=r.pingCache=new AS;var m=new Set;d.set(s,m)}else m=d.get(s),m===void 0&&(m=new Set,d.set(s,m));m.has(l)||(m.add(l),r=BS.bind(null,r,s,l),s.then(r,r))}function py(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function my(r,s,l,d,m){return r.mode&1?(r.flags|=65536,r.lanes=m,r):(r===s?r.flags|=65536:(r.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(s=$r(-1,1),s.tag=2,yi(l,s,1))),l.lanes|=1),r)}var PS=U.ReactCurrentOwner,sn=!1;function Xt(r,s,l,d){s.child=r===null?Mg(s,null,l,d):yo(s,r.child,l,d)}function gy(r,s,l,d,m){l=l.render;var v=s.ref;return _o(s,m),d=md(r,s,l,d,v,m),l=gd(),r!==null&&!sn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,zr(r,s,m)):(Je&&l&&Jh(s),s.flags|=1,Xt(r,s,d,m),s.child)}function yy(r,s,l,d,m){if(r===null){var v=l.type;return typeof v=="function"&&!Gd(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(s.tag=15,s.type=v,vy(r,s,v,d,m)):(r=Zu(l.type,null,d,s,s.mode,m),r.ref=s.ref,r.return=s,s.child=r)}if(v=r.child,!(r.lanes&m)){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ra,l(T,d)&&r.ref===s.ref)return zr(r,s,m)}return s.flags|=1,r=Ti(v,d),r.ref=s.ref,r.return=s,s.child=r}function vy(r,s,l,d,m){if(r!==null){var v=r.memoizedProps;if(Ra(v,d)&&r.ref===s.ref)if(sn=!1,s.pendingProps=d=v,(r.lanes&m)!==0)r.flags&131072&&(sn=!0);else return s.lanes=r.lanes,zr(r,s,m)}return Cd(r,s,l,d,m)}function _y(r,s,l){var d=s.pendingProps,m=d.children,v=r!==null?r.memoizedState:null;if(d.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ge(To,yn),yn|=l;else{if(!(l&1073741824))return r=v!==null?v.baseLanes|l:l,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Ge(To,yn),yn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},d=v!==null?v.baseLanes:l,Ge(To,yn),yn|=d}else v!==null?(d=v.baseLanes|l,s.memoizedState=null):d=l,Ge(To,yn),yn|=d;return Xt(r,s,m,l),s.child}function xy(r,s){var l=s.ref;(r===null&&l!==null||r!==null&&r.ref!==l)&&(s.flags|=512,s.flags|=2097152)}function Cd(r,s,l,d,m){var v=rn(l)?os:Ft.current;return v=fo(s,v),_o(s,m),l=md(r,s,l,d,v,m),d=gd(),r!==null&&!sn?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~m,zr(r,s,m)):(Je&&d&&Jh(s),s.flags|=1,Xt(r,s,l,m),s.child)}function wy(r,s,l,d,m){if(rn(l)){var v=!0;Su(s)}else v=!1;if(_o(s,m),s.stateNode===null)$u(r,s),uy(s,l,d),Ed(s,l,d,m),d=!0;else if(r===null){var T=s.stateNode,N=s.memoizedProps;T.props=N;var L=T.context,Q=l.contextType;typeof Q=="object"&&Q!==null?Q=bn(Q):(Q=rn(l)?os:Ft.current,Q=fo(s,Q));var ne=l.getDerivedStateFromProps,se=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";se||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==d||L!==Q)&&cy(s,T,d,Q),gi=!1;var te=s.memoizedState;T.state=te,Du(s,d,T,m),L=s.memoizedState,N!==d||te!==L||nn.current||gi?(typeof ne=="function"&&(wd(s,l,ne,d),L=s.memoizedState),(N=gi||ly(s,l,N,d,te,L,Q))?(se||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(s.flags|=4194308)):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=d,s.memoizedState=L),T.props=d,T.state=L,T.context=Q,d=N):(typeof T.componentDidMount=="function"&&(s.flags|=4194308),d=!1)}else{T=s.stateNode,Og(r,s),N=s.memoizedProps,Q=s.type===s.elementType?N:qn(s.type,N),T.props=Q,se=s.pendingProps,te=T.context,L=l.contextType,typeof L=="object"&&L!==null?L=bn(L):(L=rn(l)?os:Ft.current,L=fo(s,L));var he=l.getDerivedStateFromProps;(ne=typeof he=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(N!==se||te!==L)&&cy(s,T,d,L),gi=!1,te=s.memoizedState,T.state=te,Du(s,d,T,m);var pe=s.memoizedState;N!==se||te!==pe||nn.current||gi?(typeof he=="function"&&(wd(s,l,he,d),pe=s.memoizedState),(Q=gi||ly(s,l,Q,d,te,pe,L)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(d,pe,L),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(d,pe,L)),typeof T.componentDidUpdate=="function"&&(s.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof T.componentDidUpdate!="function"||N===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),s.memoizedProps=d,s.memoizedState=pe),T.props=d,T.state=pe,T.context=L,d=Q):(typeof T.componentDidUpdate!="function"||N===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||N===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),d=!1)}return Ad(r,s,l,d,v,m)}function Ad(r,s,l,d,m,v){xy(r,s);var T=(s.flags&128)!==0;if(!d&&!T)return m&&Ag(s,l,!1),zr(r,s,v);d=s.stateNode,PS.current=s;var N=T&&typeof l.getDerivedStateFromError!="function"?null:d.render();return s.flags|=1,r!==null&&T?(s.child=yo(s,r.child,null,v),s.child=yo(s,null,N,v)):Xt(r,s,N,v),s.memoizedState=d.state,m&&Ag(s,l,!0),s.child}function Ey(r){var s=r.stateNode;s.pendingContext?Sg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Sg(r,s.context,!1),ud(r,s.containerInfo)}function Ty(r,s,l,d,m){return go(),nd(m),s.flags|=256,Xt(r,s,l,d),s.child}var Pd={dehydrated:null,treeContext:null,retryLane:0};function bd(r){return{baseLanes:r,cachePool:null,transitions:null}}function Sy(r,s,l){var d=s.pendingProps,m=tt.current,v=!1,T=(s.flags&128)!==0,N;if((N=T)||(N=r!==null&&r.memoizedState===null?!1:(m&2)!==0),N?(v=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(m|=1),Ge(tt,m&1),r===null)return td(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(T=d.children,r=d.fallback,v?(d=s.mode,v=s.child,T={mode:"hidden",children:T},!(d&1)&&v!==null?(v.childLanes=0,v.pendingProps=T):v=ec(T,d,0,null),r=gs(r,d,l,null),v.return=s,r.return=s,v.sibling=r,s.child=v,s.child.memoizedState=bd(l),s.memoizedState=Pd,r):Id(s,T));if(m=r.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return bS(r,s,T,d,N,m,l);if(v){v=d.fallback,T=s.mode,m=r.child,N=m.sibling;var L={mode:"hidden",children:d.children};return!(T&1)&&s.child!==m?(d=s.child,d.childLanes=0,d.pendingProps=L,s.deletions=null):(d=Ti(m,L),d.subtreeFlags=m.subtreeFlags&14680064),N!==null?v=Ti(N,v):(v=gs(v,T,l,null),v.flags|=2),v.return=s,d.return=s,d.sibling=v,s.child=d,d=v,v=s.child,T=r.child.memoizedState,T=T===null?bd(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=r.childLanes&~l,s.memoizedState=Pd,d}return v=r.child,r=v.sibling,d=Ti(v,{mode:"visible",children:d.children}),!(s.mode&1)&&(d.lanes=l),d.return=s,d.sibling=null,r!==null&&(l=s.deletions,l===null?(s.deletions=[r],s.flags|=16):l.push(r)),s.child=d,s.memoizedState=null,d}function Id(r,s){return s=ec({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function Uu(r,s,l,d){return d!==null&&nd(d),yo(s,r.child,null,l),r=Id(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function bS(r,s,l,d,m,v,T){if(l)return s.flags&256?(s.flags&=-257,d=Td(Error(n(422))),Uu(r,s,T,d)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(v=d.fallback,m=s.mode,d=ec({mode:"visible",children:d.children},m,0,null),v=gs(v,m,T,null),v.flags|=2,d.return=s,v.return=s,d.sibling=v,s.child=d,s.mode&1&&yo(s,r.child,null,T),s.child.memoizedState=bd(T),s.memoizedState=Pd,v);if(!(s.mode&1))return Uu(r,s,T,null);if(m.data==="$!"){if(d=m.nextSibling&&m.nextSibling.dataset,d)var N=d.dgst;return d=N,v=Error(n(419)),d=Td(v,d,void 0),Uu(r,s,T,d)}if(N=(T&r.childLanes)!==0,sn||N){if(d=Pt,d!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(d.suspendedLanes|T)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Ur(r,m),Xn(d,r,m,-1))}return Hd(),d=Td(Error(n(421))),Uu(r,s,T,d)}return m.data==="$?"?(s.flags|=128,s.child=r.child,s=US.bind(null,r),m._reactRetry=s,null):(r=v.treeContext,gn=di(m.nextSibling),mn=s,Je=!0,Gn=null,r!==null&&(An[Pn++]=Fr,An[Pn++]=Br,An[Pn++]=as,Fr=r.id,Br=r.overflow,as=s),s=Id(s,d.children),s.flags|=4096,s)}function Cy(r,s,l){r.lanes|=s;var d=r.alternate;d!==null&&(d.lanes|=s),od(r.return,s,l)}function Rd(r,s,l,d,m){var v=r.memoizedState;v===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:d,tail:l,tailMode:m}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=d,v.tail=l,v.tailMode=m)}function Ay(r,s,l){var d=s.pendingProps,m=d.revealOrder,v=d.tail;if(Xt(r,s,d.children,l),d=tt.current,d&2)d=d&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Cy(r,l,s);else if(r.tag===19)Cy(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}d&=1}if(Ge(tt,d),!(s.mode&1))s.memoizedState=null;else switch(m){case"forwards":for(l=s.child,m=null;l!==null;)r=l.alternate,r!==null&&Vu(r)===null&&(m=l),l=l.sibling;l=m,l===null?(m=s.child,s.child=null):(m=l.sibling,l.sibling=null),Rd(s,!1,m,l,v);break;case"backwards":for(l=null,m=s.child,s.child=null;m!==null;){if(r=m.alternate,r!==null&&Vu(r)===null){s.child=m;break}r=m.sibling,m.sibling=l,l=m,m=r}Rd(s,!0,l,null,v);break;case"together":Rd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function $u(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function zr(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),ds|=s.lanes,!(l&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(n(153));if(s.child!==null){for(r=s.child,l=Ti(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ti(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function IS(r,s,l){switch(s.tag){case 3:Ey(s),go();break;case 5:Bg(s);break;case 1:rn(s.type)&&Su(s);break;case 4:ud(s,s.stateNode.containerInfo);break;case 10:var d=s.type._context,m=s.memoizedProps.value;Ge(Ru,d._currentValue),d._currentValue=m;break;case 13:if(d=s.memoizedState,d!==null)return d.dehydrated!==null?(Ge(tt,tt.current&1),s.flags|=128,null):l&s.child.childLanes?Sy(r,s,l):(Ge(tt,tt.current&1),r=zr(r,s,l),r!==null?r.sibling:null);Ge(tt,tt.current&1);break;case 19:if(d=(l&s.childLanes)!==0,r.flags&128){if(d)return Ay(r,s,l);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ge(tt,tt.current),d)break;return null;case 22:case 23:return s.lanes=0,_y(r,s,l)}return zr(r,s,l)}var Py,kd,by,Iy;Py=function(r,s){for(var l=s.child;l!==null;){if(l.tag===5||l.tag===6)r.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===s)break;for(;l.sibling===null;){if(l.return===null||l.return===s)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},kd=function(){},by=function(r,s,l,d){var m=r.memoizedProps;if(m!==d){r=s.stateNode,cs(cr.current);var v=null;switch(l){case"input":m=tr(r,m),d=tr(r,d),v=[];break;case"select":m=ce({},m,{value:void 0}),d=ce({},d,{value:void 0}),v=[];break;case"textarea":m=sa(r,m),d=sa(r,d),v=[];break;default:typeof m.onClick!="function"&&typeof d.onClick=="function"&&(r.onclick=wu)}ha(l,d);var T;l=null;for(Q in m)if(!d.hasOwnProperty(Q)&&m.hasOwnProperty(Q)&&m[Q]!=null)if(Q==="style"){var N=m[Q];for(T in N)N.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else Q!=="dangerouslySetInnerHTML"&&Q!=="children"&&Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&Q!=="autoFocus"&&(o.hasOwnProperty(Q)?v||(v=[]):(v=v||[]).push(Q,null));for(Q in d){var L=d[Q];if(N=m!=null?m[Q]:void 0,d.hasOwnProperty(Q)&&L!==N&&(L!=null||N!=null))if(Q==="style")if(N){for(T in N)!N.hasOwnProperty(T)||L&&L.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in L)L.hasOwnProperty(T)&&N[T]!==L[T]&&(l||(l={}),l[T]=L[T])}else l||(v||(v=[]),v.push(Q,l)),l=L;else Q==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,N=N?N.__html:void 0,L!=null&&N!==L&&(v=v||[]).push(Q,L)):Q==="children"?typeof L!="string"&&typeof L!="number"||(v=v||[]).push(Q,""+L):Q!=="suppressContentEditableWarning"&&Q!=="suppressHydrationWarning"&&(o.hasOwnProperty(Q)?(L!=null&&Q==="onScroll"&&Qe("scroll",r),v||N===L||(v=[])):(v=v||[]).push(Q,L))}l&&(v=v||[]).push("style",l);var Q=v;(s.updateQueue=Q)&&(s.flags|=4)}},Iy=function(r,s,l,d){l!==d&&(s.flags|=4)};function Ha(r,s){if(!Je)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:d.sibling=null}}function Ut(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,d=0;if(s)for(var m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags&14680064,d|=m.flags&14680064,m.return=r,m=m.sibling;else for(m=r.child;m!==null;)l|=m.lanes|m.childLanes,d|=m.subtreeFlags,d|=m.flags,m.return=r,m=m.sibling;return r.subtreeFlags|=d,r.childLanes=l,s}function RS(r,s,l){var d=s.pendingProps;switch(Zh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(s),null;case 1:return rn(s.type)&&Tu(),Ut(s),null;case 3:return d=s.stateNode,xo(),Xe(nn),Xe(Ft),dd(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(r===null||r.child===null)&&(bu(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Gn!==null&&($d(Gn),Gn=null))),kd(r,s),Ut(s),null;case 5:cd(s);var m=cs(Ba.current);if(l=s.type,r!==null&&s.stateNode!=null)by(r,s,l,d,m),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!d){if(s.stateNode===null)throw Error(n(166));return Ut(s),null}if(r=cs(cr.current),bu(s)){d=s.stateNode,l=s.type;var v=s.memoizedProps;switch(d[ur]=s,d[Ma]=v,r=(s.mode&1)!==0,l){case"dialog":Qe("cancel",d),Qe("close",d);break;case"iframe":case"object":case"embed":Qe("load",d);break;case"video":case"audio":for(m=0;m<Na.length;m++)Qe(Na[m],d);break;case"source":Qe("error",d);break;case"img":case"image":case"link":Qe("error",d),Qe("load",d);break;case"details":Qe("toggle",d);break;case"input":gt(d,v),Qe("invalid",d);break;case"select":d._wrapperState={wasMultiple:!!v.multiple},Qe("invalid",d);break;case"textarea":Ls(d,v),Qe("invalid",d)}ha(l,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var N=v[T];T==="children"?typeof N=="string"?d.textContent!==N&&(v.suppressHydrationWarning!==!0&&xu(d.textContent,N,r),m=["children",N]):typeof N=="number"&&d.textContent!==""+N&&(v.suppressHydrationWarning!==!0&&xu(d.textContent,N,r),m=["children",""+N]):o.hasOwnProperty(T)&&N!=null&&T==="onScroll"&&Qe("scroll",d)}switch(l){case"input":xn(d),Gl(d,v,!0);break;case"textarea":xn(d),oa(d);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(d.onclick=wu)}d=m,s.updateQueue=d,d!==null&&(s.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=yt(l)),r==="http://www.w3.org/1999/xhtml"?l==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof d.is=="string"?r=T.createElement(l,{is:d.is}):(r=T.createElement(l),l==="select"&&(T=r,d.multiple?T.multiple=!0:d.size&&(T.size=d.size))):r=T.createElementNS(r,l),r[ur]=s,r[Ma]=d,Py(r,s,!1,!1),s.stateNode=r;e:{switch(T=da(l,d),l){case"dialog":Qe("cancel",r),Qe("close",r),m=d;break;case"iframe":case"object":case"embed":Qe("load",r),m=d;break;case"video":case"audio":for(m=0;m<Na.length;m++)Qe(Na[m],r);m=d;break;case"source":Qe("error",r),m=d;break;case"img":case"image":case"link":Qe("error",r),Qe("load",r),m=d;break;case"details":Qe("toggle",r),m=d;break;case"input":gt(r,d),m=tr(r,d),Qe("invalid",r);break;case"option":m=d;break;case"select":r._wrapperState={wasMultiple:!!d.multiple},m=ce({},d,{value:void 0}),Qe("invalid",r);break;case"textarea":Ls(r,d),m=sa(r,d),Qe("invalid",r);break;default:m=d}ha(l,m),N=m;for(v in N)if(N.hasOwnProperty(v)){var L=N[v];v==="style"?ua(r,L):v==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&aa(r,L)):v==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&ti(r,L):typeof L=="number"&&ti(r,""+L):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(o.hasOwnProperty(v)?L!=null&&v==="onScroll"&&Qe("scroll",r):L!=null&&O(r,v,L,T))}switch(l){case"input":xn(r),Gl(r,d,!1);break;case"textarea":xn(r),oa(r);break;case"option":d.value!=null&&r.setAttribute("value",""+Re(d.value));break;case"select":r.multiple=!!d.multiple,v=d.value,v!=null?Ir(r,!!d.multiple,v,!1):d.defaultValue!=null&&Ir(r,!!d.multiple,d.defaultValue,!0);break;default:typeof m.onClick=="function"&&(r.onclick=wu)}switch(l){case"button":case"input":case"select":case"textarea":d=!!d.autoFocus;break e;case"img":d=!0;break e;default:d=!1}}d&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ut(s),null;case 6:if(r&&s.stateNode!=null)Iy(r,s,r.memoizedProps,d);else{if(typeof d!="string"&&s.stateNode===null)throw Error(n(166));if(l=cs(Ba.current),cs(cr.current),bu(s)){if(d=s.stateNode,l=s.memoizedProps,d[ur]=s,(v=d.nodeValue!==l)&&(r=mn,r!==null))switch(r.tag){case 3:xu(d.nodeValue,l,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&xu(d.nodeValue,l,(r.mode&1)!==0)}v&&(s.flags|=4)}else d=(l.nodeType===9?l:l.ownerDocument).createTextNode(d),d[ur]=s,s.stateNode=d}return Ut(s),null;case 13:if(Xe(tt),d=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Je&&gn!==null&&s.mode&1&&!(s.flags&128))Ng(),go(),s.flags|=98560,v=!1;else if(v=bu(s),d!==null&&d.dehydrated!==null){if(r===null){if(!v)throw Error(n(318));if(v=s.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[ur]=s}else go(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ut(s),v=!1}else Gn!==null&&($d(Gn),Gn=null),v=!0;if(!v)return s.flags&65536?s:null}return s.flags&128?(s.lanes=l,s):(d=d!==null,d!==(r!==null&&r.memoizedState!==null)&&d&&(s.child.flags|=8192,s.mode&1&&(r===null||tt.current&1?wt===0&&(wt=3):Hd())),s.updateQueue!==null&&(s.flags|=4),Ut(s),null);case 4:return xo(),kd(r,s),r===null&&Da(s.stateNode.containerInfo),Ut(s),null;case 10:return sd(s.type._context),Ut(s),null;case 17:return rn(s.type)&&Tu(),Ut(s),null;case 19:if(Xe(tt),v=s.memoizedState,v===null)return Ut(s),null;if(d=(s.flags&128)!==0,T=v.rendering,T===null)if(d)Ha(v,!1);else{if(wt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(T=Vu(r),T!==null){for(s.flags|=128,Ha(v,!1),d=T.updateQueue,d!==null&&(s.updateQueue=d,s.flags|=4),s.subtreeFlags=0,d=l,l=s.child;l!==null;)v=l,r=d,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=r,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,r=T.dependencies,v.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),l=l.sibling;return Ge(tt,tt.current&1|2),s.child}r=r.sibling}v.tail!==null&&He()>So&&(s.flags|=128,d=!0,Ha(v,!1),s.lanes=4194304)}else{if(!d)if(r=Vu(T),r!==null){if(s.flags|=128,d=!0,l=r.updateQueue,l!==null&&(s.updateQueue=l,s.flags|=4),Ha(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!Je)return Ut(s),null}else 2*He()-v.renderingStartTime>So&&l!==1073741824&&(s.flags|=128,d=!0,Ha(v,!1),s.lanes=4194304);v.isBackwards?(T.sibling=s.child,s.child=T):(l=v.last,l!==null?l.sibling=T:s.child=T,v.last=T)}return v.tail!==null?(s=v.tail,v.rendering=s,v.tail=s.sibling,v.renderingStartTime=He(),s.sibling=null,l=tt.current,Ge(tt,d?l&1|2:l&1),s):(Ut(s),null);case 22:case 23:return Wd(),d=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==d&&(s.flags|=8192),d&&s.mode&1?yn&1073741824&&(Ut(s),s.subtreeFlags&6&&(s.flags|=8192)):Ut(s),null;case 24:return null;case 25:return null}throw Error(n(156,s.tag))}function kS(r,s){switch(Zh(s),s.tag){case 1:return rn(s.type)&&Tu(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return xo(),Xe(nn),Xe(Ft),dd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return cd(s),null;case 13:if(Xe(tt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(n(340));go()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Xe(tt),null;case 4:return xo(),null;case 10:return sd(s.type._context),null;case 22:case 23:return Wd(),null;case 24:return null;default:return null}}var zu=!1,$t=!1,NS=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Eo(r,s){var l=r.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(d){ot(r,s,d)}else l.current=null}function Nd(r,s,l){try{l()}catch(d){ot(r,s,d)}}var Ry=!1;function DS(r,s){if(Wh=ui,r=lg(),Lh(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var d=l.getSelection&&l.getSelection();if(d&&d.rangeCount!==0){l=d.anchorNode;var m=d.anchorOffset,v=d.focusNode;d=d.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,N=-1,L=-1,Q=0,ne=0,se=r,te=null;t:for(;;){for(var he;se!==l||m!==0&&se.nodeType!==3||(N=T+m),se!==v||d!==0&&se.nodeType!==3||(L=T+d),se.nodeType===3&&(T+=se.nodeValue.length),(he=se.firstChild)!==null;)te=se,se=he;for(;;){if(se===r)break t;if(te===l&&++Q===m&&(N=T),te===v&&++ne===d&&(L=T),(he=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=he}l=N===-1||L===-1?null:{start:N,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Hh={focusedElem:r,selectionRange:l},ui=!1,fe=s;fe!==null;)if(s=fe,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,fe=r;else for(;fe!==null;){s=fe;try{var pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,ct=pe.memoizedState,q=s.stateNode,B=q.getSnapshotBeforeUpdate(s.elementType===s.type?me:qn(s.type,me),ct);q.__reactInternalSnapshotBeforeUpdate=B}break;case 3:var K=s.stateNode.containerInfo;K.nodeType===1?K.textContent="":K.nodeType===9&&K.documentElement&&K.removeChild(K.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){ot(s,s.return,le)}if(r=s.sibling,r!==null){r.return=s.return,fe=r;break}fe=s.return}return pe=Ry,Ry=!1,pe}function Ga(r,s,l){var d=s.updateQueue;if(d=d!==null?d.lastEffect:null,d!==null){var m=d=d.next;do{if((m.tag&r)===r){var v=m.destroy;m.destroy=void 0,v!==void 0&&Nd(s,l,v)}m=m.next}while(m!==d)}}function Wu(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&r)===r){var d=l.create;l.destroy=d()}l=l.next}while(l!==s)}}function Dd(r){var s=r.ref;if(s!==null){var l=r.stateNode;switch(r.tag){case 5:r=l;break;default:r=l}typeof s=="function"?s(r):s.current=r}}function ky(r){var s=r.alternate;s!==null&&(r.alternate=null,ky(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[ur],delete s[Ma],delete s[Qh],delete s[mS],delete s[gS])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Ny(r){return r.tag===5||r.tag===3||r.tag===4}function Dy(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Ny(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Vd(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.nodeType===8?l.parentNode.insertBefore(r,s):l.insertBefore(r,s):(l.nodeType===8?(s=l.parentNode,s.insertBefore(r,l)):(s=l,s.appendChild(r)),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=wu));else if(d!==4&&(r=r.child,r!==null))for(Vd(r,s,l),r=r.sibling;r!==null;)Vd(r,s,l),r=r.sibling}function Md(r,s,l){var d=r.tag;if(d===5||d===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(d!==4&&(r=r.child,r!==null))for(Md(r,s,l),r=r.sibling;r!==null;)Md(r,s,l),r=r.sibling}var Nt=null,Kn=!1;function vi(r,s,l){for(l=l.child;l!==null;)Vy(r,s,l),l=l.sibling}function Vy(r,s,l){if(hn&&typeof hn.onCommitFiberUnmount=="function")try{hn.onCommitFiberUnmount(Ji,l)}catch{}switch(l.tag){case 5:$t||Eo(l,s);case 6:var d=Nt,m=Kn;Nt=null,vi(r,s,l),Nt=d,Kn=m,Nt!==null&&(Kn?(r=Nt,l=l.stateNode,r.nodeType===8?r.parentNode.removeChild(l):r.removeChild(l)):Nt.removeChild(l.stateNode));break;case 18:Nt!==null&&(Kn?(r=Nt,l=l.stateNode,r.nodeType===8?Kh(r.parentNode,l):r.nodeType===1&&Kh(r,l),zn(r)):Kh(Nt,l.stateNode));break;case 4:d=Nt,m=Kn,Nt=l.stateNode.containerInfo,Kn=!0,vi(r,s,l),Nt=d,Kn=m;break;case 0:case 11:case 14:case 15:if(!$t&&(d=l.updateQueue,d!==null&&(d=d.lastEffect,d!==null))){m=d=d.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&(v&2||v&4)&&Nd(l,s,T),m=m.next}while(m!==d)}vi(r,s,l);break;case 1:if(!$t&&(Eo(l,s),d=l.stateNode,typeof d.componentWillUnmount=="function"))try{d.props=l.memoizedProps,d.state=l.memoizedState,d.componentWillUnmount()}catch(N){ot(l,s,N)}vi(r,s,l);break;case 21:vi(r,s,l);break;case 22:l.mode&1?($t=(d=$t)||l.memoizedState!==null,vi(r,s,l),$t=d):vi(r,s,l);break;default:vi(r,s,l)}}function My(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var l=r.stateNode;l===null&&(l=r.stateNode=new NS),s.forEach(function(d){var m=$S.bind(null,r,d);l.has(d)||(l.add(d),d.then(m,m))})}}function Qn(r,s){var l=s.deletions;if(l!==null)for(var d=0;d<l.length;d++){var m=l[d];try{var v=r,T=s,N=T;e:for(;N!==null;){switch(N.tag){case 5:Nt=N.stateNode,Kn=!1;break e;case 3:Nt=N.stateNode.containerInfo,Kn=!0;break e;case 4:Nt=N.stateNode.containerInfo,Kn=!0;break e}N=N.return}if(Nt===null)throw Error(n(160));Vy(v,T,m),Nt=null,Kn=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(Q){ot(m,s,Q)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Ly(s,r),s=s.sibling}function Ly(r,s){var l=r.alternate,d=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Qn(s,r),dr(r),d&4){try{Ga(3,r,r.return),Wu(3,r)}catch(me){ot(r,r.return,me)}try{Ga(5,r,r.return)}catch(me){ot(r,r.return,me)}}break;case 1:Qn(s,r),dr(r),d&512&&l!==null&&Eo(l,l.return);break;case 5:if(Qn(s,r),dr(r),d&512&&l!==null&&Eo(l,l.return),r.flags&32){var m=r.stateNode;try{ti(m,"")}catch(me){ot(r,r.return,me)}}if(d&4&&(m=r.stateNode,m!=null)){var v=r.memoizedProps,T=l!==null?l.memoizedProps:v,N=r.type,L=r.updateQueue;if(r.updateQueue=null,L!==null)try{N==="input"&&v.type==="radio"&&v.name!=null&&Pr(m,v),da(N,T);var Q=da(N,v);for(T=0;T<L.length;T+=2){var ne=L[T],se=L[T+1];ne==="style"?ua(m,se):ne==="dangerouslySetInnerHTML"?aa(m,se):ne==="children"?ti(m,se):O(m,ne,se,Q)}switch(N){case"input":ia(m,v);break;case"textarea":Os(m,v);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var he=v.value;he!=null?Ir(m,!!v.multiple,he,!1):te!==!!v.multiple&&(v.defaultValue!=null?Ir(m,!!v.multiple,v.defaultValue,!0):Ir(m,!!v.multiple,v.multiple?[]:"",!1))}m[Ma]=v}catch(me){ot(r,r.return,me)}}break;case 6:if(Qn(s,r),dr(r),d&4){if(r.stateNode===null)throw Error(n(162));m=r.stateNode,v=r.memoizedProps;try{m.nodeValue=v}catch(me){ot(r,r.return,me)}}break;case 3:if(Qn(s,r),dr(r),d&4&&l!==null&&l.memoizedState.isDehydrated)try{zn(s.containerInfo)}catch(me){ot(r,r.return,me)}break;case 4:Qn(s,r),dr(r);break;case 13:Qn(s,r),dr(r),m=r.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(jd=He())),d&4&&My(r);break;case 22:if(ne=l!==null&&l.memoizedState!==null,r.mode&1?($t=(Q=$t)||ne,Qn(s,r),$t=Q):Qn(s,r),dr(r),d&8192){if(Q=r.memoizedState!==null,(r.stateNode.isHidden=Q)&&!ne&&r.mode&1)for(fe=r,ne=r.child;ne!==null;){for(se=fe=ne;fe!==null;){switch(te=fe,he=te.child,te.tag){case 0:case 11:case 14:case 15:Ga(4,te,te.return);break;case 1:Eo(te,te.return);var pe=te.stateNode;if(typeof pe.componentWillUnmount=="function"){d=te,l=te.return;try{s=d,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){ot(d,l,me)}}break;case 5:Eo(te,te.return);break;case 22:if(te.memoizedState!==null){Fy(se);continue}}he!==null?(he.return=te,fe=he):Fy(se)}ne=ne.sibling}e:for(ne=null,se=r;;){if(se.tag===5){if(ne===null){ne=se;try{m=se.stateNode,Q?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(N=se.stateNode,L=se.memoizedProps.style,T=L!=null&&L.hasOwnProperty("display")?L.display:null,N.style.display=la("display",T))}catch(me){ot(r,r.return,me)}}}else if(se.tag===6){if(ne===null)try{se.stateNode.nodeValue=Q?"":se.memoizedProps}catch(me){ot(r,r.return,me)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===r)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===r)break e;for(;se.sibling===null;){if(se.return===null||se.return===r)break e;ne===se&&(ne=null),se=se.return}ne===se&&(ne=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:Qn(s,r),dr(r),d&4&&My(r);break;case 21:break;default:Qn(s,r),dr(r)}}function dr(r){var s=r.flags;if(s&2){try{e:{for(var l=r.return;l!==null;){if(Ny(l)){var d=l;break e}l=l.return}throw Error(n(160))}switch(d.tag){case 5:var m=d.stateNode;d.flags&32&&(ti(m,""),d.flags&=-33);var v=Dy(r);Md(r,v,m);break;case 3:case 4:var T=d.stateNode.containerInfo,N=Dy(r);Vd(r,N,T);break;default:throw Error(n(161))}}catch(L){ot(r,r.return,L)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function VS(r,s,l){fe=r,Oy(r)}function Oy(r,s,l){for(var d=(r.mode&1)!==0;fe!==null;){var m=fe,v=m.child;if(m.tag===22&&d){var T=m.memoizedState!==null||zu;if(!T){var N=m.alternate,L=N!==null&&N.memoizedState!==null||$t;N=zu;var Q=$t;if(zu=T,($t=L)&&!Q)for(fe=m;fe!==null;)T=fe,L=T.child,T.tag===22&&T.memoizedState!==null?By(m):L!==null?(L.return=T,fe=L):By(m);for(;v!==null;)fe=v,Oy(v),v=v.sibling;fe=m,zu=N,$t=Q}jy(r)}else m.subtreeFlags&8772&&v!==null?(v.return=m,fe=v):jy(r)}}function jy(r){for(;fe!==null;){var s=fe;if(s.flags&8772){var l=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:$t||Wu(5,s);break;case 1:var d=s.stateNode;if(s.flags&4&&!$t)if(l===null)d.componentDidMount();else{var m=s.elementType===s.type?l.memoizedProps:qn(s.type,l.memoizedProps);d.componentDidUpdate(m,l.memoizedState,d.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&Fg(s,v,d);break;case 3:var T=s.updateQueue;if(T!==null){if(l=null,s.child!==null)switch(s.child.tag){case 5:l=s.child.stateNode;break;case 1:l=s.child.stateNode}Fg(s,T,l)}break;case 5:var N=s.stateNode;if(l===null&&s.flags&4){l=N;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var Q=s.alternate;if(Q!==null){var ne=Q.memoizedState;if(ne!==null){var se=ne.dehydrated;se!==null&&zn(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}$t||s.flags&512&&Dd(s)}catch(te){ot(s,s.return,te)}}if(s===r){fe=null;break}if(l=s.sibling,l!==null){l.return=s.return,fe=l;break}fe=s.return}}function Fy(r){for(;fe!==null;){var s=fe;if(s===r){fe=null;break}var l=s.sibling;if(l!==null){l.return=s.return,fe=l;break}fe=s.return}}function By(r){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var l=s.return;try{Wu(4,s)}catch(L){ot(s,l,L)}break;case 1:var d=s.stateNode;if(typeof d.componentDidMount=="function"){var m=s.return;try{d.componentDidMount()}catch(L){ot(s,m,L)}}var v=s.return;try{Dd(s)}catch(L){ot(s,v,L)}break;case 5:var T=s.return;try{Dd(s)}catch(L){ot(s,T,L)}}}catch(L){ot(s,s.return,L)}if(s===r){fe=null;break}var N=s.sibling;if(N!==null){N.return=s.return,fe=N;break}fe=s.return}}var MS=Math.ceil,Hu=U.ReactCurrentDispatcher,Ld=U.ReactCurrentOwner,Rn=U.ReactCurrentBatchConfig,Fe=0,Pt=null,pt=null,Dt=0,yn=0,To=fi(0),wt=0,qa=null,ds=0,Gu=0,Od=0,Ka=null,on=null,jd=0,So=1/0,Wr=null,qu=!1,Fd=null,_i=null,Ku=!1,xi=null,Qu=0,Qa=0,Bd=null,Xu=-1,Yu=0;function Yt(){return Fe&6?He():Xu!==-1?Xu:Xu=He()}function wi(r){return r.mode&1?Fe&2&&Dt!==0?Dt&-Dt:vS.transition!==null?(Yu===0&&(Yu=es()),Yu):(r=Ve,r!==0||(r=window.event,r=r===void 0?16:Ta(r.type)),r):1}function Xn(r,s,l,d){if(50<Qa)throw Qa=0,Bd=null,Error(n(185));si(r,l,d),(!(Fe&2)||r!==Pt)&&(r===Pt&&(!(Fe&2)&&(Gu|=l),wt===4&&Ei(r,Dt)),an(r,d),l===1&&Fe===0&&!(s.mode&1)&&(So=He()+500,Cu&&mi()))}function an(r,s){var l=r.callbackNode;Nr(r,s);var d=Zi(r,r===Pt?Dt:0);if(d===0)l!==null&&va(l),r.callbackNode=null,r.callbackPriority=0;else if(s=d&-d,r.callbackPriority!==s){if(l!=null&&va(l),s===1)r.tag===0?yS($y.bind(null,r)):Pg($y.bind(null,r)),fS(function(){!(Fe&6)&&mi()}),l=null;else{switch(ai(d)){case 1:l=Yi;break;case 4:l=ni;break;case 16:l=Tn;break;case 536870912:l=Yl;break;default:l=Tn}l=Xy(l,Uy.bind(null,r))}r.callbackPriority=s,r.callbackNode=l}}function Uy(r,s){if(Xu=-1,Yu=0,Fe&6)throw Error(n(327));var l=r.callbackNode;if(Co()&&r.callbackNode!==l)return null;var d=Zi(r,r===Pt?Dt:0);if(d===0)return null;if(d&30||d&r.expiredLanes||s)s=Ju(r,d);else{s=d;var m=Fe;Fe|=2;var v=Wy();(Pt!==r||Dt!==s)&&(Wr=null,So=He()+500,ps(r,s));do try{jS();break}catch(N){zy(r,N)}while(!0);id(),Hu.current=v,Fe=m,pt!==null?s=0:(Pt=null,Dt=0,s=wt)}if(s!==0){if(s===2&&(m=dn(r),m!==0&&(d=m,s=Ud(r,m))),s===1)throw l=qa,ps(r,0),Ei(r,d),an(r,He()),l;if(s===6)Ei(r,d);else{if(m=r.current.alternate,!(d&30)&&!LS(m)&&(s=Ju(r,d),s===2&&(v=dn(r),v!==0&&(d=v,s=Ud(r,v))),s===1))throw l=qa,ps(r,0),Ei(r,d),an(r,He()),l;switch(r.finishedWork=m,r.finishedLanes=d,s){case 0:case 1:throw Error(n(345));case 2:ms(r,on,Wr);break;case 3:if(Ei(r,d),(d&130023424)===d&&(s=jd+500-He(),10<s)){if(Zi(r,0)!==0)break;if(m=r.suspendedLanes,(m&d)!==d){Yt(),r.pingedLanes|=r.suspendedLanes&m;break}r.timeoutHandle=qh(ms.bind(null,r,on,Wr),s);break}ms(r,on,Wr);break;case 4:if(Ei(r,d),(d&4194240)===d)break;for(s=r.eventTimes,m=-1;0<d;){var T=31-Kt(d);v=1<<T,T=s[T],T>m&&(m=T),d&=~v}if(d=m,d=He()-d,d=(120>d?120:480>d?480:1080>d?1080:1920>d?1920:3e3>d?3e3:4320>d?4320:1960*MS(d/1960))-d,10<d){r.timeoutHandle=qh(ms.bind(null,r,on,Wr),d);break}ms(r,on,Wr);break;case 5:ms(r,on,Wr);break;default:throw Error(n(329))}}}return an(r,He()),r.callbackNode===l?Uy.bind(null,r):null}function Ud(r,s){var l=Ka;return r.current.memoizedState.isDehydrated&&(ps(r,s).flags|=256),r=Ju(r,s),r!==2&&(s=on,on=l,s!==null&&$d(s)),r}function $d(r){on===null?on=r:on.push.apply(on,r)}function LS(r){for(var s=r;;){if(s.flags&16384){var l=s.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var d=0;d<l.length;d++){var m=l[d],v=m.getSnapshot;m=m.value;try{if(!Hn(v(),m))return!1}catch{return!1}}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ei(r,s){for(s&=~Od,s&=~Gu,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var l=31-Kt(s),d=1<<l;r[l]=-1,s&=~d}}function $y(r){if(Fe&6)throw Error(n(327));Co();var s=Zi(r,0);if(!(s&1))return an(r,He()),null;var l=Ju(r,s);if(r.tag!==0&&l===2){var d=dn(r);d!==0&&(s=d,l=Ud(r,d))}if(l===1)throw l=qa,ps(r,0),Ei(r,s),an(r,He()),l;if(l===6)throw Error(n(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ms(r,on,Wr),an(r,He()),null}function zd(r,s){var l=Fe;Fe|=1;try{return r(s)}finally{Fe=l,Fe===0&&(So=He()+500,Cu&&mi())}}function fs(r){xi!==null&&xi.tag===0&&!(Fe&6)&&Co();var s=Fe;Fe|=1;var l=Rn.transition,d=Ve;try{if(Rn.transition=null,Ve=1,r)return r()}finally{Ve=d,Rn.transition=l,Fe=s,!(Fe&6)&&mi()}}function Wd(){yn=To.current,Xe(To)}function ps(r,s){r.finishedWork=null,r.finishedLanes=0;var l=r.timeoutHandle;if(l!==-1&&(r.timeoutHandle=-1,dS(l)),pt!==null)for(l=pt.return;l!==null;){var d=l;switch(Zh(d),d.tag){case 1:d=d.type.childContextTypes,d!=null&&Tu();break;case 3:xo(),Xe(nn),Xe(Ft),dd();break;case 5:cd(d);break;case 4:xo();break;case 13:Xe(tt);break;case 19:Xe(tt);break;case 10:sd(d.type._context);break;case 22:case 23:Wd()}l=l.return}if(Pt=r,pt=r=Ti(r.current,null),Dt=yn=s,wt=0,qa=null,Od=Gu=ds=0,on=Ka=null,us!==null){for(s=0;s<us.length;s++)if(l=us[s],d=l.interleaved,d!==null){l.interleaved=null;var m=d.next,v=l.pending;if(v!==null){var T=v.next;v.next=m,d.next=T}l.pending=d}us=null}return r}function zy(r,s){do{var l=pt;try{if(id(),Mu.current=Fu,Lu){for(var d=nt.memoizedState;d!==null;){var m=d.queue;m!==null&&(m.pending=null),d=d.next}Lu=!1}if(hs=0,At=xt=nt=null,Ua=!1,$a=0,Ld.current=null,l===null||l.return===null){wt=1,qa=s,pt=null;break}e:{var v=r,T=l.return,N=l,L=s;if(s=Dt,N.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var Q=L,ne=N,se=ne.tag;if(!(ne.mode&1)&&(se===0||se===11||se===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var he=py(T);if(he!==null){he.flags&=-257,my(he,T,N,v,s),he.mode&1&&fy(v,Q,s),s=he,L=Q;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(L),s.updateQueue=me}else pe.add(L);break e}else{if(!(s&1)){fy(v,Q,s),Hd();break e}L=Error(n(426))}}else if(Je&&N.mode&1){var ct=py(T);if(ct!==null){!(ct.flags&65536)&&(ct.flags|=256),my(ct,T,N,v,s),nd(wo(L,N));break e}}v=L=wo(L,N),wt!==4&&(wt=2),Ka===null?Ka=[v]:Ka.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var q=hy(v,L,s);jg(v,q);break e;case 1:N=L;var B=v.type,K=v.stateNode;if(!(v.flags&128)&&(typeof B.getDerivedStateFromError=="function"||K!==null&&typeof K.componentDidCatch=="function"&&(_i===null||!_i.has(K)))){v.flags|=65536,s&=-s,v.lanes|=s;var le=dy(v,N,s);jg(v,le);break e}}v=v.return}while(v!==null)}Gy(l)}catch(ye){s=ye,pt===l&&l!==null&&(pt=l=l.return);continue}break}while(!0)}function Wy(){var r=Hu.current;return Hu.current=Fu,r===null?Fu:r}function Hd(){(wt===0||wt===3||wt===2)&&(wt=4),Pt===null||!(ds&268435455)&&!(Gu&268435455)||Ei(Pt,Dt)}function Ju(r,s){var l=Fe;Fe|=2;var d=Wy();(Pt!==r||Dt!==s)&&(Wr=null,ps(r,s));do try{OS();break}catch(m){zy(r,m)}while(!0);if(id(),Fe=l,Hu.current=d,pt!==null)throw Error(n(261));return Pt=null,Dt=0,wt}function OS(){for(;pt!==null;)Hy(pt)}function jS(){for(;pt!==null&&!Ql();)Hy(pt)}function Hy(r){var s=Qy(r.alternate,r,yn);r.memoizedProps=r.pendingProps,s===null?Gy(r):pt=s,Ld.current=null}function Gy(r){var s=r;do{var l=s.alternate;if(r=s.return,s.flags&32768){if(l=kS(l,s),l!==null){l.flags&=32767,pt=l;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{wt=6,pt=null;return}}else if(l=RS(l,s,yn),l!==null){pt=l;return}if(s=s.sibling,s!==null){pt=s;return}pt=s=r}while(s!==null);wt===0&&(wt=5)}function ms(r,s,l){var d=Ve,m=Rn.transition;try{Rn.transition=null,Ve=1,FS(r,s,l,d)}finally{Rn.transition=m,Ve=d}return null}function FS(r,s,l,d){do Co();while(xi!==null);if(Fe&6)throw Error(n(327));l=r.finishedWork;var m=r.finishedLanes;if(l===null)return null;if(r.finishedWork=null,r.finishedLanes=0,l===r.current)throw Error(n(177));r.callbackNode=null,r.callbackPriority=0;var v=l.lanes|l.childLanes;if(We(r,v),r===Pt&&(pt=Pt=null,Dt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||Ku||(Ku=!0,Xy(Tn,function(){return Co(),null})),v=(l.flags&15990)!==0,l.subtreeFlags&15990||v){v=Rn.transition,Rn.transition=null;var T=Ve;Ve=1;var N=Fe;Fe|=4,Ld.current=null,DS(r,l),Ly(l,r),sS(Hh),ui=!!Wh,Hh=Wh=null,r.current=l,VS(l),bh(),Fe=N,Ve=T,Rn.transition=v}else r.current=l;if(Ku&&(Ku=!1,xi=r,Qu=m),v=r.pendingLanes,v===0&&(_i=null),Jl(l.stateNode),an(r,He()),s!==null)for(d=r.onRecoverableError,l=0;l<s.length;l++)m=s[l],d(m.value,{componentStack:m.stack,digest:m.digest});if(qu)throw qu=!1,r=Fd,Fd=null,r;return Qu&1&&r.tag!==0&&Co(),v=r.pendingLanes,v&1?r===Bd?Qa++:(Qa=0,Bd=r):Qa=0,mi(),null}function Co(){if(xi!==null){var r=ai(Qu),s=Rn.transition,l=Ve;try{if(Rn.transition=null,Ve=16>r?16:r,xi===null)var d=!1;else{if(r=xi,xi=null,Qu=0,Fe&6)throw Error(n(331));var m=Fe;for(Fe|=4,fe=r.current;fe!==null;){var v=fe,T=v.child;if(fe.flags&16){var N=v.deletions;if(N!==null){for(var L=0;L<N.length;L++){var Q=N[L];for(fe=Q;fe!==null;){var ne=fe;switch(ne.tag){case 0:case 11:case 15:Ga(8,ne,v)}var se=ne.child;if(se!==null)se.return=ne,fe=se;else for(;fe!==null;){ne=fe;var te=ne.sibling,he=ne.return;if(ky(ne),ne===Q){fe=null;break}if(te!==null){te.return=he,fe=te;break}fe=he}}}var pe=v.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var ct=me.sibling;me.sibling=null,me=ct}while(me!==null)}}fe=v}}if(v.subtreeFlags&2064&&T!==null)T.return=v,fe=T;else e:for(;fe!==null;){if(v=fe,v.flags&2048)switch(v.tag){case 0:case 11:case 15:Ga(9,v,v.return)}var q=v.sibling;if(q!==null){q.return=v.return,fe=q;break e}fe=v.return}}var B=r.current;for(fe=B;fe!==null;){T=fe;var K=T.child;if(T.subtreeFlags&2064&&K!==null)K.return=T,fe=K;else e:for(T=B;fe!==null;){if(N=fe,N.flags&2048)try{switch(N.tag){case 0:case 11:case 15:Wu(9,N)}}catch(ye){ot(N,N.return,ye)}if(N===T){fe=null;break e}var le=N.sibling;if(le!==null){le.return=N.return,fe=le;break e}fe=N.return}}if(Fe=m,mi(),hn&&typeof hn.onPostCommitFiberRoot=="function")try{hn.onPostCommitFiberRoot(Ji,r)}catch{}d=!0}return d}finally{Ve=l,Rn.transition=s}}return!1}function qy(r,s,l){s=wo(l,s),s=hy(r,s,1),r=yi(r,s,1),s=Yt(),r!==null&&(si(r,1,s),an(r,s))}function ot(r,s,l){if(r.tag===3)qy(r,r,l);else for(;s!==null;){if(s.tag===3){qy(s,r,l);break}else if(s.tag===1){var d=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof d.componentDidCatch=="function"&&(_i===null||!_i.has(d))){r=wo(l,r),r=dy(s,r,1),s=yi(s,r,1),r=Yt(),s!==null&&(si(s,1,r),an(s,r));break}}s=s.return}}function BS(r,s,l){var d=r.pingCache;d!==null&&d.delete(s),s=Yt(),r.pingedLanes|=r.suspendedLanes&l,Pt===r&&(Dt&l)===l&&(wt===4||wt===3&&(Dt&130023424)===Dt&&500>He()-jd?ps(r,0):Od|=l),an(r,s)}function Ky(r,s){s===0&&(r.mode&1?(s=qs,qs<<=1,!(qs&130023424)&&(qs=4194304)):s=1);var l=Yt();r=Ur(r,s),r!==null&&(si(r,s,l),an(r,l))}function US(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),Ky(r,l)}function $S(r,s){var l=0;switch(r.tag){case 13:var d=r.stateNode,m=r.memoizedState;m!==null&&(l=m.retryLane);break;case 19:d=r.stateNode;break;default:throw Error(n(314))}d!==null&&d.delete(s),Ky(r,l)}var Qy;Qy=function(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps||nn.current)sn=!0;else{if(!(r.lanes&l)&&!(s.flags&128))return sn=!1,IS(r,s,l);sn=!!(r.flags&131072)}else sn=!1,Je&&s.flags&1048576&&bg(s,Pu,s.index);switch(s.lanes=0,s.tag){case 2:var d=s.type;$u(r,s),r=s.pendingProps;var m=fo(s,Ft.current);_o(s,l),m=md(null,s,d,r,m,l);var v=gd();return s.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,rn(d)?(v=!0,Su(s)):v=!1,s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,ld(s),m.updater=Bu,s.stateNode=m,m._reactInternals=s,Ed(s,d,r,l),s=Ad(null,s,d,!0,v,l)):(s.tag=0,Je&&v&&Jh(s),Xt(null,s,m,l),s=s.child),s;case 16:d=s.elementType;e:{switch($u(r,s),r=s.pendingProps,m=d._init,d=m(d._payload),s.type=d,m=s.tag=WS(d),r=qn(d,r),m){case 0:s=Cd(null,s,d,r,l);break e;case 1:s=wy(null,s,d,r,l);break e;case 11:s=gy(null,s,d,r,l);break e;case 14:s=yy(null,s,d,qn(d.type,r),l);break e}throw Error(n(306,d,""))}return s;case 0:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:qn(d,m),Cd(r,s,d,m,l);case 1:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:qn(d,m),wy(r,s,d,m,l);case 3:e:{if(Ey(s),r===null)throw Error(n(387));d=s.pendingProps,v=s.memoizedState,m=v.element,Og(r,s),Du(s,d,null,l);var T=s.memoizedState;if(d=T.element,v.isDehydrated)if(v={element:d,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){m=wo(Error(n(423)),s),s=Ty(r,s,d,l,m);break e}else if(d!==m){m=wo(Error(n(424)),s),s=Ty(r,s,d,l,m);break e}else for(gn=di(s.stateNode.containerInfo.firstChild),mn=s,Je=!0,Gn=null,l=Mg(s,null,d,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(go(),d===m){s=zr(r,s,l);break e}Xt(r,s,d,l)}s=s.child}return s;case 5:return Bg(s),r===null&&td(s),d=s.type,m=s.pendingProps,v=r!==null?r.memoizedProps:null,T=m.children,Gh(d,m)?T=null:v!==null&&Gh(d,v)&&(s.flags|=32),xy(r,s),Xt(r,s,T,l),s.child;case 6:return r===null&&td(s),null;case 13:return Sy(r,s,l);case 4:return ud(s,s.stateNode.containerInfo),d=s.pendingProps,r===null?s.child=yo(s,null,d,l):Xt(r,s,d,l),s.child;case 11:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:qn(d,m),gy(r,s,d,m,l);case 7:return Xt(r,s,s.pendingProps,l),s.child;case 8:return Xt(r,s,s.pendingProps.children,l),s.child;case 12:return Xt(r,s,s.pendingProps.children,l),s.child;case 10:e:{if(d=s.type._context,m=s.pendingProps,v=s.memoizedProps,T=m.value,Ge(Ru,d._currentValue),d._currentValue=T,v!==null)if(Hn(v.value,T)){if(v.children===m.children&&!nn.current){s=zr(r,s,l);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var N=v.dependencies;if(N!==null){T=v.child;for(var L=N.firstContext;L!==null;){if(L.context===d){if(v.tag===1){L=$r(-1,l&-l),L.tag=2;var Q=v.updateQueue;if(Q!==null){Q=Q.shared;var ne=Q.pending;ne===null?L.next=L:(L.next=ne.next,ne.next=L),Q.pending=L}}v.lanes|=l,L=v.alternate,L!==null&&(L.lanes|=l),od(v.return,l,s),N.lanes|=l;break}L=L.next}}else if(v.tag===10)T=v.type===s.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=l,N=T.alternate,N!==null&&(N.lanes|=l),od(T,l,s),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===s){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}Xt(r,s,m.children,l),s=s.child}return s;case 9:return m=s.type,d=s.pendingProps.children,_o(s,l),m=bn(m),d=d(m),s.flags|=1,Xt(r,s,d,l),s.child;case 14:return d=s.type,m=qn(d,s.pendingProps),m=qn(d.type,m),yy(r,s,d,m,l);case 15:return vy(r,s,s.type,s.pendingProps,l);case 17:return d=s.type,m=s.pendingProps,m=s.elementType===d?m:qn(d,m),$u(r,s),s.tag=1,rn(d)?(r=!0,Su(s)):r=!1,_o(s,l),uy(s,d,m),Ed(s,d,m,l),Ad(null,s,d,!0,r,l);case 19:return Ay(r,s,l);case 22:return _y(r,s,l)}throw Error(n(156,s.tag))};function Xy(r,s){return Hs(r,s)}function zS(r,s,l,d){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=d,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(r,s,l,d){return new zS(r,s,l,d)}function Gd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function WS(r){if(typeof r=="function")return Gd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===W)return 11;if(r===et)return 14}return 2}function Ti(r,s){var l=r.alternate;return l===null?(l=kn(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&14680064,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l}function Zu(r,s,l,d,m,v){var T=2;if(d=r,typeof r=="function")Gd(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case I:return gs(l.children,m,v,s);case A:T=8,m|=8;break;case b:return r=kn(12,l,s,m|2),r.elementType=b,r.lanes=v,r;case R:return r=kn(13,l,s,m),r.elementType=R,r.lanes=v,r;case je:return r=kn(19,l,s,m),r.elementType=je,r.lanes=v,r;case Ce:return ec(l,m,v,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case V:T=10;break e;case F:T=9;break e;case W:T=11;break e;case et:T=14;break e;case Ke:T=16,d=null;break e}throw Error(n(130,r==null?r:typeof r,""))}return s=kn(T,l,s,m),s.elementType=r,s.type=d,s.lanes=v,s}function gs(r,s,l,d){return r=kn(7,r,d,s),r.lanes=l,r}function ec(r,s,l,d){return r=kn(22,r,d,s),r.elementType=Ce,r.lanes=l,r.stateNode={isHidden:!1},r}function qd(r,s,l){return r=kn(6,r,null,s),r.lanes=l,r}function Kd(r,s,l){return s=kn(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function HS(r,s,l,d,m){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ii(0),this.expirationTimes=ii(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.identifierPrefix=d,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Qd(r,s,l,d,m,v,T,N,L){return r=new HS(r,s,l,N,L),s===1?(s=1,v===!0&&(s|=8)):s=0,v=kn(3,null,null,s),r.current=v,v.stateNode=r,v.memoizedState={element:d,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},ld(v),r}function GS(r,s,l){var d=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:d==null?null:""+d,children:r,containerInfo:s,implementation:l}}function Yy(r){if(!r)return pi;r=r._reactInternals;e:{if(jn(r)!==r||r.tag!==1)throw Error(n(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(rn(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(n(171))}if(r.tag===1){var l=r.type;if(rn(l))return Cg(r,l,s)}return s}function Jy(r,s,l,d,m,v,T,N,L){return r=Qd(l,d,!0,r,m,v,T,N,L),r.context=Yy(null),l=r.current,d=Yt(),m=wi(l),v=$r(d,m),v.callback=s??null,yi(l,v,m),r.current.lanes=m,si(r,m,d),an(r,d),r}function tc(r,s,l,d){var m=s.current,v=Yt(),T=wi(m);return l=Yy(l),s.context===null?s.context=l:s.pendingContext=l,s=$r(v,T),s.payload={element:r},d=d===void 0?null:d,d!==null&&(s.callback=d),r=yi(m,s,T),r!==null&&(Xn(r,m,T,v),Nu(r,m,T)),T}function nc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Zy(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function Xd(r,s){Zy(r,s),(r=r.alternate)&&Zy(r,s)}function qS(){return null}var e0=typeof reportError=="function"?reportError:function(r){console.error(r)};function Yd(r){this._internalRoot=r}rc.prototype.render=Yd.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(n(409));tc(r,s,null,null)},rc.prototype.unmount=Yd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;fs(function(){tc(null,r,null,null)}),s[Or]=null}};function rc(r){this._internalRoot=r}rc.prototype.unstable_scheduleHydration=function(r){if(r){var s=ru();r={blockedOn:null,target:r,priority:s};for(var l=0;l<sr.length&&s!==0&&s<sr[l].priority;l++);sr.splice(l,0,r),l===0&&ou(r)}};function Jd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function ic(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function t0(){}function KS(r,s,l,d,m){if(m){if(typeof d=="function"){var v=d;d=function(){var Q=nc(T);v.call(Q)}}var T=Jy(s,d,r,0,null,!1,!1,"",t0);return r._reactRootContainer=T,r[Or]=T.current,Da(r.nodeType===8?r.parentNode:r),fs(),T}for(;m=r.lastChild;)r.removeChild(m);if(typeof d=="function"){var N=d;d=function(){var Q=nc(L);N.call(Q)}}var L=Qd(r,0,!1,null,null,!1,!1,"",t0);return r._reactRootContainer=L,r[Or]=L.current,Da(r.nodeType===8?r.parentNode:r),fs(function(){tc(s,L,l,d)}),L}function sc(r,s,l,d,m){var v=l._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var N=m;m=function(){var L=nc(T);N.call(L)}}tc(s,T,r,m)}else T=KS(l,s,r,m,d);return nc(T)}tu=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var l=ri(s.pendingLanes);l!==0&&(oi(s,l|1),an(s,He()),!(Fe&6)&&(So=He()+500,mi()))}break;case 13:fs(function(){var d=Ur(r,1);if(d!==null){var m=Yt();Xn(d,r,1,m)}}),Xd(r,1)}},Ks=function(r){if(r.tag===13){var s=Ur(r,134217728);if(s!==null){var l=Yt();Xn(s,r,134217728,l)}Xd(r,134217728)}},nu=function(r){if(r.tag===13){var s=wi(r),l=Ur(r,s);if(l!==null){var d=Yt();Xn(l,r,s,d)}Xd(r,s)}},ru=function(){return Ve},iu=function(r,s){var l=Ve;try{return Ve=r,s()}finally{Ve=l}},Fs=function(r,s,l){switch(s){case"input":if(ia(r,l),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<l.length;s++){var d=l[s];if(d!==r&&d.form===r.form){var m=Eu(d);if(!m)throw Error(n(90));Ar(d),ia(d,m)}}}break;case"textarea":Os(r,l);break;case"select":s=l.value,s!=null&&Ir(r,!!l.multiple,s,!1)}},qi=zd,pa=fs;var QS={usingClientEntryPoint:!1,Events:[La,co,Eu,rr,fa,zd]},Xa={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XS={bundleType:Xa.bundleType,version:Xa.version,rendererPackageName:Xa.rendererPackageName,rendererConfig:Xa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ya(r),r===null?null:r.stateNode},findFiberByHostInstance:Xa.findFiberByHostInstance||qS,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oc.isDisabled&&oc.supportsFiber)try{Ji=oc.inject(XS),hn=oc}catch{}}return ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QS,ln.createPortal=function(r,s){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jd(s))throw Error(n(200));return GS(r,s,null,l)},ln.createRoot=function(r,s){if(!Jd(r))throw Error(n(299));var l=!1,d="",m=e0;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(m=s.onRecoverableError)),s=Qd(r,1,!1,null,null,l,!1,d,m),r[Or]=s.current,Da(r.nodeType===8?r.parentNode:r),new Yd(s)},ln.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(n(188)):(r=Object.keys(r).join(","),Error(n(268,r)));return r=ya(s),r=r===null?null:r.stateNode,r},ln.flushSync=function(r){return fs(r)},ln.hydrate=function(r,s,l){if(!ic(s))throw Error(n(200));return sc(null,r,s,!0,l)},ln.hydrateRoot=function(r,s,l){if(!Jd(r))throw Error(n(405));var d=l!=null&&l.hydratedSources||null,m=!1,v="",T=e0;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),s=Jy(s,null,r,1,l??null,m,!1,v,T),r[Or]=s.current,Da(r),d)for(r=0;r<d.length;r++)l=d[r],m=l._getVersion,m=m(l._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[l,m]:s.mutableSourceEagerHydrationData.push(l,m);return new rc(s)},ln.render=function(r,s,l){if(!ic(s))throw Error(n(200));return sc(null,r,s,!1,l)},ln.unmountComponentAtNode=function(r){if(!ic(r))throw Error(n(40));return r._reactRootContainer?(fs(function(){sc(null,null,r,!1,function(){r._reactRootContainer=null,r[Or]=null})}),!0):!1},ln.unstable_batchedUpdates=zd,ln.unstable_renderSubtreeIntoContainer=function(r,s,l,d){if(!ic(l))throw Error(n(200));if(r==null||r._reactInternals===void 0)throw Error(n(38));return sc(r,s,l,!1,d)},ln.version="18.3.1-next-f1338f8080-20240426",ln}var u0;function J_(){if(u0)return tf.exports;u0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tf.exports=rC(),tf.exports}var c0;function iC(){if(c0)return ac;c0=1;var t=J_();return ac.createRoot=t.createRoot,ac.hydrateRoot=t.hydrateRoot,ac}var sC=iC();const oC=wp(sC);var Ja={},h0;function aC(){if(h0)return Ja;h0=1,Object.defineProperty(Ja,"__esModule",{value:!0}),Ja.parse=u,Ja.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,S){const P=new a,M=w.length;if(M<2)return P;const D=(S==null?void 0:S.decode)||y;let j=0;do{const $=w.indexOf("=",j);if($===-1)break;const O=w.indexOf(";",j),U=O===-1?M:O;if($>U){j=w.lastIndexOf(";",$-1)+1;continue}const z=h(w,j,$),X=f(w,$,z),I=w.slice(z,X);if(P[I]===void 0){let A=h(w,$+1,U),b=f(w,U,A);const V=D(w.slice(A,b));P[I]=V}j=U+1}while(j<M);return P}function h(w,S,P){do{const M=w.charCodeAt(S);if(M!==32&&M!==9)return S}while(++S<P);return P}function f(w,S,P){for(;S>P;){const M=w.charCodeAt(--S);if(M!==32&&M!==9)return S+1}return P}function p(w,S,P){const M=(P==null?void 0:P.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const D=M(S);if(!e.test(D))throw new TypeError(`argument val is invalid: ${S}`);let j=w+"="+D;if(!P)return j;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);j+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);j+="; Domain="+P.domain}if(P.path){if(!i.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);j+="; Path="+P.path}if(P.expires){if(!_(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);j+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(j+="; HttpOnly"),P.secure&&(j+="; Secure"),P.partitioned&&(j+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":j+="; Priority=Low";break;case"medium":j+="; Priority=Medium";break;case"high":j+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":j+="; SameSite=Strict";break;case"lax":j+="; SameSite=Lax";break;case"none":j+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return j}function y(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function _(w){return o.call(w)==="[object Date]"}return Ja}aC();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var d0="popstate";function lC(t={}){function e(i,o){let{pathname:a,search:u,hash:h}=i.location;return If("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:gl(o)}return cC(e,n,null,t)}function it(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function xr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uC(){return Math.random().toString(36).substring(2,10)}function f0(t,e){return{usr:t.state,key:t.key,idx:e}}function If(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Xo(e):e,state:n,key:e&&e.key||i||uC()}}function gl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Xo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function cC(t,e,n,i={}){let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,h="POP",f=null,p=y();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function y(){return(u.state||{idx:null}).idx}function _(){h="POP";let D=y(),j=D==null?null:D-p;p=D,f&&f({action:h,location:M.location,delta:j})}function w(D,j){h="PUSH";let $=If(M.location,D,j);p=y()+1;let O=f0($,p),U=M.createHref($);try{u.pushState(O,"",U)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;o.location.assign(U)}a&&f&&f({action:h,location:M.location,delta:1})}function S(D,j){h="REPLACE";let $=If(M.location,D,j);p=y();let O=f0($,p),U=M.createHref($);u.replaceState(O,"",U),a&&f&&f({action:h,location:M.location,delta:0})}function P(D){let j=o.location.origin!=="null"?o.location.origin:o.location.href,$=typeof D=="string"?D:gl(D);return $=$.replace(/ $/,"%20"),it(j,`No window.location.(origin|href) available to create URL for href: ${$}`),new URL($,j)}let M={get action(){return h},get location(){return t(o,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(d0,_),f=D,()=>{o.removeEventListener(d0,_),f=null}},createHref(D){return e(o,D)},createURL:P,encodeLocation(D){let j=P(D);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:w,replace:S,go(D){return u.go(D)}};return M}function Z_(t,e,n="/"){return hC(t,e,n,!1)}function hC(t,e,n,i){let o=typeof e=="string"?Xo(e):e,a=Ni(o.pathname||"/",n);if(a==null)return null;let u=ex(t);dC(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let p=TC(a);h=wC(u[f],p,i)}return h}function ex(t,e=[],n=[],i=""){let o=(a,u,h)=>{let f={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(it(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let p=Hr([i,f.relativePath]),y=n.concat(f);a.children&&a.children.length>0&&(it(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),ex(a.children,e,y,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:_C(p,a.index),routesMeta:y})};return t.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let f of tx(a.path))o(a,u,f)}),e}function tx(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=tx(i.join("/")),h=[];return h.push(...u.map(f=>f===""?a:[a,f].join("/"))),o&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function dC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xC(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var fC=/^:[\w-]+$/,pC=3,mC=2,gC=1,yC=10,vC=-2,p0=t=>t==="*";function _C(t,e){let n=t.split("/"),i=n.length;return n.some(p0)&&(i+=vC),e&&(i+=mC),n.filter(o=>!p0(o)).reduce((o,a)=>o+(fC.test(a)?pC:a===""?gC:yC),i)}function xC(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function wC(t,e,n=!1){let{routesMeta:i}=t,o={},a="/",u=[];for(let h=0;h<i.length;++h){let f=i[h],p=h===i.length-1,y=a==="/"?e:e.slice(a.length)||"/",_=Nc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},y),w=f.route;if(!_&&p&&n&&!i[i.length-1].route.index&&(_=Nc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!_)return null;Object.assign(o,_.params),u.push({params:o,pathname:Hr([a,_.pathname]),pathnameBase:PC(Hr([a,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(a=Hr([a,_.pathnameBase]))}return u}function Nc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=EC(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((p,{paramName:y,isOptional:_},w)=>{if(y==="*"){let P=h[w]||"";u=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const S=h[w];return _&&!S?p[y]=void 0:p[y]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function EC(t,e=!1,n=!0){xr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function TC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ni(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function SC(t,e="/"){let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?Xo(t):t;return{pathname:n?n.startsWith("/")?n:CC(n,e):e,search:bC(i),hash:IC(o)}}function CC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function sf(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function AC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nx(t){let e=AC(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function rx(t,e,n,i=!1){let o;typeof t=="string"?o=Xo(t):(o={...t},it(!o.pathname||!o.pathname.includes("?"),sf("?","pathname","search",o)),it(!o.pathname||!o.pathname.includes("#"),sf("#","pathname","hash",o)),it(!o.search||!o.search.includes("#"),sf("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=n;else{let _=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),_-=1;o.pathname=w.join("/")}h=_>=0?e[_]:"/"}let f=SC(o,h),p=u&&u!=="/"&&u.endsWith("/"),y=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||y)&&(f.pathname+="/"),f}var Hr=t=>t.join("/").replace(/\/\/+/g,"/"),PC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,IC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function RC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var ix=["POST","PUT","PATCH","DELETE"];new Set(ix);var kC=["GET",...ix];new Set(kC);var Yo=k.createContext(null);Yo.displayName="DataRouter";var oh=k.createContext(null);oh.displayName="DataRouterState";var sx=k.createContext({isTransitioning:!1});sx.displayName="ViewTransition";var NC=k.createContext(new Map);NC.displayName="Fetchers";var DC=k.createContext(null);DC.displayName="Await";var Sr=k.createContext(null);Sr.displayName="Navigation";var Dl=k.createContext(null);Dl.displayName="Location";var er=k.createContext({outlet:null,matches:[],isDataRoute:!1});er.displayName="Route";var Tp=k.createContext(null);Tp.displayName="RouteError";function VC(t,{relative:e}={}){it(Vl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=k.useContext(Sr),{hash:o,pathname:a,search:u}=Ll(t,{relative:e}),h=a;return n!=="/"&&(h=a==="/"?n:Hr([n,a])),i.createHref({pathname:h,search:u,hash:o})}function Vl(){return k.useContext(Dl)!=null}function $i(){return it(Vl(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Dl).location}var ox="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ax(t){k.useContext(Sr).static||k.useLayoutEffect(t)}function Ml(){let{isDataRoute:t}=k.useContext(er);return t?QC():MC()}function MC(){it(Vl(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Yo),{basename:e,navigator:n}=k.useContext(Sr),{matches:i}=k.useContext(er),{pathname:o}=$i(),a=JSON.stringify(nx(i)),u=k.useRef(!1);return ax(()=>{u.current=!0}),k.useCallback((f,p={})=>{if(xr(u.current,ox),!u.current)return;if(typeof f=="number"){n.go(f);return}let y=rx(f,JSON.parse(a),o,p.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Hr([e,y.pathname])),(p.replace?n.replace:n.push)(y,p.state,p)},[e,n,a,o,t])}var LC=k.createContext(null);function OC(t){let e=k.useContext(er).outlet;return e&&k.createElement(LC.Provider,{value:t},e)}function lx(){let{matches:t}=k.useContext(er),e=t[t.length-1];return e?e.params:{}}function Ll(t,{relative:e}={}){let{matches:n}=k.useContext(er),{pathname:i}=$i(),o=JSON.stringify(nx(n));return k.useMemo(()=>rx(t,JSON.parse(o),i,e==="path"),[t,o,i,e])}function jC(t,e){return ux(t,e)}function ux(t,e,n,i){var $;it(Vl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:a}=k.useContext(Sr),{matches:u}=k.useContext(er),h=u[u.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let O=_&&_.path||"";cx(p,!_||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let w=$i(),S;if(e){let O=typeof e=="string"?Xo(e):e;it(y==="/"||(($=O.pathname)==null?void 0:$.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${O.pathname}" was given in the \`location\` prop.`),S=O}else S=w;let P=S.pathname||"/",M=P;if(y!=="/"){let O=y.replace(/^\//,"").split("/");M="/"+P.replace(/^\//,"").split("/").slice(O.length).join("/")}let D=!a&&n&&n.matches&&n.matches.length>0?n.matches:Z_(t,{pathname:M});xr(_||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),xr(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let j=zC(D&&D.map(O=>Object.assign({},O,{params:Object.assign({},f,O.params),pathname:Hr([y,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?y:Hr([y,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),u,n,i);return e&&j?k.createElement(Dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},j):j}function FC(){let t=KC(),e=RC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},a={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=k.createElement(k.Fragment,null,k.createElement("p",null," Hey developer "),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:a},"ErrorBoundary")," or"," ",k.createElement("code",{style:a},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:o},n):null,u)}var BC=k.createElement(FC,null),UC=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(er.Provider,{value:this.props.routeContext},k.createElement(Tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function $C({routeContext:t,match:e,children:n}){let i=k.useContext(Yo);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(er.Provider,{value:t},n)}function zC(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=n==null?void 0:n.errors;if(a!=null){let f=o.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);it(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let u=!1,h=-1;if(n)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=f),p.route.id){let{loaderData:y,errors:_}=n,w=p.route.loader&&!y.hasOwnProperty(p.route.id)&&(!_||_[p.route.id]===void 0);if(p.route.lazy||w){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((f,p,y)=>{let _,w=!1,S=null,P=null;n&&(_=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||BC,u&&(h<0&&y===0?(cx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,P=null):h===y&&(w=!0,P=p.route.hydrateFallbackElement||null)));let M=e.concat(o.slice(0,y+1)),D=()=>{let j;return _?j=S:w?j=P:p.route.Component?j=k.createElement(p.route.Component,null):p.route.element?j=p.route.element:j=f,k.createElement($C,{match:p,routeContext:{outlet:f,matches:M,isDataRoute:n!=null},children:j})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?k.createElement(UC,{location:n.location,revalidation:n.revalidation,component:S,error:_,children:D(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):D()},null)}function Sp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WC(t){let e=k.useContext(Yo);return it(e,Sp(t)),e}function HC(t){let e=k.useContext(oh);return it(e,Sp(t)),e}function GC(t){let e=k.useContext(er);return it(e,Sp(t)),e}function Cp(t){let e=GC(t),n=e.matches[e.matches.length-1];return it(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function qC(){return Cp("useRouteId")}function KC(){var i;let t=k.useContext(Tp),e=HC("useRouteError"),n=Cp("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function QC(){let{router:t}=WC("useNavigate"),e=Cp("useNavigate"),n=k.useRef(!1);return ax(()=>{n.current=!0}),k.useCallback(async(o,a={})=>{xr(n.current,ox),n.current&&(typeof o=="number"?t.navigate(o):await t.navigate(o,{fromRouteId:e,...a}))},[t,e])}var m0={};function cx(t,e,n){!e&&!m0[t]&&(m0[t]=!0,xr(!1,n))}k.memo(XC);function XC({routes:t,future:e,state:n}){return ux(t,void 0,n,e)}function YC(t){return OC(t.context)}function Jt(t){it(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JC({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:o,static:a=!1}){it(!Vl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=k.useMemo(()=>({basename:u,navigator:o,static:a,future:{}}),[u,o,a]);typeof n=="string"&&(n=Xo(n));let{pathname:f="/",search:p="",hash:y="",state:_=null,key:w="default"}=n,S=k.useMemo(()=>{let P=Ni(f,u);return P==null?null:{location:{pathname:P,search:p,hash:y,state:_,key:w},navigationType:i}},[u,f,p,y,_,w,i]);return xr(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${y}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:k.createElement(Sr.Provider,{value:h},k.createElement(Dl.Provider,{children:e,value:S}))}function ZC({children:t,location:e}){return jC(Rf(t),e)}function Rf(t,e=[]){let n=[];return k.Children.forEach(t,(i,o)=>{if(!k.isValidElement(i))return;let a=[...e,o];if(i.type===k.Fragment){n.push.apply(n,Rf(i.props.children,a));return}it(i.type===Jt,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),it(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Rf(i.props.children,a)),n.push(u)}),n}var wc="get",Ec="application/x-www-form-urlencoded";function ah(t){return t!=null&&typeof t.tagName=="string"}function eA(t){return ah(t)&&t.tagName.toLowerCase()==="button"}function tA(t){return ah(t)&&t.tagName.toLowerCase()==="form"}function nA(t){return ah(t)&&t.tagName.toLowerCase()==="input"}function rA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iA(t,e){return t.button===0&&(!e||e==="_self")&&!rA(t)}var lc=null;function sA(){if(lc===null)try{new FormData(document.createElement("form"),0),lc=!1}catch{lc=!0}return lc}var oA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function of(t){return t!=null&&!oA.has(t)?(xr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ec}"`),null):t}function aA(t,e){let n,i,o,a,u;if(tA(t)){let h=t.getAttribute("action");i=h?Ni(h,e):null,n=t.getAttribute("method")||wc,o=of(t.getAttribute("enctype"))||Ec,a=new FormData(t)}else if(eA(t)||nA(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||h.getAttribute("action");if(i=f?Ni(f,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||wc,o=of(t.getAttribute("formenctype"))||of(h.getAttribute("enctype"))||Ec,a=new FormData(h,t),!sA()){let{name:p,type:y,value:_}=t;if(y==="image"){let w=p?`${p}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else p&&a.append(p,_)}}else{if(ah(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=wc,i=null,o=Ec,u=t}return a&&o==="text/plain"&&(u=a,a=void 0),{action:i,method:n.toLowerCase(),encType:o,formData:a,body:u}}function Ap(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function lA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function cA(t,e,n){let i=await Promise.all(t.map(async o=>{let a=e.routes[o.route.id];if(a){let u=await lA(a,n);return u.links?u.links():[]}return[]}));return pA(i.flat(1).filter(uA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function g0(t,e,n,i,o,a){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,h=(f,p)=>{var y;return n[p].pathname!==f.pathname||((y=n[p].route.path)==null?void 0:y.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||h(f,p)):a==="data"?e.filter((f,p)=>{var _;let y=i.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,p)||h(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((_=n[0])==null?void 0:_.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function hA(t,e){return dA(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let o=[i.module];return i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function dA(t){return[...new Set(t)]}function fA(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function pA(t,e){let n=new Set;return new Set(e),t.reduce((i,o)=>{let a=JSON.stringify(fA(o));return n.has(a)||(n.add(a),i.push({key:a,link:o})),i},[])}function mA(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function gA(){let t=k.useContext(Yo);return Ap(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function yA(){let t=k.useContext(oh);return Ap(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Pp=k.createContext(void 0);Pp.displayName="FrameworkContext";function hx(){let t=k.useContext(Pp);return Ap(t,"You must render this element inside a <HydratedRouter> element"),t}function vA(t,e){let n=k.useContext(Pp),[i,o]=k.useState(!1),[a,u]=k.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:p,onMouseLeave:y,onTouchStart:_}=e,w=k.useRef(null);k.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let M=j=>{j.forEach($=>{u($.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return w.current&&D.observe(w.current),()=>{D.disconnect()}}},[t]),k.useEffect(()=>{if(i){let M=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(M)}}},[i]);let S=()=>{o(!0)},P=()=>{o(!1),u(!1)};return n?t!=="intent"?[a,w,{}]:[a,w,{onFocus:Za(h,S),onBlur:Za(f,P),onMouseEnter:Za(p,S),onMouseLeave:Za(y,P),onTouchStart:Za(_,S)}]:[!1,w,{}]}function Za(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function _A({page:t,...e}){let{router:n}=gA(),i=k.useMemo(()=>Z_(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?k.createElement(wA,{page:t,matches:i,...e}):null}function xA(t){let{manifest:e,routeModules:n}=hx(),[i,o]=k.useState([]);return k.useEffect(()=>{let a=!1;return cA(t,e,n).then(u=>{a||o(u)}),()=>{a=!0}},[t,e,n]),i}function wA({page:t,matches:e,...n}){let i=$i(),{manifest:o,routeModules:a}=hx(),{loaderData:u,matches:h}=yA(),f=k.useMemo(()=>g0(t,e,h,o,i,"data"),[t,e,h,o,i]),p=k.useMemo(()=>g0(t,e,h,o,i,"assets"),[t,e,h,o,i]),y=k.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,P=!1;if(e.forEach(D=>{var $;let j=o.routes[D.route.id];!j||!j.hasLoader||(!f.some(O=>O.route.id===D.route.id)&&D.route.id in u&&(($=a[D.route.id])!=null&&$.shouldRevalidate)||j.hasClientLoader?P=!0:S.add(D.route.id))}),S.size===0)return[];let M=mA(t);return P&&S.size>0&&M.searchParams.set("_routes",e.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[M.pathname+M.search]},[u,i,o,f,e,t,a]),_=k.useMemo(()=>hA(p,o),[p,o]),w=xA(p);return k.createElement(k.Fragment,null,y.map(S=>k.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>k.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:P})=>k.createElement("link",{key:S,...P})))}function EA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dx&&(window.__reactRouterVersion="7.1.5")}catch{}function TA({basename:t,children:e,window:n}){let i=k.useRef();i.current==null&&(i.current=lC({window:n,v5Compat:!0}));let o=i.current,[a,u]=k.useState({action:o.action,location:o.location}),h=k.useCallback(f=>{k.startTransition(()=>u(f))},[u]);return k.useLayoutEffect(()=>o.listen(h),[o,h]),k.createElement(JC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:o})}var fx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pr=k.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:o,reloadDocument:a,replace:u,state:h,target:f,to:p,preventScrollReset:y,viewTransition:_,...w},S){let{basename:P}=k.useContext(Sr),M=typeof p=="string"&&fx.test(p),D,j=!1;if(typeof p=="string"&&M&&(D=p,dx))try{let b=new URL(window.location.href),V=p.startsWith("//")?new URL(b.protocol+p):new URL(p),F=Ni(V.pathname,P);V.origin===b.origin&&F!=null?p=F+V.search+V.hash:j=!0}catch{xr(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let $=VC(p,{relative:o}),[O,U,z]=vA(i,w),X=PA(p,{replace:u,state:h,target:f,preventScrollReset:y,relative:o,viewTransition:_});function I(b){e&&e(b),b.defaultPrevented||X(b)}let A=k.createElement("a",{...w,...z,href:D||$,onClick:j||a?e:I,ref:EA(S,U),target:f,"data-discover":!M&&n==="render"?"true":void 0});return O&&!M?k.createElement(k.Fragment,null,A,k.createElement(_A,{page:$})):A});pr.displayName="Link";var SA=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:o=!1,style:a,to:u,viewTransition:h,children:f,...p},y){let _=Ll(u,{relative:p.relative}),w=$i(),S=k.useContext(oh),{navigator:P,basename:M}=k.useContext(Sr),D=S!=null&&NA(_)&&h===!0,j=P.encodeLocation?P.encodeLocation(_).pathname:_.pathname,$=w.pathname,O=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||($=$.toLowerCase(),O=O?O.toLowerCase():null,j=j.toLowerCase()),O&&M&&(O=Ni(O,M)||O);const U=j!=="/"&&j.endsWith("/")?j.length-1:j.length;let z=$===j||!o&&$.startsWith(j)&&$.charAt(U)==="/",X=O!=null&&(O===j||!o&&O.startsWith(j)&&O.charAt(j.length)==="/"),I={isActive:z,isPending:X,isTransitioning:D},A=z?e:void 0,b;typeof i=="function"?b=i(I):b=[i,z?"active":null,X?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(I):a;return k.createElement(pr,{...p,"aria-current":A,className:b,ref:y,style:V,to:u,viewTransition:h},typeof f=="function"?f(I):f)});SA.displayName="NavLink";var CA=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:o,state:a,method:u=wc,action:h,onSubmit:f,relative:p,preventScrollReset:y,viewTransition:_,...w},S)=>{let P=RA(),M=kA(h,{relative:p}),D=u.toLowerCase()==="get"?"get":"post",j=typeof h=="string"&&fx.test(h),$=O=>{if(f&&f(O),O.defaultPrevented)return;O.preventDefault();let U=O.nativeEvent.submitter,z=(U==null?void 0:U.getAttribute("formmethod"))||u;P(U||O.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:o,state:a,relative:p,preventScrollReset:y,viewTransition:_})};return k.createElement("form",{ref:S,method:D,action:M,onSubmit:i?f:$,...w,"data-discover":!j&&t==="render"?"true":void 0})});CA.displayName="Form";function AA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function px(t){let e=k.useContext(Yo);return it(e,AA(t)),e}function PA(t,{target:e,replace:n,state:i,preventScrollReset:o,relative:a,viewTransition:u}={}){let h=Ml(),f=$i(),p=Ll(t,{relative:a});return k.useCallback(y=>{if(iA(y,e)){y.preventDefault();let _=n!==void 0?n:gl(f)===gl(p);h(t,{replace:_,state:i,preventScrollReset:o,relative:a,viewTransition:u})}},[f,h,p,n,i,e,t,o,a,u])}var bA=0,IA=()=>`__${String(++bA)}__`;function RA(){let{router:t}=px("useSubmit"),{basename:e}=k.useContext(Sr),n=qC();return k.useCallback(async(i,o={})=>{let{action:a,method:u,encType:h,formData:f,body:p}=aA(i,e);if(o.navigate===!1){let y=o.fetcherKey||IA();await t.fetch(y,n,o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await t.navigate(o.action||a,{preventScrollReset:o.preventScrollReset,formData:f,body:p,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[t,e,n])}function kA(t,{relative:e}={}){let{basename:n}=k.useContext(Sr),i=k.useContext(er);it(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...Ll(t||".",{relative:e})},u=$i();if(t==null){a.search=u.search;let h=new URLSearchParams(a.search),f=h.getAll("index");if(f.some(y=>y==="")){h.delete("index"),f.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();a.search=y?`?${y}`:""}}return(!t||t===".")&&o.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Hr([n,a.pathname])),gl(a)}function NA(t,e={}){let n=k.useContext(sx);it(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=px("useViewTransitionState"),o=Ll(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Ni(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Ni(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Nc(o.pathname,u)!=null||Nc(o.pathname,a)!=null}new TextEncoder;var DA=J_();const uc=wp(DA);function Dc(){return Dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Dc.apply(null,arguments)}function bp(t,e){if(t==null)return{};var n={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(e.indexOf(i)!==-1)continue;n[i]=t[i]}return n}function kf(t,e){return kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},kf(t,e)}function Ip(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,kf(t,e)}function VA(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function MA(t,e){t.classList?t.classList.add(e):VA(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function y0(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function LA(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=y0(t.className,e):t.setAttribute("class",y0(t.className&&t.className.baseVal||"",e))}const v0={disabled:!1},Vc=Mn.createContext(null);var mx=function(e){return e.scrollTop},tl="unmounted",vs="exited",_s="entering",Po="entered",Nf="exiting",ei=function(t){Ip(e,t);function e(i,o){var a;a=t.call(this,i,o)||this;var u=o,h=u&&!u.isMounting?i.enter:i.appear,f;return a.appearStatus=null,i.in?h?(f=vs,a.appearStatus=_s):f=Po:i.unmountOnExit||i.mountOnEnter?f=tl:f=vs,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(o,a){var u=o.in;return u&&a.status===tl?{status:vs}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var a=null;if(o!==this.props){var u=this.state.status;this.props.in?u!==_s&&u!==Po&&(a=_s):(u===_s||u===Po)&&(a=Nf)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,a,u,h;return a=u=h=o,o!=null&&typeof o!="number"&&(a=o.exit,u=o.enter,h=o.appear!==void 0?o.appear:u),{exit:a,enter:u,appear:h}},n.updateStatus=function(o,a){if(o===void 0&&(o=!1),a!==null)if(this.cancelNextCallback(),a===_s){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:uc.findDOMNode(this);u&&mx(u)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===vs&&this.setState({status:tl})},n.performEnter=function(o){var a=this,u=this.props.enter,h=this.context?this.context.isMounting:o,f=this.props.nodeRef?[h]:[uc.findDOMNode(this),h],p=f[0],y=f[1],_=this.getTimeouts(),w=h?_.appear:_.enter;if(!o&&!u||v0.disabled){this.safeSetState({status:Po},function(){a.props.onEntered(p)});return}this.props.onEnter(p,y),this.safeSetState({status:_s},function(){a.props.onEntering(p,y),a.onTransitionEnd(w,function(){a.safeSetState({status:Po},function(){a.props.onEntered(p,y)})})})},n.performExit=function(){var o=this,a=this.props.exit,u=this.getTimeouts(),h=this.props.nodeRef?void 0:uc.findDOMNode(this);if(!a||v0.disabled){this.safeSetState({status:vs},function(){o.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:Nf},function(){o.props.onExiting(h),o.onTransitionEnd(u.exit,function(){o.safeSetState({status:vs},function(){o.props.onExited(h)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,a){a=this.setNextCallback(a),this.setState(o,a)},n.setNextCallback=function(o){var a=this,u=!0;return this.nextCallback=function(h){u&&(u=!1,a.nextCallback=null,o(h))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(o,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:uc.findDOMNode(this),h=o==null&&!this.props.addEndListener;if(!u||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],p=f[0],y=f[1];this.props.addEndListener(p,y)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===tl)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var h=bp(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Mn.createElement(Vc.Provider,{value:null},typeof u=="function"?u(o,h):Mn.cloneElement(Mn.Children.only(u),h))},e}(Mn.Component);ei.contextType=Vc;ei.propTypes={};function Ao(){}ei.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ao,onEntering:Ao,onEntered:Ao,onExit:Ao,onExiting:Ao,onExited:Ao};ei.UNMOUNTED=tl;ei.EXITED=vs;ei.ENTERING=_s;ei.ENTERED=Po;ei.EXITING=Nf;var OA=function(e,n){return e&&n&&n.split(" ").forEach(function(i){return MA(e,i)})},af=function(e,n){return e&&n&&n.split(" ").forEach(function(i){return LA(e,i)})},Rp=function(t){Ip(e,t);function e(){for(var i,o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return i=t.call.apply(t,[this].concat(a))||this,i.appliedClasses={appear:{},enter:{},exit:{}},i.onEnter=function(h,f){var p=i.resolveArguments(h,f),y=p[0],_=p[1];i.removeClasses(y,"exit"),i.addClass(y,_?"appear":"enter","base"),i.props.onEnter&&i.props.onEnter(h,f)},i.onEntering=function(h,f){var p=i.resolveArguments(h,f),y=p[0],_=p[1],w=_?"appear":"enter";i.addClass(y,w,"active"),i.props.onEntering&&i.props.onEntering(h,f)},i.onEntered=function(h,f){var p=i.resolveArguments(h,f),y=p[0],_=p[1],w=_?"appear":"enter";i.removeClasses(y,w),i.addClass(y,w,"done"),i.props.onEntered&&i.props.onEntered(h,f)},i.onExit=function(h){var f=i.resolveArguments(h),p=f[0];i.removeClasses(p,"appear"),i.removeClasses(p,"enter"),i.addClass(p,"exit","base"),i.props.onExit&&i.props.onExit(h)},i.onExiting=function(h){var f=i.resolveArguments(h),p=f[0];i.addClass(p,"exit","active"),i.props.onExiting&&i.props.onExiting(h)},i.onExited=function(h){var f=i.resolveArguments(h),p=f[0];i.removeClasses(p,"exit"),i.addClass(p,"exit","done"),i.props.onExited&&i.props.onExited(h)},i.resolveArguments=function(h,f){return i.props.nodeRef?[i.props.nodeRef.current,h]:[h,f]},i.getClassNames=function(h){var f=i.props.classNames,p=typeof f=="string",y=p&&f?f+"-":"",_=p?""+y+h:f[h],w=p?_+"-active":f[h+"Active"],S=p?_+"-done":f[h+"Done"];return{baseClassName:_,activeClassName:w,doneClassName:S}},i}var n=e.prototype;return n.addClass=function(o,a,u){var h=this.getClassNames(a)[u+"ClassName"],f=this.getClassNames("enter"),p=f.doneClassName;a==="appear"&&u==="done"&&p&&(h+=" "+p),u==="active"&&o&&mx(o),h&&(this.appliedClasses[a][u]=h,OA(o,h))},n.removeClasses=function(o,a){var u=this.appliedClasses[a],h=u.base,f=u.active,p=u.done;this.appliedClasses[a]={},h&&af(o,h),f&&af(o,f),p&&af(o,p)},n.render=function(){var o=this.props;o.classNames;var a=bp(o,["classNames"]);return Mn.createElement(ei,Dc({},a,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(Mn.Component);Rp.defaultProps={classNames:""};Rp.propTypes={};function jA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kp(t,e){var n=function(a){return e&&k.isValidElement(a)?e(a):a},i=Object.create(null);return t&&k.Children.map(t,function(o){return o}).forEach(function(o){i[o.key]=n(o)}),i}function FA(t,e){t=t||{},e=e||{};function n(y){return y in e?e[y]:t[y]}var i=Object.create(null),o=[];for(var a in t)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var u,h={};for(var f in e){if(i[f])for(u=0;u<i[f].length;u++){var p=i[f][u];h[i[f][u]]=n(p)}h[f]=n(f)}for(u=0;u<o.length;u++)h[o[u]]=n(o[u]);return h}function Es(t,e,n){return n[e]!=null?n[e]:t.props[e]}function BA(t,e){return kp(t.children,function(n){return k.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Es(n,"appear",t),enter:Es(n,"enter",t),exit:Es(n,"exit",t)})})}function UA(t,e,n){var i=kp(t.children),o=FA(e,i);return Object.keys(o).forEach(function(a){var u=o[a];if(k.isValidElement(u)){var h=a in e,f=a in i,p=e[a],y=k.isValidElement(p)&&!p.props.in;f&&(!h||y)?o[a]=k.cloneElement(u,{onExited:n.bind(null,u),in:!0,exit:Es(u,"exit",t),enter:Es(u,"enter",t)}):!f&&h&&!y?o[a]=k.cloneElement(u,{in:!1}):f&&h&&k.isValidElement(p)&&(o[a]=k.cloneElement(u,{onExited:n.bind(null,u),in:p.props.in,exit:Es(u,"exit",t),enter:Es(u,"enter",t)}))}}),o}var $A=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},zA={component:"div",childFactory:function(e){return e}},Np=function(t){Ip(e,t);function e(i,o){var a;a=t.call(this,i,o)||this;var u=a.handleExited.bind(jA(a));return a.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(o,a){var u=a.children,h=a.handleExited,f=a.firstRender;return{children:f?BA(o,h):UA(o,u,h),firstRender:!1}},n.handleExited=function(o,a){var u=kp(this.props.children);o.key in u||(o.props.onExited&&o.props.onExited(a),this.mounted&&this.setState(function(h){var f=Dc({},h.children);return delete f[o.key],{children:f}}))},n.render=function(){var o=this.props,a=o.component,u=o.childFactory,h=bp(o,["component","childFactory"]),f=this.state.contextValue,p=$A(this.state.children).map(u);return delete h.appear,delete h.enter,delete h.exit,a===null?Mn.createElement(Vc.Provider,{value:f},p):Mn.createElement(Vc.Provider,{value:f},Mn.createElement(a,h,p))},e}(Mn.Component);Np.propTypes={};Np.defaultProps=zA;/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gx=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var HA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:o="",children:a,iconNode:u,...h},f)=>k.createElement("svg",{ref:f,...HA,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:gx("lucide",o),...h},[...u.map(([p,y])=>k.createElement(p,y)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qA=(t,e)=>{const n=k.forwardRef(({className:i,...o},a)=>k.createElement(GA,{ref:a,iconNode:e,className:gx(`lucide-${WA(t)}`,i),...o}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KA=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],QA=qA("Dog",KA);function XA(){const t=$i(),[e,n]=k.useState(!1),{isDarkMode:i,toggleTheme:o}=k.useContext(jt),a=[{name:"Home",href:"/"},{name:"Blog",href:"/blog"},{name:"Products",href:"/products"},{name:"Contact",href:"/contact"}],u=()=>n(!e);return E.jsxs("nav",{className:`fixed top-0 left-0 w-full z-20 shadow-md transition-colors duration-300 ease-in-out ${i?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:[E.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[E.jsx("div",{className:"md:hidden",children:E.jsxs("button",{onClick:u,className:"focus:outline-none","aria-label":"Toggle menu",children:[E.jsx("span",{className:`block w-6 h-1 mb-1.5 transition-all duration-300 ${i?"bg-stone-400":"bg-red-800"} ${e?"rotate-45 translate-y-2.5":""}`}),E.jsx("span",{className:`block w-6 h-1 mb-1.5 transition-all duration-300 ${i?"bg-stone-400":"bg-red-800"} ${e?"opacity-0":""}`}),E.jsx("span",{className:`block w-6 h-1 transition-all duration-300 ${i?"bg-stone-400":"bg-red-800"} ${e?"-rotate-45 -translate-y-2.5":""}`})]})}),E.jsx("div",{className:"flex-grow text-center",children:E.jsxs(pr,{to:"/",className:"flex justify-center items-center space-x-2",onClick:()=>n(!1),children:[E.jsx(QA,{className:`w-6 h-6 ${i?"text-stone-400":"text-red-800"}`}),E.jsx("span",{className:"text-xl font-bold",children:"Aussie Gut Pack"})]})}),E.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[a.map(h=>E.jsx(pr,{to:h.href,className:`px-3 py-2 rounded-md transition-colors duration-200 ${t.pathname===h.href?i?"bg-red-800 text-white":"bg-red-100 text-red-800":i?"hover:bg-red-900":"hover:bg-red-200"}`,children:h.name},h.href)),E.jsx("button",{onClick:o,className:"px-3 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:i?"Light":"Dark"})]}),E.jsx("div",{className:"md:hidden",children:E.jsx("button",{onClick:o,className:"px-3 py-1 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:i?"L":"D"})})]}),e&&E.jsx("div",{className:`md:hidden flex flex-col space-y-2 py-4 px-6 transition-colors duration-300 ease-in-out ${i?"bg-stone-900 text-stone-400":"bg-white text-red-800"}`,children:a.map(h=>E.jsx(pr,{to:h.href,className:`px-3 py-2 rounded-md transition-colors duration-200 ${t.pathname===h.href?i?"bg-red-800 text-white":"bg-red-100 text-red-800":i?"hover:bg-red-900":"hover:bg-red-200"}`,onClick:()=>n(!1),children:h.name},h.href))})]})}function YA(){const{isDarkMode:t}=k.useContext(jt),e=[{name:"Facebook",icon:"fab fa-facebook-f",url:"https://facebook.com"},{name:"Twitter/X",icon:"fab fa-x-twitter",url:"https://x.com"},{name:"Instagram",icon:"fab fa-instagram",url:"https://instagram.com"},{name:"LinkedIn",icon:"fab fa-linkedin-in",url:"https://linkedin.com"},{name:"YouTube",icon:"fab fa-youtube",url:"https://youtube.com"},{name:"Pinterest",icon:"fab fa-pinterest-p",url:"https://pinterest.com"},{name:"TikTok",icon:"fab fa-tiktok",url:"https://tiktok.com"},{name:"GitHub",icon:"fab fa-github",url:"https://github.com"}];return E.jsxs("div",{className:`relative min-h-screen ${t?"bg-stone-900":"bg-white"}`,children:[E.jsx(XA,{}),E.jsx("main",{className:"container mx-auto px-4 py-8 md:pt-16",children:E.jsx(YC,{})}),E.jsxs("footer",{className:`py-4 text-center text-sm backdrop-blur-sm ${t?"bg-stone-900/80 text-white":"bg-white/80 text-stone-600"}`,children:[E.jsx("div",{className:"mb-2",children:" 2025 Aussie Gut Pack - Your Gut Health Companion"}),E.jsx("div",{className:"flex justify-center space-x-4",children:e.map(n=>E.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:`text-lg transition-colors duration-300 ${t?"text-stone-400 hover:text-stone-200":"text-stone-600 hover:text-red-800"}`,"aria-label":`Follow us on ${n.name}`,children:E.jsx("i",{className:n.icon})},n.name))})]})]})}function cn({to:t,children:e,variant:n,className:i,...o}){const a="px-4 py-2 rounded transition-colors duration-300 ease-in-out",u=n==="primary"?"bg-red-800 text-white hover:bg-red-900":"bg-stone-200 text-red-600 hover:bg-stone-300";return t?E.jsx(pr,{to:t,className:`${a} ${u} ${i}`,...o,children:e}):E.jsx("button",{className:`${a} ${u} ${i}`,...o,children:e})}const JA="/aussie-gut-pack/assets/aussie-BleX4DhZ.png",ZA="/aussie-gut-pack/assets/goggins-BJp9afAd.png",_0=[JA,ZA],e1=()=>{const[t,e]=k.useState(0);return k.useEffect(()=>{const n=setInterval(()=>{e(i=>(i+1)%_0.length)},5e3);return()=>clearInterval(n)},[]),E.jsx("div",{className:"absolute inset-0 w-full h-full overflow-hidden bg-gray-900",children:_0.map((n,i)=>E.jsx("div",{className:`absolute inset-0 w-[120%] h-full bg-cover bg-center transition-opacity duration-1000 ease-in-out ${i===t?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${n})`}},i))})},Dp=k.createContext({});function Vp(t){const e=k.useRef(null);return e.current===null&&(e.current=t()),e.current}const Mp=typeof window<"u",yx=Mp?k.useLayoutEffect:k.useEffect,lh=k.createContext(null),Lp=k.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class t1 extends k.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,o=i instanceof HTMLElement&&i.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=o-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function n1({children:t,isPresent:e,anchorX:n}){const i=k.useId(),o=k.useRef(null),a=k.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=k.useContext(Lp);return k.useInsertionEffect(()=>{const{width:h,height:f,top:p,left:y,right:_}=a.current;if(e||!o.current||!h||!f)return;const w=n==="left"?`left: ${y}`:`right: ${_}`;o.current.dataset.motionPopId=i;const S=document.createElement("style");return u&&(S.nonce=u),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${f}px !important;
            ${w}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[e]),E.jsx(t1,{isPresent:e,childRef:o,sizeRef:a,children:k.cloneElement(t,{ref:o})})}const r1=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:o,presenceAffectsLayout:a,mode:u,anchorX:h})=>{const f=Vp(i1),p=k.useId(),y=k.useCallback(w=>{f.set(w,!0);for(const S of f.values())if(!S)return;i&&i()},[f,i]),_=k.useMemo(()=>({id:p,initial:e,isPresent:n,custom:o,onExitComplete:y,register:w=>(f.set(w,!1),()=>f.delete(w))}),a?[Math.random(),y]:[n,y]);return k.useMemo(()=>{f.forEach((w,S)=>f.set(S,!1))},[n]),k.useEffect(()=>{!n&&!f.size&&i&&i()},[n]),u==="popLayout"&&(t=E.jsx(n1,{isPresent:n,anchorX:h,children:t})),E.jsx(lh.Provider,{value:_,children:t})};function i1(){return new Map}function vx(t=!0){const e=k.useContext(lh);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:o}=e,a=k.useId();k.useEffect(()=>{if(t)return o(a)},[t]);const u=k.useCallback(()=>t&&i&&i(a),[a,i,t]);return!n&&i?[!1,u]:[!0]}const cc=t=>t.key||"";function x0(t){const e=[];return k.Children.forEach(t,n=>{k.isValidElement(n)&&e.push(n)}),e}const w0=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:a="sync",propagate:u=!1,anchorX:h="left"})=>{const[f,p]=vx(u),y=k.useMemo(()=>x0(t),[t]),_=u&&!f?[]:y.map(cc),w=k.useRef(!0),S=k.useRef(y),P=Vp(()=>new Map),[M,D]=k.useState(y),[j,$]=k.useState(y);yx(()=>{w.current=!1,S.current=y;for(let z=0;z<j.length;z++){const X=cc(j[z]);_.includes(X)?P.delete(X):P.get(X)!==!0&&P.set(X,!1)}},[j,_.length,_.join("-")]);const O=[];if(y!==M){let z=[...y];for(let X=0;X<j.length;X++){const I=j[X],A=cc(I);_.includes(A)||(z.splice(X,0,I),O.push(I))}return a==="wait"&&O.length&&(z=O),$(x0(z)),D(y),null}const{forceRender:U}=k.useContext(Dp);return E.jsx(E.Fragment,{children:j.map(z=>{const X=cc(z),I=u&&!f?!1:y===j||_.includes(X),A=()=>{if(P.has(X))P.set(X,!0);else return;let b=!0;P.forEach(V=>{V||(b=!1)}),b&&(U==null||U(),$(S.current),u&&(p==null||p()),i&&i())};return E.jsx(r1,{isPresent:I,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:o,mode:a,onExitComplete:I?void 0:A,anchorX:h,children:z},X)})})};function Op(t,e){t.indexOf(e)===-1&&t.push(e)}function jp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const vn=t=>t;let _x=vn;const s1={useManualTiming:!1};function Fp(t){let e;return()=>(e===void 0&&(e=t()),e)}const jo=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class Bp{constructor(){this.subscriptions=[]}add(e){return Op(this.subscriptions,e),()=>jp(this.subscriptions,e)}notify(e,n,i){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,i);else for(let a=0;a<o;a++){const u=this.subscriptions[a];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Gr=t=>t*1e3,qr=t=>t/1e3;function xx(t,e){return e?t*(1e3/e):0}const o1=Fp(()=>window.ScrollTimeline!==void 0);class a1{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let i=0;i<this.animations.length;i++)this.animations[i][e]=n}attachTimeline(e,n){const i=this.animations.map(o=>{if(o1()&&o.attachTimeline)return o.attachTimeline(e);if(typeof n=="function")return n(o)});return()=>{i.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class l1 extends a1{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Up(t,e){return t?t[e]||t.default||t:void 0}const Df=2e4;function wx(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<Df;)e+=n,i=t.next(e);return e>=Df?1/0:e}function $p(t){return typeof t=="function"}function E0(t,e){t.timeline=e,t.onfinish=null}const zp=t=>Array.isArray(t)&&typeof t[0]=="number",u1={linearEasing:void 0};function c1(t,e){const n=Fp(t);return()=>{var i;return(i=u1[e])!==null&&i!==void 0?i:n()}}const Mc=c1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ex=(t,e,n=10)=>{let i="";const o=Math.max(Math.round(e/n),2);for(let a=0;a<o;a++)i+=t(jo(0,o-1,a))+", ";return`linear(${i.substring(0,i.length-2)})`};function Tx(t){return!!(typeof t=="function"&&Mc()||!t||typeof t=="string"&&(t in Vf||Mc())||zp(t)||Array.isArray(t)&&t.every(Tx))}const nl=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,Vf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nl([0,.65,.55,1]),circOut:nl([.55,0,1,.45]),backIn:nl([.31,.01,.66,-.59]),backOut:nl([.33,1.53,.69,.99])};function Sx(t,e){if(t)return typeof t=="function"&&Mc()?Ex(t,e):zp(t)?nl(t):Array.isArray(t)?t.map(n=>Sx(n,e)||Vf.easeOut):Vf[t]}const hc=["read","resolveKeyframes","update","preRender","render","postRender"],T0={value:null};function h1(t,e){let n=new Set,i=new Set,o=!1,a=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},f=0;function p(_){u.has(_)&&(y.schedule(_),t()),f++,_(h)}const y={schedule:(_,w=!1,S=!1)=>{const M=S&&o?n:i;return w&&u.add(_),M.has(_)||M.add(_),_},cancel:_=>{i.delete(_),u.delete(_)},process:_=>{if(h=_,o){a=!0;return}o=!0,[n,i]=[i,n],n.forEach(p),e&&T0.value&&T0.value.frameloop[e].push(f),f=0,n.clear(),o=!1,a&&(a=!1,y.process(_))}};return y}const d1=40;function Cx(t,e){let n=!1,i=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=hc.reduce((j,$)=>(j[$]=h1(a,e?$:void 0),j),{}),{read:h,resolveKeyframes:f,update:p,preRender:y,render:_,postRender:w}=u,S=()=>{const j=performance.now();n=!1,o.delta=i?1e3/60:Math.max(Math.min(j-o.timestamp,d1),1),o.timestamp=j,o.isProcessing=!0,h.process(o),f.process(o),p.process(o),y.process(o),_.process(o),w.process(o),o.isProcessing=!1,n&&e&&(i=!1,t(S))},P=()=>{n=!0,i=!0,o.isProcessing||t(S)};return{schedule:hc.reduce((j,$)=>{const O=u[$];return j[$]=(U,z=!1,X=!1)=>(n||P(),O.schedule(U,z,X)),j},{}),cancel:j=>{for(let $=0;$<hc.length;$++)u[hc[$]].cancel(j)},state:o,steps:u}}const{schedule:qe,cancel:Di,state:Vt,steps:lf}=Cx(typeof requestAnimationFrame<"u"?requestAnimationFrame:vn,!0),{schedule:Wp}=Cx(queueMicrotask,!1);let Tc;function f1(){Tc=void 0}const mr={now:()=>(Tc===void 0&&mr.set(Vt.isProcessing||s1.useManualTiming?Vt.timestamp:performance.now()),Tc),set:t=>{Tc=t,queueMicrotask(f1)}},Yn={x:!1,y:!1};function Ax(){return Yn.x||Yn.y}function p1(t){return t==="x"||t==="y"?Yn[t]?null:(Yn[t]=!0,()=>{Yn[t]=!1}):Yn.x||Yn.y?null:(Yn.x=Yn.y=!0,()=>{Yn.x=Yn.y=!1})}function m1(t,e,n){var i;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let o=document;const a=(i=void 0)!==null&&i!==void 0?i:o.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function Px(t,e){const n=m1(t),i=new AbortController,o={passive:!0,...e,signal:i.signal};return[n,o,()=>i.abort()]}function S0(t){return!(t.pointerType==="touch"||Ax())}function g1(t,e,n={}){const[i,o,a]=Px(t,n),u=h=>{if(!S0(h))return;const{target:f}=h,p=e(f,h);if(typeof p!="function"||!f)return;const y=_=>{S0(_)&&(p(_),f.removeEventListener("pointerleave",y))};f.addEventListener("pointerleave",y,o)};return i.forEach(h=>{h.addEventListener("pointerenter",u,o)}),a}function C0(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const bx=(t,e)=>e?t===e?!0:bx(t,e.parentElement):!1,Hp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,y1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function v1(t){return y1.has(t.tagName)||t.tabIndex!==-1}const rl=new WeakSet;function A0(t){return e=>{e.key==="Enter"&&t(e)}}function uf(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _1=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=A0(()=>{if(rl.has(n))return;uf(n,"down");const o=A0(()=>{uf(n,"up")}),a=()=>uf(n,"cancel");n.addEventListener("keyup",o,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function P0(t){return Hp(t)&&!Ax()}function x1(t,e,n={}){const[i,o,a]=Px(t,n),u=h=>{const f=h.currentTarget;if(!f||!P0(h)||rl.has(f))return;rl.add(f),C0(h,"set");const p=e(f,h),y=(S,P)=>{f.removeEventListener("pointerup",_),f.removeEventListener("pointercancel",w),C0(S,"release"),!(!P0(S)||!rl.has(f))&&(rl.delete(f),typeof p=="function"&&p(S,{success:P}))},_=S=>{(S.isTrusted?w1(S,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?y(S,!1):y(S,!(f instanceof Element)||bx(f,S.target))},w=S=>{y(S,!1)};f.addEventListener("pointerup",_,o),f.addEventListener("pointercancel",w,o),f.addEventListener("lostpointercapture",w,o)};return i.forEach(h=>{h=n.useGlobalTarget?window:h;let f=!1;h instanceof HTMLElement&&(f=!0,!v1(h)&&h.getAttribute("tabindex")===null&&(h.tabIndex=0)),h.addEventListener("pointerdown",u,o),f&&h.addEventListener("focus",p=>_1(p,o),o)}),a}function w1(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const b0=30,E1=t=>!isNaN(parseFloat(t));class T1{constructor(e,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,o=!0)=>{const a=mr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=mr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=E1(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Bp);const i=this.events[e].add(n);return e==="change"?()=>{i(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=mr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>b0)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,b0);return xx(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function yl(t,e){return new T1(t,e)}const Ix=k.createContext({strict:!1}),I0={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fo={};for(const t in I0)Fo[t]={isEnabled:e=>I0[t].some(n=>!!e[n])};function S1(t){for(const e in t)Fo[e]={...Fo[e],...t[e]}}const C1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||C1.has(t)}let Rx=t=>!Lc(t);function A1(t){t&&(Rx=e=>e.startsWith("on")?!Lc(e):t(e))}try{A1(require("@emotion/is-prop-valid").default)}catch{}function P1(t,e,n){const i={};for(const o in t)o==="values"&&typeof t.values=="object"||(Rx(o)||n===!0&&Lc(o)||!e&&!Lc(o)||t.draggable&&o.startsWith("onDrag"))&&(i[o]=t[o]);return i}function b1(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,o)=>o==="create"?t:(e.has(o)||e.set(o,t(o)),e.get(o))})}const uh=k.createContext({});function ch(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function vl(t){return typeof t=="string"||Array.isArray(t)}const Gp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],qp=["initial",...Gp];function hh(t){return ch(t.animate)||qp.some(e=>vl(t[e]))}function kx(t){return!!(hh(t)||t.variants)}function I1(t,e){if(hh(t)){const{initial:n,animate:i}=t;return{initial:n===!1||vl(n)?n:void 0,animate:vl(i)?i:void 0}}return t.inherit!==!1?e:{}}function R1(t){const{initial:e,animate:n}=I1(t,k.useContext(uh));return k.useMemo(()=>({initial:e,animate:n}),[R0(e),R0(n)])}function R0(t){return Array.isArray(t)?t.join(" "):t}const k1=Symbol.for("motionComponentSymbol");function No(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function N1(t,e,n){return k.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):No(n)&&(n.current=i))},[e])}const Kp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),D1="framerAppearId",Nx="data-"+Kp(D1),Dx=k.createContext({});function V1(t,e,n,i,o){var a,u;const{visualElement:h}=k.useContext(uh),f=k.useContext(Ix),p=k.useContext(lh),y=k.useContext(Lp).reducedMotion,_=k.useRef(null);i=i||f.renderer,!_.current&&i&&(_.current=i(t,{visualState:e,parent:h,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:y}));const w=_.current,S=k.useContext(Dx);w&&!w.projection&&o&&(w.type==="html"||w.type==="svg")&&M1(_.current,n,o,S);const P=k.useRef(!1);k.useInsertionEffect(()=>{w&&P.current&&w.update(n,p)});const M=n[Nx],D=k.useRef(!!M&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,M))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,M)));return yx(()=>{w&&(P.current=!0,window.MotionIsMounted=!0,w.updateFeatures(),Wp.render(w.render),D.current&&w.animationState&&w.animationState.animateChanges())}),k.useEffect(()=>{w&&(!D.current&&w.animationState&&w.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,M)}),D.current=!1))}),w}function M1(t,e,n,i){const{layoutId:o,layout:a,drag:u,dragConstraints:h,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Vx(t.parent)),t.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!u||h&&No(h),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:i,layoutScroll:f,layoutRoot:p})}function Vx(t){if(t)return t.options.allowProjection!==!1?t.projection:Vx(t.parent)}function L1({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:o}){var a,u;t&&S1(t);function h(p,y){let _;const w={...k.useContext(Lp),...p,layoutId:O1(p)},{isStatic:S}=w,P=R1(p),M=i(p,S);if(!S&&Mp){j1();const D=F1(w);_=D.MeasureLayout,P.visualElement=V1(o,M,w,e,D.ProjectionNode)}return E.jsxs(uh.Provider,{value:P,children:[_&&P.visualElement?E.jsx(_,{visualElement:P.visualElement,...w}):null,n(o,p,N1(M,P.visualElement,y),M,S,P.visualElement)]})}h.displayName=`motion.${typeof o=="string"?o:`create(${(u=(a=o.displayName)!==null&&a!==void 0?a:o.name)!==null&&u!==void 0?u:""})`}`;const f=k.forwardRef(h);return f[k1]=o,f}function O1({layoutId:t}){const e=k.useContext(Dp).id;return e&&t!==void 0?e+"-"+t:t}function j1(t,e){k.useContext(Ix).strict}function F1(t){const{drag:e,layout:n}=Fo;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Mx=t=>e=>typeof e=="string"&&e.startsWith(t),Qp=Mx("--"),B1=Mx("var(--"),Xp=t=>B1(t)?U1.test(t.split("/*")[0].trim()):!1,U1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_l={};function $1(t){for(const e in t)_l[e]=t[e],Qp(e)&&(_l[e].isCSSVariable=!0)}const Jo=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Is=new Set(Jo);function Lx(t,{layout:e,layoutId:n}){return Is.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!_l[t]||t==="opacity")}const qt=t=>!!(t&&t.getVelocity),Ox=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Qr=(t,e,n)=>n>e?e:n<t?t:n,Zo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xl={...Zo,transform:t=>Qr(0,1,t)},dc={...Zo,default:1},Ol=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ci=Ol("deg"),gr=Ol("%"),Se=Ol("px"),z1=Ol("vh"),W1=Ol("vw"),k0={...gr,parse:t=>gr.parse(t)/100,transform:t=>gr.transform(t*100)},H1={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},G1={rotate:Ci,rotateX:Ci,rotateY:Ci,rotateZ:Ci,scale:dc,scaleX:dc,scaleY:dc,scaleZ:dc,skew:Ci,skewX:Ci,skewY:Ci,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:xl,originX:k0,originY:k0,originZ:Se},N0={...Zo,transform:Math.round},Yp={...H1,...G1,zIndex:N0,size:Se,fillOpacity:xl,strokeOpacity:xl,numOctaves:N0},q1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},K1=Jo.length;function Q1(t,e,n){let i="",o=!0;for(let a=0;a<K1;a++){const u=Jo[a],h=t[u];if(h===void 0)continue;let f=!0;if(typeof h=="number"?f=h===(u.startsWith("scale")?1:0):f=parseFloat(h)===0,!f||n){const p=Ox(h,Yp[u]);if(!f){o=!1;const y=q1[u]||u;i+=`${y}(${p}) `}n&&(e[u]=p)}}return i=i.trim(),n?i=n(e,o?"":i):o&&(i="none"),i}function Jp(t,e,n){const{style:i,vars:o,transformOrigin:a}=t;let u=!1,h=!1;for(const f in e){const p=e[f];if(Is.has(f)){u=!0;continue}else if(Qp(f)){o[f]=p;continue}else{const y=Ox(p,Yp[f]);f.startsWith("origin")?(h=!0,a[f]=y):i[f]=y}}if(e.transform||(u||n?i.transform=Q1(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:f="50%",originY:p="50%",originZ:y=0}=a;i.transformOrigin=`${f} ${p} ${y}`}}const Zp=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jx(t,e,n){for(const i in e)!qt(e[i])&&!Lx(i,n)&&(t[i]=e[i])}function X1({transformTemplate:t},e){return k.useMemo(()=>{const n=Zp();return Jp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Y1(t,e){const n=t.style||{},i={};return jx(i,n,t),Object.assign(i,X1(t,e)),i}function J1(t,e){const n={},i=Y1(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Z1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function em(t){return typeof t!="string"||t.includes("-")?!1:!!(Z1.indexOf(t)>-1||/[A-Z]/u.test(t))}const eP={offset:"stroke-dashoffset",array:"stroke-dasharray"},tP={offset:"strokeDashoffset",array:"strokeDasharray"};function nP(t,e,n=1,i=0,o=!0){t.pathLength=1;const a=o?eP:tP;t[a.offset]=Se.transform(-i);const u=Se.transform(e),h=Se.transform(n);t[a.array]=`${u} ${h}`}function D0(t,e,n){return typeof t=="string"?t:Se.transform(e+n*t)}function rP(t,e,n){const i=D0(e,t.x,t.width),o=D0(n,t.y,t.height);return`${i} ${o}`}function tm(t,{attrX:e,attrY:n,attrScale:i,originX:o,originY:a,pathLength:u,pathSpacing:h=1,pathOffset:f=0,...p},y,_){if(Jp(t,p,_),y){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:w,style:S,dimensions:P}=t;w.transform&&(P&&(S.transform=w.transform),delete w.transform),P&&(o!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=rP(P,o!==void 0?o:.5,a!==void 0?a:.5)),e!==void 0&&(w.x=e),n!==void 0&&(w.y=n),i!==void 0&&(w.scale=i),u!==void 0&&nP(w,u,h,f,!1)}const Fx=()=>({...Zp(),attrs:{}}),nm=t=>typeof t=="string"&&t.toLowerCase()==="svg";function iP(t,e,n,i){const o=k.useMemo(()=>{const a=Fx();return tm(a,e,nm(i),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};jx(a,t.style,t),o.style={...a,...o.style}}return o}function sP(t=!1){return(n,i,o,{latestValues:a},u)=>{const f=(em(n)?iP:J1)(i,a,u,n),p=P1(i,typeof n=="string",t),y=n!==k.Fragment?{...p,...f,ref:o}:{},{children:_}=i,w=k.useMemo(()=>qt(_)?_.get():_,[_]);return k.createElement(n,{...y,children:w})}}function V0(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function rm(t,e,n,i){if(typeof e=="function"){const[o,a]=V0(i);e=e(n!==void 0?n:t.custom,o,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[o,a]=V0(i);e=e(n!==void 0?n:t.custom,o,a)}return e}const Mf=t=>Array.isArray(t),oP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),aP=t=>Mf(t)?t[t.length-1]||0:t;function Sc(t){const e=qt(t)?t.get():t;return oP(e)?e.toValue():e}function lP({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},i,o,a){const u={latestValues:uP(i,o,a,t),renderState:e()};return n&&(u.onMount=h=>n({props:i,current:h,...u}),u.onUpdate=h=>n(h)),u}const Bx=t=>(e,n)=>{const i=k.useContext(uh),o=k.useContext(lh),a=()=>lP(t,e,i,o);return n?a():Vp(a)};function uP(t,e,n,i){const o={},a=i(t,{});for(const w in a)o[w]=Sc(a[w]);let{initial:u,animate:h}=t;const f=hh(t),p=kx(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let y=n?n.initial===!1:!1;y=y||u===!1;const _=y?h:u;if(_&&typeof _!="boolean"&&!ch(_)){const w=Array.isArray(_)?_:[_];for(let S=0;S<w.length;S++){const P=rm(t,w[S]);if(P){const{transitionEnd:M,transition:D,...j}=P;for(const $ in j){let O=j[$];if(Array.isArray(O)){const U=y?O.length-1:0;O=O[U]}O!==null&&(o[$]=O)}for(const $ in M)o[$]=M[$]}}}return o}function im(t,e,n){var i;const{style:o}=t,a={};for(const u in o)(qt(o[u])||e.style&&qt(e.style[u])||Lx(u,t)||((i=n==null?void 0:n.getValue(u))===null||i===void 0?void 0:i.liveStyle)!==void 0)&&(a[u]=o[u]);return a}const cP={useVisualState:Bx({scrapeMotionValuesFromProps:im,createRenderState:Zp})};function Ux(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function $x(t,{style:e,vars:n},i,o){Object.assign(t.style,e,o&&o.getProjectionStyles(i));for(const a in n)t.style.setProperty(a,n[a])}const zx=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Wx(t,e,n,i){$x(t,e,void 0,i);for(const o in e.attrs)t.setAttribute(zx.has(o)?o:Kp(o),e.attrs[o])}function Hx(t,e,n){const i=im(t,e,n);for(const o in t)if(qt(t[o])||qt(e[o])){const a=Jo.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;i[a]=t[o]}return i}const M0=["x","y","width","height","cx","cy","r"],hP={useVisualState:Bx({scrapeMotionValuesFromProps:Hx,createRenderState:Fx,onUpdate:({props:t,prevProps:e,current:n,renderState:i,latestValues:o})=>{if(!n)return;let a=!!t.drag;if(!a){for(const h in o)if(Is.has(h)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let h=0;h<M0.length;h++){const f=M0[h];t[f]!==e[f]&&(u=!0)}u&&qe.read(()=>{Ux(n,i),qe.render(()=>{tm(i,o,nm(n.tagName),t.transformTemplate),Wx(n,i)})})}})};function dP(t,e){return function(i,{forwardMotionProps:o}={forwardMotionProps:!1}){const u={...em(i)?hP:cP,preloadedFeatures:t,useRender:sP(o),createVisualElement:e,Component:i};return L1(u)}}function wl(t,e,n){const i=t.getProps();return rm(i,e,n!==void 0?n:i.custom,t)}const Gx=new Set(["width","height","top","left","right","bottom",...Jo]);function fP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,yl(n))}function pP(t,e){const n=wl(t,e);let{transitionEnd:i={},transition:o={},...a}=n||{};a={...a,...i};for(const u in a){const h=aP(a[u]);fP(t,u,h)}}function mP(t){return!!(qt(t)&&t.add)}function Lf(t,e){const n=t.getValue("willChange");if(mP(n))return n.add(e)}function qx(t){return t.props[Nx]}const Kx=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,gP=1e-7,yP=12;function vP(t,e,n,i,o){let a,u,h=0;do u=e+(n-e)/2,a=Kx(u,i,o)-t,a>0?n=u:e=u;while(Math.abs(a)>gP&&++h<yP);return u}function jl(t,e,n,i){if(t===e&&n===i)return vn;const o=a=>vP(a,0,1,t,n);return a=>a===0||a===1?a:Kx(o(a),e,i)}const Qx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Xx=t=>e=>1-t(1-e),Yx=jl(.33,1.53,.69,.99),sm=Xx(Yx),Jx=Qx(sm),Zx=t=>(t*=2)<1?.5*sm(t):.5*(2-Math.pow(2,-10*(t-1))),om=t=>1-Math.sin(Math.acos(t)),ew=Xx(om),tw=Qx(om),nw=t=>/^0[^.\s]+$/u.test(t);function _P(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nw(t):!0}const ll=t=>Math.round(t*1e5)/1e5,am=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xP(t){return t==null}const wP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,lm=(t,e)=>n=>!!(typeof n=="string"&&wP.test(n)&&n.startsWith(t)||e&&!xP(n)&&Object.prototype.hasOwnProperty.call(n,e)),rw=(t,e,n)=>i=>{if(typeof i!="string")return i;const[o,a,u,h]=i.match(am);return{[t]:parseFloat(o),[e]:parseFloat(a),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},EP=t=>Qr(0,255,t),cf={...Zo,transform:t=>Math.round(EP(t))},Ts={test:lm("rgb","red"),parse:rw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+cf.transform(t)+", "+cf.transform(e)+", "+cf.transform(n)+", "+ll(xl.transform(i))+")"};function TP(t){let e="",n="",i="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,i+=i,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:o?parseInt(o,16)/255:1}}const Of={test:lm("#"),parse:TP,transform:Ts.transform},Do={test:lm("hsl","hue"),parse:rw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+gr.transform(ll(e))+", "+gr.transform(ll(n))+", "+ll(xl.transform(i))+")"},Wt={test:t=>Ts.test(t)||Of.test(t)||Do.test(t),parse:t=>Ts.test(t)?Ts.parse(t):Do.test(t)?Do.parse(t):Of.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ts.transform(t):Do.transform(t)},SP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function CP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(am))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(SP))===null||n===void 0?void 0:n.length)||0)>0}const iw="number",sw="color",AP="var",PP="var(",L0="${}",bP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function El(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},o=[];let a=0;const h=e.replace(bP,f=>(Wt.test(f)?(i.color.push(a),o.push(sw),n.push(Wt.parse(f))):f.startsWith(PP)?(i.var.push(a),o.push(AP),n.push(f)):(i.number.push(a),o.push(iw),n.push(parseFloat(f))),++a,L0)).split(L0);return{values:n,split:h,indexes:i,types:o}}function ow(t){return El(t).values}function aw(t){const{split:e,types:n}=El(t),i=e.length;return o=>{let a="";for(let u=0;u<i;u++)if(a+=e[u],o[u]!==void 0){const h=n[u];h===iw?a+=ll(o[u]):h===sw?a+=Wt.transform(o[u]):a+=o[u]}return a}}const IP=t=>typeof t=="number"?0:t;function RP(t){const e=ow(t);return aw(t)(e.map(IP))}const Vi={test:CP,parse:ow,createTransformer:aw,getAnimatableNone:RP},kP=new Set(["brightness","contrast","saturate","opacity"]);function NP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(am)||[];if(!i)return t;const o=n.replace(i,"");let a=kP.has(e)?1:0;return i!==n&&(a*=100),e+"("+a+o+")"}const DP=/\b([a-z-]*)\(.*?\)/gu,jf={...Vi,getAnimatableNone:t=>{const e=t.match(DP);return e?e.map(NP).join(" "):t}},VP={...Yp,color:Wt,backgroundColor:Wt,outlineColor:Wt,fill:Wt,stroke:Wt,borderColor:Wt,borderTopColor:Wt,borderRightColor:Wt,borderBottomColor:Wt,borderLeftColor:Wt,filter:jf,WebkitFilter:jf},lw=t=>VP[t];function uw(t,e){let n=lw(t);return n!==jf&&(n=Vi),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const MP=new Set(["auto","none","0"]);function LP(t,e,n){let i=0,o;for(;i<t.length&&!o;){const a=t[i];typeof a=="string"&&!MP.has(a)&&El(a).values.length&&(o=t[i]),i++}if(o&&n)for(const a of e)t[a]=uw(n,o)}const Ss=t=>t*180/Math.PI,Ff=t=>{const e=Ss(Math.atan2(t[1],t[0]));return Bf(e)},OP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Ff,rotateZ:Ff,skewX:t=>Ss(Math.atan(t[1])),skewY:t=>Ss(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Bf=t=>(t=t%360,t<0&&(t+=360),t),O0=Ff,j0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),F0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),jP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:j0,scaleY:F0,scale:t=>(j0(t)+F0(t))/2,rotateX:t=>Bf(Ss(Math.atan2(t[6],t[5]))),rotateY:t=>Bf(Ss(Math.atan2(-t[2],t[0]))),rotateZ:O0,rotate:O0,skewX:t=>Ss(Math.atan(t[4])),skewY:t=>Ss(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function B0(t){return t.includes("scale")?1:0}function Uf(t,e){if(!t||t==="none")return B0(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,o;if(n)i=jP,o=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=OP,o=h}if(!o)return B0(e);const a=i[e],u=o[1].split(",").map(BP);return typeof a=="function"?a(u):u[a]}const FP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Uf(n,e)};function BP(t){return parseFloat(t.trim())}const U0=t=>t===Zo||t===Se,UP=new Set(["x","y","z"]),$P=Jo.filter(t=>!UP.has(t));function zP(t){const e=[];return $P.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const Bo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Uf(e,"x"),y:(t,{transform:e})=>Uf(e,"y")};Bo.translateX=Bo.x;Bo.translateY=Bo.y;const As=new Set;let $f=!1,zf=!1;function cw(){if(zf){const t=Array.from(As).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const o=zP(i);o.length&&(n.set(i,o),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const o=n.get(i);o&&o.forEach(([a,u])=>{var h;(h=i.getValue(a))===null||h===void 0||h.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}zf=!1,$f=!1,As.forEach(t=>t.complete()),As.clear()}function hw(){As.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(zf=!0)})}function WP(){hw(),cw()}class um{constructor(e,n,i,o,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=o,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(As.add(this),$f||($f=!0,qe.read(hw),qe.resolveKeyframes(cw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:o}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=o==null?void 0:o.get(),h=e[e.length-1];if(u!==void 0)e[0]=u;else if(i&&n){const f=i.readValue(n,h);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=h),o&&u===void 0&&o.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),As.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,As.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const dw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),HP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GP(t){const e=HP.exec(t);if(!e)return[,];const[,n,i,o]=e;return[`--${n??i}`,o]}function fw(t,e,n=1){const[i,o]=GP(t);if(!i)return;const a=window.getComputedStyle(e).getPropertyValue(i);if(a){const u=a.trim();return dw(u)?parseFloat(u):u}return Xp(o)?fw(o,e,n+1):o}const pw=t=>e=>e.test(t),qP={test:t=>t==="auto",parse:t=>t},mw=[Zo,Se,gr,Ci,W1,z1,qP],$0=t=>mw.find(pw(t));class gw extends um{constructor(e,n,i,o,a){super(e,n,i,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Xp(p))){const y=fw(p,n.current);y!==void 0&&(e[f]=y),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Gx.has(i)||e.length!==2)return;const[o,a]=e,u=$0(o),h=$0(a);if(u!==h)if(U0(u)&&U0(h))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let o=0;o<e.length;o++)_P(e[o])&&i.push(o);i.length&&LP(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Bo[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const o=n[n.length-1];o!==void 0&&e.getValue(i,o).jump(o,!1)}measureEndState(){var e;const{element:n,name:i,unresolvedKeyframes:o}=this;if(!n||!n.current)return;const a=n.getValue(i);a&&a.jump(this.measuredOrigin,!1);const u=o.length-1,h=o[u];o[u]=Bo[i](n.measureViewportBox(),window.getComputedStyle(n.current)),h!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=h),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const z0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Vi.test(t)||t==="0")&&!t.startsWith("url("));function KP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function QP(t,e,n,i){const o=t[0];if(o===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=z0(o,e),h=z0(a,e);return!u||!h?!1:KP(t)||(n==="spring"||$p(n))&&i}const XP=t=>t!==null;function dh(t,{repeat:e,repeatType:n="loop"},i){const o=t.filter(XP),a=e&&n!=="loop"&&e%2===1?0:o.length-1;return!a||i===void 0?o[a]:i}const YP=40;class yw{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:u="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=mr.now(),this.options={autoplay:e,delay:n,type:i,repeat:o,repeatDelay:a,repeatType:u,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>YP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&WP(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=mr.now(),this.hasAttemptedResolve=!0;const{name:i,type:o,velocity:a,delay:u,onComplete:h,onUpdate:f,isGenerator:p}=this.options;if(!p&&!QP(e,i,o,a))if(u)this.options.duration=0;else{f&&f(dh(e,this.options,n)),h&&h(),this.resolveFinishedPromise();return}const y=this.initPlayback(e,n);y!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...y},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const rt=(t,e,n)=>t+(e-t)*n;function hf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function JP({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let o=0,a=0,u=0;if(!e)o=a=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,f=2*n-h;o=hf(f,h,t+1/3),a=hf(f,h,t),u=hf(f,h,t-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:i}}function Oc(t,e){return n=>n>0?e:t}const df=(t,e,n)=>{const i=t*t,o=n*(e*e-i)+i;return o<0?0:Math.sqrt(o)},ZP=[Of,Ts,Do],eb=t=>ZP.find(e=>e.test(t));function W0(t){const e=eb(t);if(!e)return!1;let n=e.parse(t);return e===Do&&(n=JP(n)),n}const H0=(t,e)=>{const n=W0(t),i=W0(e);if(!n||!i)return Oc(t,e);const o={...n};return a=>(o.red=df(n.red,i.red,a),o.green=df(n.green,i.green,a),o.blue=df(n.blue,i.blue,a),o.alpha=rt(n.alpha,i.alpha,a),Ts.transform(o))},tb=(t,e)=>n=>e(t(n)),Fl=(...t)=>t.reduce(tb),Wf=new Set(["none","hidden"]);function nb(t,e){return Wf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function rb(t,e){return n=>rt(t,e,n)}function cm(t){return typeof t=="number"?rb:typeof t=="string"?Xp(t)?Oc:Wt.test(t)?H0:ob:Array.isArray(t)?vw:typeof t=="object"?Wt.test(t)?H0:ib:Oc}function vw(t,e){const n=[...t],i=n.length,o=t.map((a,u)=>cm(a)(a,e[u]));return a=>{for(let u=0;u<i;u++)n[u]=o[u](a);return n}}function ib(t,e){const n={...t,...e},i={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(i[o]=cm(t[o])(t[o],e[o]));return o=>{for(const a in i)n[a]=i[a](o);return n}}function sb(t,e){var n;const i=[],o={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],h=t.indexes[u][o[u]],f=(n=t.values[h])!==null&&n!==void 0?n:0;i[a]=f,o[u]++}return i}const ob=(t,e)=>{const n=Vi.createTransformer(e),i=El(t),o=El(e);return i.indexes.var.length===o.indexes.var.length&&i.indexes.color.length===o.indexes.color.length&&i.indexes.number.length>=o.indexes.number.length?Wf.has(t)&&!o.values.length||Wf.has(e)&&!i.values.length?nb(t,e):Fl(vw(sb(i,o),o.values),n):Oc(t,e)};function _w(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?rt(t,e,n):cm(t)(t,e)}const ab=5;function xw(t,e,n){const i=Math.max(e-ab,0);return xx(n-t(i),e-i)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},G0=.001;function lb({duration:t=at.duration,bounce:e=at.bounce,velocity:n=at.velocity,mass:i=at.mass}){let o,a,u=1-e;u=Qr(at.minDamping,at.maxDamping,u),t=Qr(at.minDuration,at.maxDuration,qr(t)),u<1?(o=p=>{const y=p*u,_=y*t,w=y-n,S=Hf(p,u),P=Math.exp(-_);return G0-w/S*P},a=p=>{const _=p*u*t,w=_*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,P=Math.exp(-_),M=Hf(Math.pow(p,2),u);return(-o(p)+G0>0?-1:1)*((w-S)*P)/M}):(o=p=>{const y=Math.exp(-p*t),_=(p-n)*t+1;return-.001+y*_},a=p=>{const y=Math.exp(-p*t),_=(n-p)*(t*t);return y*_});const h=5/t,f=cb(o,a,h);if(t=Gr(t),isNaN(f))return{stiffness:at.stiffness,damping:at.damping,duration:t};{const p=Math.pow(f,2)*i;return{stiffness:p,damping:u*2*Math.sqrt(i*p),duration:t}}}const ub=12;function cb(t,e,n){let i=n;for(let o=1;o<ub;o++)i=i-t(i)/e(i);return i}function Hf(t,e){return t*Math.sqrt(1-e*e)}const hb=["duration","bounce"],db=["stiffness","damping","mass"];function q0(t,e){return e.some(n=>t[n]!==void 0)}function fb(t){let e={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...t};if(!q0(t,db)&&q0(t,hb))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),o=i*i,a=2*Qr(.05,1,1-(t.bounce||0))*Math.sqrt(o);e={...e,mass:at.mass,stiffness:o,damping:a}}else{const n=lb(t);e={...e,...n,mass:at.mass},e.isResolvedFromDuration=!0}return e}function ww(t=at.visualDuration,e=at.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:o}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:a},{stiffness:f,damping:p,mass:y,duration:_,velocity:w,isResolvedFromDuration:S}=fb({...n,velocity:-qr(n.velocity||0)}),P=w||0,M=p/(2*Math.sqrt(f*y)),D=u-a,j=qr(Math.sqrt(f/y)),$=Math.abs(D)<5;i||(i=$?at.restSpeed.granular:at.restSpeed.default),o||(o=$?at.restDelta.granular:at.restDelta.default);let O;if(M<1){const z=Hf(j,M);O=X=>{const I=Math.exp(-M*j*X);return u-I*((P+M*j*D)/z*Math.sin(z*X)+D*Math.cos(z*X))}}else if(M===1)O=z=>u-Math.exp(-j*z)*(D+(P+j*D)*z);else{const z=j*Math.sqrt(M*M-1);O=X=>{const I=Math.exp(-M*j*X),A=Math.min(z*X,300);return u-I*((P+M*j*D)*Math.sinh(A)+z*D*Math.cosh(A))/z}}const U={calculatedDuration:S&&_||null,next:z=>{const X=O(z);if(S)h.done=z>=_;else{let I=0;M<1&&(I=z===0?Gr(P):xw(O,z,X));const A=Math.abs(I)<=i,b=Math.abs(u-X)<=o;h.done=A&&b}return h.value=h.done?u:X,h},toString:()=>{const z=Math.min(wx(U),Df),X=Ex(I=>U.next(z*I).value,z,30);return z+"ms "+X}};return U}function K0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:u,min:h,max:f,restDelta:p=.5,restSpeed:y}){const _=t[0],w={done:!1,value:_},S=A=>h!==void 0&&A<h||f!==void 0&&A>f,P=A=>h===void 0?f:f===void 0||Math.abs(h-A)<Math.abs(f-A)?h:f;let M=n*e;const D=_+M,j=u===void 0?D:u(D);j!==D&&(M=j-_);const $=A=>-M*Math.exp(-A/i),O=A=>j+$(A),U=A=>{const b=$(A),V=O(A);w.done=Math.abs(b)<=p,w.value=w.done?j:V};let z,X;const I=A=>{S(w.value)&&(z=A,X=ww({keyframes:[w.value,P(w.value)],velocity:xw(O,A,w.value),damping:o,stiffness:a,restDelta:p,restSpeed:y}))};return I(0),{calculatedDuration:null,next:A=>{let b=!1;return!X&&z===void 0&&(b=!0,U(A),I(A)),z!==void 0&&A>=z?X.next(A-z):(!b&&U(A),w)}}}const pb=jl(.42,0,1,1),mb=jl(0,0,.58,1),Ew=jl(.42,0,.58,1),gb=t=>Array.isArray(t)&&typeof t[0]!="number",yb={linear:vn,easeIn:pb,easeInOut:Ew,easeOut:mb,circIn:om,circInOut:tw,circOut:ew,backIn:sm,backInOut:Jx,backOut:Yx,anticipate:Zx},Q0=t=>{if(zp(t)){_x(t.length===4);const[e,n,i,o]=t;return jl(e,n,i,o)}else if(typeof t=="string")return yb[t];return t};function vb(t,e,n){const i=[],o=n||_w,a=t.length-1;for(let u=0;u<a;u++){let h=o(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||vn:e;h=Fl(f,h)}i.push(h)}return i}function _b(t,e,{clamp:n=!0,ease:i,mixer:o}={}){const a=t.length;if(_x(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=vb(e,i,o),f=h.length,p=y=>{if(u&&y<t[0])return e[0];let _=0;if(f>1)for(;_<t.length-2&&!(y<t[_+1]);_++);const w=jo(t[_],t[_+1],y);return h[_](w)};return n?y=>p(Qr(t[0],t[a-1],y)):p}function xb(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const o=jo(0,e,i);t.push(rt(n,1,o))}}function wb(t){const e=[0];return xb(e,t.length-1),e}function Eb(t,e){return t.map(n=>n*e)}function Tb(t,e){return t.map(()=>e||Ew).splice(0,t.length-1)}function jc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const o=gb(i)?i.map(Q0):Q0(i),a={done:!1,value:e[0]},u=Eb(n&&n.length===e.length?n:wb(e),t),h=_b(u,e,{ease:Array.isArray(o)?o:Tb(e,o)});return{calculatedDuration:t,next:f=>(a.value=h(f),a.done=f>=t,a)}}const Sb=t=>{const e=({timestamp:n})=>t(n);return{start:()=>qe.update(e,!0),stop:()=>Di(e),now:()=>Vt.isProcessing?Vt.timestamp:mr.now()}},Cb={decay:K0,inertia:K0,tween:jc,keyframes:jc,spring:ww},Ab=t=>t/100;class hm extends yw{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:i,element:o,keyframes:a}=this.options,u=(o==null?void 0:o.KeyframeResolver)||um,h=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new u(a,h,n,i,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a,velocity:u=0}=this.options,h=$p(n)?n:Cb[n]||jc;let f,p;h!==jc&&typeof e[0]!="number"&&(f=Fl(Ab,_w(e[0],e[1])),e=[0,100]);const y=h({...this.options,keyframes:e});a==="mirror"&&(p=h({...this.options,keyframes:[...e].reverse(),velocity:-u})),y.calculatedDuration===null&&(y.calculatedDuration=wx(y));const{calculatedDuration:_}=y,w=_+o,S=w*(i+1)-o;return{generator:y,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:w,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:i}=this;if(!i){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:o,generator:a,mirroredGenerator:u,mapPercentToKeyframes:h,keyframes:f,calculatedDuration:p,totalDuration:y,resolvedDuration:_}=i;if(this.startTime===null)return a.next(0);const{delay:w,repeat:S,repeatType:P,repeatDelay:M,onUpdate:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-y/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const j=this.currentTime-w*(this.speed>=0?1:-1),$=this.speed>=0?j<0:j>y;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let O=this.currentTime,U=a;if(S){const A=Math.min(this.currentTime,y)/_;let b=Math.floor(A),V=A%1;!V&&A>=1&&(V=1),V===1&&b--,b=Math.min(b,S+1),!!(b%2)&&(P==="reverse"?(V=1-V,M&&(V-=M/_)):P==="mirror"&&(U=u)),O=Qr(0,1,V)*_}const z=$?{done:!1,value:f[0]}:U.next(O);h&&(z.value=h(z.value));let{done:X}=z;!$&&p!==null&&(X=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&X);return I&&o!==void 0&&(z.value=dh(f,this.options,o)),D&&D(z.value),I&&this.finish(),z}get duration(){const{resolved:e}=this;return e?qr(e.calculatedDuration):0}get time(){return qr(this.currentTime)}set time(e){e=Gr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=qr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Sb,onPlay:n,startTime:i}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Pb=new Set(["opacity","clipPath","filter","transform"]);function bb(t,e,n,{delay:i=0,duration:o=300,repeat:a=0,repeatType:u="loop",ease:h="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const y=Sx(h,o);return Array.isArray(y)&&(p.easing=y),t.animate(p,{delay:i,duration:o,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const Ib=Fp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Fc=10,Rb=2e4;function kb(t){return $p(t.type)||t.type==="spring"||!Tx(t.ease)}function Nb(t,e){const n=new hm({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:t[0]};const o=[];let a=0;for(;!i.done&&a<Rb;)i=n.sample(a),o.push(i.value),a+=Fc;return{times:void 0,keyframes:o,duration:a-Fc,ease:"linear"}}const Tw={anticipate:Zx,backInOut:Jx,circInOut:tw};function Db(t){return t in Tw}class X0 extends yw{constructor(e){super(e);const{name:n,motionValue:i,element:o,keyframes:a}=this.options;this.resolver=new gw(a,(u,h)=>this.onKeyframesResolved(u,h),n,i,o),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:i=300,times:o,ease:a,type:u,motionValue:h,name:f,startTime:p}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof a=="string"&&Mc()&&Db(a)&&(a=Tw[a]),kb(this.options)){const{onComplete:_,onUpdate:w,motionValue:S,element:P,...M}=this.options,D=Nb(e,M);e=D.keyframes,e.length===1&&(e[1]=e[0]),i=D.duration,o=D.times,a=D.ease,u="keyframes"}const y=bb(h.owner.current,f,e,{...this.options,duration:i,times:o,ease:a});return y.startTime=p??this.calcStartTime(),this.pendingTimeline?(E0(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:_}=this.options;h.set(dh(e,this.options,n)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:o,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return qr(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return qr(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.currentTime=Gr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:i}=n;i.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return vn;const{animation:i}=n;E0(i,e)}return vn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:i,duration:o,type:a,ease:u,times:h}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:y,onComplete:_,element:w,...S}=this.options,P=new hm({...S,keyframes:i,duration:o,type:a,ease:u,times:h,isGenerator:!0}),M=Gr(this.time);p.setWithVelocity(P.sample(M-Fc).value,P.sample(M).value,Fc)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:i,repeatDelay:o,repeatType:a,damping:u,type:h}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return Ib()&&i&&Pb.has(i)&&!f&&!p&&!o&&a!=="mirror"&&u!==0&&h!=="inertia"}}const Vb={type:"spring",stiffness:500,damping:25,restSpeed:10},Mb=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Lb={type:"keyframes",duration:.8},Ob={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},jb=(t,{keyframes:e})=>e.length>2?Lb:Is.has(t)?t.startsWith("scale")?Mb(e[1]):Vb:Ob;function Fb({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:o,repeat:a,repeatType:u,repeatDelay:h,from:f,elapsed:p,...y}){return!!Object.keys(y).length}const dm=(t,e,n,i={},o,a)=>u=>{const h=Up(i,t)||{},f=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Gr(f);let y={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:a?void 0:o};Fb(h)||(y={...y,...jb(t,y)}),y.duration&&(y.duration=Gr(y.duration)),y.repeatDelay&&(y.repeatDelay=Gr(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let _=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(_=!0)),y.allowFlatten=!h.type&&!h.ease,_&&!a&&e.get()!==void 0){const w=dh(y.keyframes,h);if(w!==void 0)return qe.update(()=>{y.onUpdate(w),y.onComplete()}),new l1([])}return!a&&X0.supports(y)?new X0(y):new hm(y)};function Bb({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function Sw(t,e,{delay:n=0,transitionOverride:i,type:o}={}){var a;let{transition:u=t.getDefaultTransition(),transitionEnd:h,...f}=e;i&&(u=i);const p=[],y=o&&t.animationState&&t.animationState.getState()[o];for(const _ in f){const w=t.getValue(_,(a=t.latestValues[_])!==null&&a!==void 0?a:null),S=f[_];if(S===void 0||y&&Bb(y,_))continue;const P={delay:n,...Up(u||{},_)};let M=!1;if(window.MotionHandoffAnimation){const j=qx(t);if(j){const $=window.MotionHandoffAnimation(j,_,qe);$!==null&&(P.startTime=$,M=!0)}}Lf(t,_),w.start(dm(_,w,S,t.shouldReduceMotion&&Gx.has(_)?{type:!1}:P,t,M));const D=w.animation;D&&p.push(D)}return h&&Promise.all(p).then(()=>{qe.update(()=>{h&&pP(t,h)})}),p}function Gf(t,e,n={}){var i;const o=wl(t,e,n.type==="exit"?(i=t.presenceContext)===null||i===void 0?void 0:i.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=o||{};n.transitionOverride&&(a=n.transitionOverride);const u=o?()=>Promise.all(Sw(t,o,n)):()=>Promise.resolve(),h=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:y=0,staggerChildren:_,staggerDirection:w}=a;return Ub(t,e,y+p,_,w,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,y]=f==="beforeChildren"?[u,h]:[h,u];return p().then(()=>y())}else return Promise.all([u(),h(n.delay)])}function Ub(t,e,n=0,i=0,o=1,a){const u=[],h=(t.variantChildren.size-1)*i,f=o===1?(p=0)=>p*i:(p=0)=>h-p*i;return Array.from(t.variantChildren).sort($b).forEach((p,y)=>{p.notify("AnimationStart",e),u.push(Gf(p,e,{...a,delay:n+f(y)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function $b(t,e){return t.sortNodePosition(e)}function zb(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const o=e.map(a=>Gf(t,a,n));i=Promise.all(o)}else if(typeof e=="string")i=Gf(t,e,n);else{const o=typeof e=="function"?wl(t,e,n.custom):e;i=Promise.all(Sw(t,o,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function Cw(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const Wb=qp.length;function Aw(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?Aw(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<Wb;n++){const i=qp[n],o=t.props[i];(vl(o)||o===!1)&&(e[i]=o)}return e}const Hb=[...Gp].reverse(),Gb=Gp.length;function qb(t){return e=>Promise.all(e.map(({animation:n,options:i})=>zb(t,n,i)))}function Kb(t){let e=qb(t),n=Y0(),i=!0;const o=f=>(p,y)=>{var _;const w=wl(t,y,f==="exit"?(_=t.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(w){const{transition:S,transitionEnd:P,...M}=w;p={...p,...M,...P}}return p};function a(f){e=f(t)}function u(f){const{props:p}=t,y=Aw(t.parent)||{},_=[],w=new Set;let S={},P=1/0;for(let D=0;D<Gb;D++){const j=Hb[D],$=n[j],O=p[j]!==void 0?p[j]:y[j],U=vl(O),z=j===f?$.isActive:null;z===!1&&(P=D);let X=O===y[j]&&O!==p[j]&&U;if(X&&i&&t.manuallyAnimateOnMount&&(X=!1),$.protectedKeys={...S},!$.isActive&&z===null||!O&&!$.prevProp||ch(O)||typeof O=="boolean")continue;const I=Qb($.prevProp,O);let A=I||j===f&&$.isActive&&!X&&U||D>P&&U,b=!1;const V=Array.isArray(O)?O:[O];let F=V.reduce(o(j),{});z===!1&&(F={});const{prevResolvedValues:W={}}=$,R={...W,...F},je=Ce=>{A=!0,w.has(Ce)&&(b=!0,w.delete(Ce)),$.needsAnimating[Ce]=!0;const ae=t.getValue(Ce);ae&&(ae.liveStyle=!1)};for(const Ce in R){const ae=F[Ce],ge=W[Ce];if(S.hasOwnProperty(Ce))continue;let ce=!1;Mf(ae)&&Mf(ge)?ce=!Cw(ae,ge):ce=ae!==ge,ce?ae!=null?je(Ce):w.add(Ce):ae!==void 0&&w.has(Ce)?je(Ce):$.protectedKeys[Ce]=!0}$.prevProp=O,$.prevResolvedValues=F,$.isActive&&(S={...S,...F}),i&&t.blockInitialAnimation&&(A=!1),A&&(!(X&&I)||b)&&_.push(...V.map(Ce=>({animation:Ce,options:{type:j}})))}if(w.size){const D={};if(typeof p.initial!="boolean"){const j=wl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);j&&j.transition&&(D.transition=j.transition)}w.forEach(j=>{const $=t.getBaseTarget(j),O=t.getValue(j);O&&(O.liveStyle=!0),D[j]=$??null}),_.push({animation:D})}let M=!!_.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(M=!1),i=!1,M?e(_):Promise.resolve()}function h(f,p){var y;if(n[f].isActive===p)return Promise.resolve();(y=t.variantChildren)===null||y===void 0||y.forEach(w=>{var S;return(S=w.animationState)===null||S===void 0?void 0:S.setActive(f,p)}),n[f].isActive=p;const _=u(f);for(const w in n)n[w].protectedKeys={};return _}return{animateChanges:u,setActive:h,setAnimateFunction:a,getState:()=>n,reset:()=>{n=Y0(),i=!0}}}function Qb(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Cw(e,t):!1}function ys(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Y0(){return{animate:ys(!0),whileInView:ys(),whileHover:ys(),whileTap:ys(),whileDrag:ys(),whileFocus:ys(),exit:ys()}}class zi{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Xb extends zi{constructor(e){super(e),e.animationState||(e.animationState=Kb(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();ch(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Yb=0;class Jb extends zi{constructor(){super(...arguments),this.id=Yb++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const o=this.node.animationState.setActive("exit",!e);n&&!e&&o.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Zb={animation:{Feature:Xb},exit:{Feature:Jb}};function Tl(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Bl(t){return{point:{x:t.pageX,y:t.pageY}}}const eI=t=>e=>Hp(e)&&t(e,Bl(e));function ul(t,e,n,i){return Tl(t,e,eI(n),i)}function Pw({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function tI({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nI(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const bw=1e-4,rI=1-bw,iI=1+bw,Iw=.01,sI=0-Iw,oI=0+Iw;function Zt(t){return t.max-t.min}function aI(t,e,n){return Math.abs(t-e)<=n}function J0(t,e,n,i=.5){t.origin=i,t.originPoint=rt(e.min,e.max,t.origin),t.scale=Zt(n)/Zt(e),t.translate=rt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=rI&&t.scale<=iI||isNaN(t.scale))&&(t.scale=1),(t.translate>=sI&&t.translate<=oI||isNaN(t.translate))&&(t.translate=0)}function cl(t,e,n,i){J0(t.x,e.x,n.x,i?i.originX:void 0),J0(t.y,e.y,n.y,i?i.originY:void 0)}function Z0(t,e,n){t.min=n.min+e.min,t.max=t.min+Zt(e)}function lI(t,e,n){Z0(t.x,e.x,n.x),Z0(t.y,e.y,n.y)}function ev(t,e,n){t.min=e.min-n.min,t.max=t.min+Zt(e)}function hl(t,e,n){ev(t.x,e.x,n.x),ev(t.y,e.y,n.y)}const tv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vo=()=>({x:tv(),y:tv()}),nv=()=>({min:0,max:0}),ht=()=>({x:nv(),y:nv()});function Dn(t){return[t("x"),t("y")]}function ff(t){return t===void 0||t===1}function qf({scale:t,scaleX:e,scaleY:n}){return!ff(t)||!ff(e)||!ff(n)}function xs(t){return qf(t)||Rw(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function Rw(t){return rv(t.x)||rv(t.y)}function rv(t){return t&&t!=="0%"}function Bc(t,e,n){const i=t-n,o=e*i;return n+o}function iv(t,e,n,i,o){return o!==void 0&&(t=Bc(t,o,i)),Bc(t,n,i)+e}function Kf(t,e=0,n=1,i,o){t.min=iv(t.min,e,n,i,o),t.max=iv(t.max,e,n,i,o)}function kw(t,{x:e,y:n}){Kf(t.x,e.translate,e.scale,e.originPoint),Kf(t.y,n.translate,n.scale,n.originPoint)}const sv=.999999999999,ov=1.0000000000001;function uI(t,e,n,i=!1){const o=n.length;if(!o)return;e.x=e.y=1;let a,u;for(let h=0;h<o;h++){a=n[h],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(i&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Lo(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,kw(t,u)),i&&xs(a.latestValues)&&Lo(t,a.latestValues))}e.x<ov&&e.x>sv&&(e.x=1),e.y<ov&&e.y>sv&&(e.y=1)}function Mo(t,e){t.min=t.min+e,t.max=t.max+e}function av(t,e,n,i,o=.5){const a=rt(t.min,t.max,o);Kf(t,e,n,a,i)}function Lo(t,e){av(t.x,e.x,e.scaleX,e.scale,e.originX),av(t.y,e.y,e.scaleY,e.scale,e.originY)}function Nw(t,e){return Pw(nI(t.getBoundingClientRect(),e))}function cI(t,e,n){const i=Nw(t,n),{scroll:o}=e;return o&&(Mo(i.x,o.offset.x),Mo(i.y,o.offset.y)),i}const Dw=({current:t})=>t?t.ownerDocument.defaultView:null,lv=(t,e)=>Math.abs(t-e);function hI(t,e){const n=lv(t.x,e.x),i=lv(t.y,e.y);return Math.sqrt(n**2+i**2)}class Vw{constructor(e,n,{transformPagePoint:i,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=mf(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,S=hI(_.offset,{x:0,y:0})>=3;if(!w&&!S)return;const{point:P}=_,{timestamp:M}=Vt;this.history.push({...P,timestamp:M});const{onStart:D,onMove:j}=this.handlers;w||(D&&D(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,_)},this.handlePointerMove=(_,w)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=pf(w,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(_,w)=>{this.end();const{onEnd:S,onSessionEnd:P,resumeAnimation:M}=this.handlers;if(this.dragSnapToOrigin&&M&&M(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=mf(_.type==="pointercancel"?this.lastMoveEventInfo:pf(w,this.transformPagePoint),this.history);this.startEvent&&S&&S(_,D),P&&P(_,D)},!Hp(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=i,this.contextWindow=o||window;const u=Bl(e),h=pf(u,this.transformPagePoint),{point:f}=h,{timestamp:p}=Vt;this.history=[{...f,timestamp:p}];const{onSessionStart:y}=n;y&&y(e,mf(h,this.history)),this.removeListeners=Fl(ul(this.contextWindow,"pointermove",this.handlePointerMove),ul(this.contextWindow,"pointerup",this.handlePointerUp),ul(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Di(this.updatePoint)}}function pf(t,e){return e?{point:e(t.point)}:t}function uv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mf({point:t},e){return{point:t,delta:uv(t,Mw(e)),offset:uv(t,dI(e)),velocity:fI(e,.1)}}function dI(t){return t[0]}function Mw(t){return t[t.length-1]}function fI(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const o=Mw(t);for(;n>=0&&(i=t[n],!(o.timestamp-i.timestamp>Gr(e)));)n--;if(!i)return{x:0,y:0};const a=qr(o.timestamp-i.timestamp);if(a===0)return{x:0,y:0};const u={x:(o.x-i.x)/a,y:(o.y-i.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function pI(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?rt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?rt(n,t,i.max):Math.min(t,n)),t}function cv(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function mI(t,{top:e,left:n,bottom:i,right:o}){return{x:cv(t.x,n,o),y:cv(t.y,e,i)}}function hv(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function gI(t,e){return{x:hv(t.x,e.x),y:hv(t.y,e.y)}}function yI(t,e){let n=.5;const i=Zt(t),o=Zt(e);return o>i?n=jo(e.min,e.max-i,t.min):i>o&&(n=jo(t.min,t.max-o,e.min)),Qr(0,1,n)}function vI(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Qf=.35;function _I(t=Qf){return t===!1?t=0:t===!0&&(t=Qf),{x:dv(t,"left","right"),y:dv(t,"top","bottom")}}function dv(t,e,n){return{min:fv(t,e),max:fv(t,n)}}function fv(t,e){return typeof t=="number"?t:t[e]||0}const xI=new WeakMap;class wI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const o=y=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Bl(y).point)},a=(y,_)=>{const{drag:w,dragPropagation:S,onDragStart:P}=this.getProps();if(w&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=p1(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dn(D=>{let j=this.getAxisMotionValue(D).get()||0;if(gr.test(j)){const{projection:$}=this.visualElement;if($&&$.layout){const O=$.layout.layoutBox[D];O&&(j=Zt(O)*(parseFloat(j)/100))}}this.originPoint[D]=j}),P&&qe.postRender(()=>P(y,_)),Lf(this.visualElement,"transform");const{animationState:M}=this.visualElement;M&&M.setActive("whileDrag",!0)},u=(y,_)=>{const{dragPropagation:w,dragDirectionLock:S,onDirectionLock:P,onDrag:M}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:D}=_;if(S&&this.currentDirection===null){this.currentDirection=EI(D),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",_.point,D),this.updateAxis("y",_.point,D),this.visualElement.render(),M&&M(y,_)},h=(y,_)=>this.stop(y,_),f=()=>Dn(y=>{var _;return this.getAnimationState(y)==="paused"&&((_=this.getAxisMotionValue(y).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new Vw(e,{onSessionStart:o,onStart:a,onMove:u,onSessionEnd:h,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:Dw(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&qe.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:o}=this.getProps();if(!i||!fc(e,o,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=pI(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:i}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&No(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&o?this.constraints=mI(o.layoutBox,n):this.constraints=!1,this.elastic=_I(i),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&Dn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=vI(o.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!No(e))return!1;const i=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=cI(i,o.root,this.visualElement.getTransformPagePoint());let u=gI(o.layout.layoutBox,a);if(n){const h=n(tI(u));this.hasMutatedConstraints=!!h,h&&(u=Pw(h))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:o,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),f=this.constraints||{},p=Dn(y=>{if(!fc(y,n,this.currentDirection))return;let _=f&&f[y]||{};u&&(_={min:0,max:0});const w=o?200:1e6,S=o?40:1e7,P={type:"inertia",velocity:i?e[y]:0,bounceStiffness:w,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(y,P)});return Promise.all(p).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Lf(this.visualElement,e),i.start(dm(e,i,0,n,this.visualElement,!1))}stopAnimation(){Dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),o=i[n];return o||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Dn(n=>{const{drag:i}=this.getProps();if(!fc(n,i,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(n);if(o&&o.layout){const{min:u,max:h}=o.layout.layoutBox[n];a.set(e[n]-rt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!No(n)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Dn(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const f=h.get();o[u]=yI({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),Dn(u=>{if(!fc(u,e,null))return;const h=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];h.set(rt(f,p,o[u]))})}addListeners(){if(!this.visualElement.current)return;xI.set(this.visualElement,this);const e=this.visualElement.current,n=ul(e,"pointerdown",f=>{const{drag:p,dragListener:y=!0}=this.getProps();p&&y&&this.start(f)}),i=()=>{const{dragConstraints:f}=this.getProps();No(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",i);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),qe.read(i);const u=Tl(window,"resize",()=>this.scalePositionWithinConstraints()),h=o.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Dn(y=>{const _=this.getAxisMotionValue(y);_&&(this.originPoint[y]+=f[y].translate,_.set(_.get()+f[y].translate))}),this.visualElement.render())});return()=>{u(),n(),a(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:u=Qf,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:o,dragConstraints:a,dragElastic:u,dragMomentum:h}}}function fc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function EI(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class TI extends zi{constructor(e){super(e),this.removeGroupControls=vn,this.removeListeners=vn,this.controls=new wI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||vn}unmount(){this.removeGroupControls(),this.removeListeners()}}const pv=t=>(e,n)=>{t&&qe.postRender(()=>t(e,n))};class SI extends zi{constructor(){super(...arguments),this.removePointerDownListener=vn}onPointerDown(e){this.session=new Vw(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Dw(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:o}=this.node.getProps();return{onSessionStart:pv(e),onStart:pv(n),onMove:i,onEnd:(a,u)=>{delete this.session,o&&qe.postRender(()=>o(a,u))}}}mount(){this.removePointerDownListener=ul(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Cc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function mv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const el={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=mv(t,e.target.x),i=mv(t,e.target.y);return`${n}% ${i}%`}},CI={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,o=Vi.parse(t);if(o.length>5)return i;const a=Vi.createTransformer(t),u=typeof o[0]!="number"?1:0,h=n.x.scale*e.x,f=n.y.scale*e.y;o[0+u]/=h,o[1+u]/=f;const p=rt(h,f,.5);return typeof o[2+u]=="number"&&(o[2+u]/=p),typeof o[3+u]=="number"&&(o[3+u]/=p),a(o)}};class AI extends k.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:o}=this.props,{projection:a}=e;$1(PI),a&&(n.group&&n.group.add(a),i&&i.register&&o&&i.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Cc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:o,isPresent:a}=this.props,u=i.projection;return u&&(u.isPresent=a,o||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||qe.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Wp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),i&&i.deregister&&i.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Lw(t){const[e,n]=vx(),i=k.useContext(Dp);return E.jsx(AI,{...t,layoutGroup:i,switchLayoutGroup:k.useContext(Dx),isPresent:e,safeToRemove:n})}const PI={borderRadius:{...el,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:el,borderTopRightRadius:el,borderBottomLeftRadius:el,borderBottomRightRadius:el,boxShadow:CI};function bI(t,e,n){const i=qt(t)?t:yl(t);return i.start(dm("",i,e,n)),i.animation}function II(t){return t instanceof SVGElement&&t.tagName!=="svg"}const RI=(t,e)=>t.depth-e.depth;class kI{constructor(){this.children=[],this.isDirty=!1}add(e){Op(this.children,e),this.isDirty=!0}remove(e){jp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(RI),this.isDirty=!1,this.children.forEach(e)}}function NI(t,e){const n=mr.now(),i=({timestamp:o})=>{const a=o-n;a>=e&&(Di(i),t(a-e))};return qe.read(i,!0),()=>Di(i)}const Ow=["TopLeft","TopRight","BottomLeft","BottomRight"],DI=Ow.length,gv=t=>typeof t=="string"?parseFloat(t):t,yv=t=>typeof t=="number"||Se.test(t);function VI(t,e,n,i,o,a){o?(t.opacity=rt(0,n.opacity!==void 0?n.opacity:1,MI(i)),t.opacityExit=rt(e.opacity!==void 0?e.opacity:1,0,LI(i))):a&&(t.opacity=rt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,i));for(let u=0;u<DI;u++){const h=`border${Ow[u]}Radius`;let f=vv(e,h),p=vv(n,h);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||yv(f)===yv(p)?(t[h]=Math.max(rt(gv(f),gv(p),i),0),(gr.test(p)||gr.test(f))&&(t[h]+="%")):t[h]=p}(e.rotate||n.rotate)&&(t.rotate=rt(e.rotate||0,n.rotate||0,i))}function vv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const MI=jw(0,.5,ew),LI=jw(.5,.95,vn);function jw(t,e,n){return i=>i<t?0:i>e?1:n(jo(t,e,i))}function _v(t,e){t.min=e.min,t.max=e.max}function Nn(t,e){_v(t.x,e.x),_v(t.y,e.y)}function xv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function wv(t,e,n,i,o){return t-=e,t=Bc(t,1/n,i),o!==void 0&&(t=Bc(t,1/o,i)),t}function OI(t,e=0,n=1,i=.5,o,a=t,u=t){if(gr.test(e)&&(e=parseFloat(e),e=rt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=rt(a.min,a.max,i);t===a&&(h-=e),t.min=wv(t.min,e,n,h,o),t.max=wv(t.max,e,n,h,o)}function Ev(t,e,[n,i,o],a,u){OI(t,e[n],e[i],e[o],e.scale,a,u)}const jI=["x","scaleX","originX"],FI=["y","scaleY","originY"];function Tv(t,e,n,i){Ev(t.x,e,jI,n?n.x:void 0,i?i.x:void 0),Ev(t.y,e,FI,n?n.y:void 0,i?i.y:void 0)}function Sv(t){return t.translate===0&&t.scale===1}function Fw(t){return Sv(t.x)&&Sv(t.y)}function Cv(t,e){return t.min===e.min&&t.max===e.max}function BI(t,e){return Cv(t.x,e.x)&&Cv(t.y,e.y)}function Av(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Bw(t,e){return Av(t.x,e.x)&&Av(t.y,e.y)}function Pv(t){return Zt(t.x)/Zt(t.y)}function bv(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class UI{constructor(){this.members=[]}add(e){Op(this.members,e),e.scheduleRender()}remove(e){if(jp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let i;for(let o=n;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){i=a;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function $I(t,e,n){let i="";const o=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((o||a||u)&&(i=`translate3d(${o}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:y,rotateX:_,rotateY:w,skewX:S,skewY:P}=n;p&&(i=`perspective(${p}px) ${i}`),y&&(i+=`rotate(${y}deg) `),_&&(i+=`rotateX(${_}deg) `),w&&(i+=`rotateY(${w}deg) `),S&&(i+=`skewX(${S}deg) `),P&&(i+=`skewY(${P}deg) `)}const h=t.x.scale*e.x,f=t.y.scale*e.y;return(h!==1||f!==1)&&(i+=`scale(${h}, ${f})`),i||"none"}const gf=["","X","Y","Z"],zI={visibility:"hidden"},Iv=1e3;let WI=0;function yf(t,e,n,i){const{latestValues:o}=e;o[t]&&(n[t]=o[t],e.setStaticValue(t,0),i&&(i[t]=0))}function Uw(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=qx(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:o,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",qe,!(o||a))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&Uw(i)}function $w({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:o}){return class{constructor(u={},h=e==null?void 0:e()){this.id=WI++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(qI),this.nodes.forEach(JI),this.nodes.forEach(ZI),this.nodes.forEach(KI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new kI)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Bp),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const f=this.eventHandlers.get(u);f&&f.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=II(u),this.instance=u;const{layoutId:f,layout:p,visualElement:y}=this.options;if(y&&!y.current&&y.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(p||f)&&(this.isLayoutDirty=!0),t){let _;const w=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=NI(w,250),Cc.hasAnimatedSinceResize&&(Cc.hasAnimatedSinceResize=!1,this.nodes.forEach(kv))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&y&&(f||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:w,hasRelativeLayoutChanged:S,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const M=this.options.transition||y.getDefaultTransition()||iR,{onLayoutAnimationStart:D,onLayoutAnimationComplete:j}=y.getProps(),$=!this.targetLayout||!Bw(this.targetLayout,P),O=!w&&S;if(this.options.layoutRoot||this.resumeFrom||O||w&&($||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,O);const U={...Up(M,"layout"),onPlay:D,onComplete:j};(y.shouldReduceMotion||this.options.layoutRoot)&&(U.delay=0,U.type=!1),this.startAnimation(U)}else w||kv(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Di(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eR),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Uw(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const _=this.path[y];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:h,layout:f}=this.options;if(h===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Rv);return}this.isUpdating||this.nodes.forEach(XI),this.isUpdating=!1,this.nodes.forEach(YI),this.nodes.forEach(HI),this.nodes.forEach(GI),this.clearAllSnapshots();const h=mr.now();Vt.delta=Qr(0,1e3/60,h-Vt.timestamp),Vt.timestamp=h,Vt.isProcessing=!0,lf.update.process(Vt),lf.preRender.process(Vt),lf.render.process(Vt),Vt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Wp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(QI),this.sharedNodes.forEach(tR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Zt(this.snapshot.measuredBox.x)&&!Zt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h){const f=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!o)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Fw(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,y=p!==this.prevTransformTemplateValue;u&&(h||xs(this.latestValues)||y)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let f=this.removeElementScroll(h);return u&&(f=this.removeTransform(f)),sR(f),{animationId:this.root.animationId,measuredBox:h,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:h}=this.options;if(!h)return ht();const f=h.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(oR))){const{scroll:y}=this.root;y&&(Mo(f.x,y.offset.x),Mo(f.y,y.offset.y))}return f}removeElementScroll(u){var h;const f=ht();if(Nn(f,u),!((h=this.scroll)===null||h===void 0)&&h.wasRoot)return f;for(let p=0;p<this.path.length;p++){const y=this.path[p],{scroll:_,options:w}=y;y!==this.root&&_&&w.layoutScroll&&(_.wasRoot&&Nn(f,u),Mo(f.x,_.offset.x),Mo(f.y,_.offset.y))}return f}applyTransform(u,h=!1){const f=ht();Nn(f,u);for(let p=0;p<this.path.length;p++){const y=this.path[p];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Lo(f,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),xs(y.latestValues)&&Lo(f,y.latestValues)}return xs(this.latestValues)&&Lo(f,this.latestValues),f}removeTransform(u){const h=ht();Nn(h,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!xs(p.latestValues))continue;qf(p.latestValues)&&p.updateSnapshot();const y=ht(),_=p.measurePageBox();Nn(y,_),Tv(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,y)}return xs(this.latestValues)&&Tv(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var h;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((h=this.parent)===null||h===void 0)&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:w}=this.options;if(!(!this.layout||!(_||w))){if(this.resolvedRelativeTargetAt=Vt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),hl(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nn(this.target,this.layout.layoutBox),kw(this.target,this.targetDelta)):Nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),hl(this.relativeTargetOrigin,this.target,S.target),Nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||qf(this.parent.latestValues)||Rw(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const h=this.getLead(),f=!!this.resumingFrom||this!==h;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Vt.timestamp&&(p=!1),p)return;const{layout:y,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(y||_))return;Nn(this.layoutCorrected,this.layout.layoutBox);const w=this.treeScale.x,S=this.treeScale.y;uI(this.layoutCorrected,this.treeScale,this.path,f),h.layout&&!h.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(h.target=h.layout.layoutBox,h.targetWithTransforms=ht());const{target:P}=h;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(xv(this.prevProjectionDelta.x,this.projectionDelta.x),xv(this.prevProjectionDelta.y,this.projectionDelta.y)),cl(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==w||this.treeScale.y!==S||!bv(this.projectionDelta.x,this.prevProjectionDelta.x)||!bv(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)===null||h===void 0||h.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vo(),this.projectionDelta=Vo(),this.projectionDeltaWithTransform=Vo()}setAnimationOrigin(u,h=!1){const f=this.snapshot,p=f?f.latestValues:{},y={...this.latestValues},_=Vo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=ht(),S=f?f.source:void 0,P=this.layout?this.layout.source:void 0,M=S!==P,D=this.getStack(),j=!D||D.members.length<=1,$=!!(M&&!j&&this.options.crossfade===!0&&!this.path.some(rR));this.animationProgress=0;let O;this.mixTargetDelta=U=>{const z=U/1e3;Nv(_.x,u.x,z),Nv(_.y,u.y,z),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(hl(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nR(this.relativeTarget,this.relativeTargetOrigin,w,z),O&&BI(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=ht()),Nn(O,this.relativeTarget)),M&&(this.animationValues=y,VI(y,p,this.latestValues,z,$,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=z},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Di(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{Cc.hasAnimatedSinceResize=!0,this.currentAnimation=bI(0,Iv,{...u,onUpdate:h=>{this.mixTargetDelta(h),u.onUpdate&&u.onUpdate(h)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Iv),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:f,layout:p,latestValues:y}=u;if(!(!h||!f||!p)){if(this!==u&&this.layout&&p&&zw(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ht();const _=Zt(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+_;const w=Zt(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+w}Nn(h,f),Lo(h,y),cl(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new UI),this.sharedNodes.get(u).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:h}=this.options;return h?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:h}=this.options;return h?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(h=!0),!h)return;const p={};f.z&&yf("z",u,p,this.animationValues);for(let y=0;y<gf.length;y++)yf(`rotate${gf[y]}`,u,p,this.animationValues),yf(`skew${gf[y]}`,u,p,this.animationValues);u.render();for(const y in p)u.setStaticValue(y,p[y]),this.animationValues&&(this.animationValues[y]=p[y]);u.scheduleRender()}getProjectionStyles(u){var h,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return zI;const p={visibility:""},y=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Sc(u==null?void 0:u.pointerEvents)||"",p.transform=y?y(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const M={};return this.options.layoutId&&(M.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,M.pointerEvents=Sc(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!xs(this.latestValues)&&(M.transform=y?y({},""):"none",this.hasProjected=!1),M}const w=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=$I(this.projectionDeltaWithTransform,this.treeScale,w),y&&(p.transform=y(w,p.transform));const{x:S,y:P}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${P.origin*100}% 0`,_.animationValues?p.opacity=_===this?(f=(h=w.opacity)!==null&&h!==void 0?h:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:w.opacityExit:p.opacity=_===this?w.opacity!==void 0?w.opacity:"":w.opacityExit!==void 0?w.opacityExit:0;for(const M in _l){if(w[M]===void 0)continue;const{correct:D,applyTo:j,isCSSVariable:$}=_l[M],O=p.transform==="none"?w[M]:D(w[M],_);if(j){const U=j.length;for(let z=0;z<U;z++)p[j[z]]=O}else $?this.options.visualElement.renderState.vars[M]=O:p[M]=O}return this.options.layoutId&&(p.pointerEvents=_===this?Sc(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)===null||h===void 0?void 0:h.stop()}),this.root.nodes.forEach(Rv),this.root.sharedNodes.clear()}}}function HI(t){t.updateLayout()}function GI(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:o}=t.layout,{animationType:a}=t.options,u=n.source!==t.layout.source;a==="size"?Dn(_=>{const w=u?n.measuredBox[_]:n.layoutBox[_],S=Zt(w);w.min=i[_].min,w.max=w.min+S}):zw(a,n.layoutBox,i)&&Dn(_=>{const w=u?n.measuredBox[_]:n.layoutBox[_],S=Zt(i[_]);w.max=w.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[_].max=t.relativeTarget[_].min+S)});const h=Vo();cl(h,i,n.layoutBox);const f=Vo();u?cl(f,t.applyTransform(o,!0),n.measuredBox):cl(f,i,n.layoutBox);const p=!Fw(h);let y=!1;if(!t.resumeFrom){const _=t.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:w,layout:S}=_;if(w&&S){const P=ht();hl(P,n.layoutBox,w.layoutBox);const M=ht();hl(M,i,S.layoutBox),Bw(P,M)||(y=!0),_.options.layoutRoot&&(t.relativeTarget=M,t.relativeTargetOrigin=P,t.relativeParent=_)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:n,delta:f,layoutDelta:h,hasLayoutChanged:p,hasRelativeLayoutChanged:y})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function qI(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function KI(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function QI(t){t.clearSnapshot()}function Rv(t){t.clearMeasurements()}function XI(t){t.isLayoutDirty=!1}function YI(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function kv(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function JI(t){t.resolveTargetDelta()}function ZI(t){t.calcProjection()}function eR(t){t.resetSkewAndRotation()}function tR(t){t.removeLeadSnapshot()}function Nv(t,e,n){t.translate=rt(e.translate,0,n),t.scale=rt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Dv(t,e,n,i){t.min=rt(e.min,n.min,i),t.max=rt(e.max,n.max,i)}function nR(t,e,n,i){Dv(t.x,e.x,n.x,i),Dv(t.y,e.y,n.y,i)}function rR(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const iR={duration:.45,ease:[.4,0,.1,1]},Vv=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),Mv=Vv("applewebkit/")&&!Vv("chrome/")?Math.round:vn;function Lv(t){t.min=Mv(t.min),t.max=Mv(t.max)}function sR(t){Lv(t.x),Lv(t.y)}function zw(t,e,n){return t==="position"||t==="preserve-aspect"&&!aI(Pv(e),Pv(n),.2)}function oR(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const aR=$w({attachResizeListener:(t,e)=>Tl(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vf={current:void 0},Ww=$w({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vf.current){const t=new aR({});t.mount(window),t.setOptions({layoutScroll:!0}),vf.current=t}return vf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lR={pan:{Feature:SI},drag:{Feature:TI,ProjectionNode:Ww,MeasureLayout:Lw}};function Ov(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const o="onHover"+n,a=i[o];a&&qe.postRender(()=>a(e,Bl(e)))}class uR extends zi{mount(){const{current:e}=this.node;e&&(this.unmount=g1(e,(n,i)=>(Ov(this.node,i,"Start"),o=>Ov(this.node,o,"End"))))}unmount(){}}class cR extends zi{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fl(Tl(this.node.current,"focus",()=>this.onFocus()),Tl(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function jv(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const o="onTap"+(n==="End"?"":n),a=i[o];a&&qe.postRender(()=>a(e,Bl(e)))}class hR extends zi{mount(){const{current:e}=this.node;e&&(this.unmount=x1(e,(n,i)=>(jv(this.node,i,"Start"),(o,{success:a})=>jv(this.node,o,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Xf=new WeakMap,_f=new WeakMap,dR=t=>{const e=Xf.get(t.target);e&&e(t)},fR=t=>{t.forEach(dR)};function pR({root:t,...e}){const n=t||document;_f.has(n)||_f.set(n,{});const i=_f.get(n),o=JSON.stringify(e);return i[o]||(i[o]=new IntersectionObserver(fR,{root:t,...e})),i[o]}function mR(t,e,n){const i=pR(e);return Xf.set(t,n),i.observe(t),()=>{Xf.delete(t),i.unobserve(t)}}const gR={some:0,all:1};class yR extends zi{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:o="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof o=="number"?o:gR[o]},h=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:y,onViewportLeave:_}=this.node.getProps(),w=p?y:_;w&&w(f)};return mR(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(vR(e,n))&&this.startObserver()}unmount(){}}function vR({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const _R={inView:{Feature:yR},tap:{Feature:hR},focus:{Feature:cR},hover:{Feature:uR}},xR={layout:{ProjectionNode:Ww,MeasureLayout:Lw}},Yf={current:null},Hw={current:!1};function wR(){if(Hw.current=!0,!!Mp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Yf.current=t.matches;t.addListener(e),e()}else Yf.current=!1}const ER=[...mw,Wt,Vi],TR=t=>ER.find(pw(t)),SR=new WeakMap;function CR(t,e,n){for(const i in e){const o=e[i],a=n[i];if(qt(o))t.addValue(i,o);else if(qt(a))t.addValue(i,yl(o,{owner:t}));else if(a!==o)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(o):u.hasAnimated||u.set(o)}else{const u=t.getStaticValue(i);t.addValue(i,yl(u!==void 0?u:o,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const Fv=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class AR{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:o,blockInitialAnimation:a,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=um,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=mr.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,qe.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:y}=u;this.onUpdate=y,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=h,this.blockInitialAnimation=!!a,this.isControllingVariants=hh(n),this.isVariantNode=kx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...w}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in w){const P=w[S];f[S]!==void 0&&qt(P)&&P.set(f[S],!1)}}mount(e){this.current=e,SR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),Hw.current||wR(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Yf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Di(this.notifyUpdate),Di(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Is.has(e);i&&this.onBindTransform&&this.onBindTransform();const o=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&qe.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{o(),a(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fo){const n=Fo[e];if(!n)continue;const{isEnabled:i,Feature:o}=n;if(!this.features[e]&&o&&i(this.props)&&(this.features[e]=new o(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<Fv.length;i++){const o=Fv[i];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,u=e[a];u&&(this.propEventSubscriptions[o]=this.on(o,u))}this.prevMotionValues=CR(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=yl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){var i;let o=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(i=this.getBaseTargetFromProps(this.props,e))!==null&&i!==void 0?i:this.readValueFromInstance(this.current,e,this.options);return o!=null&&(typeof o=="string"&&(dw(o)||nw(o))?o=parseFloat(o):!TR(o)&&Vi.test(n)&&(o=uw(e,n)),this.setBaseTarget(e,qt(o)?o.get():o)),qt(o)?o.get():o}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:i}=this.props;let o;if(typeof i=="string"||typeof i=="object"){const u=rm(this.props,i,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(o=u[e])}if(i&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!qt(a)?a:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Bp),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class Gw extends AR{constructor(){super(...arguments),this.KeyframeResolver=gw}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function PR(t){return window.getComputedStyle(t)}class bR extends Gw{constructor(){super(...arguments),this.type="html",this.renderInstance=$x}readValueFromInstance(e,n){if(Is.has(n))return FP(e,n);{const i=PR(e),o=(Qp(n)?i.getPropertyValue(n):i[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return Nw(e,n)}build(e,n,i){Jp(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return im(e,n,i)}}class IR extends Gw{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&Ux(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Is.has(n)){const i=lw(n);return i&&i.default||0}return n=zx.has(n)?n:Kp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return Hx(e,n,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&qe.postRender(this.updateDimensions)}build(e,n,i){tm(e,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,i,o){Wx(e,n,i,o)}mount(e){this.isSVGTag=nm(e.tagName),super.mount(e)}}const RR=(t,e)=>em(t)?new IR(e):new bR(e,{allowProjection:t!==k.Fragment}),kR=dP({...Zb,..._R,...lR,...xR},RR),Bv=b1(kR),NR=()=>{};var Uv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let o=t.charCodeAt(i);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},DR=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const o=t[n++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const a=t[n++];e[i++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=t[n++],u=t[n++],h=t[n++],f=((o&7)<<18|(a&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(f>>10)),e[i++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[i++]=String.fromCharCode((o&15)<<12|(a&63)<<6|u&63)}}return e.join("")},Kw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<t.length;o+=3){const a=t[o],u=o+1<t.length,h=u?t[o+1]:0,f=o+2<t.length,p=f?t[o+2]:0,y=a>>2,_=(a&3)<<4|h>>4;let w=(h&15)<<2|p>>6,S=p&63;f||(S=64,u||(w=64)),i.push(n[y],n[_],n[w],n[S])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(qw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<t.length;){const a=n[t.charAt(o++)],h=o<t.length?n[t.charAt(o)]:0;++o;const p=o<t.length?n[t.charAt(o)]:64;++o;const _=o<t.length?n[t.charAt(o)]:64;if(++o,a==null||h==null||p==null||_==null)throw new VR;const w=a<<2|h>>4;if(i.push(w),p!==64){const S=h<<4&240|p>>2;if(i.push(S),_!==64){const P=p<<6&192|_;i.push(P)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MR=function(t){const e=qw(t);return Kw.encodeByteArray(e,!0)},Uc=function(t){return MR(t).replace(/\./g,"")},LR=function(t){try{return Kw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=()=>OR().__FIREBASE_DEFAULTS__,FR=()=>{if(typeof process>"u"||typeof Uv>"u")return;const t=Uv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},BR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&LR(t[1]);return e&&JSON.parse(e)},fm=()=>{try{return NR()||jR()||FR()||BR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UR=t=>{var e,n;return(n=(e=fm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Qw=t=>{const e=UR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Xw=()=>{var t;return(t=fm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",o=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uc(JSON.stringify(n)),Uc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WR(){var t;const e=(t=fm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HR(){return!WR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function GR(){try{return typeof indexedDB=="object"}catch{return!1}}function qR(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="FirebaseError";class Rs extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=KR,Object.setPrototypeOf(this,Rs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jw.prototype.create)}}class Jw{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},o=`${this.service}/${e}`,a=this.errors[e],u=a?QR(a,i):"Error",h=`${this.serviceName}: ${u} (${o}).`;return new Rs(o,h,i)}}function QR(t,e){return t.replace(XR,(n,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const XR=/\{\$([^}]+)}/g;function $c(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const o of n){if(!i.includes(o))return!1;const a=t[o],u=e[o];if($v(a)&&$v(u)){if(!$c(a,u))return!1}else if(a!==u)return!1}for(const o of i)if(!n.includes(o))return!1;return!0}function $v(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uo(t){return t&&t._delegate?t._delegate:t}class $o{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new $R;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZR(e))try{this.getOrInitializeService({instanceIdentifier:ws})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:o});i.resolve(a)}catch{}}}}clearInstance(e=ws){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ws){return this.instances.has(e)}getOptions(e=ws){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[a,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);i===h&&u.resolve(o)}return o}onInit(e,n){var i;const o=this.normalizeInstanceIdentifier(n),a=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;a.add(e),this.onInitCallbacks.set(o,a);const u=this.instances.get(o);return u&&e(u,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const o of i)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:JR(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ws){return this.component?this.component.multipleInstances?e:ws:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JR(t){return t===ws?void 0:t}function ZR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new YR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Oe||(Oe={}));const tk={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},nk=Oe.INFO,rk={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},ik=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),o=rk[e];if(o)console[o](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Zw{constructor(e){this.name=e,this._logLevel=nk,this._logHandler=ik,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const sk=(t,e)=>e.some(n=>t instanceof n);let zv,Wv;function ok(){return zv||(zv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ak(){return Wv||(Wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eE=new WeakMap,Jf=new WeakMap,tE=new WeakMap,xf=new WeakMap,pm=new WeakMap;function lk(t){const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Pi(t.result)),o()},u=()=>{i(t.error),o()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&eE.set(n,t)}).catch(()=>{}),pm.set(e,t),e}function uk(t){if(Jf.has(t))return;const e=new Promise((n,i)=>{const o=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),o()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});Jf.set(t,e)}let Zf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ck(t){Zf=t(Zf)}function hk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(wf(this),e,...n);return tE.set(i,e.sort?e.sort():[e]),Pi(i)}:ak().includes(t)?function(...e){return t.apply(wf(this),e),Pi(eE.get(this))}:function(...e){return Pi(t.apply(wf(this),e))}}function dk(t){return typeof t=="function"?hk(t):(t instanceof IDBTransaction&&uk(t),sk(t,ok())?new Proxy(t,Zf):t)}function Pi(t){if(t instanceof IDBRequest)return lk(t);if(xf.has(t))return xf.get(t);const e=dk(t);return e!==t&&(xf.set(t,e),pm.set(e,t)),e}const wf=t=>pm.get(t);function fk(t,e,{blocked:n,upgrade:i,blocking:o,terminated:a}={}){const u=indexedDB.open(t,e),h=Pi(u);return i&&u.addEventListener("upgradeneeded",f=>{i(Pi(u.result),f.oldVersion,f.newVersion,Pi(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{a&&f.addEventListener("close",()=>a()),o&&f.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),h}const pk=["get","getKey","getAll","getAllKeys","count"],mk=["put","add","delete","clear"],Ef=new Map;function Hv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ef.get(e))return Ef.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,o=mk.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(o||pk.includes(n)))return;const a=async function(u,...h){const f=this.transaction(u,o?"readwrite":"readonly");let p=f.store;return i&&(p=p.index(h.shift())),(await Promise.all([p[n](...h),o&&f.done]))[0]};return Ef.set(e,a),a}ck(t=>({...t,get:(e,n,i)=>Hv(e,n)||t.get(e,n,i),has:(e,n)=>!!Hv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function yk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ep="@firebase/app",Gv="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr=new Zw("@firebase/app"),vk="@firebase/app-compat",_k="@firebase/analytics-compat",xk="@firebase/analytics",wk="@firebase/app-check-compat",Ek="@firebase/app-check",Tk="@firebase/auth",Sk="@firebase/auth-compat",Ck="@firebase/database",Ak="@firebase/data-connect",Pk="@firebase/database-compat",bk="@firebase/functions",Ik="@firebase/functions-compat",Rk="@firebase/installations",kk="@firebase/installations-compat",Nk="@firebase/messaging",Dk="@firebase/messaging-compat",Vk="@firebase/performance",Mk="@firebase/performance-compat",Lk="@firebase/remote-config",Ok="@firebase/remote-config-compat",jk="@firebase/storage",Fk="@firebase/storage-compat",Bk="@firebase/firestore",Uk="@firebase/vertexai",$k="@firebase/firestore-compat",zk="firebase",Wk="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="[DEFAULT]",Hk={[ep]:"fire-core",[vk]:"fire-core-compat",[xk]:"fire-analytics",[_k]:"fire-analytics-compat",[Ek]:"fire-app-check",[wk]:"fire-app-check-compat",[Tk]:"fire-auth",[Sk]:"fire-auth-compat",[Ck]:"fire-rtdb",[Ak]:"fire-data-connect",[Pk]:"fire-rtdb-compat",[bk]:"fire-fn",[Ik]:"fire-fn-compat",[Rk]:"fire-iid",[kk]:"fire-iid-compat",[Nk]:"fire-fcm",[Dk]:"fire-fcm-compat",[Vk]:"fire-perf",[Mk]:"fire-perf-compat",[Lk]:"fire-rc",[Ok]:"fire-rc-compat",[jk]:"fire-gcs",[Fk]:"fire-gcs-compat",[Bk]:"fire-fst",[$k]:"fire-fst-compat",[Uk]:"fire-vertex","fire-js":"fire-js",[zk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc=new Map,Gk=new Map,np=new Map;function qv(t,e){try{t.container.addComponent(e)}catch(n){Xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Sl(t){const e=t.name;if(np.has(e))return Xr.debug(`There were multiple attempts to register component ${e}.`),!1;np.set(e,t);for(const n of zc.values())qv(n,t);for(const n of Gk.values())qv(n,t);return!0}function nE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function rE(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bi=new Jw("app","Firebase",qk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new $o("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE=Wk;function mm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:tp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw bi.create("bad-app-name",{appName:String(o)});if(n||(n=Xw()),!n)throw bi.create("no-options");const a=zc.get(o);if(a){if($c(n,a.options)&&$c(i,a.config))return a;throw bi.create("duplicate-app",{appName:o})}const u=new ek(o);for(const f of np.values())u.addComponent(f);const h=new Kk(n,i,u);return zc.set(o,h),h}function sE(t=tp){const e=zc.get(t);if(!e&&t===tp&&Xw())return mm();if(!e)throw bi.create("no-app",{appName:t});return e}function Ii(t,e,n){var i;let o=(i=Hk[t])!==null&&i!==void 0?i:t;n&&(o+=`-${n}`);const a=o.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xr.warn(h.join(" "));return}Sl(new $o(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qk="firebase-heartbeat-database",Xk=1,Cl="firebase-heartbeat-store";let Tf=null;function oE(){return Tf||(Tf=fk(Qk,Xk,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Cl)}catch(n){console.warn(n)}}}}).catch(t=>{throw bi.create("idb-open",{originalErrorMessage:t.message})})),Tf}async function Yk(t){try{const n=(await oE()).transaction(Cl),i=await n.objectStore(Cl).get(aE(t));return await n.done,i}catch(e){if(e instanceof Rs)Xr.warn(e.message);else{const n=bi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xr.warn(n.message)}}}async function Kv(t,e){try{const i=(await oE()).transaction(Cl,"readwrite");await i.objectStore(Cl).put(e,aE(t)),await i.done}catch(n){if(n instanceof Rs)Xr.warn(n.message);else{const i=bi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xr.warn(i.message)}}}function aE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=1024,Zk=30;class eN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nN(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Qv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats.length>Zk){const u=rN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Xr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Qv(),{heartbeatsToSend:i,unsentEntries:o}=tN(this._heartbeatsCache.heartbeats),a=Uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return Xr.warn(n),""}}}function Qv(){return new Date().toISOString().substring(0,10)}function tN(t,e=Jk){const n=[];let i=t.slice();for(const o of t){const a=n.find(u=>u.agent===o.agent);if(a){if(a.dates.push(o.date),Xv(n)>e){a.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Xv(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class nN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return GR()?qR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Yk(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Kv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Xv(t){return Uc(JSON.stringify({version:2,heartbeats:t})).length}function rN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(t){Sl(new $o("platform-logger",e=>new gk(e),"PRIVATE")),Sl(new $o("heartbeat",e=>new eN(e),"PRIVATE")),Ii(ep,Gv,t),Ii(ep,Gv,"esm2017"),Ii("fire-js","")}iN("");var sN="firebase",oN="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ii(sN,oN,"app");var Yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ri,lE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,A){function b(){}b.prototype=A.prototype,I.D=A.prototype,I.prototype=new b,I.prototype.constructor=I,I.C=function(V,F,W){for(var R=Array(arguments.length-2),je=2;je<arguments.length;je++)R[je-2]=arguments[je];return A.prototype[F].apply(V,R)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,A,b){b||(b=0);var V=Array(16);if(typeof A=="string")for(var F=0;16>F;++F)V[F]=A.charCodeAt(b++)|A.charCodeAt(b++)<<8|A.charCodeAt(b++)<<16|A.charCodeAt(b++)<<24;else for(F=0;16>F;++F)V[F]=A[b++]|A[b++]<<8|A[b++]<<16|A[b++]<<24;A=I.g[0],b=I.g[1],F=I.g[2];var W=I.g[3],R=A+(W^b&(F^W))+V[0]+3614090360&4294967295;A=b+(R<<7&4294967295|R>>>25),R=W+(F^A&(b^F))+V[1]+3905402710&4294967295,W=A+(R<<12&4294967295|R>>>20),R=F+(b^W&(A^b))+V[2]+606105819&4294967295,F=W+(R<<17&4294967295|R>>>15),R=b+(A^F&(W^A))+V[3]+3250441966&4294967295,b=F+(R<<22&4294967295|R>>>10),R=A+(W^b&(F^W))+V[4]+4118548399&4294967295,A=b+(R<<7&4294967295|R>>>25),R=W+(F^A&(b^F))+V[5]+1200080426&4294967295,W=A+(R<<12&4294967295|R>>>20),R=F+(b^W&(A^b))+V[6]+2821735955&4294967295,F=W+(R<<17&4294967295|R>>>15),R=b+(A^F&(W^A))+V[7]+4249261313&4294967295,b=F+(R<<22&4294967295|R>>>10),R=A+(W^b&(F^W))+V[8]+1770035416&4294967295,A=b+(R<<7&4294967295|R>>>25),R=W+(F^A&(b^F))+V[9]+2336552879&4294967295,W=A+(R<<12&4294967295|R>>>20),R=F+(b^W&(A^b))+V[10]+4294925233&4294967295,F=W+(R<<17&4294967295|R>>>15),R=b+(A^F&(W^A))+V[11]+2304563134&4294967295,b=F+(R<<22&4294967295|R>>>10),R=A+(W^b&(F^W))+V[12]+1804603682&4294967295,A=b+(R<<7&4294967295|R>>>25),R=W+(F^A&(b^F))+V[13]+4254626195&4294967295,W=A+(R<<12&4294967295|R>>>20),R=F+(b^W&(A^b))+V[14]+2792965006&4294967295,F=W+(R<<17&4294967295|R>>>15),R=b+(A^F&(W^A))+V[15]+1236535329&4294967295,b=F+(R<<22&4294967295|R>>>10),R=A+(F^W&(b^F))+V[1]+4129170786&4294967295,A=b+(R<<5&4294967295|R>>>27),R=W+(b^F&(A^b))+V[6]+3225465664&4294967295,W=A+(R<<9&4294967295|R>>>23),R=F+(A^b&(W^A))+V[11]+643717713&4294967295,F=W+(R<<14&4294967295|R>>>18),R=b+(W^A&(F^W))+V[0]+3921069994&4294967295,b=F+(R<<20&4294967295|R>>>12),R=A+(F^W&(b^F))+V[5]+3593408605&4294967295,A=b+(R<<5&4294967295|R>>>27),R=W+(b^F&(A^b))+V[10]+38016083&4294967295,W=A+(R<<9&4294967295|R>>>23),R=F+(A^b&(W^A))+V[15]+3634488961&4294967295,F=W+(R<<14&4294967295|R>>>18),R=b+(W^A&(F^W))+V[4]+3889429448&4294967295,b=F+(R<<20&4294967295|R>>>12),R=A+(F^W&(b^F))+V[9]+568446438&4294967295,A=b+(R<<5&4294967295|R>>>27),R=W+(b^F&(A^b))+V[14]+3275163606&4294967295,W=A+(R<<9&4294967295|R>>>23),R=F+(A^b&(W^A))+V[3]+4107603335&4294967295,F=W+(R<<14&4294967295|R>>>18),R=b+(W^A&(F^W))+V[8]+1163531501&4294967295,b=F+(R<<20&4294967295|R>>>12),R=A+(F^W&(b^F))+V[13]+2850285829&4294967295,A=b+(R<<5&4294967295|R>>>27),R=W+(b^F&(A^b))+V[2]+4243563512&4294967295,W=A+(R<<9&4294967295|R>>>23),R=F+(A^b&(W^A))+V[7]+1735328473&4294967295,F=W+(R<<14&4294967295|R>>>18),R=b+(W^A&(F^W))+V[12]+2368359562&4294967295,b=F+(R<<20&4294967295|R>>>12),R=A+(b^F^W)+V[5]+4294588738&4294967295,A=b+(R<<4&4294967295|R>>>28),R=W+(A^b^F)+V[8]+2272392833&4294967295,W=A+(R<<11&4294967295|R>>>21),R=F+(W^A^b)+V[11]+1839030562&4294967295,F=W+(R<<16&4294967295|R>>>16),R=b+(F^W^A)+V[14]+4259657740&4294967295,b=F+(R<<23&4294967295|R>>>9),R=A+(b^F^W)+V[1]+2763975236&4294967295,A=b+(R<<4&4294967295|R>>>28),R=W+(A^b^F)+V[4]+1272893353&4294967295,W=A+(R<<11&4294967295|R>>>21),R=F+(W^A^b)+V[7]+4139469664&4294967295,F=W+(R<<16&4294967295|R>>>16),R=b+(F^W^A)+V[10]+3200236656&4294967295,b=F+(R<<23&4294967295|R>>>9),R=A+(b^F^W)+V[13]+681279174&4294967295,A=b+(R<<4&4294967295|R>>>28),R=W+(A^b^F)+V[0]+3936430074&4294967295,W=A+(R<<11&4294967295|R>>>21),R=F+(W^A^b)+V[3]+3572445317&4294967295,F=W+(R<<16&4294967295|R>>>16),R=b+(F^W^A)+V[6]+76029189&4294967295,b=F+(R<<23&4294967295|R>>>9),R=A+(b^F^W)+V[9]+3654602809&4294967295,A=b+(R<<4&4294967295|R>>>28),R=W+(A^b^F)+V[12]+3873151461&4294967295,W=A+(R<<11&4294967295|R>>>21),R=F+(W^A^b)+V[15]+530742520&4294967295,F=W+(R<<16&4294967295|R>>>16),R=b+(F^W^A)+V[2]+3299628645&4294967295,b=F+(R<<23&4294967295|R>>>9),R=A+(F^(b|~W))+V[0]+4096336452&4294967295,A=b+(R<<6&4294967295|R>>>26),R=W+(b^(A|~F))+V[7]+1126891415&4294967295,W=A+(R<<10&4294967295|R>>>22),R=F+(A^(W|~b))+V[14]+2878612391&4294967295,F=W+(R<<15&4294967295|R>>>17),R=b+(W^(F|~A))+V[5]+4237533241&4294967295,b=F+(R<<21&4294967295|R>>>11),R=A+(F^(b|~W))+V[12]+1700485571&4294967295,A=b+(R<<6&4294967295|R>>>26),R=W+(b^(A|~F))+V[3]+2399980690&4294967295,W=A+(R<<10&4294967295|R>>>22),R=F+(A^(W|~b))+V[10]+4293915773&4294967295,F=W+(R<<15&4294967295|R>>>17),R=b+(W^(F|~A))+V[1]+2240044497&4294967295,b=F+(R<<21&4294967295|R>>>11),R=A+(F^(b|~W))+V[8]+1873313359&4294967295,A=b+(R<<6&4294967295|R>>>26),R=W+(b^(A|~F))+V[15]+4264355552&4294967295,W=A+(R<<10&4294967295|R>>>22),R=F+(A^(W|~b))+V[6]+2734768916&4294967295,F=W+(R<<15&4294967295|R>>>17),R=b+(W^(F|~A))+V[13]+1309151649&4294967295,b=F+(R<<21&4294967295|R>>>11),R=A+(F^(b|~W))+V[4]+4149444226&4294967295,A=b+(R<<6&4294967295|R>>>26),R=W+(b^(A|~F))+V[11]+3174756917&4294967295,W=A+(R<<10&4294967295|R>>>22),R=F+(A^(W|~b))+V[2]+718787259&4294967295,F=W+(R<<15&4294967295|R>>>17),R=b+(W^(F|~A))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+A&4294967295,I.g[1]=I.g[1]+(F+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+F&4294967295,I.g[3]=I.g[3]+W&4294967295}i.prototype.u=function(I,A){A===void 0&&(A=I.length);for(var b=A-this.blockSize,V=this.B,F=this.h,W=0;W<A;){if(F==0)for(;W<=b;)o(this,I,W),W+=this.blockSize;if(typeof I=="string"){for(;W<A;)if(V[F++]=I.charCodeAt(W++),F==this.blockSize){o(this,V),F=0;break}}else for(;W<A;)if(V[F++]=I[W++],F==this.blockSize){o(this,V),F=0;break}}this.h=F,this.o+=A},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var A=1;A<I.length-8;++A)I[A]=0;var b=8*this.o;for(A=I.length-8;A<I.length;++A)I[A]=b&255,b/=256;for(this.u(I),I=Array(16),A=b=0;4>A;++A)for(var V=0;32>V;V+=8)I[b++]=this.g[A]>>>V&255;return I};function a(I,A){var b=h;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=A(I)}function u(I,A){this.h=A;for(var b=[],V=!0,F=I.length-1;0<=F;F--){var W=I[F]|0;V&&W==A||(b[F]=W,V=!1)}this.g=b}var h={};function f(I){return-128<=I&&128>I?a(I,function(A){return new u([A|0],0>A?-1:0)}):new u([I|0],0>I?-1:0)}function p(I){if(isNaN(I)||!isFinite(I))return _;if(0>I)return D(p(-I));for(var A=[],b=1,V=0;I>=b;V++)A[V]=I/b|0,b*=4294967296;return new u(A,0)}function y(I,A){if(I.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(I.charAt(0)=="-")return D(y(I.substring(1),A));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=p(Math.pow(A,8)),V=_,F=0;F<I.length;F+=8){var W=Math.min(8,I.length-F),R=parseInt(I.substring(F,F+W),A);8>W?(W=p(Math.pow(A,W)),V=V.j(W).add(p(R))):(V=V.j(b),V=V.add(p(R)))}return V}var _=f(0),w=f(1),S=f(16777216);t=u.prototype,t.m=function(){if(M(this))return-D(this).m();for(var I=0,A=1,b=0;b<this.g.length;b++){var V=this.i(b);I+=(0<=V?V:4294967296+V)*A,A*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(P(this))return"0";if(M(this))return"-"+D(this).toString(I);for(var A=p(Math.pow(I,6)),b=this,V="";;){var F=U(b,A).g;b=j(b,F.j(A));var W=((0<b.g.length?b.g[0]:b.h)>>>0).toString(I);if(b=F,P(b))return W+V;for(;6>W.length;)W="0"+W;V=W+V}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function P(I){if(I.h!=0)return!1;for(var A=0;A<I.g.length;A++)if(I.g[A]!=0)return!1;return!0}function M(I){return I.h==-1}t.l=function(I){return I=j(this,I),M(I)?-1:P(I)?0:1};function D(I){for(var A=I.g.length,b=[],V=0;V<A;V++)b[V]=~I.g[V];return new u(b,~I.h).add(w)}t.abs=function(){return M(this)?D(this):this},t.add=function(I){for(var A=Math.max(this.g.length,I.g.length),b=[],V=0,F=0;F<=A;F++){var W=V+(this.i(F)&65535)+(I.i(F)&65535),R=(W>>>16)+(this.i(F)>>>16)+(I.i(F)>>>16);V=R>>>16,W&=65535,R&=65535,b[F]=R<<16|W}return new u(b,b[b.length-1]&-2147483648?-1:0)};function j(I,A){return I.add(D(A))}t.j=function(I){if(P(this)||P(I))return _;if(M(this))return M(I)?D(this).j(D(I)):D(D(this).j(I));if(M(I))return D(this.j(D(I)));if(0>this.l(S)&&0>I.l(S))return p(this.m()*I.m());for(var A=this.g.length+I.g.length,b=[],V=0;V<2*A;V++)b[V]=0;for(V=0;V<this.g.length;V++)for(var F=0;F<I.g.length;F++){var W=this.i(V)>>>16,R=this.i(V)&65535,je=I.i(F)>>>16,et=I.i(F)&65535;b[2*V+2*F]+=R*et,$(b,2*V+2*F),b[2*V+2*F+1]+=W*et,$(b,2*V+2*F+1),b[2*V+2*F+1]+=R*je,$(b,2*V+2*F+1),b[2*V+2*F+2]+=W*je,$(b,2*V+2*F+2)}for(V=0;V<A;V++)b[V]=b[2*V+1]<<16|b[2*V];for(V=A;V<2*A;V++)b[V]=0;return new u(b,0)};function $(I,A){for(;(I[A]&65535)!=I[A];)I[A+1]+=I[A]>>>16,I[A]&=65535,A++}function O(I,A){this.g=I,this.h=A}function U(I,A){if(P(A))throw Error("division by zero");if(P(I))return new O(_,_);if(M(I))return A=U(D(I),A),new O(D(A.g),D(A.h));if(M(A))return A=U(I,D(A)),new O(D(A.g),A.h);if(30<I.g.length){if(M(I)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var b=w,V=A;0>=V.l(I);)b=z(b),V=z(V);var F=X(b,1),W=X(V,1);for(V=X(V,2),b=X(b,2);!P(V);){var R=W.add(V);0>=R.l(I)&&(F=F.add(b),W=R),V=X(V,1),b=X(b,1)}return A=j(I,F.j(A)),new O(F,A)}for(F=_;0<=I.l(A);){for(b=Math.max(1,Math.floor(I.m()/A.m())),V=Math.ceil(Math.log(b)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),W=p(b),R=W.j(A);M(R)||0<R.l(I);)b-=V,W=p(b),R=W.j(A);P(W)&&(W=w),F=F.add(W),I=j(I,R)}return new O(F,I)}t.A=function(I){return U(this,I).h},t.and=function(I){for(var A=Math.max(this.g.length,I.g.length),b=[],V=0;V<A;V++)b[V]=this.i(V)&I.i(V);return new u(b,this.h&I.h)},t.or=function(I){for(var A=Math.max(this.g.length,I.g.length),b=[],V=0;V<A;V++)b[V]=this.i(V)|I.i(V);return new u(b,this.h|I.h)},t.xor=function(I){for(var A=Math.max(this.g.length,I.g.length),b=[],V=0;V<A;V++)b[V]=this.i(V)^I.i(V);return new u(b,this.h^I.h)};function z(I){for(var A=I.g.length+1,b=[],V=0;V<A;V++)b[V]=I.i(V)<<1|I.i(V-1)>>>31;return new u(b,I.h)}function X(I,A){var b=A>>5;A%=32;for(var V=I.g.length-b,F=[],W=0;W<V;W++)F[W]=0<A?I.i(W+b)>>>A|I.i(W+b+1)<<32-A:I.i(W+b);return new u(F,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,lE=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=y,Ri=u}).apply(typeof Yv<"u"?Yv:typeof self<"u"?self:typeof window<"u"?window:{});var pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uE,il,cE,Ac,rp,hE,dE,fE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,x){return c==Array.prototype||c==Object.prototype||(c[g]=x.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof pc=="object"&&pc];for(var g=0;g<c.length;++g){var x=c[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var i=n(this);function o(c,g){if(g)e:{var x=i;c=c.split(".");for(var C=0;C<c.length-1;C++){var G=c[C];if(!(G in x))break e;x=x[G]}c=c[c.length-1],C=x[c],g=g(C),g!=C&&g!=null&&e(x,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var x=0,C=!1,G={next:function(){if(!C&&x<c.length){var Y=x++;return{value:g(Y,c[Y]),done:!1}}return C=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(c){return c||function(){return a(this,function(g,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function y(c,g,x){return c.call.apply(c.bind,arguments)}function _(c,g,x){if(!c)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,C),c.apply(g,G)}}return function(){return c.apply(g,arguments)}}function w(c,g,x){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:_,w.apply(null,arguments)}function S(c,g){var x=Array.prototype.slice.call(arguments,1);return function(){var C=x.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function P(c,g){function x(){}x.prototype=g.prototype,c.aa=g.prototype,c.prototype=new x,c.prototype.constructor=c,c.Qb=function(C,G,Y){for(var ue=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ue[ze-2]=arguments[ze];return g.prototype[G].apply(C,ue)}}function M(c){const g=c.length;if(0<g){const x=Array(g);for(let C=0;C<g;C++)x[C]=c[C];return x}return[]}function D(c,g){for(let x=1;x<arguments.length;x++){const C=arguments[x];if(f(C)){const G=c.length||0,Y=C.length||0;c.length=G+Y;for(let ue=0;ue<Y;ue++)c[G+ue]=C[ue]}else c.push(C)}}class j{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function $(c){return/^[\s\xa0]*$/.test(c)}function O(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function U(c){return U[" "](c),c}U[" "]=function(){};var z=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function X(c,g,x){for(const C in c)g.call(x,c[C],C,c)}function I(c,g){for(const x in c)g.call(void 0,c[x],x,c)}function A(c){const g={};for(const x in c)g[x]=c[x];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(c,g){let x,C;for(let G=1;G<arguments.length;G++){C=arguments[G];for(x in C)c[x]=C[x];for(let Y=0;Y<b.length;Y++)x=b[Y],Object.prototype.hasOwnProperty.call(C,x)&&(c[x]=C[x])}}function F(c){var g=1;c=c.split(":");const x=[];for(;0<g&&c.length;)x.push(c.shift()),g--;return c.length&&x.push(c.join(":")),x}function W(c){h.setTimeout(()=>{throw c},0)}function R(){var c=ge;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class je{constructor(){this.h=this.g=null}add(g,x){const C=et.get();C.set(g,x),this.h?this.h.next=C:this.g=C,this.h=C}}var et=new j(()=>new Ke,c=>c.reset());class Ke{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let Ce,ae=!1,ge=new je,ce=()=>{const c=h.Promise.resolve(void 0);Ce=()=>{c.then(H)}};var H=()=>{for(var c;c=R();){try{c.h.call(c.g)}catch(x){W(x)}var g=et;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ae=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};h.addEventListener("test",x,g),h.removeEventListener("test",x,g)}catch{}return c}();function J(c,g){if(ve.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var x=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(z){e:{try{U(g.nodeName);var G=!0;break e}catch{}G=!1}G||(g=null)}}else x=="mouseover"?g=c.fromElement:x=="mouseout"&&(g=c.toElement);this.relatedTarget=g,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&J.aa.h.call(this)}}P(J,ve);var oe={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xe="closure_listenable_"+(1e6*Math.random()|0),Re=0;function $e(c,g,x,C,G){this.listener=c,this.proxy=null,this.src=g,this.type=x,this.capture=!!C,this.ha=G,this.key=++Re,this.da=this.fa=!1}function lt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function xn(c){this.src=c,this.g={},this.h=0}xn.prototype.add=function(c,g,x,C,G){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ue=wn(c,g,C,G);return-1<ue?(g=c[ue],x||(g.fa=!1)):(g=new $e(g,this.src,Y,!!C,G),g.fa=x,c.push(g)),g};function Ar(c,g){var x=g.type;if(x in c.g){var C=c.g[x],G=Array.prototype.indexOf.call(C,g,void 0),Y;(Y=0<=G)&&Array.prototype.splice.call(C,G,1),Y&&(lt(g),c.g[x].length==0&&(delete c.g[x],c.h--))}}function wn(c,g,x,C){for(var G=0;G<c.length;++G){var Y=c[G];if(!Y.da&&Y.listener==g&&Y.capture==!!x&&Y.ha==C)return G}return-1}var tr="closure_lm_"+(1e6*Math.random()|0),gt={};function Pr(c,g,x,C,G){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)Pr(c,g[Y],x,C,G);return null}return x=oa(x),c&&c[xe]?c.K(g,x,p(C)?!!C.capture:!1,G):ia(c,g,x,!1,C,G)}function ia(c,g,x,C,G,Y){if(!g)throw Error("Invalid event type");var ue=p(G)?!!G.capture:!!G,ze=Ls(c);if(ze||(c[tr]=ze=new xn(c)),x=ze.add(g,x,C,ue,Y),x.proxy)return x;if(C=Gl(),x.proxy=C,C.src=c,C.listener=x,c.addEventListener)ie||(G=ue),G===void 0&&(G=!1),c.addEventListener(g.toString(),C,G);else if(c.attachEvent)c.attachEvent(Ir(g.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return x}function Gl(){function c(x){return g.call(c.src,c.listener,x)}const g=sa;return c}function Ms(c,g,x,C,G){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)Ms(c,g[Y],x,C,G);else C=p(C)?!!C.capture:!!C,x=oa(x),c&&c[xe]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],x=wn(Y,x,C,G),-1<x&&(lt(Y[x]),Array.prototype.splice.call(Y,x,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ls(c))&&(g=c.g[g.toString()],c=-1,g&&(c=wn(g,x,C,G)),(x=-1<c?g[c]:null)&&br(x))}function br(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[xe])Ar(g.i,c);else{var x=c.type,C=c.proxy;g.removeEventListener?g.removeEventListener(x,C,c.capture):g.detachEvent?g.detachEvent(Ir(x),C):g.addListener&&g.removeListener&&g.removeListener(C),(x=Ls(g))?(Ar(x,c),x.h==0&&(x.src=null,g[tr]=null)):lt(c)}}}function Ir(c){return c in gt?gt[c]:gt[c]="on"+c}function sa(c,g){if(c.da)c=!0;else{g=new J(g,this);var x=c.listener,C=c.ha||c.src;c.fa&&br(c),c=x.call(C,g)}return c}function Ls(c){return c=c[tr],c instanceof xn?c:null}var Os="__closure_events_fn_"+(1e9*Math.random()>>>0);function oa(c){return typeof c=="function"?c:(c[Os]||(c[Os]=function(g){return c.handleEvent(g)}),c[Os])}function yt(){Z.call(this),this.i=new xn(this),this.M=this,this.F=null}P(yt,Z),yt.prototype[xe]=!0,yt.prototype.removeEventListener=function(c,g,x,C){Ms(this,c,g,x,C)};function vt(c,g){var x,C=c.F;if(C)for(x=[];C;C=C.F)x.push(C);if(c=c.M,C=g.type||g,typeof g=="string")g=new ve(g,c);else if(g instanceof ve)g.target=g.target||c;else{var G=g;g=new ve(C,c),V(g,G)}if(G=!0,x)for(var Y=x.length-1;0<=Y;Y--){var ue=g.g=x[Y];G=Rr(ue,C,!0,g)&&G}if(ue=g.g=c,G=Rr(ue,C,!0,g)&&G,G=Rr(ue,C,!1,g)&&G,x)for(Y=0;Y<x.length;Y++)ue=g.g=x[Y],G=Rr(ue,C,!1,g)&&G}yt.prototype.N=function(){if(yt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var x=c.g[g],C=0;C<x.length;C++)lt(x[C]);delete c.g[g],c.h--}}this.F=null},yt.prototype.K=function(c,g,x,C){return this.i.add(String(c),g,!1,x,C)},yt.prototype.L=function(c,g,x,C){return this.i.add(String(c),g,!0,x,C)};function Rr(c,g,x,C){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var G=!0,Y=0;Y<g.length;++Y){var ue=g[Y];if(ue&&!ue.da&&ue.capture==x){var ze=ue.listener,_t=ue.ha||ue.src;ue.fa&&Ar(c.i,ue),G=ze.call(_t,C)!==!1&&G}}return G&&!C.defaultPrevented}function aa(c,g,x){if(typeof c=="function")x&&(c=w(c,x));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function ti(c){c.g=aa(()=>{c.g=null,c.i&&(c.i=!1,ti(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Wi extends Z{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ti(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(c){Z.call(this),this.h=c,this.g={}}P(Hi,Z);var la=[];function ua(c){X(c.g,function(g,x){this.g.hasOwnProperty(x)&&br(g)},c),c.g={}}Hi.prototype.N=function(){Hi.aa.N.call(this),ua(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ca=h.JSON.stringify,ha=h.JSON.parse,da=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Gi(){}Gi.prototype.h=null;function js(c){return c.h||(c.h=c.i())}function Fs(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){ve.call(this,"d")}P(nr,ve);function Bs(){ve.call(this,"c")}P(Bs,ve);var rr={},fa=null;function qi(){return fa=fa||new yt}rr.La="serverreachability";function pa(c){ve.call(this,rr.La,c)}P(pa,ve);function kr(c){const g=qi();vt(g,new pa(g))}rr.STAT_EVENT="statevent";function ma(c,g){ve.call(this,rr.STAT_EVENT,c),this.stat=g}P(ma,ve);function ut(c){const g=qi();vt(g,new ma(g,c))}rr.Ma="timingevent";function Us(c,g){ve.call(this,rr.Ma,c),this.size=g}P(Us,ve);function Ln(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function Ki(){this.g=!0}Ki.prototype.xa=function(){this.g=!1};function Qi(c,g,x,C,G,Y){c.info(function(){if(c.g)if(Y)for(var ue="",ze=Y.split("&"),_t=0;_t<ze.length;_t++){var Me=ze[_t].split("=");if(1<Me.length){var Ct=Me[0];Me=Me[1];var ft=Ct.split("_");ue=2<=ft.length&&ft[1]=="type"?ue+(Ct+"="+Me+"&"):ue+(Ct+"=redacted&")}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+C+") [attempt "+G+"]: "+g+`
`+x+`
`+ue})}function $s(c,g,x,C,G,Y,ue){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+G+"]: "+g+`
`+x+`
`+Y+" "+ue})}function On(c,g,x,C){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Ph(c,x)+(C?" "+C:"")})}function ga(c,g){c.info(function(){return"TIMEOUT: "+g})}Ki.prototype.info=function(){};function Ph(c,g){if(!c.g)return g;if(!g)return null;try{var x=JSON.parse(g);if(x){for(c=0;c<x.length;c++)if(Array.isArray(x[c])){var C=x[c];if(!(2>C.length)){var G=C[1];if(Array.isArray(G)&&!(1>G.length)){var Y=G[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ue=1;ue<G.length;ue++)G[ue]=""}}}}return ca(x)}catch{return g}}var zs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ql={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jn;function Xi(){}P(Xi,Gi),Xi.prototype.g=function(){return new XMLHttpRequest},Xi.prototype.i=function(){return{}},jn=new Xi;function Fn(c,g,x,C){this.j=c,this.i=g,this.l=x,this.R=C||1,this.U=new Hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kl}function Kl(){this.i=null,this.g="",this.h=!1}var ya={},Ws={};function Hs(c,g,x){c.L=1,c.v=oi(dn(g)),c.m=x,c.P=!0,va(c,null)}function va(c,g){c.F=Date.now(),He(c),c.A=dn(c.v);var x=c.A,C=c.R;Array.isArray(C)||(C=[String(C)]),li(x.i,"t",C),c.C=0,x=c.j.J,c.h=new Kl,c.g=du(c.j,x?g:null,!c.m),0<c.O&&(c.M=new Wi(w(c.Y,c,c.g),c.O)),g=c.U,x=c.g,C=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(la[0]=G.toString()),G=la);for(var Y=0;Y<G.length;Y++){var ue=Pr(x,G[Y],C||g.handleEvent,!1,g.h||g);if(!ue)break;g.g[ue.key]=ue}g=c.H?A(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),kr(),Qi(c.i,c.u,c.A,c.l,c.R,c.m)}Fn.prototype.ca=function(c){c=c.target;const g=this.M;g&&tn(c)==3?g.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const ft=tn(this.g);var g=this.g.Ba();const Cn=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||Sa(this.g)))){this.J||ft!=4||g==7||(g==8||0>=Cn?kr(3):kr(2)),Yi(this);var x=this.g.Z();this.X=x;t:if(Ql(this)){var C=Sa(this.g);c="";var G=C.length,Y=tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),ni(this);var ue="";break t}this.h.i=new h.TextDecoder}for(g=0;g<G;g++)this.h.h=!0,c+=this.h.i.decode(C[g],{stream:!(Y&&g==G-1)});C.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=x==200,$s(this.i,this.u,this.A,this.l,this.R,ft,x),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,_t=this.g;if((ze=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(ze)){var Me=ze;break t}}Me=null}if(x=Me)On(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_a(this,x);else{this.o=!1,this.s=3,ut(12),Tn(this),ni(this);break e}}if(this.P){x=!0;let pn;for(;!this.J&&this.C<ue.length;)if(pn=bh(this,ue),pn==Ws){ft==4&&(this.s=4,ut(14),x=!1),On(this.i,this.l,null,"[Incomplete Response]");break}else if(pn==ya){this.s=4,ut(15),On(this.i,this.l,ue,"[Invalid Chunk]"),x=!1;break}else On(this.i,this.l,pn,null),_a(this,pn);if(Ql(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||ue.length!=0||this.h.h||(this.s=1,ut(16),x=!1),this.o=this.o&&x,!x)On(this.i,this.l,ue,"[Invalid Chunked Response]"),Tn(this),ni(this);else if(0<ue.length&&!this.W){this.W=!0;var Ct=this.j;Ct.g==this&&Ct.ba&&!Ct.M&&(Ct.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),Aa(Ct),Ct.M=!0,ut(11))}}else On(this.i,this.l,ue,null),_a(this,ue);ft==4&&Tn(this),this.o&&!this.J&&(ft==4?no(this.j,this):(this.o=!1,He(this)))}else Ys(this.g),x==400&&0<ue.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Tn(this),ni(this)}}}catch{}finally{}};function Ql(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function bh(c,g){var x=c.C,C=g.indexOf(`
`,x);return C==-1?Ws:(x=Number(g.substring(x,C)),isNaN(x)?ya:(C+=1,C+x>g.length?Ws:(g=g.slice(C,C+x),c.C=C+x,g)))}Fn.prototype.cancel=function(){this.J=!0,Tn(this)};function He(c){c.S=Date.now()+c.I,Xl(c,c.I)}function Xl(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ln(w(c.ba,c),g)}function Yi(c){c.B&&(h.clearTimeout(c.B),c.B=null)}Fn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ga(this.i,this.A),this.L!=2&&(kr(),ut(17)),Tn(this),this.s=2,ni(this)):Xl(this,this.S-c)};function ni(c){c.j.G==0||c.J||no(c.j,c)}function Tn(c){Yi(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,ua(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function _a(c,g){try{var x=c.j;if(x.G!=0&&(x.g==c||Kt(x.h,c))){if(!c.K&&Kt(x.h,c)&&x.G==3){try{var C=x.Da.g.parse(g)}catch{C=null}if(Array.isArray(C)&&C.length==3){var G=C;if(G[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<c.F)to(x),Wn(x);else break e;eo(x),ut(18)}}else x.za=G[1],0<x.za-x.T&&37500>G[2]&&x.F&&x.v==0&&!x.C&&(x.C=Ln(w(x.Za,x),6e3));if(1>=Jl(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else Lr(x,11)}else if((c.K||x.g==c)&&to(x),!$(g))for(G=x.Da.g.parse(g),g=0;g<G.length;g++){let Me=G[g];if(x.T=Me[0],Me=Me[1],x.G==2)if(Me[0]=="c"){x.K=Me[1],x.ia=Me[2];const Ct=Me[3];Ct!=null&&(x.la=Ct,x.j.info("VER="+x.la));const ft=Me[4];ft!=null&&(x.Aa=ft,x.j.info("SVER="+x.Aa));const Cn=Me[5];Cn!=null&&typeof Cn=="number"&&0<Cn&&(C=1.5*Cn,x.L=C,x.j.info("backChannelRequestTimeoutMs_="+C)),C=x;const pn=c.g;if(pn){const is=pn.g?pn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var Y=C.h;Y.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(xa(Y,Y.h),Y.h=null))}if(C.D){const io=pn.g?pn.g.getResponseHeader("X-HTTP-Session-Id"):null;io&&(C.ya=io,We(C.I,C.D,io))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-c.F,x.j.info("Handshake RTT: "+x.R+"ms")),C=x;var ue=c;if(C.qa=hu(C,C.J?C.ia:null,C.W),ue.K){Zl(C.h,ue);var ze=ue,_t=C.L;_t&&(ze.I=_t),ze.B&&(Yi(ze),He(ze)),C.g=ue}else rs(C);0<x.i.length&&ar(x)}else Me[0]!="stop"&&Me[0]!="close"||Lr(x,7);else x.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Lr(x,7):kt(x):Me[0]!="noop"&&x.l&&x.l.ta(Me),x.v=0)}}kr(4)}catch{}}var Yl=class{constructor(c,g){this.g=c,this.map=g}};function Ji(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Jl(c){return c.h?1:c.g?c.g.size:0}function Kt(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function xa(c,g){c.g?c.g.add(g):c.h=g}function Zl(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ji.prototype.cancel=function(){if(this.i=eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function eu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const x of c.g.values())g=g.concat(x.D);return g}return M(c.i)}function Gs(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],x=c.length,C=0;C<x;C++)g.push(c[C]);return g}g=[],x=0;for(C in c)g[x++]=c[C];return g}function qs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var x=0;x<c;x++)g.push(x);return g}g=[],x=0;for(const C in c)g[x++]=C;return g}}}function ri(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var x=qs(c),C=Gs(c),G=C.length,Y=0;Y<G;Y++)g.call(void 0,C[Y],x&&x[Y],c)}var Zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ih(c,g){if(c){c=c.split("&");for(var x=0;x<c.length;x++){var C=c[x].indexOf("="),G=null;if(0<=C){var Y=c[x].substring(0,C);G=c[x].substring(C+1)}else Y=c[x];g(Y,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function Nr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Nr){this.h=c.h,es(this,c.j),this.o=c.o,this.g=c.g,ii(this,c.s),this.l=c.l;var g=c.i,x=new ir;x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),si(this,x),this.m=c.m}else c&&(g=String(c).match(Zi))?(this.h=!1,es(this,g[1]||"",!0),this.o=Ve(g[2]||""),this.g=Ve(g[3]||"",!0),ii(this,g[4]),this.l=Ve(g[5]||"",!0),si(this,g[6]||"",!0),this.m=Ve(g[7]||"")):(this.h=!1,this.i=new ir(null,this.h))}Nr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(ai(g,Ks,!0),":");var x=this.g;return(x||g=="file")&&(c.push("//"),(g=this.o)&&c.push(ai(g,Ks,!0),"@"),c.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&c.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(ai(x,x.charAt(0)=="/"?ru:nu,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",ai(x,wa)),c.join("")};function dn(c){return new Nr(c)}function es(c,g,x){c.j=x?Ve(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ii(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function si(c,g,x){g instanceof ir?(c.i=g,sr(c.i,c.h)):(x||(g=ai(g,iu)),c.i=new ir(g,c.h))}function We(c,g,x){c.i.set(g,x)}function oi(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ai(c,g,x){return typeof c=="string"?(c=encodeURI(c).replace(g,tu),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function tu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ks=/[#\/\?@]/g,nu=/[#\?:]/g,ru=/[#\?]/g,iu=/[#\?@]/g,wa=/#/g;function ir(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Rt(c){c.g||(c.g=new Map,c.h=0,c.i&&Ih(c.i,function(g,x){c.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}t=ir.prototype,t.add=function(c,g){Rt(this),this.i=null,c=Sn(this,c);var x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(g),this.h+=1,this};function Bn(c,g){Rt(c),g=Sn(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Un(c,g){return Rt(c),g=Sn(c,g),c.g.has(g)}t.forEach=function(c,g){Rt(this),this.g.forEach(function(x,C){x.forEach(function(G){c.call(g,G,C,this)},this)},this)},t.na=function(){Rt(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),x=[];for(let C=0;C<g.length;C++){const G=c[C];for(let Y=0;Y<G.length;Y++)x.push(g[C])}return x},t.V=function(c){Rt(this);let g=[];if(typeof c=="string")Un(this,c)&&(g=g.concat(this.g.get(Sn(this,c))));else{c=Array.from(this.g.values());for(let x=0;x<c.length;x++)g=g.concat(c[x])}return g},t.set=function(c,g){return Rt(this),this.i=null,c=Sn(this,c),Un(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function li(c,g,x){Bn(c,g),0<x.length&&(c.i=null,c.g.set(Sn(c,g),M(x)),c.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var x=0;x<g.length;x++){var C=g[x];const Y=encodeURIComponent(String(C)),ue=this.V(C);for(C=0;C<ue.length;C++){var G=Y;ue[C]!==""&&(G+="="+encodeURIComponent(String(ue[C]))),c.push(G)}}return this.i=c.join("&")};function Sn(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function sr(c,g){g&&!c.j&&(Rt(c),c.i=null,c.g.forEach(function(x,C){var G=C.toLowerCase();C!=G&&(Bn(this,C),li(this,G,x))},c)),c.j=g}function Rh(c,g){const x=new Ki;if(h.Image){const C=new Image;C.onload=S(en,x,"TestLoadImage: loaded",!0,g,C),C.onerror=S(en,x,"TestLoadImage: error",!1,g,C),C.onabort=S(en,x,"TestLoadImage: abort",!1,g,C),C.ontimeout=S(en,x,"TestLoadImage: timeout",!1,g,C),h.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else g(!1)}function su(c,g){const x=new Ki,C=new AbortController,G=setTimeout(()=>{C.abort(),en(x,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:C.signal}).then(Y=>{clearTimeout(G),Y.ok?en(x,"TestPingServer: ok",!0,g):en(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(G),en(x,"TestPingServer: error",!1,g)})}function en(c,g,x,C,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),C(x)}catch{}}function kh(){this.g=new da}function ou(c,g,x){const C=x||"";try{ri(c,function(G,Y){let ue=G;p(G)&&(ue=ca(G)),g.push(C+Y+"="+encodeURIComponent(ue))})}catch(G){throw g.push(C+"type="+encodeURIComponent("_badmap")),G}}function Dr(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Dr,Gi),Dr.prototype.g=function(){return new ts(this.l,this.j)},Dr.prototype.i=function(c){return function(){return c}}({});function ts(c,g){yt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ts,yt),t=ts.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,zn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$n(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;au(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function au(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?$n(this):zn(this),this.readyState==3&&au(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,$n(this))},t.Qa=function(c){this.g&&(this.response=c,$n(this))},t.ga=function(){this.g&&$n(this)};function $n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zn(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=g.next();return c.join(`\r
`)};function zn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Vr(c){let g="";return X(c,function(x,C){g+=C,g+=":",g+=x,g+=`\r
`}),g}function ui(c,g,x){e:{for(C in x){var C=!1;break e}C=!0}C||(x=Vr(x),typeof c=="string"?x!=null&&encodeURIComponent(String(x)):We(c,g,x))}function Ye(c){yt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ye,yt);var Nh=/^https?$/i,Ea=["POST","PUT"];t=Ye.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,x,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jn.g(),this.v=this.o?js(this.o):js(jn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){ns(this,Y);return}if(c=x||"",x=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var G in C)x.set(G,C[G]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const Y of C.keys())x.set(Y,C.get(Y));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(x.keys()).find(Y=>Y.toLowerCase()=="content-type"),G=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(Ea,g,void 0))||C||G||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of x)this.g.setRequestHeader(Y,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Xs(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){ns(this,Y)}};function ns(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Qs(c),fn(c)}function Qs(c){c.A||(c.A=!0,vt(c,"complete"),vt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,vt(this,"complete"),vt(this,"abort"),fn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),fn(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},t.bb=function(){Ta(this)};function Ta(c){if(c.h&&typeof u<"u"&&(!c.v[1]||tn(c)!=4||c.Z()!=2)){if(c.u&&tn(c)==4)aa(c.Ea,0,c);else if(vt(c,"readystatechange"),tn(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var C;if(C=ue===0){var G=String(c.D).match(Zi)[1]||null;!G&&h.self&&h.self.location&&(G=h.self.location.protocol.slice(0,-1)),C=!Nh.test(G?G.toLowerCase():"")}x=C}if(x)vt(c,"complete"),vt(c,"success");else{c.m=6;try{var Y=2<tn(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",Qs(c)}}finally{fn(c)}}}}function fn(c,g){if(c.g){Xs(c);const x=c.g,C=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||vt(c,"ready");try{x.onreadystatechange=C}catch{}}}function Xs(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function tn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<tn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ha(g)}};function Sa(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ys(c){const g={};c=(c.g&&2<=tn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if($(c[C]))continue;var x=F(c[C]);const G=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const Y=g[G]||[];g[G]=Y,Y.push(x)}I(g,function(C){return C.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(c,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||g}function Ca(c){this.Aa=0,this.i=[],this.j=new Ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=or("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=or("baseRetryDelayMs",5e3,c),this.cb=or("retryDelaySeedMs",1e4,c),this.Wa=or("forwardChannelMaxRetries",2,c),this.wa=or("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ji(c&&c.concurrentRequestLimit),this.Da=new kh,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ca.prototype,t.la=8,t.G=1,t.connect=function(c,g,x,C){ut(0),this.W=c,this.H=g||{},x&&C!==void 0&&(this.H.OSID=x,this.H.OAID=C),this.F=this.X,this.I=hu(this,null,this.W),ar(this)};function kt(c){if(Js(c),c.G==3){var g=c.U++,x=dn(c.I);if(We(x,"SID",c.K),We(x,"RID",g),We(x,"TYPE","terminate"),Mr(c,x),g=new Fn(c,c.j,g),g.L=2,g.v=oi(dn(x)),x=!1,h.navigator&&h.navigator.sendBeacon)try{x=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!x&&h.Image&&(new Image().src=g.v,x=!0),x||(g.g=du(g.j,null),g.g.ea(g.v)),g.F=Date.now(),He(g)}cu(c)}function Wn(c){c.g&&(Aa(c),c.g.cancel(),c.g=null)}function Js(c){Wn(c),c.u&&(h.clearTimeout(c.u),c.u=null),to(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function ar(c){if(!hn(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ce||ce(),ae||(Ce(),ae=!0),ge.add(g,c),c.B=0}}function Dh(c,g){return Jl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ln(w(c.Ga,c,g),uu(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new Fn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=A(Y),V(Y,this.S)):Y=this.S),this.m!==null||this.O||(G.H=Y,Y=null),this.P)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var C=this.i[x];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(g+=C,4096<g){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=ci(this,G,g),x=dn(this.I),We(x,"RID",c),We(x,"CVER",22),this.D&&We(x,"X-HTTP-Session-Id",this.D),Mr(this,x),Y&&(this.O?g="headers="+encodeURIComponent(String(Vr(Y)))+"&"+g:this.m&&ui(x,this.m,Y)),xa(this.h,G),this.Ua&&We(x,"TYPE","init"),this.P?(We(x,"$req",g),We(x,"SID","null"),G.T=!0,Hs(G,x,null)):Hs(G,x,g),this.G=2}}else this.G==3&&(c?Zs(this,c):this.i.length==0||hn(this.h)||Zs(this))};function Zs(c,g){var x;g?x=g.l:x=c.U++;const C=dn(c.I);We(C,"SID",c.K),We(C,"RID",x),We(C,"AID",c.T),Mr(c,C),c.m&&c.o&&ui(C,c.m,c.o),x=new Fn(c,c.j,x,c.B+1),c.m===null&&(x.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ci(c,x,1e3),x.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xa(c.h,x),Hs(x,C,g)}function Mr(c,g){c.H&&X(c.H,function(x,C){We(g,C,x)}),c.l&&ri({},function(x,C){We(g,C,x)})}function ci(c,g,x){x=Math.min(c.i.length,x);var C=c.l?w(c.l.Na,c.l,c):null;e:{var G=c.i;let Y=-1;for(;;){const ue=["count="+x];Y==-1?0<x?(Y=G[0].g,ue.push("ofs="+Y)):Y=0:ue.push("ofs="+Y);let ze=!0;for(let _t=0;_t<x;_t++){let Me=G[_t].g;const Ct=G[_t].map;if(Me-=Y,0>Me)Y=Math.max(0,G[_t].g-100),ze=!1;else try{ou(Ct,ue,"req"+Me+"_")}catch{C&&C(Ct)}}if(ze){C=ue.join("&");break e}}}return c=c.i.splice(0,x),g.D=c,C}function rs(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ce||ce(),ae||(Ce(),ae=!0),ge.add(g,c),c.v=0}}function eo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ln(w(c.Fa,c),uu(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,lu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ln(w(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Wn(this),lu(this))};function Aa(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function lu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=dn(c.qa);We(g,"RID","rpc"),We(g,"SID",c.K),We(g,"AID",c.T),We(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(g,"TO",c.ja),We(g,"TYPE","xmlhttp"),Mr(c,g),c.m&&c.o&&ui(g,c.m,c.o),c.L&&(c.g.I=c.L);var x=c.g;c=c.ia,x.L=1,x.v=oi(dn(g)),x.m=null,x.P=!0,va(x,c)}t.Za=function(){this.C!=null&&(this.C=null,Wn(this),eo(this),ut(19))};function to(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function no(c,g){var x=null;if(c.g==g){to(c),Aa(c),c.g=null;var C=2}else if(Kt(c.h,g))x=g.D,Zl(c.h,g),C=1;else return;if(c.G!=0){if(g.o)if(C==1){x=g.m?g.m.length:0,g=Date.now()-g.F;var G=c.B;C=qi(),vt(C,new Us(C,x)),ar(c)}else rs(c);else if(G=g.s,G==3||G==0&&0<g.X||!(C==1&&Dh(c,g)||C==2&&eo(c)))switch(x&&0<x.length&&(g=c.h,g.i=g.i.concat(x)),G){case 1:Lr(c,5);break;case 4:Lr(c,10);break;case 3:Lr(c,6);break;default:Lr(c,2)}}}function uu(c,g){let x=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(x*=2),x*g}function Lr(c,g){if(c.j.info("Error code "+g),g==2){var x=w(c.fb,c),C=c.Xa;const G=!C;C=new Nr(C||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||es(C,"https"),oi(C),G?Rh(C.toString(),x):su(C.toString(),x)}else ut(2);c.G=0,c.l&&c.l.sa(g),cu(c),Js(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function cu(c){if(c.G=0,c.ka=[],c.l){const g=eu(c.h);(g.length!=0||c.i.length!=0)&&(D(c.ka,g),D(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function hu(c,g,x){var C=x instanceof Nr?dn(x):new Nr(x);if(C.g!="")g&&(C.g=g+"."+C.g),ii(C,C.s);else{var G=h.location;C=G.protocol,g=g?g+"."+G.hostname:G.hostname,G=+G.port;var Y=new Nr(null);C&&es(Y,C),g&&(Y.g=g),G&&ii(Y,G),x&&(Y.l=x),C=Y}return x=c.D,g=c.ya,x&&g&&We(C,x,g),We(C,"VER",c.la),Mr(c,C),C}function du(c,g,x){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ye(new Dr({eb:x})):new Ye(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pa(){}t=Pa.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ro(){}ro.prototype.g=function(c,g){return new Qt(c,g)};function Qt(c,g){yt.call(this),this.g=new Ca(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!$(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!$(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new lr(this)}P(Qt,yt),Qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qt.prototype.close=function(){kt(this.g)},Qt.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.u&&(x={},x.__data__=ca(c),c=x);g.i.push(new Yl(g.Ya++,c)),g.G==3&&ar(g)},Qt.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Qt.aa.N.call(this)};function fu(c){nr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const x in g){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}P(fu,nr);function pu(){Bs.call(this),this.status=1}P(pu,Bs);function lr(c){this.g=c}P(lr,Pa),lr.prototype.ua=function(){vt(this.g,"a")},lr.prototype.ta=function(c){vt(this.g,new fu(c))},lr.prototype.sa=function(c){vt(this.g,new pu)},lr.prototype.ra=function(){vt(this.g,"b")},ro.prototype.createWebChannel=ro.prototype.g,Qt.prototype.send=Qt.prototype.o,Qt.prototype.open=Qt.prototype.m,Qt.prototype.close=Qt.prototype.close,fE=function(){return new ro},dE=function(){return qi()},hE=rr,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,Ac=zs,ql.COMPLETE="complete",cE=ql,Fs.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",yt.prototype.listen=yt.prototype.K,il=Fs,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,uE=Ye}).apply(typeof pc<"u"?pc:typeof self<"u"?self:typeof window<"u"?window:{});const Jv="@firebase/firestore",Zv="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ea="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Zw("@firebase/firestore");function bo(){return Ps.logLevel}function de(t,...e){if(Ps.logLevel<=Oe.DEBUG){const n=e.map(gm);Ps.debug(`Firestore (${ea}): ${t}`,...n)}}function Yr(t,...e){if(Ps.logLevel<=Oe.ERROR){const n=e.map(gm);Ps.error(`Firestore (${ea}): ${t}`,...n)}}function zo(t,...e){if(Ps.logLevel<=Oe.WARN){const n=e.map(gm);Ps.warn(`Firestore (${ea}): ${t}`,...n)}}function gm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${ea}) INTERNAL ASSERTION FAILED: `+t;throw Yr(e),new Error(e)}function Ue(t,e){t||Ae()}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Rs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class lN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class uN{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0);let i=this.i;const o=f=>this.i!==i?(i=this.i,n(f)):Promise.resolve();let a=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Kr,e.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await o(this.currentUser)})},h=f=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Kr)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ue(typeof i.accessToken=="string"),new pE(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Ht(e)}}class cN{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class hN{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new cN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dN{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,rE(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ue(this.o===void 0);const i=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,de("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const o=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>o(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new e_(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new e_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=fN(40);for(let a=0;a<o.length;++a)i.length<20&&o[a]<n&&(i+=e.charAt(o[a]%62))}return i}}function ke(t,e){return t<e?-1:t>e?1:0}function ip(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),o=e.codePointAt(n);if(i!==o){if(i<128&&o<128)return ke(i,o);{const a=mE(),u=pN(a.encode(t_(t,n)),a.encode(t_(e,n)));return u!==0?u:ke(i,o)}}n+=i>65535?2:1}return ke(t.length,e.length)}function t_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function pN(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ke(t[n],e[n]);return ke(t.length,e.length)}function Wo(t,e,n){return t.length===e.length&&t.every((i,o)=>n(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=-62135596800,r_=1e6;class Tt{static now(){return Tt.fromMillis(Date.now())}static fromDate(e){return Tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*r_);return new Tt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<n_)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r_}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-n_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Tt(0,0))}static max(){return new be(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_="__name__";class fr{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ae(),i===void 0?i=e.length-n:i>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let o=0;o<i;o++){const a=fr.compareSegments(e.get(o),n.get(o));if(a!==0)return a}return ke(e.length,n.length)}static compareSegments(e,n){const i=fr.isNumericId(e),o=fr.isNumericId(n);return i&&!o?-1:!i&&o?1:i&&o?fr.extractNumericId(e).compare(fr.extractNumericId(n)):ip(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ri.fromString(e.substring(4,e.length-2))}}class Ze extends fr{construct(e,n,i){return new Ze(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(re.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(o=>o.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const mN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Lt extends fr{construct(e,n,i){return new Lt(e,n,i)}static isValidIdentifier(e){return mN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i_}static keyField(){return new Lt([i_])}static fromServerFormat(e){const n=[];let i="",o=0;const a=()=>{if(i.length===0)throw new _e(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new _e(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[o+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new _e(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=f,o+=2}else h==="`"?(u=!u,o++):h!=="."||u?(i+=h,o++):(a(),o++)}if(a(),u)throw new _e(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Lt(n)}static emptyPath(){return new Lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Ze.fromString(e))}static fromName(e){return new Te(Ze.fromString(e).popFirst(5))}static empty(){return new Te(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=-1;function gN(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,o=be.fromTimestamp(i===1e9?new Tt(n+1,0):new Tt(n,i));return new Mi(o,Te.empty(),e)}function yN(t){return new Mi(t.readTime,t.key,Al)}class Mi{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Mi(be.min(),Te.empty(),Al)}static max(){return new Mi(be.max(),Te.empty(),Al)}}function vN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ta(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==_N)throw t;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((i,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,o)},this.catchCallback=a=>{this.wrapFailure(n,a).next(i,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,i)=>{n(e)})}static reject(e){return new ee((n,i)=>{i(e)})}static waitFor(e){return new ee((n,i)=>{let o=0,a=0,u=!1;e.forEach(h=>{++o,h.next(()=>{++a,u&&a===o&&n()},f=>i(f))}),u=!0,a===o&&n()})}static or(e){let n=ee.resolve(!1);for(const i of e)n=n.next(o=>o?ee.resolve(o):i());return n}static forEach(e,n){const i=[];return e.forEach((o,a)=>{i.push(n.call(this,o,a))}),this.waitFor(i)}static mapArray(e,n){return new ee((i,o)=>{const a=e.length,u=new Array(a);let h=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(y=>{u[p]=y,++h,h===a&&i(u)},y=>o(y))}})}static doWhile(e,n){return new ee((i,o)=>{const a=()=>{e()===!0?n().next(()=>{a()},o):i()};a()})}}function wN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function na(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.oe(i),this._e=i=>n.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}fh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=-1;function ph(t){return t==null}function Wc(t){return t===0&&1/t==-1/0}function EN(t){return typeof t=="number"&&Number.isInteger(t)&&!Wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="";function TN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=s_(e)),e=SN(t.get(n),e);return s_(e)}function SN(t,e){let n=e;const i=t.length;for(let o=0;o<i;o++){const a=t.charAt(o);switch(a){case"\0":n+="";break;case yE:n+="";break;default:n+=a}}return n}function s_(t){return t+yE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ks(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,n){this.comparator=e,this.root=n||Mt.EMPTY}insert(e,n){return new st(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Mt.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Mt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return n+i.left.size;o<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mc(this.root,e,this.comparator,!1)}getReverseIterator(){return new mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mc(this.root,e,this.comparator,!0)}}class mc{constructor(e,n,i,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?i(e.key,n):1,n&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Mt{constructor(e,n,i,o,a){this.key=e,this.value=n,this.color=i??Mt.RED,this.left=o??Mt.EMPTY,this.right=a??Mt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,o,a){return new Mt(e??this.key,n??this.value,i??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let o=this;const a=i(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,n,i),null):a===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Mt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Mt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Mt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Mt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Mt.EMPTY=null,Mt.RED=!0,Mt.BLACK=!1;Mt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,i,o,a){return this}insert(e,n,i){return new Mt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a_(this.data.getIterator())}getIteratorFrom(e){return new a_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class a_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Lt.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new St(Lt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new _E("Invalid base64 string: "+a):a}}(e);return new Ot(n)}static fromUint8Array(e){const n=function(o){let a="";for(let u=0;u<o.length;++u)a+=String.fromCharCode(o[u]);return a}(e);return new Ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let o=0;o<n.length;o++)i[o]=n.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ot.EMPTY_BYTE_STRING=new Ot("");const CN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=CN.exec(t);if(Ue(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oi(t){return typeof t=="string"?Ot.fromBase64String(t):Ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="server_timestamp",wE="__type__",EE="__previous_value__",TE="__local_write_time__";function vm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[wE])===null||n===void 0?void 0:n.stringValue)===xE}function mh(t){const e=t.mapValue.fields[EE];return vm(e)?mh(e):e}function Pl(t){const e=Li(t.mapValue.fields[TE].timestampValue);return new Tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,n,i,o,a,u,h,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=o,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=p}}const Hc="(default)";class bl{constructor(e,n){this.projectId=e,this.database=n||Hc}static empty(){return new bl("","")}get isDefaultDatabase(){return this.database===Hc}isEqual(e){return e instanceof bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="__type__",PN="__max__",gc={mapValue:{}},CE="__vector__",Gc="value";function ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vm(t)?4:IN(t)?9007199254740991:bN(t)?10:11:Ae()}function wr(t,e){if(t===e)return!0;const n=ji(t);if(n!==ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pl(t).isEqual(Pl(e));case 3:return function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const u=Li(o.timestampValue),h=Li(a.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,a){return Oi(o.bytesValue).isEqual(Oi(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,a){return dt(o.geoPointValue.latitude)===dt(a.geoPointValue.latitude)&&dt(o.geoPointValue.longitude)===dt(a.geoPointValue.longitude)}(t,e);case 2:return function(o,a){if("integerValue"in o&&"integerValue"in a)return dt(o.integerValue)===dt(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const u=dt(o.doubleValue),h=dt(a.doubleValue);return u===h?Wc(u)===Wc(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(o,a){const u=o.mapValue.fields||{},h=a.mapValue.fields||{};if(o_(u)!==o_(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!wr(u[f],h[f])))return!1;return!0}(t,e);default:return Ae()}}function Il(t,e){return(t.values||[]).find(n=>wr(n,e))!==void 0}function Ho(t,e){if(t===e)return 0;const n=ji(t),i=ji(e);if(n!==i)return ke(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(a,u){const h=dt(a.integerValue||a.doubleValue),f=dt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return l_(t.timestampValue,e.timestampValue);case 4:return l_(Pl(t),Pl(e));case 5:return ip(t.stringValue,e.stringValue);case 6:return function(a,u){const h=Oi(a),f=Oi(u);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const h=a.split("/"),f=u.split("/");for(let p=0;p<h.length&&p<f.length;p++){const y=ke(h[p],f[p]);if(y!==0)return y}return ke(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const h=ke(dt(a.latitude),dt(u.latitude));return h!==0?h:ke(dt(a.longitude),dt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return u_(t.arrayValue,e.arrayValue);case 10:return function(a,u){var h,f,p,y;const _=a.fields||{},w=u.fields||{},S=(h=_[Gc])===null||h===void 0?void 0:h.arrayValue,P=(f=w[Gc])===null||f===void 0?void 0:f.arrayValue,M=ke(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0);return M!==0?M:u_(S,P)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===gc.mapValue&&u===gc.mapValue)return 0;if(a===gc.mapValue)return 1;if(u===gc.mapValue)return-1;const h=a.fields||{},f=Object.keys(h),p=u.fields||{},y=Object.keys(p);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const w=ip(f[_],y[_]);if(w!==0)return w;const S=Ho(h[f[_]],p[y[_]]);if(S!==0)return S}return ke(f.length,y.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function l_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Li(t),i=Li(e),o=ke(n.seconds,i.seconds);return o!==0?o:ke(n.nanos,i.nanos)}function u_(t,e){const n=t.values||[],i=e.values||[];for(let o=0;o<n.length&&o<i.length;++o){const a=Ho(n[o],i[o]);if(a)return a}return ke(n.length,i.length)}function Go(t){return sp(t)}function sp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Li(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",o=!0;for(const a of n.values||[])o?o=!1:i+=",",i+=sp(a);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let o="{",a=!0;for(const u of i)a?a=!1:o+=",",o+=`${u}:${sp(n.fields[u])}`;return o+"}"}(t.mapValue):Ae()}function Pc(t){switch(ji(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mh(t);return e?16+Pc(e):16;case 5:return 2*t.stringValue.length;case 6:return Oi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,a)=>o+Pc(a),0)}(t.arrayValue);case 10:case 11:return function(i){let o=0;return ks(i.fields,(a,u)=>{o+=a.length+Pc(u)}),o}(t.mapValue);default:throw Ae()}}function op(t){return!!t&&"integerValue"in t}function _m(t){return!!t&&"arrayValue"in t}function c_(t){return!!t&&"nullValue"in t}function h_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bc(t){return!!t&&"mapValue"in t}function bN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[SE])===null||n===void 0?void 0:n.stringValue)===CE}function dl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ks(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=dl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=dl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function IN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===PN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.value=e}static empty(){return new Vn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!bc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=dl(n)}setAll(e){let n=Lt.emptyPath(),i={},o=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,i,o),i={},o=[],n=h.popLast()}u?i[h.lastSegment()]=dl(u):o.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,i,o)}delete(e){const n=this.field(e.popLast());bc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=n.mapValue.fields[e.get(i)];bc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,i){ks(n,(o,a)=>e[o]=a);for(const o of i)delete e[o]}clone(){return new Vn(dl(this.value))}}function AE(t){const e=[];return ks(t.fields,(n,i)=>{const o=new Lt([n]);if(bc(i)){const a=AE(i.mapValue).fields;if(a.length===0)e.push(o);else for(const u of a)e.push(o.child(u))}else e.push(o)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,i,o,a,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=o,this.createTime=a,this.data=u,this.documentState=h}static newInvalidDocument(e){return new Gt(e,0,be.min(),be.min(),be.min(),Vn.empty(),0)}static newFoundDocument(e,n,i,o){return new Gt(e,1,n,be.min(),i,o,0)}static newNoDocument(e,n){return new Gt(e,2,n,be.min(),be.min(),Vn.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,be.min(),be.min(),Vn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n){this.position=e,this.inclusive=n}}function d_(t,e,n){let i=0;for(let o=0;o<t.position.length;o++){const a=e[o],u=t.position[o];if(a.field.isKeyField()?i=Te.comparator(Te.fromName(u.referenceValue),n.key):i=Ho(u,n.data.field(a.field)),a.dir==="desc"&&(i*=-1),i!==0)break}return i}function f_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e,n="asc"){this.field=e,this.dir=n}}function RN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{}class Et extends PE{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new NN(e,n,i):n==="array-contains"?new MN(e,i):n==="in"?new LN(e,i):n==="not-in"?new ON(e,i):n==="array-contains-any"?new jN(e,i):new Et(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new DN(e,i):new VN(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ho(n,this.value)):n!==null&&ji(this.value)===ji(n)&&this.matchesComparison(Ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Er extends PE{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Er(e,n)}matches(e){return bE(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function bE(t){return t.op==="and"}function IE(t){return kN(t)&&bE(t)}function kN(t){for(const e of t.filters)if(e instanceof Er)return!1;return!0}function ap(t){if(t instanceof Et)return t.field.canonicalString()+t.op.toString()+Go(t.value);if(IE(t))return t.filters.map(e=>ap(e)).join(",");{const e=t.filters.map(n=>ap(n)).join(",");return`${t.op}(${e})`}}function RE(t,e){return t instanceof Et?function(i,o){return o instanceof Et&&i.op===o.op&&i.field.isEqual(o.field)&&wr(i.value,o.value)}(t,e):t instanceof Er?function(i,o){return o instanceof Er&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((a,u,h)=>a&&RE(u,o.filters[h]),!0):!1}(t,e):void Ae()}function kE(t){return t instanceof Et?function(n){return`${n.field.canonicalString()} ${n.op} ${Go(n.value)}`}(t):t instanceof Er?function(n){return n.op.toString()+" {"+n.getFilters().map(kE).join(" ,")+"}"}(t):"Filter"}class NN extends Et{constructor(e,n,i){super(e,n,i),this.key=Te.fromName(i.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class DN extends Et{constructor(e,n){super(e,"in",n),this.keys=NE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class VN extends Et{constructor(e,n){super(e,"not-in",n),this.keys=NE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function NE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Te.fromName(i.referenceValue))}class MN extends Et{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _m(n)&&Il(n.arrayValue,this.value)}}class LN extends Et{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Il(this.value.arrayValue,n)}}class ON extends Et{constructor(e,n){super(e,"not-in",n)}matches(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Il(this.value.arrayValue,n)}}class jN extends Et{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_m(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Il(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n=null,i=[],o=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=o,this.limit=a,this.startAt=u,this.endAt=h,this.le=null}}function p_(t,e=null,n=[],i=[],o=null,a=null,u=null){return new FN(t,e,n,i,o,a,u)}function xm(t){const e=Ie(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>ap(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(a){return a.field.canonicalString()+a.dir}(i)).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>Go(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>Go(i)).join(",")),e.le=n}return e.le}function wm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RE(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!f_(t.startAt,e.startAt)&&f_(t.endAt,e.endAt)}function lp(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n=null,i=[],o=[],a=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=o,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function BN(t,e,n,i,o,a,u,h){return new gh(t,e,n,i,o,a,u,h)}function Em(t){return new gh(t)}function m_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UN(t){return t.collectionGroup!==null}function fl(t){const e=Ie(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new St(Lt.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(h=h.add(p.field))})}),h})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new Kc(a,i))}),n.has(Lt.keyField().canonicalString())||e.he.push(new Kc(Lt.keyField(),i))}return e.he}function yr(t){const e=Ie(t);return e.Pe||(e.Pe=$N(e,fl(t))),e.Pe}function $N(t,e){if(t.limitType==="F")return p_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const a=o.dir==="desc"?"asc":"desc";return new Kc(o.field,a)});const n=t.endAt?new qc(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new qc(t.startAt.position,t.startAt.inclusive):null;return p_(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function up(t,e,n){return new gh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function yh(t,e){return wm(yr(t),yr(e))&&t.limitType===e.limitType}function DE(t){return`${xm(yr(t))}|lt:${t.limitType}`}function Io(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(o=>kE(o)).join(", ")}]`),ph(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(o=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(o)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(o=>Go(o)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(o=>Go(o)).join(",")),`Target(${i})`}(yr(t))}; limitType=${t.limitType})`}function vh(t,e){return e.isFoundDocument()&&function(i,o){const a=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(a):Te.isDocumentKey(i.path)?i.path.isEqual(a):i.path.isImmediateParentOf(a)}(t,e)&&function(i,o){for(const a of fl(i))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0}(t,e)&&function(i,o){for(const a of i.filters)if(!a.matches(o))return!1;return!0}(t,e)&&function(i,o){return!(i.startAt&&!function(u,h,f){const p=d_(u,h,f);return u.inclusive?p<=0:p<0}(i.startAt,fl(i),o)||i.endAt&&!function(u,h,f){const p=d_(u,h,f);return u.inclusive?p>=0:p>0}(i.endAt,fl(i),o))}(t,e)}function zN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VE(t){return(e,n)=>{let i=!1;for(const o of fl(t)){const a=WN(o,e,n);if(a!==0)return a;i=i||o.field.isKeyField()}return 0}}function WN(t,e,n){const i=t.field.isKeyField()?Te.comparator(e.key,n.key):function(a,u,h){const f=u.data.field(a),p=h.data.field(a);return f!==null&&p!==null?Ho(f,p):Ae()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[o,a]of i)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[n]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ks(this.inner,(n,i)=>{for(const[o,a]of i)e(o,a)})}isEmpty(){return vE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN=new st(Te.comparator);function Jr(){return HN}const ME=new st(Te.comparator);function sl(...t){let e=ME;for(const n of t)e=e.insert(n.key,n);return e}function LE(t){let e=ME;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Cs(){return pl()}function OE(){return pl()}function pl(){return new Ns(t=>t.toString(),(t,e)=>t.isEqual(e))}const GN=new st(Te.comparator),qN=new St(Te.comparator);function De(...t){let e=qN;for(const n of t)e=e.add(n);return e}const KN=new St(ke);function QN(){return KN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wc(e)?"-0":e}}function jE(t){return{integerValue:""+t}}function XN(t,e){return EN(e)?jE(e):Tm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(){this._=void 0}}function YN(t,e,n){return t instanceof Qc?function(o,a){const u={fields:{[wE]:{stringValue:xE},[TE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&vm(a)&&(a=mh(a)),a&&(u.fields[EE]=a),{mapValue:u}}(n,e):t instanceof Rl?BE(t,e):t instanceof kl?UE(t,e):function(o,a){const u=FE(o,a),h=g_(u)+g_(o.Ie);return op(u)&&op(o.Ie)?jE(h):Tm(o.serializer,h)}(t,e)}function JN(t,e,n){return t instanceof Rl?BE(t,e):t instanceof kl?UE(t,e):n}function FE(t,e){return t instanceof Xc?function(i){return op(i)||function(a){return!!a&&"doubleValue"in a}(i)}(e)?e:{integerValue:0}:null}class Qc extends _h{}class Rl extends _h{constructor(e){super(),this.elements=e}}function BE(t,e){const n=$E(e);for(const i of t.elements)n.some(o=>wr(o,i))||n.push(i);return{arrayValue:{values:n}}}class kl extends _h{constructor(e){super(),this.elements=e}}function UE(t,e){let n=$E(e);for(const i of t.elements)n=n.filter(o=>!wr(o,i));return{arrayValue:{values:n}}}class Xc extends _h{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function g_(t){return dt(t.integerValue||t.doubleValue)}function $E(t){return _m(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ZN(t,e){return t.field.isEqual(e.field)&&function(i,o){return i instanceof Rl&&o instanceof Rl||i instanceof kl&&o instanceof kl?Wo(i.elements,o.elements,wr):i instanceof Xc&&o instanceof Xc?wr(i.Ie,o.Ie):i instanceof Qc&&o instanceof Qc}(t.transform,e.transform)}class e2{constructor(e,n){this.version=e,this.transformResults=n}}class vr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ic(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class xh{}function zE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sm(t.key,vr.none()):new Ul(t.key,t.data,vr.none());{const n=t.data,i=Vn.empty();let o=new St(Lt.comparator);for(let a of e.fields)if(!o.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?i.delete(a):i.set(a,u),o=o.add(a)}return new Ds(t.key,i,new Jn(o.toArray()),vr.none())}}function t2(t,e,n){t instanceof Ul?function(o,a,u){const h=o.value.clone(),f=v_(o.fieldTransforms,a,u.transformResults);h.setAll(f),a.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Ds?function(o,a,u){if(!Ic(o.precondition,a))return void a.convertToUnknownDocument(u.version);const h=v_(o.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(WE(o)),f.setAll(h),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(o,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function ml(t,e,n,i){return t instanceof Ul?function(a,u,h,f){if(!Ic(a.precondition,u))return h;const p=a.value.clone(),y=__(a.fieldTransforms,f,u);return p.setAll(y),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,i):t instanceof Ds?function(a,u,h,f){if(!Ic(a.precondition,u))return h;const p=__(a.fieldTransforms,f,u),y=u.data;return y.setAll(WE(a)),y.setAll(p),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(_=>_.field))}(t,e,n,i):function(a,u,h){return Ic(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function n2(t,e){let n=null;for(const i of t.fieldTransforms){const o=e.data.field(i.field),a=FE(i.transform,o||null);a!=null&&(n===null&&(n=Vn.empty()),n.set(i.field,a))}return n||null}function y_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Wo(i,o,(a,u)=>ZN(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ul extends xh{constructor(e,n,i,o=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ds extends xh{constructor(e,n,i,o,a=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function WE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function v_(t,e,n){const i=new Map;Ue(t.length===n.length);for(let o=0;o<n.length;o++){const a=t[o],u=a.transform,h=e.data.field(a.field);i.set(a.field,JN(u,h,n[o]))}return i}function __(t,e,n){const i=new Map;for(const o of t){const a=o.transform,u=n.data.field(o.field);i.set(o.field,YN(a,u,e))}return i}class Sm extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class r2 extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n,i,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&t2(a,e,i[o])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=ml(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=ml(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=OE();return this.mutations.forEach(o=>{const a=e.get(o.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=n.has(o.key)?null:h;const f=zE(u,h);f!==null&&i.set(o.key,f),u.isValidDocument()||u.convertToNoDocument(be.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(n,i)=>y_(n,i))&&Wo(this.baseMutations,e.baseMutations,(n,i)=>y_(n,i))}}class Cm{constructor(e,n,i,o){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=o}static from(e,n,i){Ue(e.mutations.length===i.length);let o=function(){return GN}();const a=e.mutations;for(let u=0;u<a.length;u++)o=o.insert(a[u].key,i[u].version);return new Cm(e,n,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,Le;function a2(t){switch(t){case re.OK:return Ae();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ae()}}function HE(t){if(t===void 0)return Yr("GRPC error has no .code"),re.UNKNOWN;switch(t){case mt.OK:return re.OK;case mt.CANCELLED:return re.CANCELLED;case mt.UNKNOWN:return re.UNKNOWN;case mt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case mt.INTERNAL:return re.INTERNAL;case mt.UNAVAILABLE:return re.UNAVAILABLE;case mt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case mt.NOT_FOUND:return re.NOT_FOUND;case mt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case mt.ABORTED:return re.ABORTED;case mt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case mt.DATA_LOSS:return re.DATA_LOSS;default:return Ae()}}(Le=mt||(mt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new Ri([4294967295,4294967295],0);function x_(t){const e=mE().encode(t),n=new lE;return n.update(e),new Uint8Array(n.digest())}function w_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ri([n,i],0),new Ri([o,a],0)]}class Am{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new ol(`Invalid padding: ${n}`);if(i<0)throw new ol(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new ol(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new ol(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Ri.fromNumber(this.Ee)}Ae(e,n,i){let o=e.add(n.multiply(Ri.fromNumber(i)));return o.compare(l2)===1&&(o=new Ri([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=x_(e),[i,o]=w_(n);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);if(!this.Re(u))return!1}return!0}static create(e,n,i){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Am(a,o,n);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.Ee===0)return;const n=x_(e),[i,o]=w_(n);for(let a=0;a<this.hashCount;a++){const u=this.Ae(i,o,a);this.Ve(u)}}Ve(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(e,n,i,o,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const o=new Map;return o.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new wh(be.min(),o,new st(ke),Jr(),De())}}class $l{constructor(e,n,i,o,a){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new $l(i,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,n,i,o){this.me=e,this.removedTargetIds=n,this.key=i,this.fe=o}}class GE{constructor(e,n){this.targetId=e,this.ge=n}}class qE{constructor(e,n,i=Ot.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=o}}class E_{constructor(){this.pe=0,this.ye=T_(),this.we=Ot.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=De(),n=De(),i=De();return this.ye.forEach((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:i=i.add(o);break;default:Ae()}}),new $l(this.we,this.Se,e,n,i)}Me(){this.be=!1,this.ye=T_()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ue(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class u2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Jr(),this.$e=yc(),this.Ue=yc(),this.Ke=new st(ke)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const i=this.He(n);switch(e.state){case 0:this.Je(n)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(n);break;case 3:this.Je(n)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),i.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((i,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,i=e.ge.count,o=this.Xe(n);if(o){const a=o.target;if(lp(a))if(i===0){const u=new Te(a.path);this.ze(n,u,Gt.newNoDocument(u,be.min()))}else Ue(i===1);else{const u=this.et(n);if(u!==i){const h=this.tt(e),f=h?this.nt(h,e,u):1;if(f!==0){this.Ye(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=n;let u,h;try{u=Oi(i).toUint8Array()}catch(f){if(f instanceof _E)return zo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new Am(u,o,a)}catch(f){return zo(f instanceof ol?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.Ee===0?null:h}nt(e,n,i){return n.ge.count===i-this.st(e,n.targetId)?0:2}st(e,n){const i=this.ke.getRemoteKeysForTarget(n);let o=0;return i.forEach(a=>{const u=this.ke.it(),h=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.ze(n,a,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((a,u)=>{const h=this.Xe(u);if(h){if(a.current&&lp(h.target)){const f=new Te(h.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,Gt.newNoDocument(f,e))}a.ve&&(n.set(u,a.Fe()),a.Me())}});let i=De();this.Ue.forEach((a,u)=>{let h=!0;u.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const o=new wh(e,n,this.Ke,this.Qe,i);return this.Qe=Jr(),this.$e=yc(),this.Ue=yc(),this.Ke=new st(ke),o}Ge(e,n){if(!this.Je(e))return;const i=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,i),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),i&&(this.Qe=this.Qe.insert(n,i))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new E_,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new St(ke),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new St(ke),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||de("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new E_),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function yc(){return new st(Te.comparator)}function T_(){return new st(Te.comparator)}const c2={asc:"ASCENDING",desc:"DESCENDING"},h2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d2={and:"AND",or:"OR"};class f2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function cp(t,e){return t.useProto3Json||ph(e)?e:{value:e}}function Yc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function p2(t,e){return Yc(t,e.toTimestamp())}function _r(t){return Ue(!!t),be.fromTimestamp(function(n){const i=Li(n);return new Tt(i.seconds,i.nanos)}(t))}function Pm(t,e){return hp(t,e).canonicalString()}function hp(t,e){const n=function(o){return new Ze(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function QE(t){const e=Ze.fromString(t);return Ue(eT(e)),e}function dp(t,e){return Pm(t.databaseId,e.path)}function Sf(t,e){const n=QE(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(YE(n))}function XE(t,e){return Pm(t.databaseId,e)}function m2(t){const e=QE(t);return e.length===4?Ze.emptyPath():YE(e)}function fp(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YE(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function S_(t,e,n){return{name:dp(t,e),fields:n.value.mapValue.fields}}function g2(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=function(p,y){return p.useProto3Json?(Ue(y===void 0||typeof y=="string"),Ot.fromBase64String(y||"")):(Ue(y===void 0||y instanceof Buffer||y instanceof Uint8Array),Ot.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(p){const y=p.code===void 0?re.UNKNOWN:HE(p.code);return new _e(y,p.message||"")}(u);n=new qE(i,o,a,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Sf(t,i.document.name),a=_r(i.document.updateTime),u=i.document.createTime?_r(i.document.createTime):be.min(),h=new Vn({mapValue:{fields:i.document.fields}}),f=Gt.newFoundDocument(o,a,u,h),p=i.targetIds||[],y=i.removedTargetIds||[];n=new Rc(p,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Sf(t,i.document),a=i.readTime?_r(i.readTime):be.min(),u=Gt.newNoDocument(o,a),h=i.removedTargetIds||[];n=new Rc([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Sf(t,i.document),a=i.removedTargetIds||[];n=new Rc([],a,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:a}=i,u=new o2(o,a),h=i.targetId;n=new GE(h,u)}}return n}function y2(t,e){let n;if(e instanceof Ul)n={update:S_(t,e.key,e.value)};else if(e instanceof Sm)n={delete:dp(t,e.key)};else if(e instanceof Ds)n={update:S_(t,e.key,e.data),updateMask:A2(e.fieldMask)};else{if(!(e instanceof r2))return Ae();n={verify:dp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(a,u){const h=u.transform;if(h instanceof Qc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Rl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof kl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Xc)return{fieldPath:u.field.canonicalString(),increment:h.Ie};throw Ae()}(0,i))),e.precondition.isNone||(n.currentDocument=function(o,a){return a.updateTime!==void 0?{updateTime:p2(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ae()}(t,e.precondition)),n}function v2(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(o,a){let u=o.updateTime?_r(o.updateTime):_r(a);return u.isEqual(be.min())&&(u=_r(a)),new e2(u,o.transformResults||[])}(n,e))):[]}function _2(t,e){return{documents:[XE(t,e.path)]}}function x2(t,e){const n={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=XE(t,o);const a=function(p){if(p.length!==0)return ZE(Er.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(y=>function(w){return{field:Ro(w.field),direction:T2(w.dir)}}(y))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=cp(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:o}}function w2(t){let e=m2(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let o=null;if(i>0){Ue(i===1);const y=n.from[0];y.allDescendants?o=y.collectionId:e=e.child(y.collectionId)}let a=[];n.where&&(a=function(_){const w=JE(_);return w instanceof Er&&IE(w)?w.getFilters():[w]}(n.where));let u=[];n.orderBy&&(u=function(_){return _.map(w=>function(P){return new Kc(ko(P.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(w))}(n.orderBy));let h=null;n.limit&&(h=function(_){let w;return w=typeof _=="object"?_.value:_,ph(w)?null:w}(n.limit));let f=null;n.startAt&&(f=function(_){const w=!!_.before,S=_.values||[];return new qc(S,w)}(n.startAt));let p=null;return n.endAt&&(p=function(_){const w=!_.before,S=_.values||[];return new qc(S,w)}(n.endAt)),BN(e,o,u,a,h,"F",f,p)}function E2(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function JE(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=ko(n.unaryFilter.field);return Et.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=ko(n.unaryFilter.field);return Et.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=ko(n.unaryFilter.field);return Et.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ko(n.unaryFilter.field);return Et.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return Et.create(ko(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Er.create(n.compositeFilter.filters.map(i=>JE(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function T2(t){return c2[t]}function S2(t){return h2[t]}function C2(t){return d2[t]}function Ro(t){return{fieldPath:t.canonicalString()}}function ko(t){return Lt.fromServerFormat(t.fieldPath)}function ZE(t){return t instanceof Et?function(n){if(n.op==="=="){if(h_(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NAN"}};if(c_(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(h_(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NAN"}};if(c_(n.value))return{unaryFilter:{field:Ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ro(n.field),op:S2(n.op),value:n.value}}}(t):t instanceof Er?function(n){const i=n.getFilters().map(o=>ZE(o));return i.length===1?i[0]:{compositeFilter:{op:C2(n.op),filters:i}}}(t):Ae()}function A2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function eT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(e,n,i,o,a=be.min(),u=be.min(),h=Ot.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(e){return new Ai(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ai(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.Tt=e}}function b2(t){const e=w2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?up(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(){this.Tn=new R2}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(Mi.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(Mi.min())}updateCollectionGroup(e,n,i){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class R2{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n]||new St(Ze.comparator),a=!o.has(i);return this.index[n]=o.add(i),a}has(e){const n=e.lastSegment(),i=e.popLast(),o=this.index[n];return o&&o.has(i)}getEntries(e){return(this.index[e]||new St(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},tT=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(tT,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new qo(0)}static Kn(){return new qo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_="LruGarbageCollector",k2=1048576;function P_([t,e],[n,i]){const o=ke(t,n);return o===0?ke(e,i):o}class N2{constructor(e){this.Hn=e,this.buffer=new St(P_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();P_(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class D2{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){de(A_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){na(n)?de(A_,"Ignoring IndexedDB error during garbage collection: ",n):await ta(n)}await this.er(3e5)})}}class V2{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(fh.ae);const i=new N2(n);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.tr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(C_)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),C_):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let i,o,a,u,h,f,p;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),o=this.params.maximumSequenceNumbersToCollect):o=_,u=Date.now(),this.nthSequenceNumber(e,o))).next(_=>(i=_,h=Date.now(),this.removeTargets(e,i,n))).next(_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,i))).next(_=>(p=Date.now(),bo()<=Oe.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${o} in `+(h-u)+`ms
	Removed ${a} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-y}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:_})))}}function M2(t,e){return new V2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.changes=new Ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?ee.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e,n,i,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(i!==null&&ml(i.mutation,o,Jn.empty(),Tt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,De()).next(()=>i))}getLocalViewOfDocuments(e,n,i=De()){const o=Cs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,i).next(a=>{let u=sl();return a.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=Cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,De()))}populateOverlays(e,n,i){const o=[];return i.forEach(a=>{n.has(a)||o.push(a)}),this.documentOverlayCache.getOverlays(e,o).next(a=>{a.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,i,o){let a=Jr();const u=pl(),h=function(){return pl()}();return n.forEach((f,p)=>{const y=i.get(p.key);o.has(p.key)&&(y===void 0||y.mutation instanceof Ds)?a=a.insert(p.key,p):y!==void 0?(u.set(p.key,y.mutation.getFieldMask()),ml(y.mutation,p,y.mutation.getFieldMask(),Tt.now())):u.set(p.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,y)=>u.set(p,y)),n.forEach((p,y)=>{var _;return h.set(p,new O2(y,(_=u.get(p))!==null&&_!==void 0?_:null))}),h))}recalculateAndSaveOverlays(e,n){const i=pl();let o=new st((u,h)=>u-h),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let y=i.get(f)||Jn.empty();y=h.applyToLocalView(p,y),i.set(f,y);const _=(o.get(h.batchId)||De()).add(f);o=o.insert(h.batchId,_)})}).next(()=>{const u=[],h=o.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),p=f.key,y=f.value,_=OE();y.forEach(w=>{if(!a.has(w)){const S=zE(n.get(w),i.get(w));S!==null&&_.set(w,S),a=a.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return ee.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,o){return function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,o):this.getDocumentsMatchingCollectionQuery(e,n,i,o)}getNextDocuments(e,n,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,o).next(a=>{const u=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,o-a.size):ee.resolve(Cs());let h=Al,f=a;return u.next(p=>ee.forEach(p,(y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),a.get(y)?ee.resolve():this.remoteDocumentCache.getEntry(e,y).next(w=>{f=f.insert(y,w)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,De())).next(y=>({batchId:h,changes:LE(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(i=>{let o=sl();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,i,o){const a=n.collectionGroup;let u=sl();return this.indexManager.getCollectionParents(e,a).next(h=>ee.forEach(h,f=>{const p=function(_,w){return new gh(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,i,o).next(y=>{y.forEach((_,w)=>{u=u.insert(_,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,a,o))).next(u=>{a.forEach((f,p)=>{const y=p.getKey();u.get(y)===null&&(u=u.insert(y,Gt.newInvalidDocument(y)))});let h=sl();return u.forEach((f,p)=>{const y=a.get(f);y!==void 0&&ml(y.mutation,p,Jn.empty(),Tt.now()),vh(n,p)&&(h=h.insert(f,p))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:_r(o.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:b2(o.bundledQuery),readTime:_r(o.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.overlays=new st(Te.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Cs();return ee.forEach(n,o=>this.getOverlay(e,o).next(a=>{a!==null&&i.set(o,a)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((o,a)=>{this.Et(e,n,a)}),ee.resolve()}removeOverlaysForBatchId(e,n,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(i)),ee.resolve()}getOverlaysForCollection(e,n,i){const o=Cs(),a=n.length+1,u=new Te(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>i&&o.set(f.getKey(),f)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,n,i,o){let a=new st((p,y)=>p-y);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>i){let y=a.get(p.largestBatchId);y===null&&(y=Cs(),a=a.insert(p.largestBatchId,y)),y.set(p.getKey(),p)}}const h=Cs(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,y)=>h.set(p,y)),!(h.size()>=o)););return ee.resolve(h)}Et(e,n,i){const o=this.overlays.get(i.key);if(o!==null){const u=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new s2(n,i));let a=this.Rr.get(n);a===void 0&&(a=De(),this.Rr.set(n,a)),this.Rr.set(n,a.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.sessionToken=Ot.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(){this.Vr=new St(It.mr),this.gr=new St(It.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const i=new It(e,n);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.wr(new It(e,n))}Sr(e,n){e.forEach(i=>this.removeReference(i,n))}br(e){const n=new Te(new Ze([])),i=new It(n,e),o=new It(n,e+1),a=[];return this.gr.forEachInRange([i,o],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Te(new Ze([])),i=new It(n,e),o=new It(n,e+1);let a=De();return this.gr.forEachInRange([i,o],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new It(e,0),i=this.Vr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class It{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Te.comparator(e.key,n.key)||ke(e.Cr,n.Cr)}static pr(e,n){return ke(e.Cr,n.Cr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new St(It.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,o){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new i2(a,n,i,o);this.mutationQueue.push(u);for(const h of o)this.Mr=this.Mr.add(new It(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,o=this.Nr(i),a=o<0?0:o;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?ym:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new It(n,0),o=new It(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([i,o],u=>{const h=this.Or(u.Cr);a.push(h)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new St(ke);return n.forEach(o=>{const a=new It(o,0),u=new It(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],h=>{i=i.add(h.Cr)})}),ee.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,o=i.length+1;let a=i;Te.isDocumentKey(a)||(a=a.child(""));const u=new It(new Te(a),0);let h=new St(ke);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!i.isPrefixOf(p)&&(p.length===o&&(h=h.add(f.Cr)),!0)},u),ee.resolve(this.Br(h))}Br(e){const n=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ue(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return ee.forEach(n.mutations,o=>{const a=new It(o.key,n.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,n){const i=new It(n,0),o=this.Mr.firstAfterOrEqual(i);return ee.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{constructor(e){this.kr=e,this.docs=function(){return new st(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,o=this.docs.get(i),a=o?o.size:0,u=this.kr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return ee.resolve(i?i.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let i=Jr();return n.forEach(o=>{const a=this.docs.get(o);i=i.insert(o,a?a.document.mutableCopy():Gt.newInvalidDocument(o))}),ee.resolve(i)}getDocumentsMatchingQuery(e,n,i,o){let a=Jr();const u=n.path,h=new Te(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:p,value:{document:y}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||vN(yN(y),i)<=0||(o.has(y.key)||vh(n,y))&&(a=a.insert(y.key,y.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,n,i,o){Ae()}qr(e,n){return ee.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new W2(this)}getSize(e){return ee.resolve(this.size)}}class W2 extends L2{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e){this.persistence=e,this.Qr=new Ns(n=>xm(n),wm),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Ur=new bm,this.targetCount=0,this.Kr=qo.Un()}forEachTarget(e,n){return this.Qr.forEach((i,o)=>n(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new qo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,i){let o=0;const a=[];return this.Qr.forEach((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ee.waitFor(a).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const i=this.Qr.get(n)||null;return ee.resolve(i)}addMatchingKeys(e,n,i){return this.Ur.yr(n,i),ee.resolve()}removeMatchingKeys(e,n,i){this.Ur.Sr(n,i);const o=this.persistence.referenceDelegate,a=[];return o&&n.forEach(u=>{a.push(o.markPotentiallyOrphaned(e,u))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Ur.vr(n);return ee.resolve(i)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new fh(0),this.zr=!1,this.zr=!0,this.jr=new U2,this.referenceDelegate=e(this),this.Hr=new H2(this),this.indexManager=new I2,this.remoteDocumentCache=function(o){return new z2(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new P2(n),this.Yr=new F2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new B2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.Wr[e.toKey()];return i||(i=new $2(n,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,i){de("MemoryPersistence","Starting transaction:",e);const o=new G2(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(a=>this.referenceDelegate.Xr(o).next(()=>a)).toPromise().then(a=>(o.raiseOnCommittedEvent(),a))}ei(e,n){return ee.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,n)))}}class G2 extends xN{constructor(e){super(),this.currentSequenceNumber=e}}class Im{constructor(e){this.persistence=e,this.ti=new bm,this.ni=null}static ri(e){return new Im(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,n,i){return this.ti.addReference(i,n),this.ii.delete(i.toString()),ee.resolve()}removeReference(e,n,i){return this.ti.removeReference(i,n),this.ii.add(i.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(a=>this.ii.add(a.toString()))}).next(()=>i.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,i=>{const o=Te.fromPath(i);return this.si(e,o).next(a=>{a||n.removeEntry(o,be.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(i=>{i?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Jc{constructor(e,n){this.persistence=e,this.oi=new Ns(i=>TN(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=M2(this,n)}static ri(e,n){return new Jc(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(o=>i+o))}sr(e){let n=0;return this.rr(e,i=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(a=>a?ee.resolve():n(o)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.qr(e,u=>this.ar(e,u,n).next(h=>{h||(i++,a.removeEntry(u,be.min()))})).next(()=>a.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,i){return this.oi.set(i,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Pc(e.data.value)),n}ar(e,n,i){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return ee.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,i,o){this.targetId=e,this.fromCache=n,this.Hi=i,this.Ji=o}static Yi(e,n){let i=De(),o=De();for(const a of n.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new Rm(e,n.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return HR()?8:wN(zR())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,i,o){const a={result:null};return this.rs(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,n,o,i).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new q2;return this._s(e,n,u).next(h=>{if(a.result=h,this.Xi)return this.us(e,n,u,h.size)})}).next(()=>a.result)}us(e,n,i,o){return i.documentReadCount<this.es?(bo()<=Oe.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(bo()<=Oe.DEBUG&&de("QueryEngine","Query:",Io(n),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(bo()<=Oe.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):ee.resolve())}rs(e,n){if(m_(n))return ee.resolve(null);let i=yr(n);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=up(n,null,"F"),i=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=De(...a);return this.ns.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(f=>{const p=this.cs(n,h);return this.ls(n,p,u,f.readTime)?this.rs(e,up(n,null,"F")):this.hs(e,p,n,f)}))})))}ss(e,n,i,o){return m_(n)||o.isEqual(be.min())?ee.resolve(null):this.ns.getDocuments(e,i).next(a=>{const u=this.cs(n,a);return this.ls(n,u,i,o)?ee.resolve(null):(bo()<=Oe.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Io(n)),this.hs(e,u,n,gN(o,Al)).next(h=>h))})}cs(e,n){let i=new St(VE(e));return n.forEach((o,a)=>{vh(e,a)&&(i=i.add(a))}),i}ls(e,n,i,o){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}_s(e,n,i){return bo()<=Oe.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Io(n)),this.ns.getDocumentsMatchingQuery(e,n,Mi.min(),i)}hs(e,n,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="LocalStore",Q2=3e8;class X2{constructor(e,n,i,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new st(ke),this.Is=new Ns(a=>xm(a),wm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function Y2(t,e,n,i){return new X2(t,e,n,i)}async function rT(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let o;return n.mutationQueue.getAllMutationBatches(i).next(a=>(o=a,n.As(e),n.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],h=[];let f=De();for(const p of o){u.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}for(const p of a){h.push(p.batchId);for(const y of p.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(i,f).next(p=>({Rs:p,removedBatchIds:u,addedBatchIds:h}))})})}function J2(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(h,f,p,y){const _=p.batch,w=_.keys();let S=ee.resolve();return w.forEach(P=>{S=S.next(()=>y.getEntry(f,P)).next(M=>{const D=p.docVersions.get(P);Ue(D!==null),M.version.compareTo(D)<0&&(_.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),y.addEntry(M)))})}),S.next(()=>h.mutationQueue.removeMutationBatch(f,_))}(n,i,e,a).next(()=>a.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let f=De();for(let p=0;p<h.mutationResults.length;++p)h.mutationResults[p].transformResults.length>0&&(f=f.add(h.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(i,o))})}function iT(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function Z2(t,e){const n=Ie(t),i=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const h=[];e.targetChanges.forEach((y,_)=>{const w=o.get(_);if(!w)return;h.push(n.Hr.removeMatchingKeys(a,y.removedDocuments,_).next(()=>n.Hr.addMatchingKeys(a,y.addedDocuments,_)));let S=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(Ot.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):y.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(y.resumeToken,i)),o=o.insert(_,S),function(M,D,j){return M.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=Q2?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(w,S,y)&&h.push(n.Hr.updateTargetData(a,S))});let f=Jr(),p=De();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,y))}),h.push(eD(a,u,e.documentUpdates).next(y=>{f=y.Vs,p=y.fs})),!i.isEqual(be.min())){const y=n.Hr.getLastRemoteSnapshotVersion(a).next(_=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(y)}return ee.waitFor(h).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.Ts=o,a))}function eD(t,e,n){let i=De(),o=De();return n.forEach(a=>i=i.add(a)),e.getEntries(t,i).next(a=>{let u=Jr();return n.forEach((h,f)=>{const p=a.get(h);f.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(h)),f.isNoDocument()&&f.version.isEqual(be.min())?(e.removeEntry(h,f.readTime),u=u.insert(h,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(h,f)):de(km,"Ignoring outdated watch update for ",h,". Current version:",p.version," Watch version:",f.version)}),{Vs:u,fs:o}})}function tD(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=ym),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function nD(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return n.Hr.getTargetData(i,e).next(a=>a?(o=a,ee.resolve(o)):n.Hr.allocateTargetId(i).next(u=>(o=new Ai(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=n.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(i.targetId,i),n.Is.set(e,i.targetId)),i})}async function pp(t,e,n){const i=Ie(t),o=i.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,o))}catch(u){if(!na(u))throw u;de(km,`Failed to update sequence numbers for target ${e}: ${u}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function b_(t,e,n){const i=Ie(t);let o=be.min(),a=De();return i.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,y){const _=Ie(f),w=_.Is.get(y);return w!==void 0?ee.resolve(_.Ts.get(w)):_.Hr.getTargetData(p,y)}(i,u,yr(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(u,h.targetId).next(f=>{a=f})}).next(()=>i.Ps.getDocumentsMatchingQuery(u,e,n?o:be.min(),n?a:De())).next(h=>(rD(i,zN(e),h),{documents:h,gs:a})))}function rD(t,e,n){let i=t.Es.get(e)||be.min();n.forEach((o,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),t.Es.set(e,i)}class I_{constructor(){this.activeTargetIds=QN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iD{constructor(){this.ho=new I_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,i){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new I_,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="ConnectivityMonitor";class k_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){de(R_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){de(R_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function mp(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf="RestConnection",oD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===Hc?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,n,i,o,a){const u=mp(),h=this.bo(e,n.toUriEncodedString());de(Cf,`Sending RPC '${e}' ${u}:`,h,i);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,o,a),this.vo(e,h,f,i).then(p=>(de(Cf,`Received RPC '${e}' ${u}: `,p),p),p=>{throw zo(Cf,`RPC '${e}' ${u} failed with error: `,p,"url: ",h,"request:",i),p})}Co(e,n,i,o,a,u){return this.So(e,n,i,o,a)}Do(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ea}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,a)=>e[a]=o),i&&i.headers.forEach((o,a)=>e[a]=o)}bo(e,n){const i=oD[e];return`${this.po}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class uD extends aD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,i,o){const a=mp();return new Promise((u,h)=>{const f=new uE;f.setWithCredentials(!0),f.listenOnce(cE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case Ac.NO_ERROR:const y=f.getResponseJson();de(zt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(y)),u(y);break;case Ac.TIMEOUT:de(zt,`RPC '${e}' ${a} timed out`),h(new _e(re.DEADLINE_EXCEEDED,"Request time out"));break;case Ac.HTTP_ERROR:const _=f.getStatus();if(de(zt,`RPC '${e}' ${a} failed with status:`,_,"response text:",f.getResponseText()),_>0){let w=f.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const P=function(D){const j=D.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(j)>=0?j:re.UNKNOWN}(S.status);h(new _e(P,S.message))}else h(new _e(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else h(new _e(re.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{de(zt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(o);de(zt,`RPC '${e}' ${a} sending request:`,o),f.send(n,"POST",p,i,15)})}Wo(e,n,i){const o=mp(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=fE(),h=dE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,n,i),f.encodeInitMessageHeaders=!0;const y=a.join("");de(zt,`Creating RPC '${e}' stream ${o}: ${y}`,f);const _=u.createWebChannel(y,f);let w=!1,S=!1;const P=new lD({Fo:D=>{S?de(zt,`Not sending because RPC '${e}' stream ${o} is closed:`,D):(w||(de(zt,`Opening RPC '${e}' stream ${o} transport.`),_.open(),w=!0),de(zt,`RPC '${e}' stream ${o} sending:`,D),_.send(D))},Mo:()=>_.close()}),M=(D,j,$)=>{D.listen(j,O=>{try{$(O)}catch(U){setTimeout(()=>{throw U},0)}})};return M(_,il.EventType.OPEN,()=>{S||(de(zt,`RPC '${e}' stream ${o} transport opened.`),P.Qo())}),M(_,il.EventType.CLOSE,()=>{S||(S=!0,de(zt,`RPC '${e}' stream ${o} transport closed`),P.Uo())}),M(_,il.EventType.ERROR,D=>{S||(S=!0,zo(zt,`RPC '${e}' stream ${o} transport errored:`,D),P.Uo(new _e(re.UNAVAILABLE,"The operation could not be completed")))}),M(_,il.EventType.MESSAGE,D=>{var j;if(!S){const $=D.data[0];Ue(!!$);const O=$,U=(O==null?void 0:O.error)||((j=O[0])===null||j===void 0?void 0:j.error);if(U){de(zt,`RPC '${e}' stream ${o} received error:`,U);const z=U.status;let X=function(b){const V=mt[b];if(V!==void 0)return HE(V)}(z),I=U.message;X===void 0&&(X=re.INTERNAL,I="Unknown error status: "+z+" with message "+U.message),S=!0,P.Uo(new _e(X,I)),_.close()}else de(zt,`RPC '${e}' stream ${o} received:`,$),P.Ko($)}}),M(h,hE.STAT_EVENT,D=>{D.stat===rp.PROXY?de(zt,`RPC '${e}' stream ${o} detected buffering proxy`):D.stat===rp.NOPROXY&&de(zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(t){return new f2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e,n,i=1e3,o=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=i,this.zo=o,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="PersistentStream";class oT{constructor(e,n,i,o,a,u,h,f){this.Ti=e,this.n_=i,this.r_=o,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new sT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(Yr(n.toString()),Yr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===n&&this.V_(i,o)},i=>{e(()=>{const o=new _e(re.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,n){const i=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return de(N_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(de(N_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class cD extends oT{constructor(e,n,i,o,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=g2(this.serializer,e),i=function(a){if(!("targetChange"in a))return be.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?be.min():u.readTime?_r(u.readTime):be.min()}(e);return this.listener.p_(n,i)}y_(e){const n={};n.database=fp(this.serializer),n.addTarget=function(a,u){let h;const f=u.target;if(h=lp(f)?{documents:_2(a,f)}:{query:x2(a,f).ht},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=KE(a,u.resumeToken);const p=cp(a,u.expectedCount);p!==null&&(h.expectedCount=p)}else if(u.snapshotVersion.compareTo(be.min())>0){h.readTime=Yc(a,u.snapshotVersion.toTimestamp());const p=cp(a,u.expectedCount);p!==null&&(h.expectedCount=p)}return h}(this.serializer,e);const i=E2(this.serializer,e);i&&(n.labels=i),this.I_(n)}w_(e){const n={};n.database=fp(this.serializer),n.removeTarget=e,this.I_(n)}}class hD extends oT{constructor(e,n,i,o,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,o,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=v2(e.writeResults,e.commitTime),i=_r(e.commitTime);return this.listener.v_(i,n)}C_(){const e={};e.database=fp(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>y2(this.serializer,i))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{}class fD extends dD{constructor(e,n,i,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,hp(n,i),o,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new _e(re.UNKNOWN,a.toString())})}Co(e,n,i,o,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Co(e,hp(n,i),o,u,h,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(re.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class pD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Yr(n),this.N_=!1):de("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="RemoteStore";class mD{constructor(e,n,i,o,a){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{i.enqueueAndForget(async()=>{Vs(this)&&(de(bs,"Restarting streams for network reachability change."),await async function(f){const p=Ie(f);p.W_.add(4),await zl(p),p.j_.set("Unknown"),p.W_.delete(4),await Th(p)}(this))})}),this.j_=new pD(i,o)}}async function Th(t){if(Vs(t))for(const e of t.G_)await e(!0)}async function zl(t){for(const e of t.G_)await e(!1)}function aT(t,e){const n=Ie(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Mm(n)?Vm(n):ra(n).c_()&&Dm(n,e))}function Nm(t,e){const n=Ie(t),i=ra(n);n.K_.delete(e),i.c_()&&lT(n,e),n.K_.size===0&&(i.c_()?i.P_():Vs(n)&&n.j_.set("Unknown"))}function Dm(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ra(t).y_(e)}function lT(t,e){t.H_.Ne(e),ra(t).w_(e)}function Vm(t){t.H_=new u2({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),ra(t).start(),t.j_.B_()}function Mm(t){return Vs(t)&&!ra(t).u_()&&t.K_.size>0}function Vs(t){return Ie(t).W_.size===0}function uT(t){t.H_=void 0}async function gD(t){t.j_.set("Online")}async function yD(t){t.K_.forEach((e,n)=>{Dm(t,e)})}async function vD(t,e){uT(t),Mm(t)?(t.j_.q_(e),Vm(t)):t.j_.set("Unknown")}async function _D(t,e,n){if(t.j_.set("Online"),e instanceof qE&&e.state===2&&e.cause)try{await async function(o,a){const u=a.cause;for(const h of a.targetIds)o.K_.has(h)&&(await o.remoteSyncer.rejectListen(h,u),o.K_.delete(h),o.H_.removeTarget(h))}(t,e)}catch(i){de(bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Zc(t,i)}else if(e instanceof Rc?t.H_.We(e):e instanceof GE?t.H_.Ze(e):t.H_.je(e),!n.isEqual(be.min()))try{const i=await iT(t.localStore);n.compareTo(i)>=0&&await function(a,u){const h=a.H_.ot(u);return h.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const y=a.K_.get(p);y&&a.K_.set(p,y.withResumeToken(f.resumeToken,u))}}),h.targetMismatches.forEach((f,p)=>{const y=a.K_.get(f);if(!y)return;a.K_.set(f,y.withResumeToken(Ot.EMPTY_BYTE_STRING,y.snapshotVersion)),lT(a,f);const _=new Ai(y.target,f,p,y.sequenceNumber);Dm(a,_)}),a.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){de(bs,"Failed to raise snapshot:",i),await Zc(t,i)}}async function Zc(t,e,n){if(!na(e))throw e;t.W_.add(1),await zl(t),t.j_.set("Offline"),n||(n=()=>iT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{de(bs,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await Th(t)})}function cT(t,e){return e().catch(n=>Zc(t,n,e))}async function Sh(t){const e=Ie(t),n=Fi(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:ym;for(;xD(e);)try{const o=await tD(e.localStore,i);if(o===null){e.U_.length===0&&n.P_();break}i=o.batchId,wD(e,o)}catch(o){await Zc(e,o)}hT(e)&&dT(e)}function xD(t){return Vs(t)&&t.U_.length<10}function wD(t,e){t.U_.push(e);const n=Fi(t);n.c_()&&n.S_&&n.b_(e.mutations)}function hT(t){return Vs(t)&&!Fi(t).u_()&&t.U_.length>0}function dT(t){Fi(t).start()}async function ED(t){Fi(t).C_()}async function TD(t){const e=Fi(t);for(const n of t.U_)e.b_(n.mutations)}async function SD(t,e,n){const i=t.U_.shift(),o=Cm.from(i,e,n);await cT(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Sh(t)}async function CD(t,e){e&&Fi(t).S_&&await async function(i,o){if(function(u){return a2(u)&&u!==re.ABORTED}(o.code)){const a=i.U_.shift();Fi(i).h_(),await cT(i,()=>i.remoteSyncer.rejectFailedWrite(a.batchId,o)),await Sh(i)}}(t,e),hT(t)&&dT(t)}async function D_(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),de(bs,"RemoteStore received new credentials");const i=Vs(n);n.W_.add(3),await zl(n),i&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Th(n)}async function AD(t,e){const n=Ie(t);e?(n.W_.delete(2),await Th(n)):e||(n.W_.add(2),await zl(n),n.j_.set("Unknown"))}function ra(t){return t.J_||(t.J_=function(n,i,o){const a=Ie(n);return a.M_(),new cD(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{xo:gD.bind(null,t),No:yD.bind(null,t),Lo:vD.bind(null,t),p_:_D.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Mm(t)?Vm(t):t.j_.set("Unknown")):(await t.J_.stop(),uT(t))})),t.J_}function Fi(t){return t.Y_||(t.Y_=function(n,i,o){const a=Ie(n);return a.M_(),new hD(i,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:ED.bind(null,t),Lo:CD.bind(null,t),D_:TD.bind(null,t),v_:SD.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Sh(t)):(await t.Y_.stop(),t.U_.length>0&&(de(bs,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n,i,o,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=o,this.removalCallback=a,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,o,a){const u=Date.now()+i,h=new Lm(e,n,u,o,a);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Om(t,e){if(Yr("AsyncQueue",`${e}: ${t}`),na(t))return new _e(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{static emptySet(e){return new Oo(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Te.comparator(n.key,i.key):(n,i)=>Te.comparator(n.key,i.key),this.keyedMap=sl(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,a=i.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new Oo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(){this.Z_=new st(Te.comparator)}track(e){const n=e.doc.key,i=this.Z_.get(n);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(n):e.type===1&&i.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,i)=>{e.push(i)}),e}}class Ko{constructor(e,n,i,o,a,u,h,f,p){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,i,o,a){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new Ko(e,n,Oo.emptySet(n),u,i,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==i[o].type||!n[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class bD{constructor(){this.queries=M_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,i){const o=Ie(n),a=o.queries;o.queries=M_(),a.forEach((u,h)=>{for(const f of h.ta)f.onError(i)})})(this,new _e(re.ABORTED,"Firestore shutting down"))}}function M_(){return new Ns(t=>DE(t),yh)}async function fT(t,e){const n=Ie(t);let i=3;const o=e.query;let a=n.queries.get(o);a?!a.na()&&e.ra()&&(i=2):(a=new PD,i=e.ra()?0:1);try{switch(i){case 0:a.ea=await n.onListen(o,!0);break;case 1:a.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(u){const h=Om(u,`Initialization of query '${Io(e.query)}' failed`);return void e.onError(h)}n.queries.set(o,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&jm(n)}async function pT(t,e){const n=Ie(t),i=e.query;let o=3;const a=n.queries.get(i);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?o=e.ra()?0:1:!a.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function ID(t,e){const n=Ie(t);let i=!1;for(const o of e){const a=o.query,u=n.queries.get(a);if(u){for(const h of u.ta)h.oa(o)&&(i=!0);u.ea=o}}i&&jm(n)}function RD(t,e,n){const i=Ie(t),o=i.queries.get(e);if(o)for(const a of o.ta)a.onError(n);i.queries.delete(e)}function jm(t){t.ia.forEach(e=>{e.next()})}var gp,L_;(L_=gp||(gp={}))._a="default",L_.Cache="cache";class mT{constructor(e,n,i){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Ko(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const i=n!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ko.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e){this.key=e}}class yT{constructor(e){this.key=e}}class kD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=De(),this.mutatedKeys=De(),this.ya=VE(e),this.wa=new Oo(this.ya)}get Sa(){return this.fa}ba(e,n){const i=n?n.Da:new V_,o=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,u=o,h=!1;const f=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((y,_)=>{const w=o.get(y),S=vh(this.query,_)?_:null,P=!!w&&this.mutatedKeys.has(w.key),M=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let D=!1;w&&S?w.data.isEqual(S.data)?P!==M&&(i.track({type:3,doc:S}),D=!0):this.va(w,S)||(i.track({type:2,doc:S}),D=!0,(f&&this.ya(S,f)>0||p&&this.ya(S,p)<0)&&(h=!0)):!w&&S?(i.track({type:0,doc:S}),D=!0):w&&!S&&(i.track({type:1,doc:w}),D=!0,(f||p)&&(h=!0)),D&&(S?(u=u.add(S),a=M?a.add(y):a.delete(y)):(u=u.delete(y),a=a.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),a=a.delete(y.key),i.track({type:1,doc:y})}return{wa:u,Da:i,ls:h,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,o){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((y,_)=>function(S,P){const M=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return M(S)-M(P)}(y.type,_.type)||this.ya(y.doc,_.doc)),this.Ca(i),o=o!=null&&o;const h=n&&!o?this.Fa():[],f=this.pa.size===0&&this.current&&!o?1:0,p=f!==this.ga;return this.ga=f,u.length!==0||p?{snapshot:new Ko(this.query,e.wa,a,u,e.mutatedKeys,f===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:h}:{Ma:h}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new V_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=De(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const n=[];return e.forEach(i=>{this.pa.has(i)||n.push(new yT(i))}),this.pa.forEach(i=>{e.has(i)||n.push(new gT(i))}),n}Oa(e){this.fa=e.gs,this.pa=De();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ko.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Fm="SyncEngine";class ND{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class DD{constructor(e){this.key=e,this.Ba=!1}}class VD{constructor(e,n,i,o,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new Ns(h=>DE(h),yh),this.qa=new Map,this.Qa=new Set,this.$a=new st(Te.comparator),this.Ua=new Map,this.Ka=new bm,this.Wa={},this.Ga=new Map,this.za=qo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function MD(t,e,n=!0){const i=TT(t);let o;const a=i.ka.get(e);return a?(i.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Na()):o=await vT(i,e,n,!0),o}async function LD(t,e){const n=TT(t);await vT(n,e,!0,!1)}async function vT(t,e,n,i){const o=await nD(t.localStore,yr(e)),a=o.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let h;return i&&(h=await OD(t,e,a,u==="current",o.resumeToken)),t.isPrimaryClient&&n&&aT(t.remoteStore,o),h}async function OD(t,e,n,i,o){t.Ha=(_,w,S)=>async function(M,D,j,$){let O=D.view.ba(j);O.ls&&(O=await b_(M.localStore,D.query,!1).then(({documents:I})=>D.view.ba(I,O)));const U=$&&$.targetChanges.get(D.targetId),z=$&&$.targetMismatches.get(D.targetId)!=null,X=D.view.applyChanges(O,M.isPrimaryClient,U,z);return j_(M,D.targetId,X.Ma),X.snapshot}(t,_,w,S);const a=await b_(t.localStore,e,!0),u=new kD(e,a.gs),h=u.ba(a.documents),f=$l.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",o),p=u.applyChanges(h,t.isPrimaryClient,f);j_(t,n,p.Ma);const y=new ND(e,n,u);return t.ka.set(e,y),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function jD(t,e,n){const i=Ie(t),o=i.ka.get(e),a=i.qa.get(o.targetId);if(a.length>1)return i.qa.set(o.targetId,a.filter(u=>!yh(u,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),n&&Nm(i.remoteStore,o.targetId),yp(i,o.targetId)}).catch(ta)):(yp(i,o.targetId),await pp(i.localStore,o.targetId,!0))}async function FD(t,e){const n=Ie(t),i=n.ka.get(e),o=n.qa.get(i.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Nm(n.remoteStore,i.targetId))}async function BD(t,e,n){const i=qD(t);try{const o=await function(u,h){const f=Ie(u),p=Tt.now(),y=h.reduce((S,P)=>S.add(P.key),De());let _,w;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let P=Jr(),M=De();return f.ds.getEntries(S,y).next(D=>{P=D,P.forEach((j,$)=>{$.isValidDocument()||(M=M.add(j))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,P)).next(D=>{_=D;const j=[];for(const $ of h){const O=n2($,_.get($.key).overlayedDocument);O!=null&&j.push(new Ds($.key,O,AE(O.value.mapValue),vr.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,j,h)}).next(D=>{w=D;const j=D.applyToLocalDocumentSet(_,M);return f.documentOverlayCache.saveOverlays(S,D.batchId,j)})}).then(()=>({batchId:w.batchId,changes:LE(_)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(u,h,f){let p=u.Wa[u.currentUser.toKey()];p||(p=new st(ke)),p=p.insert(h,f),u.Wa[u.currentUser.toKey()]=p}(i,o.batchId,n),await Wl(i,o.changes),await Sh(i.remoteStore)}catch(o){const a=Om(o,"Failed to persist write");n.reject(a)}}async function _T(t,e){const n=Ie(t);try{const i=await Z2(n.localStore,e);e.targetChanges.forEach((o,a)=>{const u=n.Ua.get(a);u&&(Ue(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?u.Ba=!0:o.modifiedDocuments.size>0?Ue(u.Ba):o.removedDocuments.size>0&&(Ue(u.Ba),u.Ba=!1))}),await Wl(n,i,e)}catch(i){await ta(i)}}function O_(t,e,n){const i=Ie(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const o=[];i.ka.forEach((a,u)=>{const h=u.view.sa(e);h.snapshot&&o.push(h.snapshot)}),function(u,h){const f=Ie(u);f.onlineState=h;let p=!1;f.queries.forEach((y,_)=>{for(const w of _.ta)w.sa(h)&&(p=!0)}),p&&jm(f)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function UD(t,e,n){const i=Ie(t);i.sharedClientState.updateQueryState(e,"rejected",n);const o=i.Ua.get(e),a=o&&o.key;if(a){let u=new st(Te.comparator);u=u.insert(a,Gt.newNoDocument(a,be.min()));const h=De().add(a),f=new wh(be.min(),new Map,new st(ke),u,h);await _T(i,f),i.$a=i.$a.remove(a),i.Ua.delete(e),Bm(i)}else await pp(i.localStore,e,!1).then(()=>yp(i,e,n)).catch(ta)}async function $D(t,e){const n=Ie(t),i=e.batch.batchId;try{const o=await J2(n.localStore,e);wT(n,i,null),xT(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Wl(n,o)}catch(o){await ta(o)}}async function zD(t,e,n){const i=Ie(t);try{const o=await function(u,h){const f=Ie(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let y;return f.mutationQueue.lookupMutationBatch(p,h).next(_=>(Ue(_!==null),y=_.keys(),f.mutationQueue.removeMutationBatch(p,_))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,y,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,y)).next(()=>f.localDocuments.getDocuments(p,y))})}(i.localStore,e);wT(i,e,n),xT(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Wl(i,o)}catch(o){await ta(o)}}function xT(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function wT(t,e,n){const i=Ie(t);let o=i.Wa[i.currentUser.toKey()];if(o){const a=o.get(e);a&&(n?a.reject(n):a.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function yp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.qa.get(e))t.ka.delete(i),n&&t.La.Ja(i,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(i=>{t.Ka.containsKey(i)||ET(t,i)})}function ET(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Nm(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),Bm(t))}function j_(t,e,n){for(const i of n)i instanceof gT?(t.Ka.addReference(i.key,e),WD(t,i)):i instanceof yT?(de(Fm,"Document no longer in limbo: "+i.key),t.Ka.removeReference(i.key,e),t.Ka.containsKey(i.key)||ET(t,i.key)):Ae()}function WD(t,e){const n=e.key,i=n.path.canonicalString();t.$a.get(n)||t.Qa.has(i)||(de(Fm,"New document in limbo: "+n),t.Qa.add(i),Bm(t))}function Bm(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Te(Ze.fromString(e)),i=t.za.next();t.Ua.set(i,new DD(n)),t.$a=t.$a.insert(n,i),aT(t.remoteStore,new Ai(yr(Em(n.path)),i,"TargetPurposeLimboResolution",fh.ae))}}async function Wl(t,e,n){const i=Ie(t),o=[],a=[],u=[];i.ka.isEmpty()||(i.ka.forEach((h,f)=>{u.push(i.Ha(f,e,n).then(p=>{var y;if((p||n)&&i.isPrimaryClient){const _=p?!p.fromCache:(y=n==null?void 0:n.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){o.push(p);const _=Rm.Yi(f.targetId,p);a.push(_)}}))}),await Promise.all(u),i.La.p_(o),await async function(f,p){const y=Ie(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>ee.forEach(p,w=>ee.forEach(w.Hi,S=>y.persistence.referenceDelegate.addReference(_,w.targetId,S)).next(()=>ee.forEach(w.Ji,S=>y.persistence.referenceDelegate.removeReference(_,w.targetId,S)))))}catch(_){if(!na(_))throw _;de(km,"Failed to update sequence numbers: "+_)}for(const _ of p){const w=_.targetId;if(!_.fromCache){const S=y.Ts.get(w),P=S.snapshotVersion,M=S.withLastLimboFreeSnapshotVersion(P);y.Ts=y.Ts.insert(w,M)}}}(i.localStore,a))}async function HD(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){de(Fm,"User change. New user:",e.toKey());const i=await rT(n.localStore,e);n.currentUser=e,function(a,u){a.Ga.forEach(h=>{h.forEach(f=>{f.reject(new _e(re.CANCELLED,u))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Wl(n,i.Rs)}}function GD(t,e){const n=Ie(t),i=n.Ua.get(e);if(i&&i.Ba)return De().add(i.key);{let o=De();const a=n.qa.get(e);if(!a)return o;for(const u of a){const h=n.ka.get(u);o=o.unionWith(h.view.Sa)}return o}}function TT(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=_T.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=UD.bind(null,e),e.La.p_=ID.bind(null,e.eventManager),e.La.Ja=RD.bind(null,e.eventManager),e}function qD(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$D.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zD.bind(null,e),e}class eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Eh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return Y2(this.persistence,new K2,e.initialUser,this.serializer)}Xa(e){return new nT(Im.ri,this.serializer)}Za(e){return new iD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}eh.provider={build:()=>new eh};class KD extends eh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ue(this.persistence.referenceDelegate instanceof Jc);const i=this.persistence.referenceDelegate.garbageCollector;return new D2(i,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new nT(i=>Jc.ri(i,n),this.serializer)}}class vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>O_(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=HD.bind(null,this.syncEngine),await AD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bD}()}createDatastore(e){const n=Eh(e.databaseInfo.databaseId),i=function(a){return new uD(a)}(e.databaseInfo);return function(a,u,h,f){return new fD(a,u,h,f)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,o,a,u,h){return new mD(i,o,a,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>O_(this.syncEngine,n,0),function(){return k_.D()?new k_:new sD}())}createSyncEngine(e,n){return function(o,a,u,h,f,p,y){const _=new VD(o,a,u,h,f,p);return y&&(_.ja=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const a=Ie(o);de(bs,"RemoteStore shutting down."),a.W_.add(5),await zl(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}vp.provider={build:()=>new vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Yr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="FirestoreClient";class QD{constructor(e,n,i,o,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=o,this.user=Ht.UNAUTHENTICATED,this.clientId=gE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(i,async u=>{de(Bi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(de(Bi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Om(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Pf(t,e){t.asyncQueue.verifyOperationInProgress(),de(Bi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async o=>{i.isEqual(o)||(await rT(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function F_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await XD(t);de(Bi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>D_(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,o)=>D_(e.remoteStore,o)),t._onlineComponents=e}async function XD(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){de(Bi,"Using user provided OfflineComponentProvider");try{await Pf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===re.FAILED_PRECONDITION||o.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;zo("Error using user provided cache. Falling back to memory cache: "+n),await Pf(t,new eh)}}else de(Bi,"Using default OfflineComponentProvider"),await Pf(t,new KD(void 0));return t._offlineComponents}async function CT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(de(Bi,"Using user provided OnlineComponentProvider"),await F_(t,t._uninitializedComponentsProvider._online)):(de(Bi,"Using default OnlineComponentProvider"),await F_(t,new vp))),t._onlineComponents}function YD(t){return CT(t).then(e=>e.syncEngine)}async function AT(t){const e=await CT(t),n=e.eventManager;return n.onListen=MD.bind(null,e.syncEngine),n.onUnlisten=jD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=LD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FD.bind(null,e.syncEngine),n}function JD(t,e,n={}){const i=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const y=new ST({next:w=>{y.su(),u.enqueueAndForget(()=>pT(a,_));const S=w.docs.has(h);!S&&w.fromCache?p.reject(new _e(re.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&f&&f.source==="server"?p.reject(new _e(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new mT(Em(h.path),y,{includeMetadataChanges:!0,Ta:!0});return fT(a,_)}(await AT(t),t.asyncQueue,e,n,i)),i.promise}function ZD(t,e,n={}){const i=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,h,f,p){const y=new ST({next:w=>{y.su(),u.enqueueAndForget(()=>pT(a,_)),w.fromCache&&f.source==="server"?p.reject(new _e(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(w)},error:w=>p.reject(w)}),_=new mT(h,y,{includeMetadataChanges:!0,Ta:!0});return fT(a,_)}(await AT(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e,n){if(!n)throw new _e(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function eV(t,e,n,i){if(e===!0&&i===!0)throw new _e(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function U_(t){if(!Te.isDocumentKey(t))throw new _e(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $_(t){if(Te.isDocumentKey(t))throw new _e(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Um(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function Ui(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Um(t);throw new _e(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="firestore.googleapis.com",z_=!0;class W_{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=IT,this.ssl=z_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:z_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=tT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<k2)throw new _e(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}eV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=PT((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new _e(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ch{constructor(e,n,i,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new W_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new W_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new aN;switch(i.type){case"firstParty":return new hN(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=B_.get(n);i&&(de("ComponentProvider","Removing Datastore"),B_.delete(n),i.terminate())}(this),Promise.resolve()}}function tV(t,e,n,i={}){var o;const a=(t=Ui(t,Ch))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),h=`${e}:${n}`;a.host!==IT&&a.host!==h&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:h,ssl:!1,emulatorOptions:i});if(!$c(f,u)&&(t._setSettings(f),i.mockUserToken)){let p,y;if(typeof i.mockUserToken=="string")p=i.mockUserToken,y=Ht.MOCK_USER;else{p=Yw(i.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new _e(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Ht(_)}t._authCredentials=new lN(new pE(p,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Ah(this.firestore,e,this._query)}}class _n{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ki(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _n(this.firestore,e,this._key)}}class ki extends Ah{constructor(e,n,i){super(e,n,Em(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _n(this.firestore,null,new Te(e))}withConverter(e){return new ki(this.firestore,e,this._path)}}function th(t,e,...n){if(t=Uo(t),bT("collection","path",e),t instanceof Ch){const i=Ze.fromString(e,...n);return $_(i),new ki(t,null,i)}{if(!(t instanceof _n||t instanceof ki))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ze.fromString(e,...n));return $_(i),new ki(t.firestore,null,i)}}function Nl(t,e,...n){if(t=Uo(t),arguments.length===1&&(e=gE.newId()),bT("doc","path",e),t instanceof Ch){const i=Ze.fromString(e,...n);return U_(i),new _n(t,null,new Te(i))}{if(!(t instanceof _n||t instanceof ki))throw new _e(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ze.fromString(e,...n));return U_(i),new _n(t.firestore,t instanceof ki?t.converter:null,new Te(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="AsyncQueue";class G_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new sT(this,"async_queue_retry"),this.Su=()=>{const i=Af();i&&de(H_,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const n=Af();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Af();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Kr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!na(e))throw e;de(H_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),h}(i);throw Yr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=n,n}enqueueAfterDelay(e,n,i){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Lm.createAndSchedule(this,e,n,i,a=>this.Fu(a));return this.fu.push(o),o}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Hl extends Ch{constructor(e,n,i,o){super(e,n,i,o),this.type="firestore",this._queue=new G_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new G_(e),this._firestoreClient=void 0,await e}}}function RT(t,e){const n=typeof t=="object"?t:sE(),i=typeof t=="string"?t:e||Hc,o=nE(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const a=Qw("firestore");a&&tV(o,...a)}return o}function $m(t){if(t._terminated)throw new _e(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||nV(t),t._firestoreClient}function nV(t){var e,n,i;const o=t._freezeSettings(),a=function(h,f,p,y){return new AN(h,f,p,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,PT(y.experimentalLongPollingOptions),y.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),t._firestoreClient=new QD(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qo(Ot.fromBase64String(e))}catch(n){throw new _e(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qo(Ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let a=0;a<i.length;++a)if(i[a]!==o[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rV=/^__.*__$/;class iV{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Ds(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ul(e,this.data,n,this.fieldTransforms)}}function NT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Gm{constructor(e,n,i,o,a,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=o,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Gm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Uu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return nh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(NT(this.Lu)&&rV.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class sV{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Eh(e)}ju(e,n,i,o=!1){return new Gm({Lu:e,methodName:n,zu:i,path:Lt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oV(t){const e=t._freezeSettings(),n=Eh(t._databaseId);return new sV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function aV(t,e,n,i,o,a={}){const u=t.ju(a.merge||a.mergeFields?2:0,e,n,o);LT("Data must be an object, but it was:",u,i);const h=VT(i,u);let f,p;if(a.merge)f=new Jn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const y=[];for(const _ of a.mergeFields){const w=lV(e,_,n);if(!u.contains(w))throw new _e(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);cV(y,w)||y.push(w)}f=new Jn(y),p=u.fieldTransforms.filter(_=>f.covers(_.field))}else f=null,p=u.fieldTransforms;return new iV(new Vn(h),f,p)}function DT(t,e){if(MT(t=Uo(t)))return LT("Unsupported field value:",e,t),VT(t,e);if(t instanceof kT)return function(i,o){if(!NT(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const a=i._toFieldTransform(o);a&&o.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const a=[];let u=0;for(const h of i){let f=DT(h,o.Ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(t,e)}return function(i,o){if((i=Uo(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return XN(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const a=Tt.fromDate(i);return{timestampValue:Yc(o.serializer,a)}}if(i instanceof Tt){const a=new Tt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Yc(o.serializer,a)}}if(i instanceof Wm)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Qo)return{bytesValue:KE(o.serializer,i._byteString)};if(i instanceof _n){const a=o.databaseId,u=i.firestore._databaseId;if(!u.isEqual(a))throw o.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Pm(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof Hm)return function(u,h){return{mapValue:{fields:{[SE]:{stringValue:CE},[Gc]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw h.Wu("VectorValues must only contain numeric values.");return Tm(h.serializer,p)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${Um(i)}`)}(t,e)}function VT(t,e){const n={};return vE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ks(t,(i,o)=>{const a=DT(o,e.qu(i));a!=null&&(n[i]=a)}),{mapValue:{fields:n}}}function MT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof Wm||t instanceof Qo||t instanceof _n||t instanceof kT||t instanceof Hm)}function LT(t,e,n){if(!MT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const i=Um(n);throw i==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+i)}}function lV(t,e,n){if((e=Uo(e))instanceof zm)return e._internalPath;if(typeof e=="string")return OT(t,e);throw nh("Field path arguments must be of type string or ",t,!1,void 0,n)}const uV=new RegExp("[~\\*/\\[\\]]");function OT(t,e,n){if(e.search(uV)>=0)throw nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new zm(...e.split("."))._internalPath}catch{throw nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function nh(t,e,n,i,o){const a=i&&!i.isEmpty(),u=o!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${i}`),u&&(f+=` in document ${o}`),f+=")"),new _e(re.INVALID_ARGUMENT,h+t+f)}function cV(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,i,o,a){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new _n(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(FT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hV extends jT{data(){return super.data()}}function FT(t,e){return typeof e=="string"?OT(t,e):e instanceof zm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fV{convertValue(e,n="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return ks(e,(o,a)=>{i[o]=this.convertValue(a,n)}),i}convertVectorValue(e){var n,i,o;const a=(o=(i=(n=e.fields)===null||n===void 0?void 0:n[Gc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(u=>dt(u.doubleValue));return new Hm(a)}convertGeoPoint(e){return new Wm(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=mh(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const n=Li(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ze.fromString(e);Ue(eT(i));const o=new bl(i.get(1),i.get(3)),a=new Te(i.popFirst(5));return o.isEqual(n)||Yr(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pV(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BT extends jT{constructor(e,n,i,o,a,u){super(e,n,i,o,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(FT("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class kc extends BT{data(e={}){return super.data(e)}}class mV{constructor(e,n,i,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new al(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new kc(this._firestore,this._userDataWriter,i.key,i,new al(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,a){if(o._snapshot.oldDocs.isEmpty()){let u=0;return o._snapshot.docChanges.map(h=>{const f=new kc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new al(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(h=>a||h.type!==3).map(h=>{const f=new kc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new al(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,y=-1;return h.type!==0&&(p=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),y=u.indexOf(h.doc.key)),{type:gV(h.type),doc:f,oldIndex:p,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t){t=Ui(t,_n);const e=Ui(t.firestore,Hl);return JD($m(e),t._key).then(n=>vV(e,t,n))}class UT extends fV{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new _n(this.firestore,null,n)}}function rh(t){t=Ui(t,Ah);const e=Ui(t.firestore,Hl),n=$m(e),i=new UT(e);return dV(t._query),ZD(n,t._query).then(o=>new mV(e,i,t,o))}function Km(t,e,n){t=Ui(t,_n);const i=Ui(t.firestore,Hl),o=pV(t.converter,e,n);return $T(i,[aV(oV(i),"setDoc",t._key,o,t.converter!==null,n).toMutation(t._key,vr.none())])}function yV(t){return $T(Ui(t.firestore,Hl),[new Sm(t._key,vr.none())])}function $T(t,e){return function(i,o){const a=new Kr;return i.asyncQueue.enqueueAndForget(async()=>BD(await YD(i),o,a)),a.promise}($m(t),e)}function vV(t,e,n){const i=n.docs.get(e._key),o=new UT(t);return new BT(t,o,e._key,i,new al(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){ea=o})(iE),Sl(new $o("firestore",(i,{instanceIdentifier:o,options:a})=>{const u=i.getProvider("app").getImmediate(),h=new Hl(new uN(i.getProvider("auth-internal")),new dN(u,i.getProvider("app-check-internal")),function(p,y){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new _e(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bl(p.options.projectId,y)}(u,o),u);return a=Object.assign({useFetchStreams:n},a),h._setSettings(a),h},"PUBLIC").setMultipleInstances(!0)),Ii(Jv,Zv,e),Ii(Jv,Zv,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firebasestorage.googleapis.com",_V="storageBucket",xV=2*60*1e3,wV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Rs{constructor(e,n,i=0){super(bf(e),`Firebase Storage: ${n} (${bf(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Cr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tr||(Tr={}));function bf(t){return"storage/"+t}function EV(){const t="An unknown error occurred, please check the error payload for server response.";return new Cr(Tr.UNKNOWN,t)}function TV(){return new Cr(Tr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function SV(){return new Cr(Tr.CANCELED,"User canceled the upload/download.")}function CV(t){return new Cr(Tr.INVALID_URL,"Invalid URL '"+t+"'.")}function AV(t){return new Cr(Tr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function q_(t){return new Cr(Tr.INVALID_ARGUMENT,t)}function WT(){return new Cr(Tr.APP_DELETED,"The Firebase app was deleted.")}function PV(t){return new Cr(Tr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Zn.makeFromUrl(e,n)}catch{return new Zn(e,"")}if(i.path==="")return i;throw AV(e)}static makeFromUrl(e,n){let i=null;const o="([A-Za-z0-9.\\-_]+)";function a(U){U.path.charAt(U.path.length-1)==="/"&&(U.path_=U.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+o+u,"i"),f={bucket:1,path:3};function p(U){U.path_=decodeURIComponent(U.path)}const y="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${y}/b/${o}/o${w}`,"i"),P={bucket:1,path:3},M=n===zT?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",j=new RegExp(`^https?://${M}/${o}/${D}`,"i"),O=[{regex:h,indices:f,postModify:a},{regex:S,indices:P,postModify:p},{regex:j,indices:{bucket:1,path:2},postModify:p}];for(let U=0;U<O.length;U++){const z=O[U],X=z.regex.exec(e);if(X){const I=X[z.indices.bucket];let A=X[z.indices.path];A||(A=""),i=new Zn(I,A),z.postModify(i);break}}if(i==null)throw CV(e);return i}}class bV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t,e,n){let i=1,o=null,a=null,u=!1,h=0;function f(){return h===2}let p=!1;function y(...D){p||(p=!0,e.apply(null,D))}function _(D){o=setTimeout(()=>{o=null,t(S,f())},D)}function w(){a&&clearTimeout(a)}function S(D,...j){if(p){w();return}if(D){w(),y.call(null,D,...j);return}if(f()||u){w(),y.call(null,D,...j);return}i<64&&(i*=2);let O;h===1?(h=2,O=0):O=(i+Math.random())*1e3,_(O)}let P=!1;function M(D){P||(P=!0,w(),!p&&(o!==null?(D||(h=2),clearTimeout(o),_(0)):D||(h=1)))}return _(0),a=setTimeout(()=>{u=!0,M(!0)},n),M}function RV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){return t!==void 0}function K_(t,e,n,i){if(i<e)throw q_(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw q_(`Invalid value for '${t}'. Expected ${n} or less.`)}function NV(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const o=e(i)+"="+e(t[i]);n=n+o+"&"}return n=n.slice(0,-1),n}var ih;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ih||(ih={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DV(t,e){const n=t>=500&&t<600,o=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||o||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e,n,i,o,a,u,h,f,p,y,_,w=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=o,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=y,this.connectionFactory_=_,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,P)=>{this.resolve_=S,this.reject_=P,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new _c(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{const f=h.loaded,p=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===ih.NO_ERROR,f=a.getStatus();if(!h||DV(f,this.additionalRetryCodes_)&&this.retry){const y=a.getErrorCode()===ih.ABORT;i(!1,new _c(!1,null,y));return}const p=this.successCodes_.indexOf(f)!==-1;i(!0,new _c(p,a))})},n=(i,o)=>{const a=this.resolve_,u=this.reject_,h=o.connection;if(o.wasSuccessCode)try{const f=this.callback_(h,h.getResponse());kV(f)?a(f):a()}catch(f){u(f)}else if(h!==null){const f=EV();f.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,f)):u(f)}else if(o.canceled){const f=this.appDelete_?WT():SV();u(f)}else{const f=TV();u(f)}};this.canceled_?n(!1,new _c(!1,null,!0)):this.backoffId_=IV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&RV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class _c{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function MV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function LV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function OV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function FV(t,e,n,i,o,a,u=!0){const h=NV(t.urlParams),f=t.url+h,p=Object.assign({},t.headers);return OV(p,e),MV(p,n),LV(p,a),jV(p,i),new VV(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,o,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function UV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this._service=e,n instanceof Zn?this._location=n:this._location=Zn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new sh(e,n)}get root(){const e=new Zn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return UV(this._location.path)}get storage(){return this._service}get parent(){const e=BV(this._location.path);if(e===null)return null;const n=new Zn(this._location.bucket,e);return new sh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw PV(e)}}function Q_(t,e){const n=e==null?void 0:e[_V];return n==null?null:Zn.makeFromBucketSpec(n,t)}function $V(t,e,n,i={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:o}=i;o&&(t._overrideAuthToken=typeof o=="string"?o:Yw(o,t.app.options.projectId))}class zV{constructor(e,n,i,o,a){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=o,this._firebaseVersion=a,this._bucket=null,this._host=zT,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xV,this._maxUploadRetryTime=wV,this._requests=new Set,o!=null?this._bucket=Zn.makeFromBucketSpec(o,this._host):this._bucket=Q_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Zn.makeFromBucketSpec(this._url,e):this._bucket=Q_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){K_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){K_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(rE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new sh(this,e)}_makeRequest(e,n,i,o,a=!0){if(this._deleted)return new bV(WT());{const u=FV(e,this._appId,i,o,n,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,o).getPromise()}}const X_="@firebase/storage",Y_="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT="storage";function WV(t=sE(),e){t=Uo(t);const i=nE(t,HT).getImmediate({identifier:e}),o=Qw("storage");return o&&HV(i,...o),i}function HV(t,e,n,i={}){$V(t,e,n,i)}function GV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new zV(n,i,o,e,iE)}function qV(){Sl(new $o(HT,GV,"PUBLIC").setMultipleInstances(!0)),Ii(X_,Y_,""),Ii(X_,Y_,"esm2017")}qV();console.log("initializeApp:",typeof mm);console.log("getFirestore:",typeof RT);const KV={apiKey:"AIzaSyBOM041d620q5TBYfl7E6SexEqR8NGrWQE",authDomain:"aussie-gut-pack.firebaseapp.com",projectId:"aussie-gut-pack",storageBucket:"aussie-gut-pack.firebasestorage.app",messagingSenderId:"834797498886",appId:"1:834797498886:web:cb2f88ab4523480400c987"},Qm=mm(KV);console.log("Firebase app:",Qm);const Zr=RT(Qm);console.log("Firestore db:",Zr);WV(Qm);function QV(){const{isDarkMode:t}=k.useContext(jt),e=k.useRef(null),n=k.useRef(null),[i,o]=k.useState(!1),[a,u]=k.useState(!1),[h,f]=k.useState({quotes:[],currentWorkout:{description:"",warmup:[],main:[]},scheduledWorkouts:[],aboutUs:"",dailyChallenges:[],lastUpdated:null}),[p,y]=k.useState(0),[_,w]=k.useState(null),[S,P]=k.useState(()=>JSON.parse(localStorage.getItem("completedChallenges"))||[]);k.useEffect(()=>{(async()=>{var F,W;const z=Nl(Zr,"content","home"),X=await qm(z);let I={quotes:["An athlete won't judge you for working out.","A millionaire won't judge you for starting a business.","A musician won't judge you for trying to sing a song.","It's always the people going nowhere that have something to say.","Idle hands do the devil's work"],currentWorkout:{description:"A quick 20-minute routine to kickstart your metabolism and improve digestion.",warmup:["5-minute brisk walk or jog","3 sets of 15 squats"],main:["3 sets of 10 push-ups","2 sets of 20 jumping jacks","1-minute plank hold"]},scheduledWorkouts:[],aboutUs:"We are dedicated to bringing you information about Australian Shepherds and how to maintain a healthy gut. Our mission is to educate and inspire a natural approach to wellness for you and your furry friends.",dailyChallenges:["Drink 8 glasses of water.","Take a 10-minute digestion-boosting walk with your Aussie.","Try a gut-friendly snack like yogurt or pumpkin."],lastUpdated:null};if(X.exists()){const R=X.data();I={...I,...R,currentWorkout:{...I.currentWorkout,...R.currentWorkout,warmup:((F=R.currentWorkout)==null?void 0:F.warmup)||I.currentWorkout.warmup,main:((W=R.currentWorkout)==null?void 0:W.main)||I.currentWorkout.main},scheduledWorkouts:R.scheduledWorkouts||[],dailyChallenges:R.dailyChallenges||I.dailyChallenges}}const A=new Date,b=[...I.scheduledWorkouts];let V=!1;if(b.sort((R,je)=>new Date(R.updateDateTime)-new Date(je.updateDateTime)),b.length>0){const R=b[0],je=new Date(R.updateDateTime);A>=je&&(!I.lastUpdated||new Date(I.lastUpdated)<je)&&(I.currentWorkout={description:R.description||"",warmup:R.warmup||[],main:R.main||[]},b.shift(),I.scheduledWorkouts=b,I.lastUpdated=A.toISOString(),V=!0)}V&&await Km(z,I,{merge:!0}),f(I);try{const R=th(Zr,"content","blog","posts"),et=(await rh(R)).docs.map(Ke=>({id:Ke.id,...Ke.data()}));if(et.length>0){et.sort((ae,ge)=>new Date(ge.date)-new Date(ae.date));const Ke=et[0],Ce=M(Ke);w({...Ke,excerpt:Ce})}else w({id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being..."}],excerpt:"Gut health is crucial for overall well-being..."})}catch(R){console.error("Error fetching blog posts:",R),w({id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being..."}],excerpt:"Gut health is crucial for overall well-being..."})}})()},[]);const M=U=>{if(!U||!U.blocks||U.blocks.length===0)return"Read more...";const z=U.blocks.find(X=>X.type==="paragraph"||X.type==="list"||X.type==="bullet");return z?z.type==="paragraph"&&z.content?z.content.split(" ").slice(0,30).join(" ")+"...":Array.isArray(z.content)&&z.content.length>0?z.content[0]+(z.content.length>1?"...":""):"Read more...":"Read more..."};k.useEffect(()=>{const U=new IntersectionObserver(z=>{z.forEach(X=>{const I=X.isIntersecting;X.target===e.current&&o(I),X.target===n.current&&u(I)})},{threshold:.2});return e.current&&U.observe(e.current),n.current&&U.observe(n.current),()=>{e.current&&U.unobserve(e.current),n.current&&U.unobserve(n.current)}},[]),k.useEffect(()=>{const U=setInterval(()=>{y(z=>(z+1)%h.quotes.length)},4e3);return()=>clearInterval(U)},[h.quotes.length]),k.useEffect(()=>{localStorage.setItem("completedChallenges",JSON.stringify(S))},[S]);const D={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}},exit:{opacity:0,y:-20,transition:{duration:.5,ease:"easeIn"}}},j={hidden:{opacity:0,scale:.8,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeOut"}},exit:{opacity:0,scale:.8,y:-20,transition:{duration:.5,ease:"easeIn"}}},$=U=>{P(z=>z.includes(U)?z.filter(X=>X!==U):[...z,U])},O=h.dailyChallenges.length>0&&S.length===h.dailyChallenges.length&&h.dailyChallenges.every((U,z)=>S.includes(z));return E.jsxs("div",{className:`min-h-screen flex flex-col ${t?"bg-stone-900":"bg-white"}`,children:[E.jsx("section",{ref:e,className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:E.jsxs("div",{className:"container mx-auto text-center",children:[E.jsx("h1",{className:`text-5xl md:text-6xl font-extrabold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Welcome to Aussie Gut Pack"}),E.jsx("p",{className:`text-2xl max-w-2xl mx-auto mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Empowering Your Digestive Health, Naturally."}),E.jsxs("div",{className:`flex flex-col md:flex-row gap-6 transition-all duration-700 ease-in-out ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[E.jsxs("div",{className:"md:w-1/2 p-6 flex flex-col justify-center",children:[E.jsx("h2",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"About Us"}),E.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:h.aboutUs}),E.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[E.jsx(cn,{to:"/fitness-tips",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900",children:"Learn More"}),E.jsx(cn,{to:"/signup",variant:"primary",className:`${t?"bg-red-600 text-white hover:bg-red-700":"bg-red-700 text-white hover:bg-red-800"}`,children:"Join the Pack"})]})]}),E.jsx("div",{className:"md:w-1/2 flex justify-center items-center",children:E.jsx("div",{className:"h-80 w-80 md:h-[400px] md:w-[400px] overflow-hidden relative rounded-full",children:E.jsx(e1,{className:"w-full h-full object-cover"})})})]})]})}),E.jsx("hr",{className:`my-12 ${t?"border-stone-700":"border-stone-300"}`}),E.jsx("section",{ref:n,className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:E.jsxs("div",{className:`container mx-auto text-center transition-all duration-700 ease-in-out ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[E.jsx("h2",{className:`text-3xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Wisdom to Win The Day"}),E.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:E.jsx(w0,{mode:"wait",children:E.jsxs(Bv.p,{variants:D,initial:"hidden",animate:"visible",exit:"exit",className:`text-xl italic transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:['"',h.quotes[p],'"']},p)})}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[E.jsxs("div",{children:[E.jsx("h3",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Workout of the Day"}),E.jsx("p",{className:`text-lg mb-6 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:h.currentWorkout.description}),E.jsx("h4",{className:`text-xl font-semibold mb-3 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Warm Up"}),E.jsx("ul",{className:`text-left list-disc pl-6 mb-6 transition-colors duration-300 ease-in-out ${t?"text-blue-300":"text-blue-600"}`,children:(h.currentWorkout.warmup||[]).map((U,z)=>E.jsx("li",{className:"mb-2 text-lg",children:U},`warmup-${z}`))}),E.jsx("h4",{className:`text-xl font-semibold mb-3 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Main Workout"}),E.jsx("ul",{className:`text-left list-disc pl-6 mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:(h.currentWorkout.main||[]).map((U,z)=>E.jsx("li",{className:"mb-2 text-lg",children:U},`main-${z}`))}),E.jsx(cn,{to:"/fitness-tips",variant:"primary",className:"mx-auto bg-red-800 text-white hover:bg-red-900",children:"More Fitness Tips"})]}),E.jsxs("div",{children:[E.jsx("h3",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Daily Gut Health Challenges"}),E.jsx("ul",{className:`text-left list-disc pl-6 mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:(h.dailyChallenges||[]).map((U,z)=>E.jsxs("li",{className:"mb-2 text-lg flex items-center",children:[E.jsx("input",{type:"checkbox",checked:S.includes(z),onChange:()=>$(z),className:"mr-2"}),U]},`challenge-${z}`))}),E.jsx(w0,{children:O&&E.jsx(Bv.p,{variants:j,initial:"hidden",animate:"visible",exit:"exit",className:`text-lg font-semibold transition-colors duration-300 ease-in-out ${t?"text-green-400":"text-green-600"}`,children:"Great job, Pack Leader!"})})]})]})]})}),E.jsx("hr",{className:`my-12 ${t?"border-stone-700":"border-stone-300"}`}),_&&E.jsx("section",{className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:E.jsxs("div",{className:"container mx-auto text-center",children:[E.jsx("h2",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Latest From Our Blog"}),E.jsx("h3",{className:`text-xl font-semibold mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:_.title}),E.jsx("p",{className:`text-sm mb-4 transition-colors duration-300 ease-in-out ${t?"text-gray-400":"text-gray-600"}`,children:_.date}),E.jsx("p",{className:`text-lg mb-6 max-w-2xl mx-auto transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:_.excerpt}),E.jsx(cn,{to:`/blog/${_.id}`,variant:"primary",className:"mx-auto bg-red-800 text-white hover:bg-red-900",children:"Read More"})]})}),E.jsx("hr",{className:`my-12 ${t?"border-stone-700":"border-stone-300"}`}),E.jsxs("div",{className:`py-8 ${t?"bg-stone-800":"bg-stone-100"} text-center`,children:[E.jsx("p",{className:`text-lg mb-4 ${t?"text-white":"text-red-600"}`,children:"Want more? Check out our full library of fitness tips!"}),E.jsx(cn,{to:"/fitness-tips",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900",children:"Explore Now"})]})]})}const GT=k.createContext(),XV=({children:t})=>{const[e,n]=k.useState(()=>{const u=localStorage.getItem("cart");return u?JSON.parse(u):{}});k.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const i=(u,h)=>{n(f=>{var p,y,_,w;return{...f,[u]:{...f[u],...h,quantity:((p=f[u])==null?void 0:p.quantity)||1,color:((y=f[u])==null?void 0:y.color)||"Default",size:((_=f[u])==null?void 0:_.size)||"M",originalPrice:((w=f[u])==null?void 0:w.originalPrice)||h.price*1.2}}})},o=(u,h)=>{n(f=>{var y;const p=Math.max(1,(((y=f[u])==null?void 0:y.quantity)||1)+h);return{...f,[u]:{...f[u],quantity:p}}})},a=u=>{n(h=>{const f={...h};return delete f[u],f})};return E.jsx(GT.Provider,{value:{cart:e,addToCart:i,updateQuantity:o,removeFromCart:a},children:t})},qT=()=>k.useContext(GT),KT=[{id:1,name:"Enterogermina",description:"spore-forming probiotic that survives antibiotics and stomach acids, promoting gut health and recovery.",price:"",category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"],url:"https://a.co/d/ePluKSI"},{id:2,name:"Just thrive probiotic",description:"Something here about the product",price:29.99,category:"Long Term",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:3,name:"Megasporebiotic",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]}],YV=[{id:1,name:"Florastor",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"HU58",description:"Something here about the product",price:29.99,category:"Long Term",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:3,name:"Restorfiora",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:4,name:"Lacto Ramno GG",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]}],JV=[{id:1,name:"Megapre",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"Psyllium Husk",description:"Something here about the product",price:29.99,category:"Long Term",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:3,name:"Fructoollgosaccharides",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:4,name:"Galactoollgosaccharides",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:5,name:"Acacia Gum",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]}],ZV=[{id:1,name:"Berberine",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],eM=[{id:1,name:"Lactoferrin",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],tM=[{id:1,name:"N1O1 nitric oxide lozenge",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],nM=[{id:1,name:"Enterogermina",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"HU58",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:3,name:"Zenbiome Dual",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],rM=[{id:1,name:"L-theanine",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],iM=[{id:1,name:"Creatine",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"Beta-alanine",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:3,name:"N1O1 Iozenge",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:4,name:"Caffeine",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:5,name:"Protein",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],sM=[{id:1,name:"N1O1 Serum",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"Young Goose",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],oM=[{id:1,name:"MBL Pregnancy Support",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:2,name:"MBL Vaginal Support",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]},{id:3,name:"Metagenics Womens Probiotic",description:"Something here about the product",price:39.99,category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"]}],xc=[{title:"Long-Term Supplements",data:KT},{title:"Beginner Probiotics",data:YV},{title:"Prebiotics",data:JV},{title:"Blood Sugar Support",data:ZV},{title:"Anemia Support",data:eM},{title:"Nitric Oxide Boosters",data:tM},{title:"IBS (Irritable Bowel Syndrome)",data:nM},{title:"Sleep Aids",data:rM},{title:"Sports Nutrition",data:iM},{title:"Skincare Essentials",data:sM},{title:"Women's Health",data:oM}];function aM(){const{isDarkMode:t}=k.useContext(jt),{cart:e,addToCart:n,updateQuantity:i,removeFromCart:o}=qT(),[a,u]=k.useState(0);k.useEffect(()=>{xc.forEach(p=>{p.data.forEach((y,_)=>{e[y.id]||n(y.id,{...y,originalPrice:_%2===0?y.price*1.2:null})})})},[e,n]);const h=p=>{u(Number(p.target.value))},f=p=>E.jsxs("div",{className:"flex items-center py-3 transition-colors duration-300 ease-in-out",children:[E.jsx("div",{className:"w-20 h-20 flex-shrink-0",children:E.jsx("img",{src:p.image||"https://via.placeholder.com/80",alt:p.name,className:"w-full h-full object-cover rounded"})}),E.jsxs("div",{className:"flex-1 ml-4",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsxs("div",{children:[E.jsx("h3",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:p.name}),E.jsxs("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["Color: ",e[p.id].color]}),E.jsxs("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["Size: ",e[p.id].size]})]}),E.jsx("button",{onClick:()=>o(p.id),className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-400 hover:text-stone-300":"text-stone-500 hover:text-stone-600"}`,children:""})]}),E.jsxs("div",{className:"flex items-center mt-2",children:[E.jsx("button",{onClick:()=>i(p.id,-1),className:`w-8 h-8 flex items-center justify-center border rounded-l transition-colors duration-300 ease-in-out ${t?"border-stone-600 bg-stone-700 text-white hover:bg-stone-600":"border-stone-300 bg-stone-200 text-stone-600 hover:bg-stone-300"}`,children:"-"}),E.jsx("span",{className:`w-10 h-8 flex items-center justify-center border-t border-b transition-colors duration-300 ease-in-out ${t?"border-stone-600 text-white":"border-stone-300 text-stone-600"}`,children:e[p.id].quantity}),E.jsx("button",{onClick:()=>i(p.id,1),className:`w-8 h-8 flex items-center justify-center border rounded-r transition-colors duration-300 ease-in-out ${t?"border-stone-600 bg-stone-700 text-white hover:bg-stone-600":"border-stone-300 bg-stone-200 text-stone-600 hover:bg-stone-300"}`,children:"+"})]})]}),E.jsx("div",{className:"text-right ml-4",children:e[p.id].originalPrice?E.jsxs("div",{children:[E.jsxs("p",{className:`text-sm line-through transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["$",(e[p.id].originalPrice*e[p.id].quantity).toFixed(2)]}),E.jsxs("p",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:["$",(p.price*e[p.id].quantity).toFixed(2)]})]}):E.jsxs("p",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:["$",(p.price*e[p.id].quantity).toFixed(2)]})})]},p.id);return E.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[E.jsxs("header",{className:"text-center mb-12",children:[E.jsx("h1",{className:`text-4xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Shop Supplements"}),E.jsx("p",{className:`text-lg max-w-2xl mx-auto transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"Explore our curated selection of high-quality supplements to support your gut health and wellness journey."})]}),E.jsx("div",{className:"mb-6",children:E.jsx("select",{value:a,onChange:h,className:`w-full max-w-md mx-auto block p-2 border rounded transition-colors duration-300 ease-in-out ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-stone-300 text-stone-600"}`,children:xc.map((p,y)=>E.jsx("option",{value:y,children:p.title},y))})}),E.jsxs("section",{className:"mb-12",children:[E.jsx("h2",{className:`text-3xl font-semibold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:xc[a].title}),E.jsx("div",{className:"space-y-6",children:xc[a].data.filter(p=>e[p.id]).map(p=>f(p))})]}),E.jsx("div",{className:"text-center mt-12",children:E.jsx(cn,{to:"/checkout",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900",children:"Proceed to Checkout"})})]})}function lM(){const{isDarkMode:t}=k.useContext(jt),{cart:e,updateQuantity:n,removeFromCart:i}=qT(),o=Object.values(e).reduce((u,h)=>u+h.price*h.quantity,0),a=()=>{alert("Order placed successfully!"),Object.keys(e).forEach(u=>i(u))};return E.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[E.jsxs("header",{className:"text-center mb-12",children:[E.jsx("h1",{className:`text-4xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Checkout"}),E.jsx("p",{className:`text-lg max-w-2xl mx-auto transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"Review your cart and place your order."})]}),Object.keys(e).length===0?E.jsxs("div",{className:"text-center",children:[E.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"Your cart is empty."}),E.jsx(cn,{to:"/shop",variant:"primary",className:"mt-4 bg-red-800 text-white hover:bg-red-900",children:"Continue Shopping"})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"space-y-6",children:Object.entries(e).map(([u,h])=>E.jsxs("div",{className:"flex items-center py-3 transition-colors duration-300 ease-in-out",children:[E.jsx("div",{className:"w-20 h-20 flex-shrink-0",children:E.jsx("img",{src:h.image||"https://via.placeholder.com/80",alt:h.name,className:"w-full h-full object-cover rounded"})}),E.jsxs("div",{className:"flex-1 ml-4",children:[E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsxs("div",{children:[E.jsx("h3",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:h.name}),E.jsxs("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["Color: ",h.color]}),E.jsxs("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["Size: ",h.size]})]}),E.jsx("button",{onClick:()=>i(u),className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-400 hover:text-stone-300":"text-stone-500 hover:text-stone-600"}`,children:""})]}),E.jsxs("div",{className:"flex items-center mt-2",children:[E.jsx("button",{onClick:()=>n(u,-1),className:`w-8 h-8 flex items-center justify-center border rounded-l transition-colors duration-300 ease-in-out ${t?"border-stone-600 bg-stone-700 text-white hover:bg-stone-600":"border-stone-300 bg-stone-200 text-stone-600 hover:bg-stone-300"}`,children:"-"}),E.jsx("span",{className:`w-10 h-8 flex items-center justify-center border-t border-b transition-colors duration-300 ease-in-out ${t?"border-stone-600 text-white":"border-stone-300 text-stone-600"}`,children:h.quantity}),E.jsx("button",{onClick:()=>n(u,1),className:`w-8 h-8 flex items-center justify-center border rounded-r transition-colors duration-300 ease-in-out ${t?"border-stone-600 bg-stone-700 text-white hover:bg-stone-600":"border-stone-300 bg-stone-200 text-stone-600 hover:bg-stone-300"}`,children:"+"})]})]}),E.jsx("div",{className:"text-right ml-4",children:h.originalPrice?E.jsxs("div",{children:[E.jsxs("p",{className:`text-sm line-through transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["$",(h.originalPrice*h.quantity).toFixed(2)]}),E.jsxs("p",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:["$",(h.price*h.quantity).toFixed(2)]})]}):E.jsxs("p",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:["$",(h.price*h.quantity).toFixed(2)]})})]},u))}),E.jsxs("div",{className:"mt-12 text-right",children:[E.jsxs("p",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:["Total: $",o.toFixed(2)]}),E.jsx(cn,{onClick:a,variant:"primary",className:"mt-4 bg-red-800 text-white hover:bg-red-900",children:"Place Order"})]})]})]})}const _p=[{id:1,title:"Microbiome Basics",content:"Your gut contains over 100 trillion bacteria, with more than 1000 different species playing crucial roles in digestion, immunity, and overall health.",category:"Fundamentals"},{id:2,title:"Probiotics Matter",content:"Probiotics are live bacteria that can improve digestive health, boost immune function, and potentially help with mental health.",category:"Nutrition"},{id:3,title:"This means nothing to me",content:"This is all just filler crap",category:"Nutrition"},{id:4,title:"Worst for Gut Microbiome",content:["The following harm gut health (in order of severity):"," Stress: Elevates cortisol, disrupting gut flora and increasing permeability"," Glyphosate: Kills beneficial bacteria, feeds pathogenic ones"," Antibiotics: Kills good and bad bacteria; pair with spore-based probiotics to avoid yeast infections"," Seed Oils: Feed pathogenic bacteria, have a long half-life"," Refined Sugars: Feed harmful bacteria, promote dysbiosis"," Long-term Restrictive Diets: Reduce microbiome diversity"," Processed Foods: Contain antibiotics, glyphosate, and dyes that feed pathogenic bacteria and cancer cells"],category:"Gut Microbiome Education"},{id:5,title:"Types of Probiotics",content:`Key probiotic types include:
 Bacillus (subtilis, coagulans, clausii, indicus): Endospore-protected, survives gastric system and antibiotics, colonizes all gut areas, called 'next-generation probiotics'
 Lactobacillus (acidophilus, rhamnosus, reuteri, plantarum, casei, gasseri): Some strains survive gastric system, mainly colonize upper intestines
 Bifidobacterium (longum, infantis, bifidum, animalis, lactis): Doesnt survive gastric system or antibiotics, functions in lower intestines; seek exopolysaccharide strains for dendritic cell communication
 Saccharomyces (boulardii, cerevisiae): Gram-positive yeast, survives antibiotics but not gastric system, aids antibiotic-associated diarrhea`,category:"Gut Microbiome Education"},{id:6,title:"Pillars of a Healthy Gut",content:`Build a resilient gut with:
 A nutrient-dense, diverse, unprocessed diet with prebiotics
 Healthy exercise, sleep, and an uplifting social life worth enjoying
 Sun exposure and skin contact with nature
 Research-backed, third-party-tested supplements tailored to your needs`,category:"Gut Microbiome Education"},{id:7,title:"Boosts Cognition",content:"A healthy gut strengthens your immune system and helps fight off infections.",category:"Benefits"},{id:8,title:"Improves Digestion",content:"Proper gut health aids digestion, prevents bloating, and reduces stomach discomfort.",category:"Benefits"},{id:9,title:"Enhances Mental Health",content:"Your gut and brain are connectedgood gut health can help reduce anxiety and improve mood.",category:"Benefits"}];function xp({title:t,content:e,footer:n,className:i}){const{isDarkMode:o}=k.useContext(jt);return E.jsxs("div",{className:`p-4 border rounded-lg shadow-md ${o?"bg-stone-800 border-stone-700":"bg-white border-red-300"} ${i}`,children:[E.jsx("h3",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${o?"text-red-400":"text-red-800"}`,children:t}),e&&E.jsx("p",{className:`mt-2 transition-colors duration-300 ease-in-out ${o?"text-white":"text-red-600"}`,children:e}),n&&E.jsx("p",{className:`mt-2 text-sm transition-colors duration-300 ease-in-out ${o?"text-white":"text-red-600"}`,children:n})]})}function uM(){const{isDarkMode:t}=k.useContext(jt);k.useEffect(()=>{});const e=_p.filter(i=>i.category==="Benefits"),n=_p.filter(i=>i.category!=="Benefits");return E.jsxs("div",{className:`container mx-auto px-4 py-8 min-h-screen flex flex-col ${t?"bg-stone-900":"bg-white"}`,children:[E.jsx("div",{className:"pt-16"}),E.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Understanding Gut Health"}),E.jsxs("section",{className:"mb-8 flex-grow",children:[E.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"What is Gut Health?"}),E.jsx("p",{className:`leading-relaxed transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Gut health refers to the balance and function of bacteria in the digestive system..."})]}),E.jsxs("section",{className:"py-12 px-6 flex-grow",children:[E.jsx("h2",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Why Gut Health Matters"}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map(i=>E.jsx(pr,{to:`/gut-health/${i.id}`,children:E.jsx(xp,{title:i.title,content:i.content,className:"hover:shadow-lg transition-shadow duration-300 ease-in-out"})},i.id))})]}),E.jsxs("section",{className:"flex-grow",children:[E.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Gut Health Facts"}),E.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-4",children:n.map(i=>E.jsx(pr,{to:`/gut-health/${i.id}`,children:E.jsx(xp,{title:i.title,content:i.content,footer:`Category: ${i.category}`,className:`border-l-4 border-red-500 hover:shadow-lg transition-shadow duration-300 ease-in-out ${t?"bg-stone-800":"bg-stone-50"}`})},i.id))})]})]})}function cM(){const{id:t}=lx(),{isDarkMode:e}=k.useContext(jt);Ml();const n=_p.find(i=>i.id.toString()===t);return n?E.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${e?"bg-stone-900":"bg-white"}`,children:[E.jsx("h1",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:n.title}),E.jsxs("p",{className:`mb-4 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:["Category: ",n.category]}),Array.isArray(n.content)?E.jsx("ul",{className:`text-lg mb-6 list-disc pl-6 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:n.content.map((i,o)=>E.jsx("li",{className:"mb-2",children:i},o))}):E.jsx("p",{className:`text-lg mb-6 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:n.content}),E.jsx(cn,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]}):E.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${e?"bg-stone-900":"bg-white"}`,children:[E.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:"Fact Not Found"}),E.jsx(cn,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]})}function hM(){const{isDarkMode:t}=k.useContext(jt),[e,n]=k.useState([]),i=u=>n([...e,u]),o=u=>n(e.filter(h=>h.id!==u)),a=e.reduce((u,h)=>u+h.price,0);return E.jsxs("div",{className:"container mx-auto px-4 py-8",children:[E.jsx("h1",{className:`text-3xl font-bold mb-6 ${t?"text-green-300":"text-green-800"}`,children:"Purchase Gut Health Supplements"}),E.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[E.jsxs("div",{children:[E.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-green-200":"text-green-700"}`,children:"Available Products"}),KT.map(u=>E.jsxs("div",{className:`border p-4 mb-4 rounded-lg flex justify-between items-center ${t?"border-gray-700 bg-gray-800":"border-gray-300 bg-white"}`,children:[E.jsxs("div",{children:[E.jsx("h3",{className:`font-bold ${t?"text-gray-300":"text-gray-800"}`,children:u.name}),E.jsxs("p",{className:`${t?"text-green-400":"text-green-700"}`,children:["$",u.price]})]}),E.jsx(cn,{onClick:()=>i(u),variant:"primary",children:"Add to Cart"})]},u.id))]}),E.jsxs("div",{children:[E.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-green-200":"text-green-700"}`,children:"Your Cart"}),e.length===0?E.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"}):E.jsxs(E.Fragment,{children:[e.map(u=>E.jsxs("div",{className:`flex justify-between items-center border-b py-2 ${t?"border-gray-700":"border-gray-300"}`,children:[E.jsx("span",{className:`${t?"text-gray-300":"text-gray-800"}`,children:u.name}),E.jsxs("div",{children:[E.jsxs("span",{className:`mr-4 ${t?"text-green-400":"text-green-700"}`,children:["$",u.price]}),E.jsx("button",{onClick:()=>o(u.id),className:"text-red-500 hover:text-red-600",children:"Remove"})]})]},u.id)),E.jsxs("div",{className:`mt-4 font-bold ${t?"text-green-300":"text-green-800"}`,children:["Total: $",a.toFixed(2)]}),E.jsx(cn,{className:"mt-4 w-full",variant:"primary",disabled:e.length===0,children:"Checkout"})]})]})]})]})}const dM=()=>{const{isDarkMode:t}=k.useContext(jt),[e,n]=k.useState([]),[i,o]=k.useState(!0),[a,u]=k.useState(null);k.useEffect(()=>{(async()=>{try{const p=th(Zr,"content","blog","posts"),_=(await rh(p)).docs.map(w=>({id:w.id,title:w.data().title,date:w.data().date,blocks:w.data().blocks||[{type:"paragraph",content:""}]}));console.log("Fetched blog posts:",_),_.length>0?n(_):n([{id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial..."},{type:"image",content:"https://example.com/image.jpg"}]}])}catch(p){console.error("Error fetching blog posts:",p),u("Failed to load blog posts: "+p.message),n([{id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial..."},{type:"image",content:"https://example.com/image.jpg"}]}])}finally{o(!1)}})()},[]);const h=f=>{if(!f.blocks||f.blocks.length===0)return"Read more...";const p=f.blocks.find(y=>y.type==="paragraph"||y.type==="list"||y.type==="bullet");return p?p.type==="paragraph"?p.content.split(" ").slice(0,15).join(" ")+"...":Array.isArray(p.content)?p.content[0]+(p.content.length>1?"...":""):"Read more...":"Read more..."};return i?E.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[E.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),E.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"Loading posts..."})]}):a?E.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[E.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),E.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:a})]}):E.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[E.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),e.length===0?E.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"No blog posts available yet. Check back soon!"}):E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(f=>E.jsx(pr,{to:`/blog/${f.id}`,className:"block group",children:E.jsx(xp,{title:f.title,footer:E.jsx("span",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:f.date}),content:E.jsx("p",{className:`text-base transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:h(f)}),className:`p-6 rounded-lg shadow-md transition-all duration-300 ease-in-out ${t?"bg-stone-800 hover:bg-stone-700":"bg-white hover:bg-stone-100"} group-hover:shadow-lg`})},f.id))})]})},fM=()=>{const{id:t}=lx(),{isDarkMode:e}=k.useContext(jt),[n,i]=k.useState(null);return k.useEffect(()=>{(async()=>{const a=Nl(Zr,"content","blog","posts",t),u=await qm(a);u.exists()?i({id:u.id,...u.data()}):i([{id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being. It affects digestion, immunity, and even mental health."},{type:"list",content:["Eat a balanced diet.","Stay hydrated.","Get regular exercise."]},{type:"bullet",content:["Fiber-rich foods","Probiotics","Adequate sleep"]},{type:"image",content:"https://example.com/gut-health-image.jpg"},{type:"link",content:{url:"https://example.com/learn-more",text:"Learn More About Gut Health"}},{type:"paragraph",content:"A healthy gut can prevent chronic diseases and improve your quality of life."}]}].find(f=>f.id===t)||null)})()},[t]),n?E.jsx("div",{className:`min-h-screen container mx-auto px-6 py-12 ${e?"bg-stone-900":"bg-stone-50"}`,children:E.jsxs("div",{className:"max-w-3xl mx-auto",children:[E.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:n.title}),E.jsx("p",{className:`text-lg mb-8 transition-colors duration-300 ease-in-out ${e?"text-stone-400":"text-stone-500"}`,children:n.date}),E.jsx("div",{className:`prose prose-lg max-w-none transition-colors duration-300 ease-in-out ${e?"text-stone-200 prose-invert":"text-stone-700"}`,children:n.blocks&&n.blocks.length>0?n.blocks.map((o,a)=>E.jsx("div",{className:"mb-6",children:o.type==="paragraph"?E.jsx("p",{children:o.content}):o.type==="list"&&Array.isArray(o.content)?E.jsx("ol",{className:"list-decimal pl-6 space-y-2",children:o.content.map((u,h)=>E.jsx("li",{children:u},h))}):o.type==="bullet"&&Array.isArray(o.content)?E.jsx("ul",{className:"list-disc pl-6 space-y-2",children:o.content.map((u,h)=>E.jsx("li",{children:u},h))}):o.type==="image"&&o.content?E.jsx("img",{src:o.content,alt:"Blog content",className:"w-full max-w-md mx-auto rounded-lg shadow-md"}):o.type==="link"&&o.content.url?E.jsx(pr,{to:o.content.url,target:"_blank",rel:"noopener noreferrer",className:`underline transition-colors duration-300 ease-in-out ${e?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-500"}`,children:o.content.text||o.content.url}):E.jsx("p",{className:"text-red-500",children:"Invalid block format"})},a)):E.jsx("p",{children:"No content available."})}),E.jsx(cn,{to:"/blog",variant:"primary",className:"mt-8 bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]})}):E.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${e?"bg-stone-900":"bg-stone-50"}`,children:[E.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:"Post Not Found"}),E.jsx(cn,{to:"/blog",variant:"primary",className:"bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]})},pM=[{question:"What is gut health?",answer:"Gut health refers to the balance of microorganisms in your digestive tract."},{question:"How can I improve my gut health?",answer:"Eating fiber-rich foods, fermented foods, and avoiding processed sugars can help."},{question:"What foods are good for gut health?",answer:"Fermented foods like yogurt, kimchi, and kefir, along with fiber-rich vegetables like broccoli and beans, are great for gut health."},{question:"Can stress affect gut health?",answer:"Yes, stress can alter the balance of gut bacteria and affect digestion, leading to issues like bloating or stomach discomfort."}];function mM(){const{isDarkMode:t}=k.useContext(jt);return E.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[E.jsx("h1",{className:`text-4xl font-extrabold text-center mb-6 ${t?"text-green-300":"text-green-700"}`,children:"Frequently Asked Questions"}),E.jsx("div",{className:"space-y-4",children:pM.map((e,n)=>E.jsxs("details",{className:`group border p-4 rounded-lg shadow-md transition-all duration-300 ease-in-out ${t?"bg-gray-800 border-gray-700 text-gray-300":"bg-white border-gray-300 text-gray-800"}`,children:[E.jsxs("summary",{className:`cursor-pointer font-semibold text-lg flex justify-between items-center ${t?"group-open:text-green-400":"group-open:text-green-600"}`,children:[e.question,E.jsx("span",{className:"text-green-500 group-open:rotate-180 transition-transform duration-300",children:""})]}),E.jsx("p",{className:"mt-2 text-gray-600",children:e.answer})]},n))})]})}function gM(){const{isDarkMode:t}=k.useContext(jt),[e,n]=k.useState({name:"",email:"",message:""}),[i,o]=k.useState(""),a=h=>{const{name:f,value:p}=h.target;n(y=>({...y,[f]:p}))},u=h=>{h.preventDefault(),console.log("Form submitted:",e),o("Thank you! Your inquiry has been received."),n({name:"",email:"",message:""}),setTimeout(()=>o(""),3e3)};return E.jsx("div",{className:`min-h-screen py-12 px-4 ${t?"bg-stone-900":"bg-white"}`,children:E.jsxs("div",{className:"max-w-2xl mx-auto",children:[E.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Contact Us"}),E.jsx("p",{className:`mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Have any questions or inquiries? Fill out the form below, and we'll get back to you as soon as possible!"}),E.jsxs("form",{onSubmit:u,className:"space-y-6",children:[E.jsxs("div",{children:[E.jsx("label",{htmlFor:"name",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Name"}),E.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:a,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your Name"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Email"}),E.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:a,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"your@email.com"})]}),E.jsxs("div",{children:[E.jsx("label",{htmlFor:"message",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Message"}),E.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:a,required:!0,rows:"5",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your inquiry or message..."})]}),E.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Send Message"}),i&&E.jsx("p",{className:`mt-4 text-center transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:i})]})]})})}function yM(){const{isDarkMode:t}=k.useContext(jt),[e,n]=k.useState(""),[i,o]=k.useState(!1),a=Ml(),u=()=>{e==="agp9489"?o(!0):alert("Incorrect password")};return i?E.jsxs("div",{className:`min-h-screen flex flex-col items-center justify-center ${t?"bg-stone-900":"bg-white"}`,children:[E.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-8`,children:"Admin Dashboard"}),E.jsxs("div",{className:"flex flex-col gap-4",children:[E.jsx("button",{onClick:()=>a("/admin/home"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Edit Home Page Content"}),E.jsx("button",{onClick:()=>a("/admin/blog"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Manage Blog Posts"}),E.jsx("button",{onClick:()=>a("/"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Home"})]})]}):E.jsx("div",{className:`min-h-screen flex items-center justify-center ${t?"bg-stone-900":"bg-white"}`,children:E.jsxs("div",{className:`p-6 ${t?"bg-stone-800":"bg-stone-100"} rounded shadow`,children:[E.jsx("h2",{className:`text-2xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-4`,children:"Admin Login"}),E.jsx("input",{type:"password",value:e,onChange:h=>n(h.target.value),className:`border p-2 w-full mb-4 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Enter password"}),E.jsx("button",{onClick:u,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Login"})]})})}function vM(){const{isDarkMode:t}=k.useContext(jt),[e,n]=k.useState([""]),[i,o]=k.useState(""),[a,u]=k.useState([""]),[h,f]=k.useState([""]),[p,y]=k.useState([]),[_,w]=k.useState(""),[S,P]=k.useState([""]),[M,D]=k.useState(null),j=Ml();k.useEffect(()=>{(async()=>{var J,oe,xe,Re,$e,lt,xn,Ar;try{const wn=Nl(Zr,"content","home"),tr=await qm(wn);if(tr.exists()){const gt=tr.data();n((J=gt.quotes)!=null&&J.length?gt.quotes:[""]),o(((oe=gt.currentWorkout)==null?void 0:oe.description)||""),u((Re=(xe=gt.currentWorkout)==null?void 0:xe.warmup)!=null&&Re.length?gt.currentWorkout.warmup:[""]),f((lt=($e=gt.currentWorkout)==null?void 0:$e.main)!=null&&lt.length?gt.currentWorkout.main:[""]),y((xn=gt.scheduledWorkouts)!=null&&xn.length?gt.scheduledWorkouts.map(Pr=>({...Pr,warmup:Pr.warmup||[""],main:Pr.main||[""]})):[{description:"",warmup:[""],main:[""],updateDateTime:""}]),w(gt.aboutUs||""),P((Ar=gt.dailyChallenges)!=null&&Ar.length?gt.dailyChallenges:[""])}}catch(wn){D("Failed to load content: "+wn.message)}})()},[]);const $=async()=>{D(null);const ie={quotes:e.filter(J=>J.trim()!==""),currentWorkout:{description:i,warmup:a.filter(J=>J.trim()!==""),main:h.filter(J=>J.trim()!=="")},scheduledWorkouts:p.filter(J=>J.description.trim()&&(J.warmup.length>0||J.main.length>0)&&J.updateDateTime.trim()).map(J=>({description:J.description,warmup:J.warmup.filter(oe=>oe.trim()!==""),main:J.main.filter(oe=>oe.trim()!==""),updateDateTime:J.updateDateTime})),aboutUs:_.trim(),dailyChallenges:S.filter(J=>J.trim()!==""),lastUpdated:new Date().toISOString()};try{await Km(Nl(Zr,"content","home"),ie),alert("Home page content saved successfully!"),j("/admin")}catch(J){D("Error saving changes: "+J.message)}},O=()=>n([...e,""]),U=ie=>n(e.filter((J,oe)=>oe!==ie)),z=(ie,J)=>{const oe=[...e];oe[ie]=J,n(oe)},X=()=>u([...a,""]),I=ie=>u(a.filter((J,oe)=>oe!==ie)),A=(ie,J)=>{const oe=[...a];oe[ie]=J,u(oe)},b=()=>f([...h,""]),V=ie=>f(h.filter((J,oe)=>oe!==ie)),F=(ie,J)=>{const oe=[...h];oe[ie]=J,f(oe)},W=()=>y([...p,{description:"",warmup:[""],main:[""],updateDateTime:""}]),R=ie=>y(p.filter((J,oe)=>oe!==ie)),je=(ie,J,oe)=>{const xe=[...p];xe[ie][J]=oe,y(xe)},et=ie=>{const J=[...p];J[ie].warmup.push(""),y(J)},Ke=(ie,J)=>{const oe=[...p];oe[ie].warmup=oe[ie].warmup.filter((xe,Re)=>Re!==J),y(oe)},Ce=(ie,J,oe)=>{const xe=[...p];xe[ie].warmup[J]=oe,y(xe)},ae=ie=>{const J=[...p];J[ie].main.push(""),y(J)},ge=(ie,J)=>{const oe=[...p];oe[ie].main=oe[ie].main.filter((xe,Re)=>Re!==J),y(oe)},ce=(ie,J,oe)=>{const xe=[...p];xe[ie].main[J]=oe,y(xe)},H=()=>P([...S,""]),Z=ie=>P(S.filter((J,oe)=>oe!==ie)),ve=(ie,J)=>{const oe=[...S];oe[ie]=J,P(oe)};return E.jsxs("div",{className:`min-h-screen p-6 ${t?"bg-stone-900":"bg-white"}`,children:[E.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-6`,children:"Edit Home Page Content"}),M&&E.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:M}),E.jsxs("div",{className:"mb-6",children:[E.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Quotes"}),e.map((ie,J)=>E.jsxs("div",{className:"flex mb-2",children:[E.jsx("input",{type:"text",value:ie,onChange:oe=>z(J,oe.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Quote ${J+1}`}),E.jsx("button",{onClick:()=>U(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:e.length===1,children:"Remove"})]},J)),E.jsx("button",{onClick:O,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Quote"})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"About Us"}),E.jsx("textarea",{value:_,onChange:ie=>w(ie.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"About Us text"})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Current Workout of the Day"}),E.jsx("textarea",{value:i,onChange:ie=>o(ie.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Current workout description"}),E.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-blue-300":"text-blue-600"} mt-4 mb-2`,children:"Warm Up Exercises"}),a.map((ie,J)=>E.jsxs("div",{className:"flex mb-2",children:[E.jsx("input",{type:"text",value:ie,onChange:oe=>A(J,oe.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Warm Up ${J+1}`}),E.jsx("button",{onClick:()=>I(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:a.length===1,children:"Remove"})]},`warmup-${J}`)),E.jsx("button",{onClick:X,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mb-4",children:"Add Warm Up Exercise"}),E.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mt-4 mb-2`,children:"Main Workout Exercises"}),h.map((ie,J)=>E.jsxs("div",{className:"flex mb-2",children:[E.jsx("input",{type:"text",value:ie,onChange:oe=>F(J,oe.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Main Exercise ${J+1}`}),E.jsx("button",{onClick:()=>V(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:h.length===1,children:"Remove"})]},`main-${J}`)),E.jsx("button",{onClick:b,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Main Exercise"})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Scheduled Workouts"}),p.map((ie,J)=>E.jsxs("div",{className:`mb-4 border p-4 rounded ${t?"border-stone-600":"border-red-300"}`,children:[E.jsx("input",{type:"datetime-local",value:ie.updateDateTime?ie.updateDateTime.slice(0,16):"",onChange:oe=>je(J,"updateDateTime",new Date(oe.target.value).toISOString()),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Update Date and Time"}),E.jsx("textarea",{value:ie.description,onChange:oe=>je(J,"description",oe.target.value),className:`border p-2 w-full h-24 mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Workout Description"}),E.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-blue-300":"text-blue-600"} mt-2 mb-2`,children:"Warm Up Exercises"}),ie.warmup.map((oe,xe)=>E.jsxs("div",{className:"flex mb-2",children:[E.jsx("input",{type:"text",value:oe,onChange:Re=>Ce(J,xe,Re.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Warm Up ${xe+1}`}),E.jsx("button",{onClick:()=>Ke(J,xe),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:ie.warmup.length===1,children:"Remove"})]},`warmup-${J}-${xe}`)),E.jsx("button",{onClick:()=>et(J),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mb-4",children:"Add Warm Up Exercise"}),E.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mt-2 mb-2`,children:"Main Workout Exercises"}),ie.main.map((oe,xe)=>E.jsxs("div",{className:"flex mb-2",children:[E.jsx("input",{type:"text",value:oe,onChange:Re=>ce(J,xe,Re.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Main Exercise ${xe+1}`}),E.jsx("button",{onClick:()=>ge(J,xe),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:ie.main.length===1,children:"Remove"})]},`main-${J}-${xe}`)),E.jsx("button",{onClick:()=>ae(J),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mr-2",children:"Add Main Exercise"}),E.jsx("button",{onClick:()=>R(J),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",disabled:p.length===1&&!p[0].description,children:"Remove Workout"})]},J)),E.jsx("button",{onClick:W,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Scheduled Workout"})]}),E.jsxs("div",{className:"mb-6",children:[E.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Daily Gut Health Challenges"}),S.map((ie,J)=>E.jsxs("div",{className:"flex mb-2",children:[E.jsx("input",{type:"text",value:ie,onChange:oe=>ve(J,oe.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Challenge ${J+1}`}),E.jsx("button",{onClick:()=>Z(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:S.length===1,children:"Remove"})]},J)),E.jsx("button",{onClick:H,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Challenge"})]}),E.jsx("button",{onClick:$,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Save Changes"}),E.jsx("button",{onClick:()=>j("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Admin Dashboard"})]})}function _M(){const{isDarkMode:t}=k.useContext(jt),[e,n]=k.useState([]),[i,o]=k.useState(null),a=Ml();k.useEffect(()=>{(async()=>{try{const O=th(Zr,"content","blog","posts"),z=(await rh(O)).docs.map(X=>({id:X.id,title:X.data().title||"",date:X.data().date||"",blocks:X.data().blocks||[{type:"paragraph",content:""}]}));n(z.length?z:[{id:"",title:"",date:"",blocks:[{type:"paragraph",content:""}]}])}catch(O){o("Failed to load blog posts: "+O.message)}})()},[]);const u=async()=>{o(null);try{const $=th(Zr,"content","blog","posts"),O=await rh($);for(const U of O.docs)await yV(U.ref);for(const U of e)if(U.title.trim()&&U.date.trim()&&U.blocks.some(z=>z.type==="paragraph"||z.type==="image"||z.type==="link"?z.content.trim():z.content.some(X=>X.trim()))){const z=U.id||Date.now().toString();await Km(Nl($,z),{id:z,title:U.title,date:U.date,blocks:U.blocks.map(X=>({type:X.type,content:X.type==="paragraph"||X.type==="image"?X.content:X.type==="link"?{url:X.content.url,text:X.content.text}:X.content.filter(I=>I.trim()!=="")}))})}alert("Blog posts saved successfully!"),a("/admin")}catch($){o("Error saving blog posts: "+$.message)}},h=()=>n([...e,{id:"",title:"",date:"",blocks:[{type:"paragraph",content:""}]}]),f=$=>n(e.filter((O,U)=>U!==$)),p=($,O,U)=>{const z=[...e];z[$]={...z[$],[O]:U},n(z)},y=($,O)=>{const U=[...e];U[$].blocks.push({type:O,content:O==="paragraph"||O==="image"?"":O==="link"?{url:"",text:""}:[""]}),n(U)},_=($,O)=>{const U=[...e];U[$].blocks=U[$].blocks.filter((z,X)=>X!==O),n(U)},w=($,O,U)=>{const z=[...e];z[$].blocks[O]={type:U,content:U==="paragraph"||U==="image"?"":U==="link"?{url:"",text:""}:[""]},n(z)},S=($,O,U)=>{const z=[...e];z[$].blocks[O].content=U,n(z)},P=($,O,U,z)=>{const X=[...e];X[$].blocks[O].content[U]=z,n(X)},M=($,O)=>{const U=[...e];U[$].blocks[O].content.push(""),n(U)},D=($,O,U)=>{const z=[...e];z[$].blocks[O].content=z[$].blocks[O].content.filter((X,I)=>I!==U),n(z)},j=($,O,U,z)=>{const X=[...e];X[$].blocks[O].content[U]=z,n(X)};return E.jsxs("div",{className:`min-h-screen p-6 ${t?"bg-stone-900":"bg-white"}`,children:[E.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-6`,children:"Manage Blog Posts"}),i&&E.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:i}),E.jsxs("div",{className:"mb-6",children:[e.map(($,O)=>E.jsxs("div",{className:`mb-4 border p-4 rounded ${t?"border-stone-600":"border-red-300"}`,children:[E.jsx("input",{type:"text",value:$.title,onChange:U=>p(O,"title",U.target.value),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Blog Title"}),E.jsx("input",{type:"text",value:$.date,onChange:U=>p(O,"date",U.target.value),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Date (e.g., January 15, 2025)"}),E.jsxs("div",{className:"mb-2",children:[E.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Content Blocks"}),$.blocks.map((U,z)=>E.jsxs("div",{className:"mb-4 border-t pt-2 mt-2 border-stone-400",children:[E.jsxs("div",{className:"flex items-center mb-2",children:[E.jsx("label",{className:`mr-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Block Type:"}),E.jsxs("select",{value:U.type,onChange:X=>w(O,z,X.target.value),className:`border p-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,children:[E.jsx("option",{value:"paragraph",children:"Paragraph"}),E.jsx("option",{value:"list",children:"Numbered List"}),E.jsx("option",{value:"bullet",children:"Bullet Points"}),E.jsx("option",{value:"image",children:"Image"}),E.jsx("option",{value:"link",children:"Link"})]}),E.jsx("button",{onClick:()=>_(O,z),className:"ml-2 bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:$.blocks.length===1,children:"Remove Block"})]}),U.type==="paragraph"?E.jsx("textarea",{value:U.content,onChange:X=>S(O,z,X.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Paragraph Content"}):U.type==="image"?E.jsxs("div",{className:"space-y-2",children:[E.jsx("input",{type:"text",value:U.content,onChange:X=>S(O,z,X.target.value),className:`border p-2 w-full ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Image URL (e.g., https://example.com/image.jpg)"}),U.content&&E.jsx("img",{src:U.content,alt:"Preview",className:"w-full max-w-xs rounded-lg shadow-md"})]}):U.type==="link"?E.jsxs("div",{className:"space-y-2",children:[E.jsx("input",{type:"text",value:U.content.url,onChange:X=>P(O,z,"url",X.target.value),className:`border p-2 w-full ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Link URL (e.g., https://example.com)"}),E.jsx("input",{type:"text",value:U.content.text,onChange:X=>P(O,z,"text",X.target.value),className:`border p-2 w-full ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Link Text (e.g., Click here)"})]}):E.jsxs("div",{children:[U.content.map((X,I)=>E.jsxs("div",{className:"flex mb-2",children:[E.jsx("input",{type:"text",value:X,onChange:A=>j(O,z,I,A.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Item ${I+1}`}),E.jsx("button",{onClick:()=>D(O,z,I),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:U.content.length===1,children:"Remove"})]},I)),E.jsx("button",{onClick:()=>M(O,z),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add List Item"})]})]},z)),E.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[E.jsx("button",{onClick:()=>y(O,"paragraph"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Paragraph"}),E.jsx("button",{onClick:()=>y(O,"list"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Numbered List"}),E.jsx("button",{onClick:()=>y(O,"bullet"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Bullet Points"}),E.jsx("button",{onClick:()=>y(O,"image"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Image"}),E.jsx("button",{onClick:()=>y(O,"link"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Link"})]})]}),E.jsx("button",{onClick:()=>f(O),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",disabled:e.length===1,children:"Remove Post"})]},O)),E.jsx("button",{onClick:h,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Blog Post"})]}),E.jsx("button",{onClick:u,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Save Changes"}),E.jsx("button",{onClick:()=>a("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Admin Dashboard"})]})}const jt=k.createContext();function xM(){const[t,e]=k.useState(!1),n=()=>e(i=>!i);return E.jsx(XV,{children:E.jsx(jt.Provider,{value:{isDarkMode:t,toggleTheme:n},children:E.jsx(TA,{basename:"/aussie-gut-pack",children:E.jsx(Np,{children:E.jsx(Rp,{classNames:"fade",timeout:300,children:E.jsx(ZC,{children:E.jsxs(Jt,{path:"/",element:E.jsx(YA,{}),children:[E.jsx(Jt,{index:!0,element:E.jsx(QV,{})}),E.jsx(Jt,{path:"products",element:E.jsx(aM,{})}),E.jsx(Jt,{path:"checkout",element:E.jsx(lM,{})})," ",E.jsx(Jt,{path:"gut-health",element:E.jsx(uM,{})}),E.jsx(Jt,{path:"gut-health/:id",element:E.jsx(cM,{})}),E.jsx(Jt,{path:"purchase",element:E.jsx(hM,{})}),E.jsx(Jt,{path:"blog",element:E.jsx(dM,{})}),E.jsx(Jt,{path:"blog/:id",element:E.jsx(fM,{})}),E.jsx(Jt,{path:"faq",element:E.jsx(mM,{})}),E.jsx(Jt,{path:"contact",element:E.jsx(gM,{})}),E.jsx(Jt,{path:"admin",element:E.jsx(yM,{})}),E.jsx(Jt,{path:"admin/home",element:E.jsx(vM,{})}),E.jsx(Jt,{path:"admin/blog",element:E.jsx(_M,{})})]})})},window.location.pathname)})})})})}console.log("Main.jsx is running");oC.createRoot(document.getElementById("root")).render(E.jsx(Mn.StrictMode,{children:E.jsx(xM,{})}));
