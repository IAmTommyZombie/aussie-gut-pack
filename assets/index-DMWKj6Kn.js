(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Fp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ff={exports:{}},ll={},pf={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function Gb(){if(I0)return Ne;I0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function E(q){return q===null||typeof q!="object"?null:(q=x&&q[x]||q["@@iterator"],typeof q=="function"?q:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,L={};function D(q,Z,ve){this.props=q,this.context=Z,this.refs=L,this.updater=ve||S}D.prototype.isReactComponent={},D.prototype.setState=function(q,Z){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Z,"setState")},D.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function F(){}F.prototype=D.prototype;function W(q,Z,ve){this.props=q,this.context=Z,this.refs=L,this.updater=ve||S}var N=W.prototype=new F;N.constructor=W,P(N,D.prototype),N.isPureReactComponent=!0;var A=Array.isArray,j=Object.prototype.hasOwnProperty,U={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function C(q,Z,ve){var se,J={},oe=null,_e=null;if(Z!=null)for(se in Z.ref!==void 0&&(_e=Z.ref),Z.key!==void 0&&(oe=""+Z.key),Z)j.call(Z,se)&&!k.hasOwnProperty(se)&&(J[se]=Z[se]);var Ie=arguments.length-2;if(Ie===1)J.children=ve;else if(1<Ie){for(var Be=Array(Ie),ct=0;ct<Ie;ct++)Be[ct]=arguments[ct+2];J.children=Be}if(q&&q.defaultProps)for(se in Ie=q.defaultProps,Ie)J[se]===void 0&&(J[se]=Ie[se]);return{$$typeof:t,type:q,key:oe,ref:_e,props:J,_owner:U.current}}function R(q,Z){return{$$typeof:t,type:q.type,key:Z,ref:q.ref,props:q.props,_owner:q._owner}}function O(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function B(q){var Z={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ve){return Z[ve]})}var H=/\/+/g;function V(q,Z){return typeof q=="object"&&q!==null&&q.key!=null?B(""+q.key):Z.toString(36)}function Oe(q,Z,ve,se,J){var oe=typeof q;(oe==="undefined"||oe==="boolean")&&(q=null);var _e=!1;if(q===null)_e=!0;else switch(oe){case"string":case"number":_e=!0;break;case"object":switch(q.$$typeof){case t:case e:_e=!0}}if(_e)return _e=q,J=J(_e),q=se===""?"."+V(_e,0):se,A(J)?(ve="",q!=null&&(ve=q.replace(H,"$&/")+"/"),Oe(J,Z,ve,"",function(ct){return ct})):J!=null&&(O(J)&&(J=R(J,ve+(!J.key||_e&&_e.key===J.key?"":(""+J.key).replace(H,"$&/")+"/")+q)),Z.push(J)),1;if(_e=0,se=se===""?".":se+":",A(q))for(var Ie=0;Ie<q.length;Ie++){oe=q[Ie];var Be=se+V(oe,Ie);_e+=Oe(oe,Z,ve,Be,J)}else if(Be=E(q),typeof Be=="function")for(q=Be.call(q),Ie=0;!(oe=q.next()).done;)oe=oe.value,Be=se+V(oe,Ie++),_e+=Oe(oe,Z,ve,Be,J);else if(oe==="object")throw Z=String(q),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return _e}function et(q,Z,ve){if(q==null)return q;var se=[],J=0;return Oe(q,se,"","",function(oe){return Z.call(ve,oe,J++)}),se}function Ge(q){if(q._status===-1){var Z=q._result;Z=Z(),Z.then(function(ve){(q._status===0||q._status===-1)&&(q._status=1,q._result=ve)},function(ve){(q._status===0||q._status===-1)&&(q._status=2,q._result=ve)}),q._status===-1&&(q._status=0,q._result=Z)}if(q._status===1)return q._result.default;throw q._result}var be={current:null},ae={transition:null},ge={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:ae,ReactCurrentOwner:U};function ce(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:et,forEach:function(q,Z,ve){et(q,function(){Z.apply(this,arguments)},ve)},count:function(q){var Z=0;return et(q,function(){Z++}),Z},toArray:function(q){return et(q,function(Z){return Z})||[]},only:function(q){if(!O(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ne.Component=D,Ne.Fragment=n,Ne.Profiler=i,Ne.PureComponent=W,Ne.StrictMode=r,Ne.Suspense=f,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,Ne.act=ce,Ne.cloneElement=function(q,Z,ve){if(q==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+q+".");var se=P({},q.props),J=q.key,oe=q.ref,_e=q._owner;if(Z!=null){if(Z.ref!==void 0&&(oe=Z.ref,_e=U.current),Z.key!==void 0&&(J=""+Z.key),q.type&&q.type.defaultProps)var Ie=q.type.defaultProps;for(Be in Z)j.call(Z,Be)&&!k.hasOwnProperty(Be)&&(se[Be]=Z[Be]===void 0&&Ie!==void 0?Ie[Be]:Z[Be])}var Be=arguments.length-2;if(Be===1)se.children=ve;else if(1<Be){Ie=Array(Be);for(var ct=0;ct<Be;ct++)Ie[ct]=arguments[ct+2];se.children=Ie}return{$$typeof:t,type:q.type,key:J,ref:oe,props:se,_owner:_e}},Ne.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},q.Provider={$$typeof:a,_context:q},q.Consumer=q},Ne.createElement=C,Ne.createFactory=function(q){var Z=C.bind(null,q);return Z.type=q,Z},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(q){return{$$typeof:d,render:q}},Ne.isValidElement=O,Ne.lazy=function(q){return{$$typeof:g,_payload:{_status:-1,_result:q},_init:Ge}},Ne.memo=function(q,Z){return{$$typeof:p,type:q,compare:Z===void 0?null:Z}},Ne.startTransition=function(q){var Z=ae.transition;ae.transition={};try{q()}finally{ae.transition=Z}},Ne.unstable_act=ce,Ne.useCallback=function(q,Z){return be.current.useCallback(q,Z)},Ne.useContext=function(q){return be.current.useContext(q)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(q){return be.current.useDeferredValue(q)},Ne.useEffect=function(q,Z){return be.current.useEffect(q,Z)},Ne.useId=function(){return be.current.useId()},Ne.useImperativeHandle=function(q,Z,ve){return be.current.useImperativeHandle(q,Z,ve)},Ne.useInsertionEffect=function(q,Z){return be.current.useInsertionEffect(q,Z)},Ne.useLayoutEffect=function(q,Z){return be.current.useLayoutEffect(q,Z)},Ne.useMemo=function(q,Z){return be.current.useMemo(q,Z)},Ne.useReducer=function(q,Z,ve){return be.current.useReducer(q,Z,ve)},Ne.useRef=function(q){return be.current.useRef(q)},Ne.useState=function(q){return be.current.useState(q)},Ne.useSyncExternalStore=function(q,Z,ve){return be.current.useSyncExternalStore(q,Z,ve)},Ne.useTransition=function(){return be.current.useTransition()},Ne.version="18.3.1",Ne}var k0;function $p(){return k0||(k0=1,pf.exports=Gb()),pf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function Qb(){if(N0)return ll;N0=1;var t=$p(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,x={},E=null,S=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(S=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(x[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)x[g]===void 0&&(x[g]=f[g]);return{$$typeof:e,type:d,key:E,ref:S,props:x,_owner:i.current}}return ll.Fragment=n,ll.jsx=u,ll.jsxs=u,ll}var D0;function Xb(){return D0||(D0=1,ff.exports=Qb()),ff.exports}var _=Xb(),I=$p();const zn=Fp(I);var vc={},mf={exports:{}},fn={},gf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function Yb(){return V0||(V0=1,function(t){function e(ae,ge){var ce=ae.length;ae.push(ge);e:for(;0<ce;){var q=ce-1>>>1,Z=ae[q];if(0<i(Z,ge))ae[q]=ge,ae[ce]=Z,ce=q;else break e}}function n(ae){return ae.length===0?null:ae[0]}function r(ae){if(ae.length===0)return null;var ge=ae[0],ce=ae.pop();if(ce!==ge){ae[0]=ce;e:for(var q=0,Z=ae.length,ve=Z>>>1;q<ve;){var se=2*(q+1)-1,J=ae[se],oe=se+1,_e=ae[oe];if(0>i(J,ce))oe<Z&&0>i(_e,J)?(ae[q]=_e,ae[oe]=ce,q=oe):(ae[q]=J,ae[se]=ce,q=se);else if(oe<Z&&0>i(_e,ce))ae[q]=_e,ae[oe]=ce,q=oe;else break e}}return ge}function i(ae,ge){var ce=ae.sortIndex-ge.sortIndex;return ce!==0?ce:ae.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,x=null,E=3,S=!1,P=!1,L=!1,D=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(ae){for(var ge=n(p);ge!==null;){if(ge.callback===null)r(p);else if(ge.startTime<=ae)r(p),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=n(p)}}function A(ae){if(L=!1,N(ae),!P)if(n(f)!==null)P=!0,Ge(j);else{var ge=n(p);ge!==null&&be(A,ge.startTime-ae)}}function j(ae,ge){P=!1,L&&(L=!1,F(C),C=-1),S=!0;var ce=E;try{for(N(ge),x=n(f);x!==null&&(!(x.expirationTime>ge)||ae&&!B());){var q=x.callback;if(typeof q=="function"){x.callback=null,E=x.priorityLevel;var Z=q(x.expirationTime<=ge);ge=t.unstable_now(),typeof Z=="function"?x.callback=Z:x===n(f)&&r(f),N(ge)}else r(f);x=n(f)}if(x!==null)var ve=!0;else{var se=n(p);se!==null&&be(A,se.startTime-ge),ve=!1}return ve}finally{x=null,E=ce,S=!1}}var U=!1,k=null,C=-1,R=5,O=-1;function B(){return!(t.unstable_now()-O<R)}function H(){if(k!==null){var ae=t.unstable_now();O=ae;var ge=!0;try{ge=k(!0,ae)}finally{ge?V():(U=!1,k=null)}}else U=!1}var V;if(typeof W=="function")V=function(){W(H)};else if(typeof MessageChannel<"u"){var Oe=new MessageChannel,et=Oe.port2;Oe.port1.onmessage=H,V=function(){et.postMessage(null)}}else V=function(){D(H,0)};function Ge(ae){k=ae,U||(U=!0,V())}function be(ae,ge){C=D(function(){ae(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ae){ae.callback=null},t.unstable_continueExecution=function(){P||S||(P=!0,Ge(j))},t.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<ae?Math.floor(1e3/ae):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(ae){switch(E){case 1:case 2:case 3:var ge=3;break;default:ge=E}var ce=E;E=ge;try{return ae()}finally{E=ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ae,ge){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ce=E;E=ae;try{return ge()}finally{E=ce}},t.unstable_scheduleCallback=function(ae,ge,ce){var q=t.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?q+ce:q):ce=q,ae){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ce+Z,ae={id:g++,callback:ge,priorityLevel:ae,startTime:ce,expirationTime:Z,sortIndex:-1},ce>q?(ae.sortIndex=ce,e(p,ae),n(f)===null&&ae===n(p)&&(L?(F(C),C=-1):L=!0,be(A,ce-q))):(ae.sortIndex=Z,e(f,ae),P||S||(P=!0,Ge(j))),ae},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(ae){var ge=E;return function(){var ce=E;E=ge;try{return ae.apply(this,arguments)}finally{E=ce}}}}(yf)),yf}var M0;function Jb(){return M0||(M0=1,gf.exports=Yb()),gf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function Zb(){if(L0)return fn;L0=1;var t=$p(),e=Jb();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},x={};function E(s){return f.call(x,s)?!0:f.call(g,s)?!1:p.test(s)?x[s]=!0:(g[s]=!0,!1)}function S(s,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,o,l,h){if(o===null||typeof o>"u"||S(s,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function L(s,o,l,h,m,v,T){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=T}var D={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){D[s]=new L(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];D[o]=new L(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){D[s]=new L(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){D[s]=new L(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){D[s]=new L(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){D[s]=new L(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){D[s]=new L(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){D[s]=new L(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){D[s]=new L(s,5,!1,s.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function W(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(F,W);D[o]=new L(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(F,W);D[o]=new L(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(F,W);D[o]=new L(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){D[s]=new L(s,1,!1,s.toLowerCase(),null,!1,!1)}),D.xlinkHref=new L("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){D[s]=new L(s,1,!1,s.toLowerCase(),null,!0,!0)});function N(s,o,l,h){var m=D.hasOwnProperty(o)?D[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(P(o,l,m,h)&&(l=null),h||m===null?E(o)&&(l===null?s.removeAttribute(o):s.setAttribute(o,""+l)):m.mustUseProperty?s[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?s.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?s.setAttributeNS(h,o,l):s.setAttribute(o,l))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,j=Symbol.for("react.element"),U=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),B=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Oe=Symbol.for("react.suspense_list"),et=Symbol.for("react.memo"),Ge=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),ae=Symbol.iterator;function ge(s){return s===null||typeof s!="object"?null:(s=ae&&s[ae]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Object.assign,q;function Z(s){if(q===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);q=o&&o[1]||""}return`
`+q+s}var ve=!1;function se(s,o){if(!s||ve)return"";ve=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(X){var h=X}Reflect.construct(s,[],o)}else{try{o.call()}catch(X){h=X}s.call(o.prototype)}else{try{throw Error()}catch(X){h=X}s()}}catch(X){if(X&&h&&typeof X.stack=="string"){for(var m=X.stack.split(`
`),v=h.stack.split(`
`),T=m.length-1,M=v.length-1;1<=T&&0<=M&&m[T]!==v[M];)M--;for(;1<=T&&0<=M;T--,M--)if(m[T]!==v[M]){if(T!==1||M!==1)do if(T--,M--,0>M||m[T]!==v[M]){var $=`
`+m[T].replace(" at new "," at ");return s.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",s.displayName)),$}while(1<=T&&0<=M);break}}}finally{ve=!1,Error.prepareStackTrace=l}return(s=s?s.displayName||s.name:"")?Z(s):""}function J(s){switch(s.tag){case 5:return Z(s.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return s=se(s.type,!1),s;case 11:return s=se(s.type.render,!1),s;case 1:return s=se(s.type,!0),s;default:return""}}function oe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case k:return"Fragment";case U:return"Portal";case R:return"Profiler";case C:return"StrictMode";case V:return"Suspense";case Oe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case B:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case H:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case et:return o=s.displayName||null,o!==null?o:oe(s.type)||"Memo";case Ge:o=s._payload,s=s._init;try{return oe(s(o))}catch{}}return null}function _e(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(o);case 8:return o===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ie(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Be(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ct(s){var o=Be(s)?"checked":"value",l=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,v=l.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(T){h=""+T,v.call(this,T)}}),Object.defineProperty(s,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(T){h=""+T},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Rn(s){s._valueTracker||(s._valueTracker=ct(s))}function Vr(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return s&&(h=Be(s)?s.checked?"true":"false":s.value),s=h,s!==l?(o.setValue(s),!0):!1}function In(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function cr(s,o){var l=o.checked;return ce({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??s._wrapperState.initialChecked})}function xt(s,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=Ie(o.value!=null?o.value:l),s._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Mr(s,o){o=o.checked,o!=null&&N(s,"checked",o,!1)}function ma(s,o){Mr(s,o);var l=Ie(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&s.value===""||s.value!=l)&&(s.value=""+l):s.value!==""+l&&(s.value=""+l);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?qi(s,o.type,l):o.hasOwnProperty("defaultValue")&&qi(s,o.type,Ie(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function ru(s,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,l||o===s.value||(s.value=o),s.defaultValue=o}l=s.name,l!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,l!==""&&(s.name=l)}function qi(s,o,l){(o!=="number"||In(s.ownerDocument)!==s)&&(l==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+l&&(s.defaultValue=""+l))}var Lr=Array.isArray;function jr(s,o,l,h){if(s=s.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=o.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&h&&(s[l].defaultSelected=!0)}else{for(l=""+Ie(l),o=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function ga(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return ce({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Ki(s,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(n(92));if(Lr(l)){if(1<l.length)throw Error(n(93));l=l[0]}o=l}o==null&&(o=""),l=o}s._wrapperState={initialValue:Ie(l)}}function Gi(s,o){var l=Ie(o.value),h=Ie(o.defaultValue);l!=null&&(l=""+l,l!==s.value&&(s.value=l),o.defaultValue==null&&s.defaultValue!==l&&(s.defaultValue=l)),h!=null&&(s.defaultValue=""+h)}function ya(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function _t(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?_t(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Or,va=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,l,h,m)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Or=Or||document.createElement("div"),Or.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Or.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function ls(s,o){if(o){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=o;return}}s.textContent=o}var ei={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ti=["Webkit","ms","Moz","O"];Object.keys(ei).forEach(function(s){ti.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),ei[o]=ei[s]})});function xa(s,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||ei.hasOwnProperty(s)&&ei[s]?(""+o).trim():o+"px"}function _a(s,o){s=s.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=xa(l,o[l],h);l==="float"&&(l="cssFloat"),h?s.setProperty(l,m):s[l]=m}}var wa=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ea(s,o){if(o){if(wa[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Ta(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ni=null;function Qi(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Xi=null,kn=null,dr=null;function Yi(s){if(s=Ka(s)){if(typeof Xi!="function")throw Error(n(280));var o=s.stateNode;o&&(o=Du(o),Xi(s.stateNode,s.type,o))}}function hr(s){kn?dr?dr.push(s):dr=[s]:kn=s}function Sa(){if(kn){var s=kn,o=dr;if(dr=kn=null,Yi(s),o)for(s=0;s<o.length;s++)Yi(o[s])}}function ri(s,o){return s(o)}function ba(){}var Fr=!1;function Ca(s,o,l){if(Fr)return s(o,l);Fr=!0;try{return ri(s,o,l)}finally{Fr=!1,(kn!==null||dr!==null)&&(ba(),Sa())}}function dt(s,o){var l=s.stateNode;if(l===null)return null;var h=Du(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(n(231,o,typeof l));return l}var Ji=!1;if(d)try{var Hn={};Object.defineProperty(Hn,"passive",{get:function(){Ji=!0}}),window.addEventListener("test",Hn,Hn),window.removeEventListener("test",Hn,Hn)}catch{Ji=!1}function si(s,o,l,h,m,v,T,M,$){var X=Array.prototype.slice.call(arguments,3);try{o.apply(l,X)}catch(ne){this.onError(ne)}}var ii=!1,Zi=null,qn=!1,Aa=null,$d={onError:function(s){ii=!0,Zi=s}};function eo(s,o,l,h,m,v,T,M,$){ii=!1,Zi=null,si.apply($d,arguments)}function su(s,o,l,h,m,v,T,M,$){if(eo.apply(this,arguments),ii){if(ii){var X=Zi;ii=!1,Zi=null}else throw Error(n(198));qn||(qn=!0,Aa=X)}}function Kn(s){var o=s,l=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,o.flags&4098&&(l=o.return),s=o.return;while(s)}return o.tag===3?l:null}function oi(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Gn(s){if(Kn(s)!==s)throw Error(n(188))}function iu(s){var o=s.alternate;if(!o){if(o=Kn(s),o===null)throw Error(n(188));return o!==s?null:s}for(var l=s,h=o;;){var m=l.return;if(m===null)break;var v=m.alternate;if(v===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===l)return Gn(m),s;if(v===h)return Gn(m),o;v=v.sibling}throw Error(n(188))}if(l.return!==h.return)l=m,h=v;else{for(var T=!1,M=m.child;M;){if(M===l){T=!0,l=m,h=v;break}if(M===h){T=!0,h=m,l=v;break}M=M.sibling}if(!T){for(M=v.child;M;){if(M===l){T=!0,l=v,h=m;break}if(M===h){T=!0,h=v,l=m;break}M=M.sibling}if(!T)throw Error(n(189))}}if(l.alternate!==h)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?s:o}function Pa(s){return s=iu(s),s!==null?to(s):null}function to(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=to(s);if(o!==null)return o;s=s.sibling}return null}var no=e.unstable_scheduleCallback,Ra=e.unstable_cancelCallback,ou=e.unstable_shouldYield,Ud=e.unstable_requestPaint,He=e.unstable_now,au=e.unstable_getCurrentPriorityLevel,ai=e.unstable_ImmediatePriority,us=e.unstable_UserBlockingPriority,Nn=e.unstable_NormalPriority,Ia=e.unstable_LowPriority,lu=e.unstable_IdlePriority,li=null,yn=null;function uu(s){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(li,s,void 0,(s.current.flags&128)===128)}catch{}}var Zt=Math.clz32?Math.clz32:du,ka=Math.log,cu=Math.LN2;function du(s){return s>>>=0,s===0?32:31-(ka(s)/cu|0)|0}var ro=64,so=4194304;function cs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function ui(s,o){var l=s.pendingLanes;if(l===0)return 0;var h=0,m=s.suspendedLanes,v=s.pingedLanes,T=l&268435455;if(T!==0){var M=T&~m;M!==0?h=cs(M):(v&=T,v!==0&&(h=cs(v)))}else T=l&~m,T!==0?h=cs(T):v!==0&&(h=cs(v));if(h===0)return 0;if(o!==0&&o!==h&&!(o&m)&&(m=h&-h,v=o&-o,m>=v||m===16&&(v&4194240)!==0))return o;if(h&4&&(h|=l&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)l=31-Zt(o),m=1<<l,h|=s[l],o&=~m;return h}function Bd(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $r(s,o){for(var l=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,v=s.pendingLanes;0<v;){var T=31-Zt(v),M=1<<T,$=m[T];$===-1?(!(M&l)||M&h)&&(m[T]=Bd(M,o)):$<=o&&(s.expiredLanes|=M),v&=~M}}function vn(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function ci(){var s=ro;return ro<<=1,!(ro&4194240)&&(ro=64),s}function ds(s){for(var o=[],l=0;31>l;l++)o.push(s);return o}function hs(s,o,l){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Zt(o),s[o]=l}function We(s,o){var l=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<l;){var m=31-Zt(l),v=1<<m;o[m]=0,h[m]=-1,s[m]=-1,l&=~v}}function fs(s,o){var l=s.entangledLanes|=o;for(s=s.entanglements;l;){var h=31-Zt(l),m=1<<h;m&o|s[h]&o&&(s[h]|=o),l&=~m}}var Ve=0;function ps(s){return s&=-s,1<s?4<s?s&268435455?16:536870912:4:1}var hu,io,fu,pu,mu,Na=!1,fr=[],Vt=null,Qn=null,Xn=null,ms=new Map,Dn=new Map,pr=[],zd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gu(s,o){switch(s){case"focusin":case"focusout":Vt=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":ms.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dn.delete(o.pointerId)}}function on(s,o,l,h,m,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:v,targetContainers:[m]},o!==null&&(o=Ka(o),o!==null&&io(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function Wd(s,o,l,h,m){switch(o){case"focusin":return Vt=on(Vt,s,o,l,h,m),!0;case"dragenter":return Qn=on(Qn,s,o,l,h,m),!0;case"mouseover":return Xn=on(Xn,s,o,l,h,m),!0;case"pointerover":var v=m.pointerId;return ms.set(v,on(ms.get(v)||null,s,o,l,h,m)),!0;case"gotpointercapture":return v=m.pointerId,Dn.set(v,on(Dn.get(v)||null,s,o,l,h,m)),!0}return!1}function yu(s){var o=mi(s.target);if(o!==null){var l=Kn(o);if(l!==null){if(o=l.tag,o===13){if(o=oi(l),o!==null){s.blockedOn=o,mu(s.priority,function(){fu(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ur(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var l=oo(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(l===null){l=s.nativeEvent;var h=new l.constructor(l.type,l);ni=h,l.target.dispatchEvent(h),ni=null}else return o=Ka(l),o!==null&&io(o),s.blockedOn=l,!1;o.shift()}return!0}function di(s,o,l){Ur(s)&&l.delete(o)}function vu(){Na=!1,Vt!==null&&Ur(Vt)&&(Vt=null),Qn!==null&&Ur(Qn)&&(Qn=null),Xn!==null&&Ur(Xn)&&(Xn=null),ms.forEach(di),Dn.forEach(di)}function Yn(s,o){s.blockedOn===o&&(s.blockedOn=null,Na||(Na=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,vu)))}function Jn(s){function o(m){return Yn(m,s)}if(0<fr.length){Yn(fr[0],s);for(var l=1;l<fr.length;l++){var h=fr[l];h.blockedOn===s&&(h.blockedOn=null)}}for(Vt!==null&&Yn(Vt,s),Qn!==null&&Yn(Qn,s),Xn!==null&&Yn(Xn,s),ms.forEach(o),Dn.forEach(o),l=0;l<pr.length;l++)h=pr[l],h.blockedOn===s&&(h.blockedOn=null);for(;0<pr.length&&(l=pr[0],l.blockedOn===null);)yu(l),l.blockedOn===null&&pr.shift()}var Br=A.ReactCurrentBatchConfig,gs=!0;function Ye(s,o,l,h){var m=Ve,v=Br.transition;Br.transition=null;try{Ve=1,Da(s,o,l,h)}finally{Ve=m,Br.transition=v}}function Hd(s,o,l,h){var m=Ve,v=Br.transition;Br.transition=null;try{Ve=4,Da(s,o,l,h)}finally{Ve=m,Br.transition=v}}function Da(s,o,l,h){if(gs){var m=oo(s,o,l,h);if(m===null)nh(s,o,h,hi,l),gu(s,h);else if(Wd(m,s,o,l,h))h.stopPropagation();else if(gu(s,h),o&4&&-1<zd.indexOf(s)){for(;m!==null;){var v=Ka(m);if(v!==null&&hu(v),v=oo(s,o,l,h),v===null&&nh(s,o,h,hi,l),v===m)break;m=v}m!==null&&h.stopPropagation()}else nh(s,o,h,null,l)}}var hi=null;function oo(s,o,l,h){if(hi=null,s=Qi(h),s=mi(s),s!==null)if(o=Kn(s),o===null)s=null;else if(l=o.tag,l===13){if(s=oi(o),s!==null)return s;s=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return hi=s,null}function Va(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(au()){case ai:return 1;case us:return 4;case Nn:case Ia:return 16;case lu:return 536870912;default:return 16}default:return 16}}var xn=null,ao=null,an=null;function Ma(){if(an)return an;var s,o=ao,l=o.length,h,m="value"in xn?xn.value:xn.textContent,v=m.length;for(s=0;s<l&&o[s]===m[s];s++);var T=l-s;for(h=1;h<=T&&o[l-h]===m[v-h];h++);return an=m.slice(s,1<h?1-h:void 0)}function lo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function mr(){return!0}function La(){return!1}function Mt(s){function o(l,h,m,v,T){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=v,this.target=T,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(l=s[M],this[M]=l?l(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?mr:La,this.isPropagationStopped=La,this}return ce(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=mr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=mr)},persist:function(){},isPersistent:mr}),o}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uo=Mt(Zn),gr=ce({},Zn,{view:0,detail:0}),qd=Mt(gr),co,zr,ys,fi=ce({},gr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yr,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ys&&(ys&&s.type==="mousemove"?(co=s.screenX-ys.screenX,zr=s.screenY-ys.screenY):zr=co=0,ys=s),co)},movementY:function(s){return"movementY"in s?s.movementY:zr}}),ho=Mt(fi),ja=ce({},fi,{dataTransfer:0}),xu=Mt(ja),fo=ce({},gr,{relatedTarget:0}),po=Mt(fo),_u=ce({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Wr=Mt(_u),wu=ce({},Zn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Eu=Mt(wu),Tu=ce({},Zn,{data:0}),Oa=Mt(Tu),mo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},en={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bu(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Su[s])?!!o[s]:!1}function yr(){return bu}var c=ce({},gr,{key:function(s){if(s.key){var o=mo[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=lo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?en[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yr,charCode:function(s){return s.type==="keypress"?lo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?lo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=Mt(c),w=ce({},fi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b=Mt(w),K=ce({},gr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yr}),Y=Mt(K),ue=ce({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),ze=Mt(ue),Et=ce({},fi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Me=Mt(Et),Pt=[9,13,27,32],mt=d&&"CompositionEvent"in window,Vn=null;d&&"documentMode"in document&&(Vn=document.documentMode);var _n=d&&"TextEvent"in window&&!Vn,pi=d&&(!mt||Vn&&8<Vn&&11>=Vn),go=" ",Sg=!1;function bg(s,o){switch(s){case"keyup":return Pt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var yo=!1;function HS(s,o){switch(s){case"compositionend":return Cg(o);case"keypress":return o.which!==32?null:(Sg=!0,go);case"textInput":return s=o.data,s===go&&Sg?null:s;default:return null}}function qS(s,o){if(yo)return s==="compositionend"||!mt&&bg(s,o)?(s=Ma(),an=ao=xn=null,yo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return pi&&o.locale!=="ko"?null:o.data;default:return null}}var KS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!KS[s.type]:o==="textarea"}function Pg(s,o,l,h){hr(h),o=Iu(o,"onChange"),0<o.length&&(l=new uo("onChange","change",null,l,h),s.push({event:l,listeners:o}))}var Fa=null,$a=null;function GS(s){qg(s,0)}function Cu(s){var o=Eo(s);if(Vr(o))return s}function QS(s,o){if(s==="change")return o}var Rg=!1;if(d){var Kd;if(d){var Gd="oninput"in document;if(!Gd){var Ig=document.createElement("div");Ig.setAttribute("oninput","return;"),Gd=typeof Ig.oninput=="function"}Kd=Gd}else Kd=!1;Rg=Kd&&(!document.documentMode||9<document.documentMode)}function kg(){Fa&&(Fa.detachEvent("onpropertychange",Ng),$a=Fa=null)}function Ng(s){if(s.propertyName==="value"&&Cu($a)){var o=[];Pg(o,$a,s,Qi(s)),Ca(GS,o)}}function XS(s,o,l){s==="focusin"?(kg(),Fa=o,$a=l,Fa.attachEvent("onpropertychange",Ng)):s==="focusout"&&kg()}function YS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Cu($a)}function JS(s,o){if(s==="click")return Cu(o)}function ZS(s,o){if(s==="input"||s==="change")return Cu(o)}function eb(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var er=typeof Object.is=="function"?Object.is:eb;function Ua(s,o){if(er(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var l=Object.keys(s),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(o,m)||!er(s[m],o[m]))return!1}return!0}function Dg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Vg(s,o){var l=Dg(s);s=0;for(var h;l;){if(l.nodeType===3){if(h=s+l.textContent.length,s<=o&&h>=o)return{node:l,offset:o-s};s=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Dg(l)}}function Mg(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Mg(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Lg(){for(var s=window,o=In();o instanceof s.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)s=o.contentWindow;else break;o=In(s.document)}return o}function Qd(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function tb(s){var o=Lg(),l=s.focusedElem,h=s.selectionRange;if(o!==l&&l&&l.ownerDocument&&Mg(l.ownerDocument.documentElement,l)){if(h!==null&&Qd(l)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(s,l.value.length);else if(s=(o=l.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=l.textContent.length,v=Math.min(h.start,m);h=h.end===void 0?v:Math.min(h.end,m),!s.extend&&v>h&&(m=h,h=v,v=m),m=Vg(l,v);var T=Vg(l,h);m&&T&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==T.node||s.focusOffset!==T.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),v>h?(s.addRange(o),s.extend(T.node,T.offset)):(o.setEnd(T.node,T.offset),s.addRange(o)))}}for(o=[],s=l;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)s=o[l],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var nb=d&&"documentMode"in document&&11>=document.documentMode,vo=null,Xd=null,Ba=null,Yd=!1;function jg(s,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Yd||vo==null||vo!==In(h)||(h=vo,"selectionStart"in h&&Qd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Ba&&Ua(Ba,h)||(Ba=h,h=Iu(Xd,"onSelect"),0<h.length&&(o=new uo("onSelect","select",null,o,l),s.push({event:o,listeners:h}),o.target=vo)))}function Au(s,o){var l={};return l[s.toLowerCase()]=o.toLowerCase(),l["Webkit"+s]="webkit"+o,l["Moz"+s]="moz"+o,l}var xo={animationend:Au("Animation","AnimationEnd"),animationiteration:Au("Animation","AnimationIteration"),animationstart:Au("Animation","AnimationStart"),transitionend:Au("Transition","TransitionEnd")},Jd={},Og={};d&&(Og=document.createElement("div").style,"AnimationEvent"in window||(delete xo.animationend.animation,delete xo.animationiteration.animation,delete xo.animationstart.animation),"TransitionEvent"in window||delete xo.transitionend.transition);function Pu(s){if(Jd[s])return Jd[s];if(!xo[s])return s;var o=xo[s],l;for(l in o)if(o.hasOwnProperty(l)&&l in Og)return Jd[s]=o[l];return s}var Fg=Pu("animationend"),$g=Pu("animationiteration"),Ug=Pu("animationstart"),Bg=Pu("transitionend"),zg=new Map,Wg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(s,o){zg.set(s,o),a(o,[s])}for(var Zd=0;Zd<Wg.length;Zd++){var eh=Wg[Zd],rb=eh.toLowerCase(),sb=eh[0].toUpperCase()+eh.slice(1);vs(rb,"on"+sb)}vs(Fg,"onAnimationEnd"),vs($g,"onAnimationIteration"),vs(Ug,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(Bg,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ib=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function Hg(s,o,l){var h=s.type||"unknown-event";s.currentTarget=l,su(h,o,void 0,s),s.currentTarget=null}function qg(s,o){o=(o&4)!==0;for(var l=0;l<s.length;l++){var h=s[l],m=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var T=h.length-1;0<=T;T--){var M=h[T],$=M.instance,X=M.currentTarget;if(M=M.listener,$!==v&&m.isPropagationStopped())break e;Hg(m,M,X),v=$}else for(T=0;T<h.length;T++){if(M=h[T],$=M.instance,X=M.currentTarget,M=M.listener,$!==v&&m.isPropagationStopped())break e;Hg(m,M,X),v=$}}}if(qn)throw s=Aa,qn=!1,Aa=null,s}function Qe(s,o){var l=o[lh];l===void 0&&(l=o[lh]=new Set);var h=s+"__bubble";l.has(h)||(Kg(o,s,2,!1),l.add(h))}function th(s,o,l){var h=0;o&&(h|=4),Kg(l,s,h,o)}var Ru="_reactListening"+Math.random().toString(36).slice(2);function Wa(s){if(!s[Ru]){s[Ru]=!0,r.forEach(function(l){l!=="selectionchange"&&(ib.has(l)||th(l,!1,s),th(l,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Ru]||(o[Ru]=!0,th("selectionchange",!1,o))}}function Kg(s,o,l,h){switch(Va(o)){case 1:var m=Ye;break;case 4:m=Hd;break;default:m=Da}l=m.bind(null,o,l,s),m=void 0,!Ji||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,l,{capture:!0,passive:m}):s.addEventListener(o,l,!0):m!==void 0?s.addEventListener(o,l,{passive:m}):s.addEventListener(o,l,!1)}function nh(s,o,l,h,m){var v=h;if(!(o&1)&&!(o&2)&&h!==null)e:for(;;){if(h===null)return;var T=h.tag;if(T===3||T===4){var M=h.stateNode.containerInfo;if(M===m||M.nodeType===8&&M.parentNode===m)break;if(T===4)for(T=h.return;T!==null;){var $=T.tag;if(($===3||$===4)&&($=T.stateNode.containerInfo,$===m||$.nodeType===8&&$.parentNode===m))return;T=T.return}for(;M!==null;){if(T=mi(M),T===null)return;if($=T.tag,$===5||$===6){h=v=T;continue e}M=M.parentNode}}h=h.return}Ca(function(){var X=v,ne=Qi(l),ie=[];e:{var te=zg.get(s);if(te!==void 0){var de=uo,pe=s;switch(s){case"keypress":if(lo(l)===0)break e;case"keydown":case"keyup":de=y;break;case"focusin":pe="focus",de=po;break;case"focusout":pe="blur",de=po;break;case"beforeblur":case"afterblur":de=po;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Y;break;case Fg:case $g:case Ug:de=Wr;break;case Bg:de=ze;break;case"scroll":de=qd;break;case"wheel":de=Me;break;case"copy":case"cut":case"paste":de=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=b}var me=(o&4)!==0,ht=!me&&s==="scroll",G=me?te!==null?te+"Capture":null:te;me=[];for(var z=X,Q;z!==null;){Q=z;var le=Q.stateNode;if(Q.tag===5&&le!==null&&(Q=le,G!==null&&(le=dt(z,G),le!=null&&me.push(Ha(z,le,Q)))),ht)break;z=z.return}0<me.length&&(te=new de(te,pe,null,l,ne),ie.push({event:te,listeners:me}))}}if(!(o&7)){e:{if(te=s==="mouseover"||s==="pointerover",de=s==="mouseout"||s==="pointerout",te&&l!==ni&&(pe=l.relatedTarget||l.fromElement)&&(mi(pe)||pe[Hr]))break e;if((de||te)&&(te=ne.window===ne?ne:(te=ne.ownerDocument)?te.defaultView||te.parentWindow:window,de?(pe=l.relatedTarget||l.toElement,de=X,pe=pe?mi(pe):null,pe!==null&&(ht=Kn(pe),pe!==ht||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(de=null,pe=X),de!==pe)){if(me=ho,le="onMouseLeave",G="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(me=b,le="onPointerLeave",G="onPointerEnter",z="pointer"),ht=de==null?te:Eo(de),Q=pe==null?te:Eo(pe),te=new me(le,z+"leave",de,l,ne),te.target=ht,te.relatedTarget=Q,le=null,mi(ne)===X&&(me=new me(G,z+"enter",pe,l,ne),me.target=Q,me.relatedTarget=ht,le=me),ht=le,de&&pe)t:{for(me=de,G=pe,z=0,Q=me;Q;Q=_o(Q))z++;for(Q=0,le=G;le;le=_o(le))Q++;for(;0<z-Q;)me=_o(me),z--;for(;0<Q-z;)G=_o(G),Q--;for(;z--;){if(me===G||G!==null&&me===G.alternate)break t;me=_o(me),G=_o(G)}me=null}else me=null;de!==null&&Gg(ie,te,de,me,!1),pe!==null&&ht!==null&&Gg(ie,ht,pe,me,!0)}}e:{if(te=X?Eo(X):window,de=te.nodeName&&te.nodeName.toLowerCase(),de==="select"||de==="input"&&te.type==="file")var ye=QS;else if(Ag(te))if(Rg)ye=ZS;else{ye=YS;var we=XS}else(de=te.nodeName)&&de.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(ye=JS);if(ye&&(ye=ye(s,X))){Pg(ie,ye,l,ne);break e}we&&we(s,te,X),s==="focusout"&&(we=te._wrapperState)&&we.controlled&&te.type==="number"&&qi(te,"number",te.value)}switch(we=X?Eo(X):window,s){case"focusin":(Ag(we)||we.contentEditable==="true")&&(vo=we,Xd=X,Ba=null);break;case"focusout":Ba=Xd=vo=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,jg(ie,l,ne);break;case"selectionchange":if(nb)break;case"keydown":case"keyup":jg(ie,l,ne)}var Ee;if(mt)e:{switch(s){case"compositionstart":var Ae="onCompositionStart";break e;case"compositionend":Ae="onCompositionEnd";break e;case"compositionupdate":Ae="onCompositionUpdate";break e}Ae=void 0}else yo?bg(s,l)&&(Ae="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Ae="onCompositionStart");Ae&&(pi&&l.locale!=="ko"&&(yo||Ae!=="onCompositionStart"?Ae==="onCompositionEnd"&&yo&&(Ee=Ma()):(xn=ne,ao="value"in xn?xn.value:xn.textContent,yo=!0)),we=Iu(X,Ae),0<we.length&&(Ae=new Oa(Ae,s,null,l,ne),ie.push({event:Ae,listeners:we}),Ee?Ae.data=Ee:(Ee=Cg(l),Ee!==null&&(Ae.data=Ee)))),(Ee=_n?HS(s,l):qS(s,l))&&(X=Iu(X,"onBeforeInput"),0<X.length&&(ne=new Oa("onBeforeInput","beforeinput",null,l,ne),ie.push({event:ne,listeners:X}),ne.data=Ee))}qg(ie,o)})}function Ha(s,o,l){return{instance:s,listener:o,currentTarget:l}}function Iu(s,o){for(var l=o+"Capture",h=[];s!==null;){var m=s,v=m.stateNode;m.tag===5&&v!==null&&(m=v,v=dt(s,l),v!=null&&h.unshift(Ha(s,v,m)),v=dt(s,o),v!=null&&h.push(Ha(s,v,m))),s=s.return}return h}function _o(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Gg(s,o,l,h,m){for(var v=o._reactName,T=[];l!==null&&l!==h;){var M=l,$=M.alternate,X=M.stateNode;if($!==null&&$===h)break;M.tag===5&&X!==null&&(M=X,m?($=dt(l,v),$!=null&&T.unshift(Ha(l,$,M))):m||($=dt(l,v),$!=null&&T.push(Ha(l,$,M)))),l=l.return}T.length!==0&&s.push({event:o,listeners:T})}var ob=/\r\n?/g,ab=/\u0000|\uFFFD/g;function Qg(s){return(typeof s=="string"?s:""+s).replace(ob,`
`).replace(ab,"")}function ku(s,o,l){if(o=Qg(o),Qg(s)!==o&&l)throw Error(n(425))}function Nu(){}var rh=null,sh=null;function ih(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var oh=typeof setTimeout=="function"?setTimeout:void 0,lb=typeof clearTimeout=="function"?clearTimeout:void 0,Xg=typeof Promise=="function"?Promise:void 0,ub=typeof queueMicrotask=="function"?queueMicrotask:typeof Xg<"u"?function(s){return Xg.resolve(null).then(s).catch(cb)}:oh;function cb(s){setTimeout(function(){throw s})}function ah(s,o){var l=o,h=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){s.removeChild(m),Jn(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);Jn(o)}function xs(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Yg(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return s;o--}else l==="/$"&&o++}s=s.previousSibling}return null}var wo=Math.random().toString(36).slice(2),vr="__reactFiber$"+wo,qa="__reactProps$"+wo,Hr="__reactContainer$"+wo,lh="__reactEvents$"+wo,db="__reactListeners$"+wo,hb="__reactHandles$"+wo;function mi(s){var o=s[vr];if(o)return o;for(var l=s.parentNode;l;){if(o=l[Hr]||l[vr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(s=Yg(s);s!==null;){if(l=s[vr])return l;s=Yg(s)}return o}s=l,l=s.parentNode}return null}function Ka(s){return s=s[vr]||s[Hr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Eo(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function Du(s){return s[qa]||null}var uh=[],To=-1;function _s(s){return{current:s}}function Xe(s){0>To||(s.current=uh[To],uh[To]=null,To--)}function qe(s,o){To++,uh[To]=s.current,s.current=o}var ws={},zt=_s(ws),ln=_s(!1),gi=ws;function So(s,o){var l=s.type.contextTypes;if(!l)return ws;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},v;for(v in l)m[v]=o[v];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function un(s){return s=s.childContextTypes,s!=null}function Vu(){Xe(ln),Xe(zt)}function Jg(s,o,l){if(zt.current!==ws)throw Error(n(168));qe(zt,o),qe(ln,l)}function Zg(s,o,l){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(n(108,_e(s)||"Unknown",m));return ce({},l,h)}function Mu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ws,gi=zt.current,qe(zt,s),qe(ln,ln.current),!0}function ey(s,o,l){var h=s.stateNode;if(!h)throw Error(n(169));l?(s=Zg(s,o,gi),h.__reactInternalMemoizedMergedChildContext=s,Xe(ln),Xe(zt),qe(zt,s)):Xe(ln),qe(ln,l)}var qr=null,Lu=!1,ch=!1;function ty(s){qr===null?qr=[s]:qr.push(s)}function fb(s){Lu=!0,ty(s)}function Es(){if(!ch&&qr!==null){ch=!0;var s=0,o=Ve;try{var l=qr;for(Ve=1;s<l.length;s++){var h=l[s];do h=h(!0);while(h!==null)}qr=null,Lu=!1}catch(m){throw qr!==null&&(qr=qr.slice(s+1)),no(ai,Es),m}finally{Ve=o,ch=!1}}return null}var bo=[],Co=0,ju=null,Ou=0,Mn=[],Ln=0,yi=null,Kr=1,Gr="";function vi(s,o){bo[Co++]=Ou,bo[Co++]=ju,ju=s,Ou=o}function ny(s,o,l){Mn[Ln++]=Kr,Mn[Ln++]=Gr,Mn[Ln++]=yi,yi=s;var h=Kr;s=Gr;var m=32-Zt(h)-1;h&=~(1<<m),l+=1;var v=32-Zt(o)+m;if(30<v){var T=m-m%5;v=(h&(1<<T)-1).toString(32),h>>=T,m-=T,Kr=1<<32-Zt(o)+m|l<<m|h,Gr=v+s}else Kr=1<<v|l<<m|h,Gr=s}function dh(s){s.return!==null&&(vi(s,1),ny(s,1,0))}function hh(s){for(;s===ju;)ju=bo[--Co],bo[Co]=null,Ou=bo[--Co],bo[Co]=null;for(;s===yi;)yi=Mn[--Ln],Mn[Ln]=null,Gr=Mn[--Ln],Mn[Ln]=null,Kr=Mn[--Ln],Mn[Ln]=null}var wn=null,En=null,Je=!1,tr=null;function ry(s,o){var l=$n(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=s,o=s.deletions,o===null?(s.deletions=[l],s.flags|=16):o.push(l)}function sy(s,o){switch(s.tag){case 5:var l=s.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,wn=s,En=xs(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,wn=s,En=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=yi!==null?{id:Kr,overflow:Gr}:null,s.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=$n(18,null,null,0),l.stateNode=o,l.return=s,s.child=l,wn=s,En=null,!0):!1;default:return!1}}function fh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ph(s){if(Je){var o=En;if(o){var l=o;if(!sy(s,o)){if(fh(s))throw Error(n(418));o=xs(l.nextSibling);var h=wn;o&&sy(s,o)?ry(h,l):(s.flags=s.flags&-4097|2,Je=!1,wn=s)}}else{if(fh(s))throw Error(n(418));s.flags=s.flags&-4097|2,Je=!1,wn=s}}}function iy(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;wn=s}function Fu(s){if(s!==wn)return!1;if(!Je)return iy(s),Je=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!ih(s.type,s.memoizedProps)),o&&(o=En)){if(fh(s))throw oy(),Error(n(418));for(;o;)ry(s,o),o=xs(o.nextSibling)}if(iy(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"){if(o===0){En=xs(s.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}s=s.nextSibling}En=null}}else En=wn?xs(s.stateNode.nextSibling):null;return!0}function oy(){for(var s=En;s;)s=xs(s.nextSibling)}function Ao(){En=wn=null,Je=!1}function mh(s){tr===null?tr=[s]:tr.push(s)}var pb=A.ReactCurrentBatchConfig;function Ga(s,o,l){if(s=l.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(n(309));var h=l.stateNode}if(!h)throw Error(n(147,s));var m=h,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(T){var M=m.refs;T===null?delete M[v]:M[v]=T},o._stringRef=v,o)}if(typeof s!="string")throw Error(n(284));if(!l._owner)throw Error(n(290,s))}return s}function $u(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function ay(s){var o=s._init;return o(s._payload)}function ly(s){function o(G,z){if(s){var Q=G.deletions;Q===null?(G.deletions=[z],G.flags|=16):Q.push(z)}}function l(G,z){if(!s)return null;for(;z!==null;)o(G,z),z=z.sibling;return null}function h(G,z){for(G=new Map;z!==null;)z.key!==null?G.set(z.key,z):G.set(z.index,z),z=z.sibling;return G}function m(G,z){return G=Is(G,z),G.index=0,G.sibling=null,G}function v(G,z,Q){return G.index=Q,s?(Q=G.alternate,Q!==null?(Q=Q.index,Q<z?(G.flags|=2,z):Q):(G.flags|=2,z)):(G.flags|=1048576,z)}function T(G){return s&&G.alternate===null&&(G.flags|=2),G}function M(G,z,Q,le){return z===null||z.tag!==6?(z=af(Q,G.mode,le),z.return=G,z):(z=m(z,Q),z.return=G,z)}function $(G,z,Q,le){var ye=Q.type;return ye===k?ne(G,z,Q.props.children,le,Q.key):z!==null&&(z.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ge&&ay(ye)===z.type)?(le=m(z,Q.props),le.ref=Ga(G,z,Q),le.return=G,le):(le=cc(Q.type,Q.key,Q.props,null,G.mode,le),le.ref=Ga(G,z,Q),le.return=G,le)}function X(G,z,Q,le){return z===null||z.tag!==4||z.stateNode.containerInfo!==Q.containerInfo||z.stateNode.implementation!==Q.implementation?(z=lf(Q,G.mode,le),z.return=G,z):(z=m(z,Q.children||[]),z.return=G,z)}function ne(G,z,Q,le,ye){return z===null||z.tag!==7?(z=Ci(Q,G.mode,le,ye),z.return=G,z):(z=m(z,Q),z.return=G,z)}function ie(G,z,Q){if(typeof z=="string"&&z!==""||typeof z=="number")return z=af(""+z,G.mode,Q),z.return=G,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return Q=cc(z.type,z.key,z.props,null,G.mode,Q),Q.ref=Ga(G,null,z),Q.return=G,Q;case U:return z=lf(z,G.mode,Q),z.return=G,z;case Ge:var le=z._init;return ie(G,le(z._payload),Q)}if(Lr(z)||ge(z))return z=Ci(z,G.mode,Q,null),z.return=G,z;$u(G,z)}return null}function te(G,z,Q,le){var ye=z!==null?z.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number")return ye!==null?null:M(G,z,""+Q,le);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:return Q.key===ye?$(G,z,Q,le):null;case U:return Q.key===ye?X(G,z,Q,le):null;case Ge:return ye=Q._init,te(G,z,ye(Q._payload),le)}if(Lr(Q)||ge(Q))return ye!==null?null:ne(G,z,Q,le,null);$u(G,Q)}return null}function de(G,z,Q,le,ye){if(typeof le=="string"&&le!==""||typeof le=="number")return G=G.get(Q)||null,M(z,G,""+le,ye);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case j:return G=G.get(le.key===null?Q:le.key)||null,$(z,G,le,ye);case U:return G=G.get(le.key===null?Q:le.key)||null,X(z,G,le,ye);case Ge:var we=le._init;return de(G,z,Q,we(le._payload),ye)}if(Lr(le)||ge(le))return G=G.get(Q)||null,ne(z,G,le,ye,null);$u(z,le)}return null}function pe(G,z,Q,le){for(var ye=null,we=null,Ee=z,Ae=z=0,kt=null;Ee!==null&&Ae<Q.length;Ae++){Ee.index>Ae?(kt=Ee,Ee=null):kt=Ee.sibling;var $e=te(G,Ee,Q[Ae],le);if($e===null){Ee===null&&(Ee=kt);break}s&&Ee&&$e.alternate===null&&o(G,Ee),z=v($e,z,Ae),we===null?ye=$e:we.sibling=$e,we=$e,Ee=kt}if(Ae===Q.length)return l(G,Ee),Je&&vi(G,Ae),ye;if(Ee===null){for(;Ae<Q.length;Ae++)Ee=ie(G,Q[Ae],le),Ee!==null&&(z=v(Ee,z,Ae),we===null?ye=Ee:we.sibling=Ee,we=Ee);return Je&&vi(G,Ae),ye}for(Ee=h(G,Ee);Ae<Q.length;Ae++)kt=de(Ee,G,Ae,Q[Ae],le),kt!==null&&(s&&kt.alternate!==null&&Ee.delete(kt.key===null?Ae:kt.key),z=v(kt,z,Ae),we===null?ye=kt:we.sibling=kt,we=kt);return s&&Ee.forEach(function(ks){return o(G,ks)}),Je&&vi(G,Ae),ye}function me(G,z,Q,le){var ye=ge(Q);if(typeof ye!="function")throw Error(n(150));if(Q=ye.call(Q),Q==null)throw Error(n(151));for(var we=ye=null,Ee=z,Ae=z=0,kt=null,$e=Q.next();Ee!==null&&!$e.done;Ae++,$e=Q.next()){Ee.index>Ae?(kt=Ee,Ee=null):kt=Ee.sibling;var ks=te(G,Ee,$e.value,le);if(ks===null){Ee===null&&(Ee=kt);break}s&&Ee&&ks.alternate===null&&o(G,Ee),z=v(ks,z,Ae),we===null?ye=ks:we.sibling=ks,we=ks,Ee=kt}if($e.done)return l(G,Ee),Je&&vi(G,Ae),ye;if(Ee===null){for(;!$e.done;Ae++,$e=Q.next())$e=ie(G,$e.value,le),$e!==null&&(z=v($e,z,Ae),we===null?ye=$e:we.sibling=$e,we=$e);return Je&&vi(G,Ae),ye}for(Ee=h(G,Ee);!$e.done;Ae++,$e=Q.next())$e=de(Ee,G,Ae,$e.value,le),$e!==null&&(s&&$e.alternate!==null&&Ee.delete($e.key===null?Ae:$e.key),z=v($e,z,Ae),we===null?ye=$e:we.sibling=$e,we=$e);return s&&Ee.forEach(function(Kb){return o(G,Kb)}),Je&&vi(G,Ae),ye}function ht(G,z,Q,le){if(typeof Q=="object"&&Q!==null&&Q.type===k&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case j:e:{for(var ye=Q.key,we=z;we!==null;){if(we.key===ye){if(ye=Q.type,ye===k){if(we.tag===7){l(G,we.sibling),z=m(we,Q.props.children),z.return=G,G=z;break e}}else if(we.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===Ge&&ay(ye)===we.type){l(G,we.sibling),z=m(we,Q.props),z.ref=Ga(G,we,Q),z.return=G,G=z;break e}l(G,we);break}else o(G,we);we=we.sibling}Q.type===k?(z=Ci(Q.props.children,G.mode,le,Q.key),z.return=G,G=z):(le=cc(Q.type,Q.key,Q.props,null,G.mode,le),le.ref=Ga(G,z,Q),le.return=G,G=le)}return T(G);case U:e:{for(we=Q.key;z!==null;){if(z.key===we)if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){l(G,z.sibling),z=m(z,Q.children||[]),z.return=G,G=z;break e}else{l(G,z);break}else o(G,z);z=z.sibling}z=lf(Q,G.mode,le),z.return=G,G=z}return T(G);case Ge:return we=Q._init,ht(G,z,we(Q._payload),le)}if(Lr(Q))return pe(G,z,Q,le);if(ge(Q))return me(G,z,Q,le);$u(G,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,z!==null&&z.tag===6?(l(G,z.sibling),z=m(z,Q),z.return=G,G=z):(l(G,z),z=af(Q,G.mode,le),z.return=G,G=z),T(G)):l(G,z)}return ht}var Po=ly(!0),uy=ly(!1),Uu=_s(null),Bu=null,Ro=null,gh=null;function yh(){gh=Ro=Bu=null}function vh(s){var o=Uu.current;Xe(Uu),s._currentValue=o}function xh(s,o,l){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===l)break;s=s.return}}function Io(s,o){Bu=s,gh=Ro=null,s=s.dependencies,s!==null&&s.firstContext!==null&&(s.lanes&o&&(cn=!0),s.firstContext=null)}function jn(s){var o=s._currentValue;if(gh!==s)if(s={context:s,memoizedValue:o,next:null},Ro===null){if(Bu===null)throw Error(n(308));Ro=s,Bu.dependencies={lanes:0,firstContext:s}}else Ro=Ro.next=s;return o}var xi=null;function _h(s){xi===null?xi=[s]:xi.push(s)}function cy(s,o,l,h){var m=o.interleaved;return m===null?(l.next=l,_h(o)):(l.next=m.next,m.next=l),o.interleaved=l,Qr(s,h)}function Qr(s,o){s.lanes|=o;var l=s.alternate;for(l!==null&&(l.lanes|=o),l=s,s=s.return;s!==null;)s.childLanes|=o,l=s.alternate,l!==null&&(l.childLanes|=o),l=s,s=s.return;return l.tag===3?l.stateNode:null}var Ts=!1;function wh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dy(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Xr(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Ss(s,o,l){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,Fe&2){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Qr(s,l)}return m=h.interleaved,m===null?(o.next=o,_h(h)):(o.next=m.next,m.next=o),h.interleaved=o,Qr(s,l)}function zu(s,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,l|=h,o.lanes=l,fs(s,l)}}function hy(s,o){var l=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,v=null;if(l=l.firstBaseUpdate,l!==null){do{var T={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};v===null?m=v=T:v=v.next=T,l=l.next}while(l!==null);v===null?m=v=o:v=v.next=o}else m=v=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:h.shared,effects:h.effects},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=o:s.next=o,l.lastBaseUpdate=o}function Wu(s,o,l,h){var m=s.updateQueue;Ts=!1;var v=m.firstBaseUpdate,T=m.lastBaseUpdate,M=m.shared.pending;if(M!==null){m.shared.pending=null;var $=M,X=$.next;$.next=null,T===null?v=X:T.next=X,T=$;var ne=s.alternate;ne!==null&&(ne=ne.updateQueue,M=ne.lastBaseUpdate,M!==T&&(M===null?ne.firstBaseUpdate=X:M.next=X,ne.lastBaseUpdate=$))}if(v!==null){var ie=m.baseState;T=0,ne=X=$=null,M=v;do{var te=M.lane,de=M.eventTime;if((h&te)===te){ne!==null&&(ne=ne.next={eventTime:de,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var pe=s,me=M;switch(te=o,de=l,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){ie=pe.call(de,ie,te);break e}ie=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,te=typeof pe=="function"?pe.call(de,ie,te):pe,te==null)break e;ie=ce({},ie,te);break e;case 2:Ts=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,te=m.effects,te===null?m.effects=[M]:te.push(M))}else de={eventTime:de,lane:te,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ne===null?(X=ne=de,$=ie):ne=ne.next=de,T|=te;if(M=M.next,M===null){if(M=m.shared.pending,M===null)break;te=M,M=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(ne===null&&($=ie),m.baseState=$,m.firstBaseUpdate=X,m.lastBaseUpdate=ne,o=m.shared.interleaved,o!==null){m=o;do T|=m.lane,m=m.next;while(m!==o)}else v===null&&(m.shared.lanes=0);Ei|=T,s.lanes=T,s.memoizedState=ie}}function fy(s,o,l){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(n(191,m));m.call(h)}}}var Qa={},xr=_s(Qa),Xa=_s(Qa),Ya=_s(Qa);function _i(s){if(s===Qa)throw Error(n(174));return s}function Eh(s,o){switch(qe(Ya,o),qe(Xa,s),qe(xr,Qa),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:wt(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=wt(o,s)}Xe(xr),qe(xr,o)}function ko(){Xe(xr),Xe(Xa),Xe(Ya)}function py(s){_i(Ya.current);var o=_i(xr.current),l=wt(o,s.type);o!==l&&(qe(Xa,s),qe(xr,l))}function Th(s){Xa.current===s&&(Xe(xr),Xe(Xa))}var tt=_s(0);function Hu(s){for(var o=s;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Sh=[];function bh(){for(var s=0;s<Sh.length;s++)Sh[s]._workInProgressVersionPrimary=null;Sh.length=0}var qu=A.ReactCurrentDispatcher,Ch=A.ReactCurrentBatchConfig,wi=0,nt=null,Tt=null,Rt=null,Ku=!1,Ja=!1,Za=0,mb=0;function Wt(){throw Error(n(321))}function Ah(s,o){if(o===null)return!1;for(var l=0;l<o.length&&l<s.length;l++)if(!er(s[l],o[l]))return!1;return!0}function Ph(s,o,l,h,m,v){if(wi=v,nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,qu.current=s===null||s.memoizedState===null?xb:_b,s=l(h,m),Ja){v=0;do{if(Ja=!1,Za=0,25<=v)throw Error(n(301));v+=1,Rt=Tt=null,o.updateQueue=null,qu.current=wb,s=l(h,m)}while(Ja)}if(qu.current=Xu,o=Tt!==null&&Tt.next!==null,wi=0,Rt=Tt=nt=null,Ku=!1,o)throw Error(n(300));return s}function Rh(){var s=Za!==0;return Za=0,s}function _r(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?nt.memoizedState=Rt=s:Rt=Rt.next=s,Rt}function On(){if(Tt===null){var s=nt.alternate;s=s!==null?s.memoizedState:null}else s=Tt.next;var o=Rt===null?nt.memoizedState:Rt.next;if(o!==null)Rt=o,Tt=s;else{if(s===null)throw Error(n(310));Tt=s,s={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},Rt===null?nt.memoizedState=Rt=s:Rt=Rt.next=s}return Rt}function el(s,o){return typeof o=="function"?o(s):o}function Ih(s){var o=On(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var h=Tt,m=h.baseQueue,v=l.pending;if(v!==null){if(m!==null){var T=m.next;m.next=v.next,v.next=T}h.baseQueue=m=v,l.pending=null}if(m!==null){v=m.next,h=h.baseState;var M=T=null,$=null,X=v;do{var ne=X.lane;if((wi&ne)===ne)$!==null&&($=$.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),h=X.hasEagerState?X.eagerState:s(h,X.action);else{var ie={lane:ne,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};$===null?(M=$=ie,T=h):$=$.next=ie,nt.lanes|=ne,Ei|=ne}X=X.next}while(X!==null&&X!==v);$===null?T=h:$.next=M,er(h,o.memoizedState)||(cn=!0),o.memoizedState=h,o.baseState=T,o.baseQueue=$,l.lastRenderedState=h}if(s=l.interleaved,s!==null){m=s;do v=m.lane,nt.lanes|=v,Ei|=v,m=m.next;while(m!==s)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function kh(s){var o=On(),l=o.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=s;var h=l.dispatch,m=l.pending,v=o.memoizedState;if(m!==null){l.pending=null;var T=m=m.next;do v=s(v,T.action),T=T.next;while(T!==m);er(v,o.memoizedState)||(cn=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),l.lastRenderedState=v}return[v,h]}function my(){}function gy(s,o){var l=nt,h=On(),m=o(),v=!er(h.memoizedState,m);if(v&&(h.memoizedState=m,cn=!0),h=h.queue,Nh(xy.bind(null,l,h,s),[s]),h.getSnapshot!==o||v||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,tl(9,vy.bind(null,l,h,m,o),void 0,null),It===null)throw Error(n(349));wi&30||yy(l,o,m)}return m}function yy(s,o,l){s.flags|=16384,s={getSnapshot:o,value:l},o=nt.updateQueue,o===null?(o={lastEffect:null,stores:null},nt.updateQueue=o,o.stores=[s]):(l=o.stores,l===null?o.stores=[s]:l.push(s))}function vy(s,o,l,h){o.value=l,o.getSnapshot=h,_y(o)&&wy(s)}function xy(s,o,l){return l(function(){_y(o)&&wy(s)})}function _y(s){var o=s.getSnapshot;s=s.value;try{var l=o();return!er(s,l)}catch{return!0}}function wy(s){var o=Qr(s,1);o!==null&&ir(o,s,1,-1)}function Ey(s){var o=_r();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:el,lastRenderedState:s},o.queue=s,s=s.dispatch=vb.bind(null,nt,s),[o.memoizedState,s]}function tl(s,o,l,h){return s={tag:s,create:o,destroy:l,deps:h,next:null},o=nt.updateQueue,o===null?(o={lastEffect:null,stores:null},nt.updateQueue=o,o.lastEffect=s.next=s):(l=o.lastEffect,l===null?o.lastEffect=s.next=s:(h=l.next,l.next=s,s.next=h,o.lastEffect=s)),s}function Ty(){return On().memoizedState}function Gu(s,o,l,h){var m=_r();nt.flags|=s,m.memoizedState=tl(1|o,l,void 0,h===void 0?null:h)}function Qu(s,o,l,h){var m=On();h=h===void 0?null:h;var v=void 0;if(Tt!==null){var T=Tt.memoizedState;if(v=T.destroy,h!==null&&Ah(h,T.deps)){m.memoizedState=tl(o,l,v,h);return}}nt.flags|=s,m.memoizedState=tl(1|o,l,v,h)}function Sy(s,o){return Gu(8390656,8,s,o)}function Nh(s,o){return Qu(2048,8,s,o)}function by(s,o){return Qu(4,2,s,o)}function Cy(s,o){return Qu(4,4,s,o)}function Ay(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Py(s,o,l){return l=l!=null?l.concat([s]):null,Qu(4,4,Ay.bind(null,o,s),l)}function Dh(){}function Ry(s,o){var l=On();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Ah(o,h[1])?h[0]:(l.memoizedState=[s,o],s)}function Iy(s,o){var l=On();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&Ah(o,h[1])?h[0]:(s=s(),l.memoizedState=[s,o],s)}function ky(s,o,l){return wi&21?(er(l,o)||(l=ci(),nt.lanes|=l,Ei|=l,s.baseState=!0),o):(s.baseState&&(s.baseState=!1,cn=!0),s.memoizedState=l)}function gb(s,o){var l=Ve;Ve=l!==0&&4>l?l:4,s(!0);var h=Ch.transition;Ch.transition={};try{s(!1),o()}finally{Ve=l,Ch.transition=h}}function Ny(){return On().memoizedState}function yb(s,o,l){var h=Ps(s);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},Dy(s))Vy(o,l);else if(l=cy(s,o,l,h),l!==null){var m=nn();ir(l,s,h,m),My(l,o,h)}}function vb(s,o,l){var h=Ps(s),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(Dy(s))Vy(o,m);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var T=o.lastRenderedState,M=v(T,l);if(m.hasEagerState=!0,m.eagerState=M,er(M,T)){var $=o.interleaved;$===null?(m.next=m,_h(o)):(m.next=$.next,$.next=m),o.interleaved=m;return}}catch{}finally{}l=cy(s,o,m,h),l!==null&&(m=nn(),ir(l,s,h,m),My(l,o,h))}}function Dy(s){var o=s.alternate;return s===nt||o!==null&&o===nt}function Vy(s,o){Ja=Ku=!0;var l=s.pending;l===null?o.next=o:(o.next=l.next,l.next=o),s.pending=o}function My(s,o,l){if(l&4194240){var h=o.lanes;h&=s.pendingLanes,l|=h,o.lanes=l,fs(s,l)}}var Xu={readContext:jn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},xb={readContext:jn,useCallback:function(s,o){return _r().memoizedState=[s,o===void 0?null:o],s},useContext:jn,useEffect:Sy,useImperativeHandle:function(s,o,l){return l=l!=null?l.concat([s]):null,Gu(4194308,4,Ay.bind(null,o,s),l)},useLayoutEffect:function(s,o){return Gu(4194308,4,s,o)},useInsertionEffect:function(s,o){return Gu(4,2,s,o)},useMemo:function(s,o){var l=_r();return o=o===void 0?null:o,s=s(),l.memoizedState=[s,o],s},useReducer:function(s,o,l){var h=_r();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=yb.bind(null,nt,s),[h.memoizedState,s]},useRef:function(s){var o=_r();return s={current:s},o.memoizedState=s},useState:Ey,useDebugValue:Dh,useDeferredValue:function(s){return _r().memoizedState=s},useTransition:function(){var s=Ey(!1),o=s[0];return s=gb.bind(null,s[1]),_r().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,l){var h=nt,m=_r();if(Je){if(l===void 0)throw Error(n(407));l=l()}else{if(l=o(),It===null)throw Error(n(349));wi&30||yy(h,o,l)}m.memoizedState=l;var v={value:l,getSnapshot:o};return m.queue=v,Sy(xy.bind(null,h,v,s),[s]),h.flags|=2048,tl(9,vy.bind(null,h,v,l,o),void 0,null),l},useId:function(){var s=_r(),o=It.identifierPrefix;if(Je){var l=Gr,h=Kr;l=(h&~(1<<32-Zt(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=Za++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=mb++,o=":"+o+"r"+l.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},_b={readContext:jn,useCallback:Ry,useContext:jn,useEffect:Nh,useImperativeHandle:Py,useInsertionEffect:by,useLayoutEffect:Cy,useMemo:Iy,useReducer:Ih,useRef:Ty,useState:function(){return Ih(el)},useDebugValue:Dh,useDeferredValue:function(s){var o=On();return ky(o,Tt.memoizedState,s)},useTransition:function(){var s=Ih(el)[0],o=On().memoizedState;return[s,o]},useMutableSource:my,useSyncExternalStore:gy,useId:Ny,unstable_isNewReconciler:!1},wb={readContext:jn,useCallback:Ry,useContext:jn,useEffect:Nh,useImperativeHandle:Py,useInsertionEffect:by,useLayoutEffect:Cy,useMemo:Iy,useReducer:kh,useRef:Ty,useState:function(){return kh(el)},useDebugValue:Dh,useDeferredValue:function(s){var o=On();return Tt===null?o.memoizedState=s:ky(o,Tt.memoizedState,s)},useTransition:function(){var s=kh(el)[0],o=On().memoizedState;return[s,o]},useMutableSource:my,useSyncExternalStore:gy,useId:Ny,unstable_isNewReconciler:!1};function nr(s,o){if(s&&s.defaultProps){o=ce({},o),s=s.defaultProps;for(var l in s)o[l]===void 0&&(o[l]=s[l]);return o}return o}function Vh(s,o,l,h){o=s.memoizedState,l=l(h,o),l=l==null?o:ce({},o,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Yu={isMounted:function(s){return(s=s._reactInternals)?Kn(s)===s:!1},enqueueSetState:function(s,o,l){s=s._reactInternals;var h=nn(),m=Ps(s),v=Xr(h,m);v.payload=o,l!=null&&(v.callback=l),o=Ss(s,v,m),o!==null&&(ir(o,s,m,h),zu(o,s,m))},enqueueReplaceState:function(s,o,l){s=s._reactInternals;var h=nn(),m=Ps(s),v=Xr(h,m);v.tag=1,v.payload=o,l!=null&&(v.callback=l),o=Ss(s,v,m),o!==null&&(ir(o,s,m,h),zu(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var l=nn(),h=Ps(s),m=Xr(l,h);m.tag=2,o!=null&&(m.callback=o),o=Ss(s,m,h),o!==null&&(ir(o,s,h,l),zu(o,s,h))}};function Ly(s,o,l,h,m,v,T){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,v,T):o.prototype&&o.prototype.isPureReactComponent?!Ua(l,h)||!Ua(m,v):!0}function jy(s,o,l){var h=!1,m=ws,v=o.contextType;return typeof v=="object"&&v!==null?v=jn(v):(m=un(o)?gi:zt.current,h=o.contextTypes,v=(h=h!=null)?So(s,m):ws),o=new o(l,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Yu,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=v),o}function Oy(s,o,l,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==s&&Yu.enqueueReplaceState(o,o.state,null)}function Mh(s,o,l,h){var m=s.stateNode;m.props=l,m.state=s.memoizedState,m.refs={},wh(s);var v=o.contextType;typeof v=="object"&&v!==null?m.context=jn(v):(v=un(o)?gi:zt.current,m.context=So(s,v)),m.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Vh(s,o,v,l),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&Yu.enqueueReplaceState(m,m.state,null),Wu(s,l,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function No(s,o){try{var l="",h=o;do l+=J(h),h=h.return;while(h);var m=l}catch(v){m=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:m,digest:null}}function Lh(s,o,l){return{value:s,source:null,stack:l??null,digest:o??null}}function jh(s,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var Eb=typeof WeakMap=="function"?WeakMap:Map;function Fy(s,o,l){l=Xr(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){sc||(sc=!0,Jh=h),jh(s,o)},l}function $y(s,o,l){l=Xr(-1,l),l.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){jh(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(l.callback=function(){jh(s,o),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})}),l}function Uy(s,o,l){var h=s.pingCache;if(h===null){h=s.pingCache=new Eb;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),s=Lb.bind(null,s,o,l),o.then(s,s))}function By(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function zy(s,o,l,h,m){return s.mode&1?(s.flags|=65536,s.lanes=m,s):(s===o?s.flags|=65536:(s.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=Xr(-1,1),o.tag=2,Ss(l,o,1))),l.lanes|=1),s)}var Tb=A.ReactCurrentOwner,cn=!1;function tn(s,o,l,h){o.child=s===null?uy(o,null,l,h):Po(o,s.child,l,h)}function Wy(s,o,l,h,m){l=l.render;var v=o.ref;return Io(o,m),h=Ph(s,o,l,h,v,m),l=Rh(),s!==null&&!cn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Yr(s,o,m)):(Je&&l&&dh(o),o.flags|=1,tn(s,o,h,m),o.child)}function Hy(s,o,l,h,m){if(s===null){var v=l.type;return typeof v=="function"&&!of(v)&&v.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=v,qy(s,o,v,h,m)):(s=cc(l.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,!(s.lanes&m)){var T=v.memoizedProps;if(l=l.compare,l=l!==null?l:Ua,l(T,h)&&s.ref===o.ref)return Yr(s,o,m)}return o.flags|=1,s=Is(v,h),s.ref=o.ref,s.return=o,o.child=s}function qy(s,o,l,h,m){if(s!==null){var v=s.memoizedProps;if(Ua(v,h)&&s.ref===o.ref)if(cn=!1,o.pendingProps=h=v,(s.lanes&m)!==0)s.flags&131072&&(cn=!0);else return o.lanes=s.lanes,Yr(s,o,m)}return Oh(s,o,l,h,m)}function Ky(s,o,l){var h=o.pendingProps,m=h.children,v=s!==null?s.memoizedState:null;if(h.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Vo,Tn),Tn|=l;else{if(!(l&1073741824))return s=v!==null?v.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,qe(Vo,Tn),Tn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:l,qe(Vo,Tn),Tn|=h}else v!==null?(h=v.baseLanes|l,o.memoizedState=null):h=l,qe(Vo,Tn),Tn|=h;return tn(s,o,m,l),o.child}function Gy(s,o){var l=o.ref;(s===null&&l!==null||s!==null&&s.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function Oh(s,o,l,h,m){var v=un(l)?gi:zt.current;return v=So(o,v),Io(o,m),l=Ph(s,o,l,h,v,m),h=Rh(),s!==null&&!cn?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,Yr(s,o,m)):(Je&&h&&dh(o),o.flags|=1,tn(s,o,l,m),o.child)}function Qy(s,o,l,h,m){if(un(l)){var v=!0;Mu(o)}else v=!1;if(Io(o,m),o.stateNode===null)Zu(s,o),jy(o,l,h),Mh(o,l,h,m),h=!0;else if(s===null){var T=o.stateNode,M=o.memoizedProps;T.props=M;var $=T.context,X=l.contextType;typeof X=="object"&&X!==null?X=jn(X):(X=un(l)?gi:zt.current,X=So(o,X));var ne=l.getDerivedStateFromProps,ie=typeof ne=="function"||typeof T.getSnapshotBeforeUpdate=="function";ie||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==h||$!==X)&&Oy(o,T,h,X),Ts=!1;var te=o.memoizedState;T.state=te,Wu(o,h,T,m),$=o.memoizedState,M!==h||te!==$||ln.current||Ts?(typeof ne=="function"&&(Vh(o,l,ne,h),$=o.memoizedState),(M=Ts||Ly(o,l,M,h,te,$,X))?(ie||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(o.flags|=4194308)):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=$),T.props=h,T.state=$,T.context=X,h=M):(typeof T.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{T=o.stateNode,dy(s,o),M=o.memoizedProps,X=o.type===o.elementType?M:nr(o.type,M),T.props=X,ie=o.pendingProps,te=T.context,$=l.contextType,typeof $=="object"&&$!==null?$=jn($):($=un(l)?gi:zt.current,$=So(o,$));var de=l.getDerivedStateFromProps;(ne=typeof de=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(M!==ie||te!==$)&&Oy(o,T,h,$),Ts=!1,te=o.memoizedState,T.state=te,Wu(o,h,T,m);var pe=o.memoizedState;M!==ie||te!==pe||ln.current||Ts?(typeof de=="function"&&(Vh(o,l,de,h),pe=o.memoizedState),(X=Ts||Ly(o,l,X,h,te,pe,$)||!1)?(ne||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(h,pe,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(h,pe,$)),typeof T.componentDidUpdate=="function"&&(o.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof T.componentDidUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=pe),T.props=h,T.state=pe,T.context=$,h=X):(typeof T.componentDidUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(o.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&te===s.memoizedState||(o.flags|=1024),h=!1)}return Fh(s,o,l,h,v,m)}function Fh(s,o,l,h,m,v){Gy(s,o);var T=(o.flags&128)!==0;if(!h&&!T)return m&&ey(o,l,!1),Yr(s,o,v);h=o.stateNode,Tb.current=o;var M=T&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&T?(o.child=Po(o,s.child,null,v),o.child=Po(o,null,M,v)):tn(s,o,M,v),o.memoizedState=h.state,m&&ey(o,l,!0),o.child}function Xy(s){var o=s.stateNode;o.pendingContext?Jg(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Jg(s,o.context,!1),Eh(s,o.containerInfo)}function Yy(s,o,l,h,m){return Ao(),mh(m),o.flags|=256,tn(s,o,l,h),o.child}var $h={dehydrated:null,treeContext:null,retryLane:0};function Uh(s){return{baseLanes:s,cachePool:null,transitions:null}}function Jy(s,o,l){var h=o.pendingProps,m=tt.current,v=!1,T=(o.flags&128)!==0,M;if((M=T)||(M=s!==null&&s.memoizedState===null?!1:(m&2)!==0),M?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),qe(tt,m&1),s===null)return ph(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?(o.mode&1?s.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(T=h.children,s=h.fallback,v?(h=o.mode,v=o.child,T={mode:"hidden",children:T},!(h&1)&&v!==null?(v.childLanes=0,v.pendingProps=T):v=dc(T,h,0,null),s=Ci(s,h,l,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=Uh(l),o.memoizedState=$h,s):Bh(o,T));if(m=s.memoizedState,m!==null&&(M=m.dehydrated,M!==null))return Sb(s,o,T,h,M,m,l);if(v){v=h.fallback,T=o.mode,m=s.child,M=m.sibling;var $={mode:"hidden",children:h.children};return!(T&1)&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=$,o.deletions=null):(h=Is(m,$),h.subtreeFlags=m.subtreeFlags&14680064),M!==null?v=Is(M,v):(v=Ci(v,T,l,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,T=s.child.memoizedState,T=T===null?Uh(l):{baseLanes:T.baseLanes|l,cachePool:null,transitions:T.transitions},v.memoizedState=T,v.childLanes=s.childLanes&~l,o.memoizedState=$h,h}return v=s.child,s=v.sibling,h=Is(v,{mode:"visible",children:h.children}),!(o.mode&1)&&(h.lanes=l),h.return=o,h.sibling=null,s!==null&&(l=o.deletions,l===null?(o.deletions=[s],o.flags|=16):l.push(s)),o.child=h,o.memoizedState=null,h}function Bh(s,o){return o=dc({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function Ju(s,o,l,h){return h!==null&&mh(h),Po(o,s.child,null,l),s=Bh(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function Sb(s,o,l,h,m,v,T){if(l)return o.flags&256?(o.flags&=-257,h=Lh(Error(n(422))),Ju(s,o,T,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=h.fallback,m=o.mode,h=dc({mode:"visible",children:h.children},m,0,null),v=Ci(v,m,T,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,o.mode&1&&Po(o,s.child,null,T),o.child.memoizedState=Uh(T),o.memoizedState=$h,v);if(!(o.mode&1))return Ju(s,o,T,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var M=h.dgst;return h=M,v=Error(n(419)),h=Lh(v,h,void 0),Ju(s,o,T,h)}if(M=(T&s.childLanes)!==0,cn||M){if(h=It,h!==null){switch(T&-T){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=m&(h.suspendedLanes|T)?0:m,m!==0&&m!==v.retryLane&&(v.retryLane=m,Qr(s,m),ir(h,s,m,-1))}return sf(),h=Lh(Error(n(421))),Ju(s,o,T,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=jb.bind(null,s),m._reactRetry=o,null):(s=v.treeContext,En=xs(m.nextSibling),wn=o,Je=!0,tr=null,s!==null&&(Mn[Ln++]=Kr,Mn[Ln++]=Gr,Mn[Ln++]=yi,Kr=s.id,Gr=s.overflow,yi=o),o=Bh(o,h.children),o.flags|=4096,o)}function Zy(s,o,l){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),xh(s.return,o,l)}function zh(s,o,l,h,m){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=l,v.tailMode=m)}function e0(s,o,l){var h=o.pendingProps,m=h.revealOrder,v=h.tail;if(tn(s,o,h.children,l),h=tt.current,h&2)h=h&1|2,o.flags|=128;else{if(s!==null&&s.flags&128)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Zy(s,l,o);else if(s.tag===19)Zy(s,l,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(qe(tt,h),!(o.mode&1))o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)s=l.alternate,s!==null&&Hu(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),zh(o,!1,m,l,v);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&Hu(s)===null){o.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}zh(o,!0,l,null,v);break;case"together":zh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Zu(s,o){!(o.mode&1)&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function Yr(s,o,l){if(s!==null&&(o.dependencies=s.dependencies),Ei|=o.lanes,!(l&o.childLanes))return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,l=Is(s,s.pendingProps),o.child=l,l.return=o;s.sibling!==null;)s=s.sibling,l=l.sibling=Is(s,s.pendingProps),l.return=o;l.sibling=null}return o.child}function bb(s,o,l){switch(o.tag){case 3:Xy(o),Ao();break;case 5:py(o);break;case 1:un(o.type)&&Mu(o);break;case 4:Eh(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;qe(Uu,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(qe(tt,tt.current&1),o.flags|=128,null):l&o.child.childLanes?Jy(s,o,l):(qe(tt,tt.current&1),s=Yr(s,o,l),s!==null?s.sibling:null);qe(tt,tt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,s.flags&128){if(h)return e0(s,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),qe(tt,tt.current),h)break;return null;case 22:case 23:return o.lanes=0,Ky(s,o,l)}return Yr(s,o,l)}var t0,Wh,n0,r0;t0=function(s,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)s.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Wh=function(){},n0=function(s,o,l,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,_i(xr.current);var v=null;switch(l){case"input":m=cr(s,m),h=cr(s,h),v=[];break;case"select":m=ce({},m,{value:void 0}),h=ce({},h,{value:void 0}),v=[];break;case"textarea":m=ga(s,m),h=ga(s,h),v=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Nu)}Ea(l,h);var T;l=null;for(X in m)if(!h.hasOwnProperty(X)&&m.hasOwnProperty(X)&&m[X]!=null)if(X==="style"){var M=m[X];for(T in M)M.hasOwnProperty(T)&&(l||(l={}),l[T]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(i.hasOwnProperty(X)?v||(v=[]):(v=v||[]).push(X,null));for(X in h){var $=h[X];if(M=m!=null?m[X]:void 0,h.hasOwnProperty(X)&&$!==M&&($!=null||M!=null))if(X==="style")if(M){for(T in M)!M.hasOwnProperty(T)||$&&$.hasOwnProperty(T)||(l||(l={}),l[T]="");for(T in $)$.hasOwnProperty(T)&&M[T]!==$[T]&&(l||(l={}),l[T]=$[T])}else l||(v||(v=[]),v.push(X,l)),l=$;else X==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,M=M?M.__html:void 0,$!=null&&M!==$&&(v=v||[]).push(X,$)):X==="children"?typeof $!="string"&&typeof $!="number"||(v=v||[]).push(X,""+$):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(i.hasOwnProperty(X)?($!=null&&X==="onScroll"&&Qe("scroll",s),v||M===$||(v=[])):(v=v||[]).push(X,$))}l&&(v=v||[]).push("style",l);var X=v;(o.updateQueue=X)&&(o.flags|=4)}},r0=function(s,o,l,h){l!==h&&(o.flags|=4)};function nl(s,o){if(!Je)switch(s.tailMode){case"hidden":o=s.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Ht(s){var o=s.alternate!==null&&s.alternate.child===s.child,l=0,h=0;if(o)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=l,o}function Cb(s,o,l){var h=o.pendingProps;switch(hh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(o),null;case 1:return un(o.type)&&Vu(),Ht(o),null;case 3:return h=o.stateNode,ko(),Xe(ln),Xe(zt),bh(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Fu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,tr!==null&&(tf(tr),tr=null))),Wh(s,o),Ht(o),null;case 5:Th(o);var m=_i(Ya.current);if(l=o.type,s!==null&&o.stateNode!=null)n0(s,o,l,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return Ht(o),null}if(s=_i(xr.current),Fu(o)){h=o.stateNode,l=o.type;var v=o.memoizedProps;switch(h[vr]=o,h[qa]=v,s=(o.mode&1)!==0,l){case"dialog":Qe("cancel",h),Qe("close",h);break;case"iframe":case"object":case"embed":Qe("load",h);break;case"video":case"audio":for(m=0;m<za.length;m++)Qe(za[m],h);break;case"source":Qe("error",h);break;case"img":case"image":case"link":Qe("error",h),Qe("load",h);break;case"details":Qe("toggle",h);break;case"input":xt(h,v),Qe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Qe("invalid",h);break;case"textarea":Ki(h,v),Qe("invalid",h)}Ea(l,v),m=null;for(var T in v)if(v.hasOwnProperty(T)){var M=v[T];T==="children"?typeof M=="string"?h.textContent!==M&&(v.suppressHydrationWarning!==!0&&ku(h.textContent,M,s),m=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(v.suppressHydrationWarning!==!0&&ku(h.textContent,M,s),m=["children",""+M]):i.hasOwnProperty(T)&&M!=null&&T==="onScroll"&&Qe("scroll",h)}switch(l){case"input":Rn(h),ru(h,v,!0);break;case"textarea":Rn(h),ya(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Nu)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{T=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=_t(l)),s==="http://www.w3.org/1999/xhtml"?l==="script"?(s=T.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=T.createElement(l,{is:h.is}):(s=T.createElement(l),l==="select"&&(T=s,h.multiple?T.multiple=!0:h.size&&(T.size=h.size))):s=T.createElementNS(s,l),s[vr]=o,s[qa]=h,t0(s,o,!1,!1),o.stateNode=s;e:{switch(T=Ta(l,h),l){case"dialog":Qe("cancel",s),Qe("close",s),m=h;break;case"iframe":case"object":case"embed":Qe("load",s),m=h;break;case"video":case"audio":for(m=0;m<za.length;m++)Qe(za[m],s);m=h;break;case"source":Qe("error",s),m=h;break;case"img":case"image":case"link":Qe("error",s),Qe("load",s),m=h;break;case"details":Qe("toggle",s),m=h;break;case"input":xt(s,h),m=cr(s,h),Qe("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=ce({},h,{value:void 0}),Qe("invalid",s);break;case"textarea":Ki(s,h),m=ga(s,h),Qe("invalid",s);break;default:m=h}Ea(l,m),M=m;for(v in M)if(M.hasOwnProperty(v)){var $=M[v];v==="style"?_a(s,$):v==="dangerouslySetInnerHTML"?($=$?$.__html:void 0,$!=null&&va(s,$)):v==="children"?typeof $=="string"?(l!=="textarea"||$!=="")&&ls(s,$):typeof $=="number"&&ls(s,""+$):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(i.hasOwnProperty(v)?$!=null&&v==="onScroll"&&Qe("scroll",s):$!=null&&N(s,v,$,T))}switch(l){case"input":Rn(s),ru(s,h,!1);break;case"textarea":Rn(s),ya(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Ie(h.value));break;case"select":s.multiple=!!h.multiple,v=h.value,v!=null?jr(s,!!h.multiple,v,!1):h.defaultValue!=null&&jr(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=Nu)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Ht(o),null;case 6:if(s&&o.stateNode!=null)r0(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(l=_i(Ya.current),_i(xr.current),Fu(o)){if(h=o.stateNode,l=o.memoizedProps,h[vr]=o,(v=h.nodeValue!==l)&&(s=wn,s!==null))switch(s.tag){case 3:ku(h.nodeValue,l,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ku(h.nodeValue,l,(s.mode&1)!==0)}v&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[vr]=o,o.stateNode=h}return Ht(o),null;case 13:if(Xe(tt),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Je&&En!==null&&o.mode&1&&!(o.flags&128))oy(),Ao(),o.flags|=98560,v=!1;else if(v=Fu(o),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(n(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[vr]=o}else Ao(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Ht(o),v=!1}else tr!==null&&(tf(tr),tr=null),v=!0;if(!v)return o.flags&65536?o:null}return o.flags&128?(o.lanes=l,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,o.mode&1&&(s===null||tt.current&1?St===0&&(St=3):sf())),o.updateQueue!==null&&(o.flags|=4),Ht(o),null);case 4:return ko(),Wh(s,o),s===null&&Wa(o.stateNode.containerInfo),Ht(o),null;case 10:return vh(o.type._context),Ht(o),null;case 17:return un(o.type)&&Vu(),Ht(o),null;case 19:if(Xe(tt),v=o.memoizedState,v===null)return Ht(o),null;if(h=(o.flags&128)!==0,T=v.rendering,T===null)if(h)nl(v,!1);else{if(St!==0||s!==null&&s.flags&128)for(s=o.child;s!==null;){if(T=Hu(s),T!==null){for(o.flags|=128,nl(v,!1),h=T.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)v=l,s=h,v.flags&=14680066,T=v.alternate,T===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=T.childLanes,v.lanes=T.lanes,v.child=T.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=T.memoizedProps,v.memoizedState=T.memoizedState,v.updateQueue=T.updateQueue,v.type=T.type,s=T.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),l=l.sibling;return qe(tt,tt.current&1|2),o.child}s=s.sibling}v.tail!==null&&He()>Mo&&(o.flags|=128,h=!0,nl(v,!1),o.lanes=4194304)}else{if(!h)if(s=Hu(T),s!==null){if(o.flags|=128,h=!0,l=s.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),nl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!T.alternate&&!Je)return Ht(o),null}else 2*He()-v.renderingStartTime>Mo&&l!==1073741824&&(o.flags|=128,h=!0,nl(v,!1),o.lanes=4194304);v.isBackwards?(T.sibling=o.child,o.child=T):(l=v.last,l!==null?l.sibling=T:o.child=T,v.last=T)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=He(),o.sibling=null,l=tt.current,qe(tt,h?l&1|2:l&1),o):(Ht(o),null);case 22:case 23:return rf(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&o.mode&1?Tn&1073741824&&(Ht(o),o.subtreeFlags&6&&(o.flags|=8192)):Ht(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function Ab(s,o){switch(hh(o),o.tag){case 1:return un(o.type)&&Vu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ko(),Xe(ln),Xe(zt),bh(),s=o.flags,s&65536&&!(s&128)?(o.flags=s&-65537|128,o):null;case 5:return Th(o),null;case 13:if(Xe(tt),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Ao()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Xe(tt),null;case 4:return ko(),null;case 10:return vh(o.type._context),null;case 22:case 23:return rf(),null;case 24:return null;default:return null}}var ec=!1,qt=!1,Pb=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Do(s,o){var l=s.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){ot(s,o,h)}else l.current=null}function Hh(s,o,l){try{l()}catch(h){ot(s,o,h)}}var s0=!1;function Rb(s,o){if(rh=gs,s=Lg(),Qd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else e:{l=(l=s.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{l.nodeType,v.nodeType}catch{l=null;break e}var T=0,M=-1,$=-1,X=0,ne=0,ie=s,te=null;t:for(;;){for(var de;ie!==l||m!==0&&ie.nodeType!==3||(M=T+m),ie!==v||h!==0&&ie.nodeType!==3||($=T+h),ie.nodeType===3&&(T+=ie.nodeValue.length),(de=ie.firstChild)!==null;)te=ie,ie=de;for(;;){if(ie===s)break t;if(te===l&&++X===m&&(M=T),te===v&&++ne===h&&($=T),(de=ie.nextSibling)!==null)break;ie=te,te=ie.parentNode}ie=de}l=M===-1||$===-1?null:{start:M,end:$}}else l=null}l=l||{start:0,end:0}}else l=null;for(sh={focusedElem:s,selectionRange:l},gs=!1,fe=o;fe!==null;)if(o=fe,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,fe=s;else for(;fe!==null;){o=fe;try{var pe=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,ht=pe.memoizedState,G=o.stateNode,z=G.getSnapshotBeforeUpdate(o.elementType===o.type?me:nr(o.type,me),ht);G.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var Q=o.stateNode.containerInfo;Q.nodeType===1?Q.textContent="":Q.nodeType===9&&Q.documentElement&&Q.removeChild(Q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(le){ot(o,o.return,le)}if(s=o.sibling,s!==null){s.return=o.return,fe=s;break}fe=o.return}return pe=s0,s0=!1,pe}function rl(s,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var v=m.destroy;m.destroy=void 0,v!==void 0&&Hh(o,l,v)}m=m.next}while(m!==h)}}function tc(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&s)===s){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function qh(s){var o=s.ref;if(o!==null){var l=s.stateNode;switch(s.tag){case 5:s=l;break;default:s=l}typeof o=="function"?o(s):o.current=s}}function i0(s){var o=s.alternate;o!==null&&(s.alternate=null,i0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[vr],delete o[qa],delete o[lh],delete o[db],delete o[hb])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function o0(s){return s.tag===5||s.tag===3||s.tag===4}function a0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||o0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Kh(s,o,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(s,o):l.insertBefore(s,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(s,l)):(o=l,o.appendChild(s)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=Nu));else if(h!==4&&(s=s.child,s!==null))for(Kh(s,o,l),s=s.sibling;s!==null;)Kh(s,o,l),s=s.sibling}function Gh(s,o,l){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?l.insertBefore(s,o):l.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(Gh(s,o,l),s=s.sibling;s!==null;)Gh(s,o,l),s=s.sibling}var Lt=null,rr=!1;function bs(s,o,l){for(l=l.child;l!==null;)l0(s,o,l),l=l.sibling}function l0(s,o,l){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(li,l)}catch{}switch(l.tag){case 5:qt||Do(l,o);case 6:var h=Lt,m=rr;Lt=null,bs(s,o,l),Lt=h,rr=m,Lt!==null&&(rr?(s=Lt,l=l.stateNode,s.nodeType===8?s.parentNode.removeChild(l):s.removeChild(l)):Lt.removeChild(l.stateNode));break;case 18:Lt!==null&&(rr?(s=Lt,l=l.stateNode,s.nodeType===8?ah(s.parentNode,l):s.nodeType===1&&ah(s,l),Jn(s)):ah(Lt,l.stateNode));break;case 4:h=Lt,m=rr,Lt=l.stateNode.containerInfo,rr=!0,bs(s,o,l),Lt=h,rr=m;break;case 0:case 11:case 14:case 15:if(!qt&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var v=m,T=v.destroy;v=v.tag,T!==void 0&&(v&2||v&4)&&Hh(l,o,T),m=m.next}while(m!==h)}bs(s,o,l);break;case 1:if(!qt&&(Do(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(M){ot(l,o,M)}bs(s,o,l);break;case 21:bs(s,o,l);break;case 22:l.mode&1?(qt=(h=qt)||l.memoizedState!==null,bs(s,o,l),qt=h):bs(s,o,l);break;default:bs(s,o,l)}}function u0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var l=s.stateNode;l===null&&(l=s.stateNode=new Pb),o.forEach(function(h){var m=Ob.bind(null,s,h);l.has(h)||(l.add(h),h.then(m,m))})}}function sr(s,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var v=s,T=o,M=T;e:for(;M!==null;){switch(M.tag){case 5:Lt=M.stateNode,rr=!1;break e;case 3:Lt=M.stateNode.containerInfo,rr=!0;break e;case 4:Lt=M.stateNode.containerInfo,rr=!0;break e}M=M.return}if(Lt===null)throw Error(n(160));l0(v,T,m),Lt=null,rr=!1;var $=m.alternate;$!==null&&($.return=null),m.return=null}catch(X){ot(m,o,X)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)c0(o,s),o=o.sibling}function c0(s,o){var l=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(sr(o,s),wr(s),h&4){try{rl(3,s,s.return),tc(3,s)}catch(me){ot(s,s.return,me)}try{rl(5,s,s.return)}catch(me){ot(s,s.return,me)}}break;case 1:sr(o,s),wr(s),h&512&&l!==null&&Do(l,l.return);break;case 5:if(sr(o,s),wr(s),h&512&&l!==null&&Do(l,l.return),s.flags&32){var m=s.stateNode;try{ls(m,"")}catch(me){ot(s,s.return,me)}}if(h&4&&(m=s.stateNode,m!=null)){var v=s.memoizedProps,T=l!==null?l.memoizedProps:v,M=s.type,$=s.updateQueue;if(s.updateQueue=null,$!==null)try{M==="input"&&v.type==="radio"&&v.name!=null&&Mr(m,v),Ta(M,T);var X=Ta(M,v);for(T=0;T<$.length;T+=2){var ne=$[T],ie=$[T+1];ne==="style"?_a(m,ie):ne==="dangerouslySetInnerHTML"?va(m,ie):ne==="children"?ls(m,ie):N(m,ne,ie,X)}switch(M){case"input":ma(m,v);break;case"textarea":Gi(m,v);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!v.multiple;var de=v.value;de!=null?jr(m,!!v.multiple,de,!1):te!==!!v.multiple&&(v.defaultValue!=null?jr(m,!!v.multiple,v.defaultValue,!0):jr(m,!!v.multiple,v.multiple?[]:"",!1))}m[qa]=v}catch(me){ot(s,s.return,me)}}break;case 6:if(sr(o,s),wr(s),h&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,v=s.memoizedProps;try{m.nodeValue=v}catch(me){ot(s,s.return,me)}}break;case 3:if(sr(o,s),wr(s),h&4&&l!==null&&l.memoizedState.isDehydrated)try{Jn(o.containerInfo)}catch(me){ot(s,s.return,me)}break;case 4:sr(o,s),wr(s);break;case 13:sr(o,s),wr(s),m=s.child,m.flags&8192&&(v=m.memoizedState!==null,m.stateNode.isHidden=v,!v||m.alternate!==null&&m.alternate.memoizedState!==null||(Yh=He())),h&4&&u0(s);break;case 22:if(ne=l!==null&&l.memoizedState!==null,s.mode&1?(qt=(X=qt)||ne,sr(o,s),qt=X):sr(o,s),wr(s),h&8192){if(X=s.memoizedState!==null,(s.stateNode.isHidden=X)&&!ne&&s.mode&1)for(fe=s,ne=s.child;ne!==null;){for(ie=fe=ne;fe!==null;){switch(te=fe,de=te.child,te.tag){case 0:case 11:case 14:case 15:rl(4,te,te.return);break;case 1:Do(te,te.return);var pe=te.stateNode;if(typeof pe.componentWillUnmount=="function"){h=te,l=te.return;try{o=h,pe.props=o.memoizedProps,pe.state=o.memoizedState,pe.componentWillUnmount()}catch(me){ot(h,l,me)}}break;case 5:Do(te,te.return);break;case 22:if(te.memoizedState!==null){f0(ie);continue}}de!==null?(de.return=te,fe=de):f0(ie)}ne=ne.sibling}e:for(ne=null,ie=s;;){if(ie.tag===5){if(ne===null){ne=ie;try{m=ie.stateNode,X?(v=m.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(M=ie.stateNode,$=ie.memoizedProps.style,T=$!=null&&$.hasOwnProperty("display")?$.display:null,M.style.display=xa("display",T))}catch(me){ot(s,s.return,me)}}}else if(ie.tag===6){if(ne===null)try{ie.stateNode.nodeValue=X?"":ie.memoizedProps}catch(me){ot(s,s.return,me)}}else if((ie.tag!==22&&ie.tag!==23||ie.memoizedState===null||ie===s)&&ie.child!==null){ie.child.return=ie,ie=ie.child;continue}if(ie===s)break e;for(;ie.sibling===null;){if(ie.return===null||ie.return===s)break e;ne===ie&&(ne=null),ie=ie.return}ne===ie&&(ne=null),ie.sibling.return=ie.return,ie=ie.sibling}}break;case 19:sr(o,s),wr(s),h&4&&u0(s);break;case 21:break;default:sr(o,s),wr(s)}}function wr(s){var o=s.flags;if(o&2){try{e:{for(var l=s.return;l!==null;){if(o0(l)){var h=l;break e}l=l.return}throw Error(n(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(ls(m,""),h.flags&=-33);var v=a0(s);Gh(s,v,m);break;case 3:case 4:var T=h.stateNode.containerInfo,M=a0(s);Kh(s,M,T);break;default:throw Error(n(161))}}catch($){ot(s,s.return,$)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function Ib(s,o,l){fe=s,d0(s)}function d0(s,o,l){for(var h=(s.mode&1)!==0;fe!==null;){var m=fe,v=m.child;if(m.tag===22&&h){var T=m.memoizedState!==null||ec;if(!T){var M=m.alternate,$=M!==null&&M.memoizedState!==null||qt;M=ec;var X=qt;if(ec=T,(qt=$)&&!X)for(fe=m;fe!==null;)T=fe,$=T.child,T.tag===22&&T.memoizedState!==null?p0(m):$!==null?($.return=T,fe=$):p0(m);for(;v!==null;)fe=v,d0(v),v=v.sibling;fe=m,ec=M,qt=X}h0(s)}else m.subtreeFlags&8772&&v!==null?(v.return=m,fe=v):h0(s)}}function h0(s){for(;fe!==null;){var o=fe;if(o.flags&8772){var l=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:qt||tc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!qt)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:nr(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&fy(o,v,h);break;case 3:var T=o.updateQueue;if(T!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}fy(o,T,l)}break;case 5:var M=o.stateNode;if(l===null&&o.flags&4){l=M;var $=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":$.autoFocus&&l.focus();break;case"img":$.src&&(l.src=$.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var X=o.alternate;if(X!==null){var ne=X.memoizedState;if(ne!==null){var ie=ne.dehydrated;ie!==null&&Jn(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}qt||o.flags&512&&qh(o)}catch(te){ot(o,o.return,te)}}if(o===s){fe=null;break}if(l=o.sibling,l!==null){l.return=o.return,fe=l;break}fe=o.return}}function f0(s){for(;fe!==null;){var o=fe;if(o===s){fe=null;break}var l=o.sibling;if(l!==null){l.return=o.return,fe=l;break}fe=o.return}}function p0(s){for(;fe!==null;){var o=fe;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{tc(4,o)}catch($){ot(o,l,$)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch($){ot(o,m,$)}}var v=o.return;try{qh(o)}catch($){ot(o,v,$)}break;case 5:var T=o.return;try{qh(o)}catch($){ot(o,T,$)}}}catch($){ot(o,o.return,$)}if(o===s){fe=null;break}var M=o.sibling;if(M!==null){M.return=o.return,fe=M;break}fe=o.return}}var kb=Math.ceil,nc=A.ReactCurrentDispatcher,Qh=A.ReactCurrentOwner,Fn=A.ReactCurrentBatchConfig,Fe=0,It=null,gt=null,jt=0,Tn=0,Vo=_s(0),St=0,sl=null,Ei=0,rc=0,Xh=0,il=null,dn=null,Yh=0,Mo=1/0,Jr=null,sc=!1,Jh=null,Cs=null,ic=!1,As=null,oc=0,ol=0,Zh=null,ac=-1,lc=0;function nn(){return Fe&6?He():ac!==-1?ac:ac=He()}function Ps(s){return s.mode&1?Fe&2&&jt!==0?jt&-jt:pb.transition!==null?(lc===0&&(lc=ci()),lc):(s=Ve,s!==0||(s=window.event,s=s===void 0?16:Va(s.type)),s):1}function ir(s,o,l,h){if(50<ol)throw ol=0,Zh=null,Error(n(185));hs(s,l,h),(!(Fe&2)||s!==It)&&(s===It&&(!(Fe&2)&&(rc|=l),St===4&&Rs(s,jt)),hn(s,h),l===1&&Fe===0&&!(o.mode&1)&&(Mo=He()+500,Lu&&Es()))}function hn(s,o){var l=s.callbackNode;$r(s,o);var h=ui(s,s===It?jt:0);if(h===0)l!==null&&Ra(l),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(l!=null&&Ra(l),o===1)s.tag===0?fb(g0.bind(null,s)):ty(g0.bind(null,s)),ub(function(){!(Fe&6)&&Es()}),l=null;else{switch(ps(h)){case 1:l=ai;break;case 4:l=us;break;case 16:l=Nn;break;case 536870912:l=lu;break;default:l=Nn}l=S0(l,m0.bind(null,s))}s.callbackPriority=o,s.callbackNode=l}}function m0(s,o){if(ac=-1,lc=0,Fe&6)throw Error(n(327));var l=s.callbackNode;if(Lo()&&s.callbackNode!==l)return null;var h=ui(s,s===It?jt:0);if(h===0)return null;if(h&30||h&s.expiredLanes||o)o=uc(s,h);else{o=h;var m=Fe;Fe|=2;var v=v0();(It!==s||jt!==o)&&(Jr=null,Mo=He()+500,Si(s,o));do try{Vb();break}catch(M){y0(s,M)}while(!0);yh(),nc.current=v,Fe=m,gt!==null?o=0:(It=null,jt=0,o=St)}if(o!==0){if(o===2&&(m=vn(s),m!==0&&(h=m,o=ef(s,m))),o===1)throw l=sl,Si(s,0),Rs(s,h),hn(s,He()),l;if(o===6)Rs(s,h);else{if(m=s.current.alternate,!(h&30)&&!Nb(m)&&(o=uc(s,h),o===2&&(v=vn(s),v!==0&&(h=v,o=ef(s,v))),o===1))throw l=sl,Si(s,0),Rs(s,h),hn(s,He()),l;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:bi(s,dn,Jr);break;case 3:if(Rs(s,h),(h&130023424)===h&&(o=Yh+500-He(),10<o)){if(ui(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){nn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=oh(bi.bind(null,s,dn,Jr),o);break}bi(s,dn,Jr);break;case 4:if(Rs(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var T=31-Zt(h);v=1<<T,T=o[T],T>m&&(m=T),h&=~v}if(h=m,h=He()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*kb(h/1960))-h,10<h){s.timeoutHandle=oh(bi.bind(null,s,dn,Jr),h);break}bi(s,dn,Jr);break;case 5:bi(s,dn,Jr);break;default:throw Error(n(329))}}}return hn(s,He()),s.callbackNode===l?m0.bind(null,s):null}function ef(s,o){var l=il;return s.current.memoizedState.isDehydrated&&(Si(s,o).flags|=256),s=uc(s,o),s!==2&&(o=dn,dn=l,o!==null&&tf(o)),s}function tf(s){dn===null?dn=s:dn.push.apply(dn,s)}function Nb(s){for(var o=s;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],v=m.getSnapshot;m=m.value;try{if(!er(v(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Rs(s,o){for(o&=~Xh,o&=~rc,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var l=31-Zt(o),h=1<<l;s[l]=-1,o&=~h}}function g0(s){if(Fe&6)throw Error(n(327));Lo();var o=ui(s,0);if(!(o&1))return hn(s,He()),null;var l=uc(s,o);if(s.tag!==0&&l===2){var h=vn(s);h!==0&&(o=h,l=ef(s,h))}if(l===1)throw l=sl,Si(s,0),Rs(s,o),hn(s,He()),l;if(l===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,bi(s,dn,Jr),hn(s,He()),null}function nf(s,o){var l=Fe;Fe|=1;try{return s(o)}finally{Fe=l,Fe===0&&(Mo=He()+500,Lu&&Es())}}function Ti(s){As!==null&&As.tag===0&&!(Fe&6)&&Lo();var o=Fe;Fe|=1;var l=Fn.transition,h=Ve;try{if(Fn.transition=null,Ve=1,s)return s()}finally{Ve=h,Fn.transition=l,Fe=o,!(Fe&6)&&Es()}}function rf(){Tn=Vo.current,Xe(Vo)}function Si(s,o){s.finishedWork=null,s.finishedLanes=0;var l=s.timeoutHandle;if(l!==-1&&(s.timeoutHandle=-1,lb(l)),gt!==null)for(l=gt.return;l!==null;){var h=l;switch(hh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Vu();break;case 3:ko(),Xe(ln),Xe(zt),bh();break;case 5:Th(h);break;case 4:ko();break;case 13:Xe(tt);break;case 19:Xe(tt);break;case 10:vh(h.type._context);break;case 22:case 23:rf()}l=l.return}if(It=s,gt=s=Is(s.current,null),jt=Tn=o,St=0,sl=null,Xh=rc=Ei=0,dn=il=null,xi!==null){for(o=0;o<xi.length;o++)if(l=xi[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,v=l.pending;if(v!==null){var T=v.next;v.next=m,h.next=T}l.pending=h}xi=null}return s}function y0(s,o){do{var l=gt;try{if(yh(),qu.current=Xu,Ku){for(var h=nt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}Ku=!1}if(wi=0,Rt=Tt=nt=null,Ja=!1,Za=0,Qh.current=null,l===null||l.return===null){St=1,sl=o,gt=null;break}e:{var v=s,T=l.return,M=l,$=o;if(o=jt,M.flags|=32768,$!==null&&typeof $=="object"&&typeof $.then=="function"){var X=$,ne=M,ie=ne.tag;if(!(ne.mode&1)&&(ie===0||ie===11||ie===15)){var te=ne.alternate;te?(ne.updateQueue=te.updateQueue,ne.memoizedState=te.memoizedState,ne.lanes=te.lanes):(ne.updateQueue=null,ne.memoizedState=null)}var de=By(T);if(de!==null){de.flags&=-257,zy(de,T,M,v,o),de.mode&1&&Uy(v,X,o),o=de,$=X;var pe=o.updateQueue;if(pe===null){var me=new Set;me.add($),o.updateQueue=me}else pe.add($);break e}else{if(!(o&1)){Uy(v,X,o),sf();break e}$=Error(n(426))}}else if(Je&&M.mode&1){var ht=By(T);if(ht!==null){!(ht.flags&65536)&&(ht.flags|=256),zy(ht,T,M,v,o),mh(No($,M));break e}}v=$=No($,M),St!==4&&(St=2),il===null?il=[v]:il.push(v),v=T;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var G=Fy(v,$,o);hy(v,G);break e;case 1:M=$;var z=v.type,Q=v.stateNode;if(!(v.flags&128)&&(typeof z.getDerivedStateFromError=="function"||Q!==null&&typeof Q.componentDidCatch=="function"&&(Cs===null||!Cs.has(Q)))){v.flags|=65536,o&=-o,v.lanes|=o;var le=$y(v,M,o);hy(v,le);break e}}v=v.return}while(v!==null)}_0(l)}catch(ye){o=ye,gt===l&&l!==null&&(gt=l=l.return);continue}break}while(!0)}function v0(){var s=nc.current;return nc.current=Xu,s===null?Xu:s}function sf(){(St===0||St===3||St===2)&&(St=4),It===null||!(Ei&268435455)&&!(rc&268435455)||Rs(It,jt)}function uc(s,o){var l=Fe;Fe|=2;var h=v0();(It!==s||jt!==o)&&(Jr=null,Si(s,o));do try{Db();break}catch(m){y0(s,m)}while(!0);if(yh(),Fe=l,nc.current=h,gt!==null)throw Error(n(261));return It=null,jt=0,St}function Db(){for(;gt!==null;)x0(gt)}function Vb(){for(;gt!==null&&!ou();)x0(gt)}function x0(s){var o=T0(s.alternate,s,Tn);s.memoizedProps=s.pendingProps,o===null?_0(s):gt=o,Qh.current=null}function _0(s){var o=s;do{var l=o.alternate;if(s=o.return,o.flags&32768){if(l=Ab(l,o),l!==null){l.flags&=32767,gt=l;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{St=6,gt=null;return}}else if(l=Cb(l,o,Tn),l!==null){gt=l;return}if(o=o.sibling,o!==null){gt=o;return}gt=o=s}while(o!==null);St===0&&(St=5)}function bi(s,o,l){var h=Ve,m=Fn.transition;try{Fn.transition=null,Ve=1,Mb(s,o,l,h)}finally{Fn.transition=m,Ve=h}return null}function Mb(s,o,l,h){do Lo();while(As!==null);if(Fe&6)throw Error(n(327));l=s.finishedWork;var m=s.finishedLanes;if(l===null)return null;if(s.finishedWork=null,s.finishedLanes=0,l===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var v=l.lanes|l.childLanes;if(We(s,v),s===It&&(gt=It=null,jt=0),!(l.subtreeFlags&2064)&&!(l.flags&2064)||ic||(ic=!0,S0(Nn,function(){return Lo(),null})),v=(l.flags&15990)!==0,l.subtreeFlags&15990||v){v=Fn.transition,Fn.transition=null;var T=Ve;Ve=1;var M=Fe;Fe|=4,Qh.current=null,Rb(s,l),c0(l,s),tb(sh),gs=!!rh,sh=rh=null,s.current=l,Ib(l),Ud(),Fe=M,Ve=T,Fn.transition=v}else s.current=l;if(ic&&(ic=!1,As=s,oc=m),v=s.pendingLanes,v===0&&(Cs=null),uu(l.stateNode),hn(s,He()),o!==null)for(h=s.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(sc)throw sc=!1,s=Jh,Jh=null,s;return oc&1&&s.tag!==0&&Lo(),v=s.pendingLanes,v&1?s===Zh?ol++:(ol=0,Zh=s):ol=0,Es(),null}function Lo(){if(As!==null){var s=ps(oc),o=Fn.transition,l=Ve;try{if(Fn.transition=null,Ve=16>s?16:s,As===null)var h=!1;else{if(s=As,As=null,oc=0,Fe&6)throw Error(n(331));var m=Fe;for(Fe|=4,fe=s.current;fe!==null;){var v=fe,T=v.child;if(fe.flags&16){var M=v.deletions;if(M!==null){for(var $=0;$<M.length;$++){var X=M[$];for(fe=X;fe!==null;){var ne=fe;switch(ne.tag){case 0:case 11:case 15:rl(8,ne,v)}var ie=ne.child;if(ie!==null)ie.return=ne,fe=ie;else for(;fe!==null;){ne=fe;var te=ne.sibling,de=ne.return;if(i0(ne),ne===X){fe=null;break}if(te!==null){te.return=de,fe=te;break}fe=de}}}var pe=v.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var ht=me.sibling;me.sibling=null,me=ht}while(me!==null)}}fe=v}}if(v.subtreeFlags&2064&&T!==null)T.return=v,fe=T;else e:for(;fe!==null;){if(v=fe,v.flags&2048)switch(v.tag){case 0:case 11:case 15:rl(9,v,v.return)}var G=v.sibling;if(G!==null){G.return=v.return,fe=G;break e}fe=v.return}}var z=s.current;for(fe=z;fe!==null;){T=fe;var Q=T.child;if(T.subtreeFlags&2064&&Q!==null)Q.return=T,fe=Q;else e:for(T=z;fe!==null;){if(M=fe,M.flags&2048)try{switch(M.tag){case 0:case 11:case 15:tc(9,M)}}catch(ye){ot(M,M.return,ye)}if(M===T){fe=null;break e}var le=M.sibling;if(le!==null){le.return=M.return,fe=le;break e}fe=M.return}}if(Fe=m,Es(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(li,s)}catch{}h=!0}return h}finally{Ve=l,Fn.transition=o}}return!1}function w0(s,o,l){o=No(l,o),o=Fy(s,o,1),s=Ss(s,o,1),o=nn(),s!==null&&(hs(s,1,o),hn(s,o))}function ot(s,o,l){if(s.tag===3)w0(s,s,l);else for(;o!==null;){if(o.tag===3){w0(o,s,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Cs===null||!Cs.has(h))){s=No(l,s),s=$y(o,s,1),o=Ss(o,s,1),s=nn(),o!==null&&(hs(o,1,s),hn(o,s));break}}o=o.return}}function Lb(s,o,l){var h=s.pingCache;h!==null&&h.delete(o),o=nn(),s.pingedLanes|=s.suspendedLanes&l,It===s&&(jt&l)===l&&(St===4||St===3&&(jt&130023424)===jt&&500>He()-Yh?Si(s,0):Xh|=l),hn(s,o)}function E0(s,o){o===0&&(s.mode&1?(o=so,so<<=1,!(so&130023424)&&(so=4194304)):o=1);var l=nn();s=Qr(s,o),s!==null&&(hs(s,o,l),hn(s,l))}function jb(s){var o=s.memoizedState,l=0;o!==null&&(l=o.retryLane),E0(s,l)}function Ob(s,o){var l=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),E0(s,l)}var T0;T0=function(s,o,l){if(s!==null)if(s.memoizedProps!==o.pendingProps||ln.current)cn=!0;else{if(!(s.lanes&l)&&!(o.flags&128))return cn=!1,bb(s,o,l);cn=!!(s.flags&131072)}else cn=!1,Je&&o.flags&1048576&&ny(o,Ou,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Zu(s,o),s=o.pendingProps;var m=So(o,zt.current);Io(o,l),m=Ph(null,o,h,s,m,l);var v=Rh();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,un(h)?(v=!0,Mu(o)):v=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,wh(o),m.updater=Yu,o.stateNode=m,m._reactInternals=o,Mh(o,h,s,l),o=Fh(null,o,h,!0,v,l)):(o.tag=0,Je&&v&&dh(o),tn(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Zu(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=$b(h),s=nr(h,s),m){case 0:o=Oh(null,o,h,s,l);break e;case 1:o=Qy(null,o,h,s,l);break e;case 11:o=Wy(null,o,h,s,l);break e;case 14:o=Hy(null,o,h,nr(h.type,s),l);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:nr(h,m),Oh(s,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:nr(h,m),Qy(s,o,h,m,l);case 3:e:{if(Xy(o),s===null)throw Error(n(387));h=o.pendingProps,v=o.memoizedState,m=v.element,dy(s,o),Wu(o,h,null,l);var T=o.memoizedState;if(h=T.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){m=No(Error(n(423)),o),o=Yy(s,o,h,l,m);break e}else if(h!==m){m=No(Error(n(424)),o),o=Yy(s,o,h,l,m);break e}else for(En=xs(o.stateNode.containerInfo.firstChild),wn=o,Je=!0,tr=null,l=uy(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(Ao(),h===m){o=Yr(s,o,l);break e}tn(s,o,h,l)}o=o.child}return o;case 5:return py(o),s===null&&ph(o),h=o.type,m=o.pendingProps,v=s!==null?s.memoizedProps:null,T=m.children,ih(h,m)?T=null:v!==null&&ih(h,v)&&(o.flags|=32),Gy(s,o),tn(s,o,T,l),o.child;case 6:return s===null&&ph(o),null;case 13:return Jy(s,o,l);case 4:return Eh(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=Po(o,null,h,l):tn(s,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:nr(h,m),Wy(s,o,h,m,l);case 7:return tn(s,o,o.pendingProps,l),o.child;case 8:return tn(s,o,o.pendingProps.children,l),o.child;case 12:return tn(s,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,v=o.memoizedProps,T=m.value,qe(Uu,h._currentValue),h._currentValue=T,v!==null)if(er(v.value,T)){if(v.children===m.children&&!ln.current){o=Yr(s,o,l);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var M=v.dependencies;if(M!==null){T=v.child;for(var $=M.firstContext;$!==null;){if($.context===h){if(v.tag===1){$=Xr(-1,l&-l),$.tag=2;var X=v.updateQueue;if(X!==null){X=X.shared;var ne=X.pending;ne===null?$.next=$:($.next=ne.next,ne.next=$),X.pending=$}}v.lanes|=l,$=v.alternate,$!==null&&($.lanes|=l),xh(v.return,l,o),M.lanes|=l;break}$=$.next}}else if(v.tag===10)T=v.type===o.type?null:v.child;else if(v.tag===18){if(T=v.return,T===null)throw Error(n(341));T.lanes|=l,M=T.alternate,M!==null&&(M.lanes|=l),xh(T,l,o),T=v.sibling}else T=v.child;if(T!==null)T.return=v;else for(T=v;T!==null;){if(T===o){T=null;break}if(v=T.sibling,v!==null){v.return=T.return,T=v;break}T=T.return}v=T}tn(s,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,Io(o,l),m=jn(m),h=h(m),o.flags|=1,tn(s,o,h,l),o.child;case 14:return h=o.type,m=nr(h,o.pendingProps),m=nr(h.type,m),Hy(s,o,h,m,l);case 15:return qy(s,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:nr(h,m),Zu(s,o),o.tag=1,un(h)?(s=!0,Mu(o)):s=!1,Io(o,l),jy(o,h,m),Mh(o,h,m,l),Fh(null,o,h,!0,s,l);case 19:return e0(s,o,l);case 22:return Ky(s,o,l)}throw Error(n(156,o.tag))};function S0(s,o){return no(s,o)}function Fb(s,o,l,h){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(s,o,l,h){return new Fb(s,o,l,h)}function of(s){return s=s.prototype,!(!s||!s.isReactComponent)}function $b(s){if(typeof s=="function")return of(s)?1:0;if(s!=null){if(s=s.$$typeof,s===H)return 11;if(s===et)return 14}return 2}function Is(s,o){var l=s.alternate;return l===null?(l=$n(s.tag,o,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=o,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&14680064,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,o=s.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l}function cc(s,o,l,h,m,v){var T=2;if(h=s,typeof s=="function")of(s)&&(T=1);else if(typeof s=="string")T=5;else e:switch(s){case k:return Ci(l.children,m,v,o);case C:T=8,m|=8;break;case R:return s=$n(12,l,o,m|2),s.elementType=R,s.lanes=v,s;case V:return s=$n(13,l,o,m),s.elementType=V,s.lanes=v,s;case Oe:return s=$n(19,l,o,m),s.elementType=Oe,s.lanes=v,s;case be:return dc(l,m,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:T=10;break e;case B:T=9;break e;case H:T=11;break e;case et:T=14;break e;case Ge:T=16,h=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=$n(T,l,o,m),o.elementType=s,o.type=h,o.lanes=v,o}function Ci(s,o,l,h){return s=$n(7,s,h,o),s.lanes=l,s}function dc(s,o,l,h){return s=$n(22,s,h,o),s.elementType=be,s.lanes=l,s.stateNode={isHidden:!1},s}function af(s,o,l){return s=$n(6,s,null,o),s.lanes=l,s}function lf(s,o,l){return o=$n(4,s.children!==null?s.children:[],s.key,o),o.lanes=l,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function Ub(s,o,l,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ds(0),this.expirationTimes=ds(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ds(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function uf(s,o,l,h,m,v,T,M,$){return s=new Ub(s,o,l,M,$),o===1?(o=1,v===!0&&(o|=8)):o=0,v=$n(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},wh(v),s}function Bb(s,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:U,key:h==null?null:""+h,children:s,containerInfo:o,implementation:l}}function b0(s){if(!s)return ws;s=s._reactInternals;e:{if(Kn(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(un(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var l=s.type;if(un(l))return Zg(s,l,o)}return o}function C0(s,o,l,h,m,v,T,M,$){return s=uf(l,h,!0,s,m,v,T,M,$),s.context=b0(null),l=s.current,h=nn(),m=Ps(l),v=Xr(h,m),v.callback=o??null,Ss(l,v,m),s.current.lanes=m,hs(s,m,h),hn(s,h),s}function hc(s,o,l,h){var m=o.current,v=nn(),T=Ps(m);return l=b0(l),o.context===null?o.context=l:o.pendingContext=l,o=Xr(v,T),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Ss(m,o,T),s!==null&&(ir(s,m,T,v),zu(s,m,T)),T}function fc(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function A0(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<o?l:o}}function cf(s,o){A0(s,o),(s=s.alternate)&&A0(s,o)}function zb(){return null}var P0=typeof reportError=="function"?reportError:function(s){console.error(s)};function df(s){this._internalRoot=s}pc.prototype.render=df.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));hc(s,o,null,null)},pc.prototype.unmount=df.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Ti(function(){hc(null,s,null,null)}),o[Hr]=null}};function pc(s){this._internalRoot=s}pc.prototype.unstable_scheduleHydration=function(s){if(s){var o=pu();s={blockedOn:null,target:s,priority:o};for(var l=0;l<pr.length&&o!==0&&o<pr[l].priority;l++);pr.splice(l,0,s),l===0&&yu(s)}};function hf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function mc(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function R0(){}function Wb(s,o,l,h,m){if(m){if(typeof h=="function"){var v=h;h=function(){var X=fc(T);v.call(X)}}var T=C0(o,h,s,0,null,!1,!1,"",R0);return s._reactRootContainer=T,s[Hr]=T.current,Wa(s.nodeType===8?s.parentNode:s),Ti(),T}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var M=h;h=function(){var X=fc($);M.call(X)}}var $=uf(s,0,!1,null,null,!1,!1,"",R0);return s._reactRootContainer=$,s[Hr]=$.current,Wa(s.nodeType===8?s.parentNode:s),Ti(function(){hc(o,$,l,h)}),$}function gc(s,o,l,h,m){var v=l._reactRootContainer;if(v){var T=v;if(typeof m=="function"){var M=m;m=function(){var $=fc(T);M.call($)}}hc(o,T,s,m)}else T=Wb(l,o,s,m,h);return fc(T)}hu=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var l=cs(o.pendingLanes);l!==0&&(fs(o,l|1),hn(o,He()),!(Fe&6)&&(Mo=He()+500,Es()))}break;case 13:Ti(function(){var h=Qr(s,1);if(h!==null){var m=nn();ir(h,s,1,m)}}),cf(s,1)}},io=function(s){if(s.tag===13){var o=Qr(s,134217728);if(o!==null){var l=nn();ir(o,s,134217728,l)}cf(s,134217728)}},fu=function(s){if(s.tag===13){var o=Ps(s),l=Qr(s,o);if(l!==null){var h=nn();ir(l,s,o,h)}cf(s,o)}},pu=function(){return Ve},mu=function(s,o){var l=Ve;try{return Ve=s,o()}finally{Ve=l}},Xi=function(s,o,l){switch(o){case"input":if(ma(s,l),o=l.name,l.type==="radio"&&o!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==s&&h.form===s.form){var m=Du(h);if(!m)throw Error(n(90));Vr(h),ma(h,m)}}}break;case"textarea":Gi(s,l);break;case"select":o=l.value,o!=null&&jr(s,!!l.multiple,o,!1)}},ri=nf,ba=Ti;var Hb={usingClientEntryPoint:!1,Events:[Ka,Eo,Du,hr,Sa,nf]},al={findFiberByHostInstance:mi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qb={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Pa(s),s===null?null:s.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||zb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{li=yc.inject(qb),yn=yc}catch{}}return fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hb,fn.createPortal=function(s,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hf(o))throw Error(n(200));return Bb(s,o,null,l)},fn.createRoot=function(s,o){if(!hf(s))throw Error(n(299));var l=!1,h="",m=P0;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=uf(s,1,!1,null,null,l,!1,h,m),s[Hr]=o.current,Wa(s.nodeType===8?s.parentNode:s),new df(o)},fn.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Pa(o),s=s===null?null:s.stateNode,s},fn.flushSync=function(s){return Ti(s)},fn.hydrate=function(s,o,l){if(!mc(o))throw Error(n(200));return gc(null,s,o,!0,l)},fn.hydrateRoot=function(s,o,l){if(!hf(s))throw Error(n(405));var h=l!=null&&l.hydratedSources||null,m=!1,v="",T=P0;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(v=l.identifierPrefix),l.onRecoverableError!==void 0&&(T=l.onRecoverableError)),o=C0(o,null,s,1,l??null,m,!1,v,T),s[Hr]=o.current,Wa(s),h)for(s=0;s<h.length;s++)l=h[s],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new pc(o)},fn.render=function(s,o,l){if(!mc(o))throw Error(n(200));return gc(null,s,o,!1,l)},fn.unmountComponentAtNode=function(s){if(!mc(s))throw Error(n(40));return s._reactRootContainer?(Ti(function(){gc(null,null,s,!1,function(){s._reactRootContainer=null,s[Hr]=null})}),!0):!1},fn.unstable_batchedUpdates=nf,fn.unstable_renderSubtreeIntoContainer=function(s,o,l,h){if(!mc(l))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return gc(s,o,l,!1,h)},fn.version="18.3.1-next-f1338f8080-20240426",fn}var j0;function R_(){if(j0)return mf.exports;j0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),mf.exports=Zb(),mf.exports}var O0;function eC(){if(O0)return vc;O0=1;var t=R_();return vc.createRoot=t.createRoot,vc.hydrateRoot=t.hydrateRoot,vc}var tC=eC();const nC=Fp(tC);var ul={},F0;function rC(){if(F0)return ul;F0=1,Object.defineProperty(ul,"__esModule",{value:!0}),ul.parse=u,ul.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,a=(()=>{const E=function(){};return E.prototype=Object.create(null),E})();function u(E,S){const P=new a,L=E.length;if(L<2)return P;const D=(S==null?void 0:S.decode)||g;let F=0;do{const W=E.indexOf("=",F);if(W===-1)break;const N=E.indexOf(";",F),A=N===-1?L:N;if(W>A){F=E.lastIndexOf(";",W-1)+1;continue}const j=d(E,F,W),U=f(E,W,j),k=E.slice(j,U);if(P[k]===void 0){let C=d(E,W+1,A),R=f(E,A,C);const O=D(E.slice(C,R));P[k]=O}F=A+1}while(F<L);return P}function d(E,S,P){do{const L=E.charCodeAt(S);if(L!==32&&L!==9)return S}while(++S<P);return P}function f(E,S,P){for(;S>P;){const L=E.charCodeAt(--S);if(L!==32&&L!==9)return S+1}return P}function p(E,S,P){const L=(P==null?void 0:P.encode)||encodeURIComponent;if(!t.test(E))throw new TypeError(`argument name is invalid: ${E}`);const D=L(S);if(!e.test(D))throw new TypeError(`argument val is invalid: ${S}`);let F=E+"="+D;if(!P)return F;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);F+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);F+="; Domain="+P.domain}if(P.path){if(!r.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);F+="; Path="+P.path}if(P.expires){if(!x(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);F+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(F+="; HttpOnly"),P.secure&&(F+="; Secure"),P.partitioned&&(F+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":F+="; Priority=Low";break;case"medium":F+="; Priority=Medium";break;case"high":F+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":F+="; SameSite=Strict";break;case"lax":F+="; SameSite=Lax";break;case"none":F+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return F}function g(E){if(E.indexOf("%")===-1)return E;try{return decodeURIComponent(E)}catch{return E}}function x(E){return i.call(E)==="[object Date]"}return ul}rC();/**
 * react-router v7.1.5
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var $0="popstate";function sC(t={}){function e(r,i){let{pathname:a,search:u,hash:d}=r.location;return Hf("",{pathname:a,search:u,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Rl(i)}return oC(e,n,null,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ir(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iC(){return Math.random().toString(36).substring(2,10)}function U0(t,e){return{usr:t.state,key:t.key,idx:e}}function Hf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?oa(e):e,state:n,key:e&&e.key||r||iC()}}function Rl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function oa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function oC(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,u=i.history,d="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function x(){d="POP";let D=g(),F=D==null?null:D-p;p=D,f&&f({action:d,location:L.location,delta:F})}function E(D,F){d="PUSH";let W=Hf(L.location,D,F);p=g()+1;let N=U0(W,p),A=L.createHref(W);try{u.pushState(N,"",A)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;i.location.assign(A)}a&&f&&f({action:d,location:L.location,delta:1})}function S(D,F){d="REPLACE";let W=Hf(L.location,D,F);p=g();let N=U0(W,p),A=L.createHref(W);u.replaceState(N,"",A),a&&f&&f({action:d,location:L.location,delta:0})}function P(D){let F=i.location.origin!=="null"?i.location.origin:i.location.href,W=typeof D=="string"?D:Rl(D);return W=W.replace(/ $/,"%20"),st(F,`No window.location.(origin|href) available to create URL for href: ${W}`),new URL(W,F)}let L={get action(){return d},get location(){return t(i,u)},listen(D){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener($0,x),f=D,()=>{i.removeEventListener($0,x),f=null}},createHref(D){return e(i,D)},createURL:P,encodeLocation(D){let F=P(D);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:S,go(D){return u.go(D)}};return L}function I_(t,e,n="/"){return aC(t,e,n,!1)}function aC(t,e,n,r){let i=typeof e=="string"?oa(e):e,a=$s(i.pathname||"/",n);if(a==null)return null;let u=k_(t);lC(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=xC(a);d=yC(u[f],p,r)}return d}function k_(t,e=[],n=[],r=""){let i=(a,u,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};f.relativePath.startsWith("/")&&(st(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let p=Zr([r,f.relativePath]),g=n.concat(f);a.children&&a.children.length>0&&(st(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),k_(a.children,e,g,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:mC(p,a.index),routesMeta:g})};return t.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))i(a,u);else for(let f of N_(a.path))i(a,u,f)}),e}function N_(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let u=N_(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),i&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function lC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var uC=/^:[\w-]+$/,cC=3,dC=2,hC=1,fC=10,pC=-2,B0=t=>t==="*";function mC(t,e){let n=t.split("/"),r=n.length;return n.some(B0)&&(r+=pC),e&&(r+=dC),n.filter(i=>!B0(i)).reduce((i,a)=>i+(uC.test(a)?cC:a===""?hC:fC),r)}function gC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function yC(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",x=Wc({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!x&&p&&n&&!r[r.length-1].route.index&&(x=Wc({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!x)return null;Object.assign(i,x.params),u.push({params:i,pathname:Zr([a,x.pathname]),pathnameBase:TC(Zr([a,x.pathnameBase])),route:E}),x.pathnameBase!=="/"&&(a=Zr([a,x.pathnameBase]))}return u}function Wc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],u=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:x},E)=>{if(g==="*"){let P=d[E]||"";u=a.slice(0,a.length-P.length).replace(/(.)\/+$/,"$1")}const S=d[E];return x&&!S?p[g]=void 0:p[g]=(S||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function vC(t,e=!1,n=!0){Ir(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function xC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ir(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function $s(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _C(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?oa(t):t;return{pathname:n?n.startsWith("/")?n:wC(n,e):e,search:SC(r),hash:bC(i)}}function wC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function vf(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function EC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function D_(t){let e=EC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function V_(t,e,n,r=!1){let i;typeof t=="string"?i=oa(t):(i={...t},st(!i.pathname||!i.pathname.includes("?"),vf("?","pathname","search",i)),st(!i.pathname||!i.pathname.includes("#"),vf("#","pathname","hash",i)),st(!i.search||!i.search.includes("#"),vf("#","search","hash",i)));let a=t===""||i.pathname==="",u=a?"/":i.pathname,d;if(u==null)d=n;else{let x=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),x-=1;i.pathname=E.join("/")}d=x>=0?e[x]:"/"}let f=_C(i,d),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var Zr=t=>t.join("/").replace(/\/\/+/g,"/"),TC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function CC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var M_=["POST","PUT","PATCH","DELETE"];new Set(M_);var AC=["GET",...M_];new Set(AC);var aa=I.createContext(null);aa.displayName="DataRouter";var pd=I.createContext(null);pd.displayName="DataRouterState";var L_=I.createContext({isTransitioning:!1});L_.displayName="ViewTransition";var PC=I.createContext(new Map);PC.displayName="Fetchers";var RC=I.createContext(null);RC.displayName="Await";var Dr=I.createContext(null);Dr.displayName="Navigation";var Hl=I.createContext(null);Hl.displayName="Location";var ur=I.createContext({outlet:null,matches:[],isDataRoute:!1});ur.displayName="Route";var Up=I.createContext(null);Up.displayName="RouteError";function IC(t,{relative:e}={}){st(ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=I.useContext(Dr),{hash:i,pathname:a,search:u}=Kl(t,{relative:e}),d=a;return n!=="/"&&(d=a==="/"?n:Zr([n,a])),r.createHref({pathname:d,search:u,hash:i})}function ql(){return I.useContext(Hl)!=null}function Xs(){return st(ql(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(Hl).location}var j_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function O_(t){I.useContext(Dr).static||I.useLayoutEffect(t)}function la(){let{isDataRoute:t}=I.useContext(ur);return t?HC():kC()}function kC(){st(ql(),"useNavigate() may be used only in the context of a <Router> component.");let t=I.useContext(aa),{basename:e,navigator:n}=I.useContext(Dr),{matches:r}=I.useContext(ur),{pathname:i}=Xs(),a=JSON.stringify(D_(r)),u=I.useRef(!1);return O_(()=>{u.current=!0}),I.useCallback((f,p={})=>{if(Ir(u.current,j_),!u.current)return;if(typeof f=="number"){n.go(f);return}let g=V_(f,JSON.parse(a),i,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Zr([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,a,i,t])}var NC=I.createContext(null);function DC(t){let e=I.useContext(ur).outlet;return e&&I.createElement(NC.Provider,{value:t},e)}function F_(){let{matches:t}=I.useContext(ur),e=t[t.length-1];return e?e.params:{}}function Kl(t,{relative:e}={}){let{matches:n}=I.useContext(ur),{pathname:r}=Xs(),i=JSON.stringify(D_(n));return I.useMemo(()=>V_(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function VC(t,e){return $_(t,e)}function $_(t,e,n,r){var W;st(ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=I.useContext(Dr),{matches:u}=I.useContext(ur),d=u[u.length-1],f=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",x=d&&d.route;{let N=x&&x.path||"";U_(p,!x||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let E=Xs(),S;if(e){let N=typeof e=="string"?oa(e):e;st(g==="/"||((W=N.pathname)==null?void 0:W.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),S=N}else S=E;let P=S.pathname||"/",L=P;if(g!=="/"){let N=g.replace(/^\//,"").split("/");L="/"+P.replace(/^\//,"").split("/").slice(N.length).join("/")}let D=!a&&n&&n.matches&&n.matches.length>0?n.matches:I_(t,{pathname:L});Ir(x||D!=null,`No routes matched location "${S.pathname}${S.search}${S.hash}" `),Ir(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${S.pathname}${S.search}${S.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=FC(D&&D.map(N=>Object.assign({},N,{params:Object.assign({},f,N.params),pathname:Zr([g,i.encodeLocation?i.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:Zr([g,i.encodeLocation?i.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),u,n,r);return e&&F?I.createElement(Hl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...S},navigationType:"POP"}},F):F}function MC(){let t=WC(),e=CC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:a},"ErrorBoundary")," or"," ",I.createElement("code",{style:a},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:i},n):null,u)}var LC=I.createElement(MC,null),jC=class extends I.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?I.createElement(ur.Provider,{value:this.props.routeContext},I.createElement(Up.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OC({routeContext:t,match:e,children:n}){let r=I.useContext(aa);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(ur.Provider,{value:t},n)}function FC(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let f=i.findIndex(p=>p.route.id&&(a==null?void 0:a[p.route.id])!==void 0);st(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<i.length;f++){let p=i[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:g,errors:x}=n,E=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!x||x[p.route.id]===void 0);if(p.route.lazy||E){u=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((f,p,g)=>{let x,E=!1,S=null,P=null;n&&(x=a&&p.route.id?a[p.route.id]:void 0,S=p.route.errorElement||LC,u&&(d<0&&g===0?(U_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,P=null):d===g&&(E=!0,P=p.route.hydrateFallbackElement||null)));let L=e.concat(i.slice(0,g+1)),D=()=>{let F;return x?F=S:E?F=P:p.route.Component?F=I.createElement(p.route.Component,null):p.route.element?F=p.route.element:F=f,I.createElement(OC,{match:p,routeContext:{outlet:f,matches:L,isDataRoute:n!=null},children:F})};return n&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?I.createElement(jC,{location:n.location,revalidation:n.revalidation,component:S,error:x,children:D(),routeContext:{outlet:null,matches:L,isDataRoute:!0}}):D()},null)}function Bp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function $C(t){let e=I.useContext(aa);return st(e,Bp(t)),e}function UC(t){let e=I.useContext(pd);return st(e,Bp(t)),e}function BC(t){let e=I.useContext(ur);return st(e,Bp(t)),e}function zp(t){let e=BC(t),n=e.matches[e.matches.length-1];return st(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function zC(){return zp("useRouteId")}function WC(){var r;let t=I.useContext(Up),e=UC("useRouteError"),n=zp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function HC(){let{router:t}=$C("useNavigate"),e=zp("useNavigate"),n=I.useRef(!1);return O_(()=>{n.current=!0}),I.useCallback(async(i,a={})=>{Ir(n.current,j_),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var z0={};function U_(t,e,n){!e&&!z0[t]&&(z0[t]=!0,Ir(!1,n))}I.memo(qC);function qC({routes:t,future:e,state:n}){return $_(t,void 0,n,e)}function KC(t){return DC(t.context)}function Gt(t){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GC({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){st(!ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=I.useMemo(()=>({basename:u,navigator:i,static:a,future:{}}),[u,i,a]);typeof n=="string"&&(n=oa(n));let{pathname:f="/",search:p="",hash:g="",state:x=null,key:E="default"}=n,S=I.useMemo(()=>{let P=$s(f,u);return P==null?null:{location:{pathname:P,search:p,hash:g,state:x,key:E},navigationType:r}},[u,f,p,g,x,E,r]);return Ir(S!=null,`<Router basename="${u}"> is not able to match the URL "${f}${p}${g}" because it does not start with the basename, so the <Router> won't render anything.`),S==null?null:I.createElement(Dr.Provider,{value:d},I.createElement(Hl.Provider,{children:e,value:S}))}function QC({children:t,location:e}){return VC(qf(t),e)}function qf(t,e=[]){let n=[];return I.Children.forEach(t,(r,i)=>{if(!I.isValidElement(r))return;let a=[...e,i];if(r.type===I.Fragment){n.push.apply(n,qf(r.props.children,a));return}st(r.type===Gt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=qf(r.props.children,a)),n.push(u)}),n}var Nc="get",Dc="application/x-www-form-urlencoded";function md(t){return t!=null&&typeof t.tagName=="string"}function XC(t){return md(t)&&t.tagName.toLowerCase()==="button"}function YC(t){return md(t)&&t.tagName.toLowerCase()==="form"}function JC(t){return md(t)&&t.tagName.toLowerCase()==="input"}function ZC(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function eA(t,e){return t.button===0&&(!e||e==="_self")&&!ZC(t)}var xc=null;function tA(){if(xc===null)try{new FormData(document.createElement("form"),0),xc=!1}catch{xc=!0}return xc}var nA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xf(t){return t!=null&&!nA.has(t)?(Ir(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dc}"`),null):t}function rA(t,e){let n,r,i,a,u;if(YC(t)){let d=t.getAttribute("action");r=d?$s(d,e):null,n=t.getAttribute("method")||Nc,i=xf(t.getAttribute("enctype"))||Dc,a=new FormData(t)}else if(XC(t)||JC(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?$s(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||Nc,i=xf(t.getAttribute("formenctype"))||xf(d.getAttribute("enctype"))||Dc,a=new FormData(d,t),!tA()){let{name:p,type:g,value:x}=t;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,x)}}else{if(md(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nc,r=null,i=Dc,u=t}return a&&i==="text/plain"&&(u=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:u}}function Wp(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function sA(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iA(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function oA(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let u=await sA(a,n);return u.links?u.links():[]}return[]}));return cA(r.flat(1).filter(iA).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function W0(t,e,n,r,i,a){let u=(f,p)=>n[p]?f.route.id!==n[p].route.id:!0,d=(f,p)=>{var g;return n[p].pathname!==f.pathname||((g=n[p].route.path)==null?void 0:g.endsWith("*"))&&n[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{var x;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function aA(t,e){return lA(t.map(n=>{let r=e.routes[n.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function lA(t){return[...new Set(t)]}function uA(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function cA(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(uA(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}function dA(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function hA(){let t=I.useContext(aa);return Wp(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function fA(){let t=I.useContext(pd);return Wp(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Hp=I.createContext(void 0);Hp.displayName="FrameworkContext";function B_(){let t=I.useContext(Hp);return Wp(t,"You must render this element inside a <HydratedRouter> element"),t}function pA(t,e){let n=I.useContext(Hp),[r,i]=I.useState(!1),[a,u]=I.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:x}=e,E=I.useRef(null);I.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let L=F=>{F.forEach(W=>{u(W.isIntersecting)})},D=new IntersectionObserver(L,{threshold:.5});return E.current&&D.observe(E.current),()=>{D.disconnect()}}},[t]),I.useEffect(()=>{if(r){let L=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(L)}}},[r]);let S=()=>{i(!0)},P=()=>{i(!1),u(!1)};return n?t!=="intent"?[a,E,{}]:[a,E,{onFocus:cl(d,S),onBlur:cl(f,P),onMouseEnter:cl(p,S),onMouseLeave:cl(g,P),onTouchStart:cl(x,S)}]:[!1,E,{}]}function cl(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function mA({page:t,...e}){let{router:n}=hA(),r=I.useMemo(()=>I_(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?I.createElement(yA,{page:t,matches:r,...e}):null}function gA(t){let{manifest:e,routeModules:n}=B_(),[r,i]=I.useState([]);return I.useEffect(()=>{let a=!1;return oA(t,e,n).then(u=>{a||i(u)}),()=>{a=!0}},[t,e,n]),r}function yA({page:t,matches:e,...n}){let r=Xs(),{manifest:i,routeModules:a}=B_(),{loaderData:u,matches:d}=fA(),f=I.useMemo(()=>W0(t,e,d,i,r,"data"),[t,e,d,i,r]),p=I.useMemo(()=>W0(t,e,d,i,r,"assets"),[t,e,d,i,r]),g=I.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,P=!1;if(e.forEach(D=>{var W;let F=i.routes[D.route.id];!F||!F.hasLoader||(!f.some(N=>N.route.id===D.route.id)&&D.route.id in u&&((W=a[D.route.id])!=null&&W.shouldRevalidate)||F.hasClientLoader?P=!0:S.add(D.route.id))}),S.size===0)return[];let L=dA(t);return P&&S.size>0&&L.searchParams.set("_routes",e.filter(D=>S.has(D.route.id)).map(D=>D.route.id).join(",")),[L.pathname+L.search]},[u,r,i,f,e,t,a]),x=I.useMemo(()=>aA(p,i),[p,i]),E=gA(p);return I.createElement(I.Fragment,null,g.map(S=>I.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),x.map(S=>I.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),E.map(({key:S,link:P})=>I.createElement("link",{key:S,...P})))}function vA(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var z_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{z_&&(window.__reactRouterVersion="7.1.5")}catch{}function xA({basename:t,children:e,window:n}){let r=I.useRef();r.current==null&&(r.current=sC({window:n,v5Compat:!0}));let i=r.current,[a,u]=I.useState({action:i.action,location:i.location}),d=I.useCallback(f=>{I.startTransition(()=>u(f))},[u]);return I.useLayoutEffect(()=>i.listen(d),[i,d]),I.createElement(GC,{basename:t,children:e,location:a.location,navigationType:a.action,navigator:i})}var W_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,br=I.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:x,...E},S){let{basename:P}=I.useContext(Dr),L=typeof p=="string"&&W_.test(p),D,F=!1;if(typeof p=="string"&&L&&(D=p,z_))try{let R=new URL(window.location.href),O=p.startsWith("//")?new URL(R.protocol+p):new URL(p),B=$s(O.pathname,P);O.origin===R.origin&&B!=null?p=B+O.search+O.hash:F=!0}catch{Ir(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let W=IC(p,{relative:i}),[N,A,j]=pA(r,E),U=TA(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:i,viewTransition:x});function k(R){e&&e(R),R.defaultPrevented||U(R)}let C=I.createElement("a",{...E,...j,href:D||W,onClick:F||a?e:k,ref:vA(S,A),target:f,"data-discover":!L&&n==="render"?"true":void 0});return N&&!L?I.createElement(I.Fragment,null,C,I.createElement(mA,{page:W})):C});br.displayName="Link";var _A=I.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:u,viewTransition:d,children:f,...p},g){let x=Kl(u,{relative:p.relative}),E=Xs(),S=I.useContext(pd),{navigator:P,basename:L}=I.useContext(Dr),D=S!=null&&PA(x)&&d===!0,F=P.encodeLocation?P.encodeLocation(x).pathname:x.pathname,W=E.pathname,N=S&&S.navigation&&S.navigation.location?S.navigation.location.pathname:null;n||(W=W.toLowerCase(),N=N?N.toLowerCase():null,F=F.toLowerCase()),N&&L&&(N=$s(N,L)||N);const A=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let j=W===F||!i&&W.startsWith(F)&&W.charAt(A)==="/",U=N!=null&&(N===F||!i&&N.startsWith(F)&&N.charAt(F.length)==="/"),k={isActive:j,isPending:U,isTransitioning:D},C=j?e:void 0,R;typeof r=="function"?R=r(k):R=[r,j?"active":null,U?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let O=typeof a=="function"?a(k):a;return I.createElement(br,{...p,"aria-current":C,className:R,ref:g,style:O,to:u,viewTransition:d},typeof f=="function"?f(k):f)});_A.displayName="NavLink";var wA=I.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:u=Nc,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:x,...E},S)=>{let P=CA(),L=AA(d,{relative:p}),D=u.toLowerCase()==="get"?"get":"post",F=typeof d=="string"&&W_.test(d),W=N=>{if(f&&f(N),N.defaultPrevented)return;N.preventDefault();let A=N.nativeEvent.submitter,j=(A==null?void 0:A.getAttribute("formmethod"))||u;P(A||N.currentTarget,{fetcherKey:e,method:j,navigate:n,replace:i,state:a,relative:p,preventScrollReset:g,viewTransition:x})};return I.createElement("form",{ref:S,method:D,action:L,onSubmit:r?f:W,...E,"data-discover":!F&&t==="render"?"true":void 0})});wA.displayName="Form";function EA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function H_(t){let e=I.useContext(aa);return st(e,EA(t)),e}function TA(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:u}={}){let d=la(),f=Xs(),p=Kl(t,{relative:a});return I.useCallback(g=>{if(eA(g,e)){g.preventDefault();let x=n!==void 0?n:Rl(f)===Rl(p);d(t,{replace:x,state:r,preventScrollReset:i,relative:a,viewTransition:u})}},[f,d,p,n,r,e,t,i,a,u])}var SA=0,bA=()=>`__${String(++SA)}__`;function CA(){let{router:t}=H_("useSubmit"),{basename:e}=I.useContext(Dr),n=zC();return I.useCallback(async(r,i={})=>{let{action:a,method:u,encType:d,formData:f,body:p}=rA(r,e);if(i.navigate===!1){let g=i.fetcherKey||bA();await t.fetch(g,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||u,formEncType:i.encType||d,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:f,body:p,formMethod:i.method||u,formEncType:i.encType||d,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function AA(t,{relative:e}={}){let{basename:n}=I.useContext(Dr),r=I.useContext(ur);st(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Kl(t||".",{relative:e})},u=Xs();if(t==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let g=d.toString();a.search=g?`?${g}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Zr([n,a.pathname])),Rl(a)}function PA(t,e={}){let n=I.useContext(L_);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=H_("useViewTransitionState"),i=Kl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=$s(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=$s(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wc(i.pathname,u)!=null||Wc(i.pathname,a)!=null}new TextEncoder;var RA=R_();const _c=Fp(RA);function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hc.apply(null,arguments)}function qp(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Kf(t,e){return Kf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Kf(t,e)}function Kp(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Kf(t,e)}function IA(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function kA(t,e){t.classList?t.classList.add(e):IA(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function H0(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function NA(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=H0(t.className,e):t.setAttribute("class",H0(t.className&&t.className.baseVal||"",e))}const q0={disabled:!1},qc=zn.createContext(null);var q_=function(e){return e.scrollTop},fl="unmounted",Pi="exited",Ri="entering",Oo="entered",Gf="exiting",as=function(t){Kp(e,t);function e(r,i){var a;a=t.call(this,r,i)||this;var u=i,d=u&&!u.isMounting?r.enter:r.appear,f;return a.appearStatus=null,r.in?d?(f=Pi,a.appearStatus=Ri):f=Oo:r.unmountOnExit||r.mountOnEnter?f=fl:f=Pi,a.state={status:f},a.nextCallback=null,a}e.getDerivedStateFromProps=function(i,a){var u=i.in;return u&&a.status===fl?{status:Pi}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var a=null;if(i!==this.props){var u=this.state.status;this.props.in?u!==Ri&&u!==Oo&&(a=Ri):(u===Ri||u===Oo)&&(a=Gf)}this.updateStatus(!1,a)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,a,u,d;return a=u=d=i,i!=null&&typeof i!="number"&&(a=i.exit,u=i.enter,d=i.appear!==void 0?i.appear:u),{exit:a,enter:u,appear:d}},n.updateStatus=function(i,a){if(i===void 0&&(i=!1),a!==null)if(this.cancelNextCallback(),a===Ri){if(this.props.unmountOnExit||this.props.mountOnEnter){var u=this.props.nodeRef?this.props.nodeRef.current:_c.findDOMNode(this);u&&q_(u)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Pi&&this.setState({status:fl})},n.performEnter=function(i){var a=this,u=this.props.enter,d=this.context?this.context.isMounting:i,f=this.props.nodeRef?[d]:[_c.findDOMNode(this),d],p=f[0],g=f[1],x=this.getTimeouts(),E=d?x.appear:x.enter;if(!i&&!u||q0.disabled){this.safeSetState({status:Oo},function(){a.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:Ri},function(){a.props.onEntering(p,g),a.onTransitionEnd(E,function(){a.safeSetState({status:Oo},function(){a.props.onEntered(p,g)})})})},n.performExit=function(){var i=this,a=this.props.exit,u=this.getTimeouts(),d=this.props.nodeRef?void 0:_c.findDOMNode(this);if(!a||q0.disabled){this.safeSetState({status:Pi},function(){i.props.onExited(d)});return}this.props.onExit(d),this.safeSetState({status:Gf},function(){i.props.onExiting(d),i.onTransitionEnd(u.exit,function(){i.safeSetState({status:Pi},function(){i.props.onExited(d)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,a){a=this.setNextCallback(a),this.setState(i,a)},n.setNextCallback=function(i){var a=this,u=!0;return this.nextCallback=function(d){u&&(u=!1,a.nextCallback=null,i(d))},this.nextCallback.cancel=function(){u=!1},this.nextCallback},n.onTransitionEnd=function(i,a){this.setNextCallback(a);var u=this.props.nodeRef?this.props.nodeRef.current:_c.findDOMNode(this),d=i==null&&!this.props.addEndListener;if(!u||d){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var f=this.props.nodeRef?[this.nextCallback]:[u,this.nextCallback],p=f[0],g=f[1];this.props.addEndListener(p,g)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===fl)return null;var a=this.props,u=a.children;a.in,a.mountOnEnter,a.unmountOnExit,a.appear,a.enter,a.exit,a.timeout,a.addEndListener,a.onEnter,a.onEntering,a.onEntered,a.onExit,a.onExiting,a.onExited,a.nodeRef;var d=qp(a,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return zn.createElement(qc.Provider,{value:null},typeof u=="function"?u(i,d):zn.cloneElement(zn.Children.only(u),d))},e}(zn.Component);as.contextType=qc;as.propTypes={};function jo(){}as.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:jo,onEntering:jo,onEntered:jo,onExit:jo,onExiting:jo,onExited:jo};as.UNMOUNTED=fl;as.EXITED=Pi;as.ENTERING=Ri;as.ENTERED=Oo;as.EXITING=Gf;var DA=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return kA(e,r)})},_f=function(e,n){return e&&n&&n.split(" ").forEach(function(r){return NA(e,r)})},Gp=function(t){Kp(e,t);function e(){for(var r,i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return r=t.call.apply(t,[this].concat(a))||this,r.appliedClasses={appear:{},enter:{},exit:{}},r.onEnter=function(d,f){var p=r.resolveArguments(d,f),g=p[0],x=p[1];r.removeClasses(g,"exit"),r.addClass(g,x?"appear":"enter","base"),r.props.onEnter&&r.props.onEnter(d,f)},r.onEntering=function(d,f){var p=r.resolveArguments(d,f),g=p[0],x=p[1],E=x?"appear":"enter";r.addClass(g,E,"active"),r.props.onEntering&&r.props.onEntering(d,f)},r.onEntered=function(d,f){var p=r.resolveArguments(d,f),g=p[0],x=p[1],E=x?"appear":"enter";r.removeClasses(g,E),r.addClass(g,E,"done"),r.props.onEntered&&r.props.onEntered(d,f)},r.onExit=function(d){var f=r.resolveArguments(d),p=f[0];r.removeClasses(p,"appear"),r.removeClasses(p,"enter"),r.addClass(p,"exit","base"),r.props.onExit&&r.props.onExit(d)},r.onExiting=function(d){var f=r.resolveArguments(d),p=f[0];r.addClass(p,"exit","active"),r.props.onExiting&&r.props.onExiting(d)},r.onExited=function(d){var f=r.resolveArguments(d),p=f[0];r.removeClasses(p,"exit"),r.addClass(p,"exit","done"),r.props.onExited&&r.props.onExited(d)},r.resolveArguments=function(d,f){return r.props.nodeRef?[r.props.nodeRef.current,d]:[d,f]},r.getClassNames=function(d){var f=r.props.classNames,p=typeof f=="string",g=p&&f?f+"-":"",x=p?""+g+d:f[d],E=p?x+"-active":f[d+"Active"],S=p?x+"-done":f[d+"Done"];return{baseClassName:x,activeClassName:E,doneClassName:S}},r}var n=e.prototype;return n.addClass=function(i,a,u){var d=this.getClassNames(a)[u+"ClassName"],f=this.getClassNames("enter"),p=f.doneClassName;a==="appear"&&u==="done"&&p&&(d+=" "+p),u==="active"&&i&&q_(i),d&&(this.appliedClasses[a][u]=d,DA(i,d))},n.removeClasses=function(i,a){var u=this.appliedClasses[a],d=u.base,f=u.active,p=u.done;this.appliedClasses[a]={},d&&_f(i,d),f&&_f(i,f),p&&_f(i,p)},n.render=function(){var i=this.props;i.classNames;var a=qp(i,["classNames"]);return zn.createElement(as,Hc({},a,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(zn.Component);Gp.defaultProps={classNames:""};Gp.propTypes={};function VA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qp(t,e){var n=function(a){return e&&I.isValidElement(a)?e(a):a},r=Object.create(null);return t&&I.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function MA(t,e){t=t||{},e=e||{};function n(g){return g in e?e[g]:t[g]}var r=Object.create(null),i=[];for(var a in t)a in e?i.length&&(r[a]=i,i=[]):i.push(a);var u,d={};for(var f in e){if(r[f])for(u=0;u<r[f].length;u++){var p=r[f][u];d[r[f][u]]=n(p)}d[f]=n(f)}for(u=0;u<i.length;u++)d[i[u]]=n(i[u]);return d}function Ni(t,e,n){return n[e]!=null?n[e]:t.props[e]}function LA(t,e){return Qp(t.children,function(n){return I.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ni(n,"appear",t),enter:Ni(n,"enter",t),exit:Ni(n,"exit",t)})})}function jA(t,e,n){var r=Qp(t.children),i=MA(e,r);return Object.keys(i).forEach(function(a){var u=i[a];if(I.isValidElement(u)){var d=a in e,f=a in r,p=e[a],g=I.isValidElement(p)&&!p.props.in;f&&(!d||g)?i[a]=I.cloneElement(u,{onExited:n.bind(null,u),in:!0,exit:Ni(u,"exit",t),enter:Ni(u,"enter",t)}):!f&&d&&!g?i[a]=I.cloneElement(u,{in:!1}):f&&d&&I.isValidElement(p)&&(i[a]=I.cloneElement(u,{onExited:n.bind(null,u),in:p.props.in,exit:Ni(u,"exit",t),enter:Ni(u,"enter",t)}))}}),i}var OA=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},FA={component:"div",childFactory:function(e){return e}},Xp=function(t){Kp(e,t);function e(r,i){var a;a=t.call(this,r,i)||this;var u=a.handleExited.bind(VA(a));return a.state={contextValue:{isMounting:!0},handleExited:u,firstRender:!0},a}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,a){var u=a.children,d=a.handleExited,f=a.firstRender;return{children:f?LA(i,d):jA(i,u,d),firstRender:!1}},n.handleExited=function(i,a){var u=Qp(this.props.children);i.key in u||(i.props.onExited&&i.props.onExited(a),this.mounted&&this.setState(function(d){var f=Hc({},d.children);return delete f[i.key],{children:f}}))},n.render=function(){var i=this.props,a=i.component,u=i.childFactory,d=qp(i,["component","childFactory"]),f=this.state.contextValue,p=OA(this.state.children).map(u);return delete d.appear,delete d.enter,delete d.exit,a===null?zn.createElement(qc.Provider,{value:f},p):zn.createElement(qc.Provider,{value:f},zn.createElement(a,d,p))},e}(zn.Component);Xp.propTypes={};Xp.defaultProps=FA;/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),K_=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:u,...d},f)=>I.createElement("svg",{ref:f,...UA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:K_("lucide",i),...d},[...u.map(([p,g])=>I.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=(t,e)=>{const n=I.forwardRef(({className:r,...i},a)=>I.createElement(BA,{ref:a,iconNode:e,className:K_(`lucide-${$A(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]],HA=zA("Dog",WA);function qA(){const t=Xs(),[e,n]=I.useState(!1),{isDarkMode:r,toggleTheme:i}=I.useContext(Dt),a=[{name:"Home",href:"/"},{name:"Blog",href:"/blog"},{name:"Products",href:"/products"},{name:"Contact",href:"/contact"}],u=()=>n(!e);return _.jsxs("nav",{className:`fixed top-0 left-0 w-full z-20 shadow-md transition-colors duration-300 ease-in-out ${r?"bg-stone-900 text-red-400":"bg-white text-red-800"}`,children:[_.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[_.jsx("div",{className:"md:hidden",children:_.jsxs("button",{onClick:u,className:"focus:outline-none","aria-label":"Toggle menu",children:[_.jsx("span",{className:`block w-6 h-1 mb-1.5 transition-all duration-300 ${r?"bg-stone-400":"bg-red-800"} ${e?"rotate-45 translate-y-2.5":""}`}),_.jsx("span",{className:`block w-6 h-1 mb-1.5 transition-all duration-300 ${r?"bg-stone-400":"bg-red-800"} ${e?"opacity-0":""}`}),_.jsx("span",{className:`block w-6 h-1 transition-all duration-300 ${r?"bg-stone-400":"bg-red-800"} ${e?"-rotate-45 -translate-y-2.5":""}`})]})}),_.jsx("div",{className:"flex-grow text-center",children:_.jsxs(br,{to:"/",className:"flex justify-center items-center space-x-2",onClick:()=>n(!1),children:[_.jsx(HA,{className:`w-6 h-6 ${r?"text-stone-400":"text-red-800"}`}),_.jsx("span",{className:"text-xl font-bold",children:"Aussie Gut Pack"})]})}),_.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[a.map(d=>_.jsx(br,{to:d.href,className:`px-3 py-2 rounded-md transition-colors duration-200 ${t.pathname===d.href?r?"bg-red-800 text-white":"bg-red-100 text-red-800":r?"hover:bg-red-900":"hover:bg-red-200"}`,children:d.name},d.href)),_.jsx("button",{onClick:i,className:"px-3 py-2 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:r?"Light":"Dark"})]}),_.jsx("div",{className:"md:hidden",children:_.jsx("button",{onClick:i,className:"px-3 py-1 rounded-md transition-colors duration-200 bg-red-800 text-white hover:bg-red-900",children:r?"L":"D"})})]}),e&&_.jsx("div",{className:`md:hidden flex flex-col space-y-2 py-4 px-6 transition-colors duration-300 ease-in-out ${r?"bg-stone-900 text-stone-400":"bg-white text-red-800"}`,children:a.map(d=>_.jsx(br,{to:d.href,className:`px-3 py-2 rounded-md transition-colors duration-200 ${t.pathname===d.href?r?"bg-red-800 text-white":"bg-red-100 text-red-800":r?"hover:bg-red-900":"hover:bg-red-200"}`,onClick:()=>n(!1),children:d.name},d.href))})]})}function KA(){const{isDarkMode:t}=I.useContext(Dt),e=[{name:"Facebook",icon:"fab fa-facebook-f",url:"https://facebook.com"},{name:"Twitter/X",icon:"fab fa-x-twitter",url:"https://x.com"},{name:"Instagram",icon:"fab fa-instagram",url:"https://instagram.com"},{name:"LinkedIn",icon:"fab fa-linkedin-in",url:"https://linkedin.com"},{name:"YouTube",icon:"fab fa-youtube",url:"https://youtube.com"},{name:"Pinterest",icon:"fab fa-pinterest-p",url:"https://pinterest.com"},{name:"TikTok",icon:"fab fa-tiktok",url:"https://tiktok.com"},{name:"GitHub",icon:"fab fa-github",url:"https://github.com"}];return _.jsxs("div",{className:`relative min-h-screen ${t?"bg-stone-900":"bg-white"}`,children:[_.jsx(qA,{}),_.jsx("main",{className:"container mx-auto px-4 py-8 md:pt-16",children:_.jsx(KC,{})}),_.jsxs("footer",{className:`py-4 text-center text-sm backdrop-blur-sm ${t?"bg-stone-900/80 text-white":"bg-white/80 text-stone-600"}`,children:[_.jsx("div",{className:"mb-2",children:"© 2025 Aussie Gut Pack - Your Gut Health Companion"}),_.jsx("div",{className:"flex justify-center space-x-4",children:e.map(n=>_.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:`text-lg transition-colors duration-300 ${t?"text-stone-400 hover:text-stone-200":"text-stone-600 hover:text-red-800"}`,"aria-label":`Follow us on ${n.name}`,children:_.jsx("i",{className:n.icon})},n.name))})]})]})}function Sn({to:t,children:e,variant:n,className:r,...i}){const a="px-4 py-2 rounded transition-colors duration-300 ease-in-out",u=n==="primary"?"bg-red-800 text-white hover:bg-red-900":"bg-stone-200 text-red-600 hover:bg-stone-300";return t?_.jsx(br,{to:t,className:`${a} ${u} ${r}`,...i,children:e}):_.jsx("button",{className:`${a} ${u} ${r}`,...i,children:e})}const GA="/aussie-gut-pack/assets/aussie-BleX4DhZ.png",QA="/aussie-gut-pack/assets/goggins-BJp9afAd.png",K0=[GA,QA],XA=()=>{const[t,e]=I.useState(0);return I.useEffect(()=>{const n=setInterval(()=>{e(r=>(r+1)%K0.length)},5e3);return()=>clearInterval(n)},[]),_.jsx("div",{className:"absolute inset-0 w-full h-full overflow-hidden bg-gray-900",children:K0.map((n,r)=>_.jsx("div",{className:`absolute inset-0 w-[120%] h-full bg-cover bg-center transition-opacity duration-1000 ease-in-out ${r===t?"opacity-100":"opacity-0"}`,style:{backgroundImage:`url(${n})`}},r))})},Yp=I.createContext({});function Jp(t){const e=I.useRef(null);return e.current===null&&(e.current=t()),e.current}const Zp=typeof window<"u",G_=Zp?I.useLayoutEffect:I.useEffect,gd=I.createContext(null),em=I.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class YA extends I.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=r instanceof HTMLElement&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=n.offsetHeight||0,a.width=n.offsetWidth||0,a.top=n.offsetTop,a.left=n.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function JA({children:t,isPresent:e,anchorX:n}){const r=I.useId(),i=I.useRef(null),a=I.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=I.useContext(em);return I.useInsertionEffect(()=>{const{width:d,height:f,top:p,left:g,right:x}=a.current;if(e||!i.current||!d||!f)return;const E=n==="left"?`left: ${g}`:`right: ${x}`;i.current.dataset.motionPopId=r;const S=document.createElement("style");return u&&(S.nonce=u),document.head.appendChild(S),S.sheet&&S.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${E}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.removeChild(S)}},[e]),_.jsx(YA,{isPresent:e,childRef:i,sizeRef:a,children:I.cloneElement(t,{ref:i})})}const ZA=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:u,anchorX:d})=>{const f=Jp(e1),p=I.useId(),g=I.useCallback(E=>{f.set(E,!0);for(const S of f.values())if(!S)return;r&&r()},[f,r]),x=I.useMemo(()=>({id:p,initial:e,isPresent:n,custom:i,onExitComplete:g,register:E=>(f.set(E,!1),()=>f.delete(E))}),a?[Math.random(),g]:[n,g]);return I.useMemo(()=>{f.forEach((E,S)=>f.set(S,!1))},[n]),I.useEffect(()=>{!n&&!f.size&&r&&r()},[n]),u==="popLayout"&&(t=_.jsx(JA,{isPresent:n,anchorX:d,children:t})),_.jsx(gd.Provider,{value:x,children:t})};function e1(){return new Map}function Q_(t=!0){const e=I.useContext(gd);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,a=I.useId();I.useEffect(()=>{if(t)return i(a)},[t]);const u=I.useCallback(()=>t&&r&&r(a),[a,r,t]);return!n&&r?[!1,u]:[!0]}const wc=t=>t.key||"";function G0(t){const e=[];return I.Children.forEach(t,n=>{I.isValidElement(n)&&e.push(n)}),e}const Q0=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:u=!1,anchorX:d="left"})=>{const[f,p]=Q_(u),g=I.useMemo(()=>G0(t),[t]),x=u&&!f?[]:g.map(wc),E=I.useRef(!0),S=I.useRef(g),P=Jp(()=>new Map),[L,D]=I.useState(g),[F,W]=I.useState(g);G_(()=>{E.current=!1,S.current=g;for(let j=0;j<F.length;j++){const U=wc(F[j]);x.includes(U)?P.delete(U):P.get(U)!==!0&&P.set(U,!1)}},[F,x.length,x.join("-")]);const N=[];if(g!==L){let j=[...g];for(let U=0;U<F.length;U++){const k=F[U],C=wc(k);x.includes(C)||(j.splice(U,0,k),N.push(k))}return a==="wait"&&N.length&&(j=N),W(G0(j)),D(g),null}const{forceRender:A}=I.useContext(Yp);return _.jsx(_.Fragment,{children:F.map(j=>{const U=wc(j),k=u&&!f?!1:g===F||x.includes(U),C=()=>{if(P.has(U))P.set(U,!0);else return;let R=!0;P.forEach(O=>{O||(R=!1)}),R&&(A==null||A(),W(S.current),u&&(p==null||p()),r&&r())};return _.jsx(ZA,{isPresent:k,initial:!E.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:a,onExitComplete:k?void 0:C,anchorX:d,children:j},U)})})};function tm(t,e){t.indexOf(e)===-1&&t.push(e)}function nm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const An=t=>t;let X_=An;const t1={useManualTiming:!1};function rm(t){let e;return()=>(e===void 0&&(e=t()),e)}const Qo=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class sm{constructor(){this.subscriptions=[]}add(e){return tm(this.subscriptions,e),()=>nm(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let a=0;a<i;a++){const u=this.subscriptions[a];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const es=t=>t*1e3,ts=t=>t/1e3;function Y_(t,e){return e?t*(1e3/e):0}const n1=rm(()=>window.ScrollTimeline!==void 0);class r1{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(n1()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class s1 extends r1{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function im(t,e){return t?t[e]||t.default||t:void 0}const Qf=2e4;function J_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Qf;)e+=n,r=t.next(e);return e>=Qf?1/0:e}function om(t){return typeof t=="function"}function X0(t,e){t.timeline=e,t.onfinish=null}const am=t=>Array.isArray(t)&&typeof t[0]=="number",i1={linearEasing:void 0};function o1(t,e){const n=rm(t);return()=>{var r;return(r=i1[e])!==null&&r!==void 0?r:n()}}const Kc=o1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Z_=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let a=0;a<i;a++)r+=t(Qo(0,i-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function ew(t){return!!(typeof t=="function"&&Kc()||!t||typeof t=="string"&&(t in Xf||Kc())||am(t)||Array.isArray(t)&&t.every(ew))}const pl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Xf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:pl([0,.65,.55,1]),circOut:pl([.55,0,1,.45]),backIn:pl([.31,.01,.66,-.59]),backOut:pl([.33,1.53,.69,.99])};function tw(t,e){if(t)return typeof t=="function"&&Kc()?Z_(t,e):am(t)?pl(t):Array.isArray(t)?t.map(n=>tw(n,e)||Xf.easeOut):Xf[t]}const Ec=["read","resolveKeyframes","update","preRender","render","postRender"],Y0={value:null};function a1(t,e){let n=new Set,r=new Set,i=!1,a=!1;const u=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1},f=0;function p(x){u.has(x)&&(g.schedule(x),t()),f++,x(d)}const g={schedule:(x,E=!1,S=!1)=>{const L=S&&i?n:r;return E&&u.add(x),L.has(x)||L.add(x),x},cancel:x=>{r.delete(x),u.delete(x)},process:x=>{if(d=x,i){a=!0;return}i=!0,[n,r]=[r,n],n.forEach(p),e&&Y0.value&&Y0.value.frameloop[e].push(f),f=0,n.clear(),i=!1,a&&(a=!1,g.process(x))}};return g}const l1=40;function nw(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>n=!0,u=Ec.reduce((F,W)=>(F[W]=a1(a,e?W:void 0),F),{}),{read:d,resolveKeyframes:f,update:p,preRender:g,render:x,postRender:E}=u,S=()=>{const F=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(F-i.timestamp,l1),1),i.timestamp=F,i.isProcessing=!0,d.process(i),f.process(i),p.process(i),g.process(i),x.process(i),E.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(S))},P=()=>{n=!0,r=!0,i.isProcessing||t(S)};return{schedule:Ec.reduce((F,W)=>{const N=u[W];return F[W]=(A,j=!1,U=!1)=>(n||P(),N.schedule(A,j,U)),F},{}),cancel:F=>{for(let W=0;W<Ec.length;W++)u[Ec[W]].cancel(F)},state:i,steps:u}}const{schedule:Ke,cancel:Us,state:Ot,steps:wf}=nw(typeof requestAnimationFrame<"u"?requestAnimationFrame:An,!0),{schedule:lm}=nw(queueMicrotask,!1);let Vc;function u1(){Vc=void 0}const Cr={now:()=>(Vc===void 0&&Cr.set(Ot.isProcessing||t1.useManualTiming?Ot.timestamp:performance.now()),Vc),set:t=>{Vc=t,queueMicrotask(u1)}},or={x:!1,y:!1};function rw(){return or.x||or.y}function c1(t){return t==="x"||t==="y"?or[t]?null:(or[t]=!0,()=>{or[t]=!1}):or.x||or.y?null:(or.x=or.y=!0,()=>{or.x=or.y=!1})}function d1(t,e,n){var r;if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function sw(t,e){const n=d1(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function J0(t){return!(t.pointerType==="touch"||rw())}function h1(t,e,n={}){const[r,i,a]=sw(t,n),u=d=>{if(!J0(d))return;const{target:f}=d,p=e(f,d);if(typeof p!="function"||!f)return;const g=x=>{J0(x)&&(p(x),f.removeEventListener("pointerleave",g))};f.addEventListener("pointerleave",g,i)};return r.forEach(d=>{d.addEventListener("pointerenter",u,i)}),a}function Z0(t,e){const n=`${e}PointerCapture`;if(t.target instanceof Element&&n in t.target&&t.pointerId!==void 0)try{t.target[n](t.pointerId)}catch{}}const iw=(t,e)=>e?t===e?!0:iw(t,e.parentElement):!1,um=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,f1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function p1(t){return f1.has(t.tagName)||t.tabIndex!==-1}const ml=new WeakSet;function ev(t){return e=>{e.key==="Enter"&&t(e)}}function Ef(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const m1=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=ev(()=>{if(ml.has(n))return;Ef(n,"down");const i=ev(()=>{Ef(n,"up")}),a=()=>Ef(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",a,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function tv(t){return um(t)&&!rw()}function g1(t,e,n={}){const[r,i,a]=sw(t,n),u=d=>{const f=d.currentTarget;if(!f||!tv(d)||ml.has(f))return;ml.add(f),Z0(d,"set");const p=e(f,d),g=(S,P)=>{f.removeEventListener("pointerup",x),f.removeEventListener("pointercancel",E),Z0(S,"release"),!(!tv(S)||!ml.has(f))&&(ml.delete(f),typeof p=="function"&&p(S,{success:P}))},x=S=>{(S.isTrusted?y1(S,f instanceof Element?f.getBoundingClientRect():{left:0,top:0,right:window.innerWidth,bottom:window.innerHeight}):!1)?g(S,!1):g(S,!(f instanceof Element)||iw(f,S.target))},E=S=>{g(S,!1)};f.addEventListener("pointerup",x,i),f.addEventListener("pointercancel",E,i),f.addEventListener("lostpointercapture",E,i)};return r.forEach(d=>{d=n.useGlobalTarget?window:d;let f=!1;d instanceof HTMLElement&&(f=!0,!p1(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0)),d.addEventListener("pointerdown",u,i),f&&d.addEventListener("focus",p=>m1(p,i),i)}),a}function y1(t,e){return t.clientX<e.left||t.clientX>e.right||t.clientY<e.top||t.clientY>e.bottom}const nv=30,v1=t=>!isNaN(parseFloat(t));class x1{constructor(e,n={}){this.version="12.5.0",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const a=Cr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Cr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=v1(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new sm);const r=this.events[e].add(n);return e==="change"?()=>{r(),Ke.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Cr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,nv);return Y_(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Il(t,e){return new x1(t,e)}const ow=I.createContext({strict:!1}),rv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xo={};for(const t in rv)Xo[t]={isEnabled:e=>rv[t].some(n=>!!e[n])};function _1(t){for(const e in t)Xo[e]={...Xo[e],...t[e]}}const w1=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||w1.has(t)}let aw=t=>!Gc(t);function E1(t){t&&(aw=e=>e.startsWith("on")?!Gc(e):t(e))}try{E1(require("@emotion/is-prop-valid").default)}catch{}function T1(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(aw(i)||n===!0&&Gc(i)||!e&&!Gc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function S1(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const yd=I.createContext({});function vd(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function kl(t){return typeof t=="string"||Array.isArray(t)}const cm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dm=["initial",...cm];function xd(t){return vd(t.animate)||dm.some(e=>kl(t[e]))}function lw(t){return!!(xd(t)||t.variants)}function b1(t,e){if(xd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||kl(n)?n:void 0,animate:kl(r)?r:void 0}}return t.inherit!==!1?e:{}}function C1(t){const{initial:e,animate:n}=b1(t,I.useContext(yd));return I.useMemo(()=>({initial:e,animate:n}),[sv(e),sv(n)])}function sv(t){return Array.isArray(t)?t.join(" "):t}const A1=Symbol.for("motionComponentSymbol");function zo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function P1(t,e,n){return I.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):zo(n)&&(n.current=r))},[e])}const hm=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),R1="framerAppearId",uw="data-"+hm(R1),cw=I.createContext({});function I1(t,e,n,r,i){var a,u;const{visualElement:d}=I.useContext(yd),f=I.useContext(ow),p=I.useContext(gd),g=I.useContext(em).reducedMotion,x=I.useRef(null);r=r||f.renderer,!x.current&&r&&(x.current=r(t,{visualState:e,parent:d,props:n,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const E=x.current,S=I.useContext(cw);E&&!E.projection&&i&&(E.type==="html"||E.type==="svg")&&k1(x.current,n,i,S);const P=I.useRef(!1);I.useInsertionEffect(()=>{E&&P.current&&E.update(n,p)});const L=n[uw],D=I.useRef(!!L&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,L))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,L)));return G_(()=>{E&&(P.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),lm.render(E.render),D.current&&E.animationState&&E.animationState.animateChanges())}),I.useEffect(()=>{E&&(!D.current&&E.animationState&&E.animationState.animateChanges(),D.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)===null||F===void 0||F.call(window,L)}),D.current=!1))}),E}function k1(t,e,n,r){const{layoutId:i,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:dw(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!u||d&&zo(d),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function dw(t){if(t)return t.options.allowProjection!==!1?t.projection:dw(t.parent)}function N1({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var a,u;t&&_1(t);function d(p,g){let x;const E={...I.useContext(em),...p,layoutId:D1(p)},{isStatic:S}=E,P=C1(p),L=r(p,S);if(!S&&Zp){V1();const D=M1(E);x=D.MeasureLayout,P.visualElement=I1(i,L,E,e,D.ProjectionNode)}return _.jsxs(yd.Provider,{value:P,children:[x&&P.visualElement?_.jsx(x,{visualElement:P.visualElement,...E}):null,n(i,p,P1(L,P.visualElement,g),L,S,P.visualElement)]})}d.displayName=`motion.${typeof i=="string"?i:`create(${(u=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&u!==void 0?u:""})`}`;const f=I.forwardRef(d);return f[A1]=i,f}function D1({layoutId:t}){const e=I.useContext(Yp).id;return e&&t!==void 0?e+"-"+t:t}function V1(t,e){I.useContext(ow).strict}function M1(t){const{drag:e,layout:n}=Xo;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const hw=t=>e=>typeof e=="string"&&e.startsWith(t),fm=hw("--"),L1=hw("var(--"),pm=t=>L1(t)?j1.test(t.split("/*")[0].trim()):!1,j1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nl={};function O1(t){for(const e in t)Nl[e]=t[e],fm(e)&&(Nl[e].isCSSVariable=!0)}const ua=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ui=new Set(ua);function fw(t,{layout:e,layoutId:n}){return Ui.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Nl[t]||t==="opacity")}const Jt=t=>!!(t&&t.getVelocity),pw=(t,e)=>e&&typeof t=="number"?e.transform(t):t,rs=(t,e,n)=>n>e?e:n<t?t:n,ca={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Dl={...ca,transform:t=>rs(0,1,t)},Tc={...ca,default:1},Gl=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ns=Gl("deg"),Ar=Gl("%"),Se=Gl("px"),F1=Gl("vh"),$1=Gl("vw"),iv={...Ar,parse:t=>Ar.parse(t)/100,transform:t=>Ar.transform(t*100)},U1={borderWidth:Se,borderTopWidth:Se,borderRightWidth:Se,borderBottomWidth:Se,borderLeftWidth:Se,borderRadius:Se,radius:Se,borderTopLeftRadius:Se,borderTopRightRadius:Se,borderBottomRightRadius:Se,borderBottomLeftRadius:Se,width:Se,maxWidth:Se,height:Se,maxHeight:Se,top:Se,right:Se,bottom:Se,left:Se,padding:Se,paddingTop:Se,paddingRight:Se,paddingBottom:Se,paddingLeft:Se,margin:Se,marginTop:Se,marginRight:Se,marginBottom:Se,marginLeft:Se,backgroundPositionX:Se,backgroundPositionY:Se},B1={rotate:Ns,rotateX:Ns,rotateY:Ns,rotateZ:Ns,scale:Tc,scaleX:Tc,scaleY:Tc,scaleZ:Tc,skew:Ns,skewX:Ns,skewY:Ns,distance:Se,translateX:Se,translateY:Se,translateZ:Se,x:Se,y:Se,z:Se,perspective:Se,transformPerspective:Se,opacity:Dl,originX:iv,originY:iv,originZ:Se},ov={...ca,transform:Math.round},mm={...U1,...B1,zIndex:ov,size:Se,fillOpacity:Dl,strokeOpacity:Dl,numOctaves:ov},z1={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},W1=ua.length;function H1(t,e,n){let r="",i=!0;for(let a=0;a<W1;a++){const u=ua[a],d=t[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const p=pw(d,mm[u]);if(!f){i=!1;const g=z1[u]||u;r+=`${g}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function gm(t,e,n){const{style:r,vars:i,transformOrigin:a}=t;let u=!1,d=!1;for(const f in e){const p=e[f];if(Ui.has(f)){u=!0;continue}else if(fm(f)){i[f]=p;continue}else{const g=pw(p,mm[f]);f.startsWith("origin")?(d=!0,a[f]=g):r[f]=g}}if(e.transform||(u||n?r.transform=H1(e,t.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const ym=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function mw(t,e,n){for(const r in e)!Jt(e[r])&&!fw(r,n)&&(t[r]=e[r])}function q1({transformTemplate:t},e){return I.useMemo(()=>{const n=ym();return gm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function K1(t,e){const n=t.style||{},r={};return mw(r,n,t),Object.assign(r,q1(t,e)),r}function G1(t,e){const n={},r=K1(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Q1=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vm(t){return typeof t!="string"||t.includes("-")?!1:!!(Q1.indexOf(t)>-1||/[A-Z]/u.test(t))}const X1={offset:"stroke-dashoffset",array:"stroke-dasharray"},Y1={offset:"strokeDashoffset",array:"strokeDasharray"};function J1(t,e,n=1,r=0,i=!0){t.pathLength=1;const a=i?X1:Y1;t[a.offset]=Se.transform(-r);const u=Se.transform(e),d=Se.transform(n);t[a.array]=`${u} ${d}`}function av(t,e,n){return typeof t=="string"?t:Se.transform(e+n*t)}function Z1(t,e,n){const r=av(e,t.x,t.width),i=av(n,t.y,t.height);return`${r} ${i}`}function xm(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:a,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...p},g,x){if(gm(t,p,x),g){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:E,style:S,dimensions:P}=t;E.transform&&(P&&(S.transform=E.transform),delete E.transform),P&&(i!==void 0||a!==void 0||S.transform)&&(S.transformOrigin=Z1(P,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),n!==void 0&&(E.y=n),r!==void 0&&(E.scale=r),u!==void 0&&J1(E,u,d,f,!1)}const gw=()=>({...ym(),attrs:{}}),_m=t=>typeof t=="string"&&t.toLowerCase()==="svg";function eP(t,e,n,r){const i=I.useMemo(()=>{const a=gw();return xm(a,e,_m(r),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};mw(a,t.style,t),i.style={...a,...i.style}}return i}function tP(t=!1){return(n,r,i,{latestValues:a},u)=>{const f=(vm(n)?eP:G1)(r,a,u,n),p=T1(r,typeof n=="string",t),g=n!==I.Fragment?{...p,...f,ref:i}:{},{children:x}=r,E=I.useMemo(()=>Jt(x)?x.get():x,[x]);return I.createElement(n,{...g,children:E})}}function lv(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function wm(t,e,n,r){if(typeof e=="function"){const[i,a]=lv(r);e=e(n!==void 0?n:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=lv(r);e=e(n!==void 0?n:t.custom,i,a)}return e}const Yf=t=>Array.isArray(t),nP=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),rP=t=>Yf(t)?t[t.length-1]||0:t;function Mc(t){const e=Jt(t)?t.get():t;return nP(e)?e.toValue():e}function sP({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,a){const u={latestValues:iP(r,i,a,t),renderState:e()};return n&&(u.onMount=d=>n({props:r,current:d,...u}),u.onUpdate=d=>n(d)),u}const yw=t=>(e,n)=>{const r=I.useContext(yd),i=I.useContext(gd),a=()=>sP(t,e,r,i);return n?a():Jp(a)};function iP(t,e,n,r){const i={},a=r(t,{});for(const E in a)i[E]=Mc(a[E]);let{initial:u,animate:d}=t;const f=xd(t),p=lw(t);e&&p&&!f&&t.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const x=g?d:u;if(x&&typeof x!="boolean"&&!vd(x)){const E=Array.isArray(x)?x:[x];for(let S=0;S<E.length;S++){const P=wm(t,E[S]);if(P){const{transitionEnd:L,transition:D,...F}=P;for(const W in F){let N=F[W];if(Array.isArray(N)){const A=g?N.length-1:0;N=N[A]}N!==null&&(i[W]=N)}for(const W in L)i[W]=L[W]}}}return i}function Em(t,e,n){var r;const{style:i}=t,a={};for(const u in i)(Jt(i[u])||e.style&&Jt(e.style[u])||fw(u,t)||((r=n==null?void 0:n.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[u]=i[u]);return a}const oP={useVisualState:yw({scrapeMotionValuesFromProps:Em,createRenderState:ym})};function vw(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function xw(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const a in n)t.style.setProperty(a,n[a])}const _w=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function ww(t,e,n,r){xw(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(_w.has(i)?i:hm(i),e.attrs[i])}function Ew(t,e,n){const r=Em(t,e,n);for(const i in t)if(Jt(t[i])||Jt(e[i])){const a=ua.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=t[i]}return r}const uv=["x","y","width","height","cx","cy","r"],aP={useVisualState:yw({scrapeMotionValuesFromProps:Ew,createRenderState:gw,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let a=!!t.drag;if(!a){for(const d in i)if(Ui.has(d)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let d=0;d<uv.length;d++){const f=uv[d];t[f]!==e[f]&&(u=!0)}u&&Ke.read(()=>{vw(n,r),Ke.render(()=>{xm(r,i,_m(n.tagName),t.transformTemplate),ww(n,r)})})}})};function lP(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const u={...vm(r)?aP:oP,preloadedFeatures:t,useRender:tP(i),createVisualElement:e,Component:r};return N1(u)}}function Vl(t,e,n){const r=t.getProps();return wm(r,e,n!==void 0?n:r.custom,t)}const Tw=new Set(["width","height","top","left","right","bottom",...ua]);function uP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Il(n))}function cP(t,e){const n=Vl(t,e);let{transitionEnd:r={},transition:i={},...a}=n||{};a={...a,...r};for(const u in a){const d=rP(a[u]);uP(t,u,d)}}function dP(t){return!!(Jt(t)&&t.add)}function Jf(t,e){const n=t.getValue("willChange");if(dP(n))return n.add(e)}function Sw(t){return t.props[uw]}const bw=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,hP=1e-7,fP=12;function pP(t,e,n,r,i){let a,u,d=0;do u=e+(n-e)/2,a=bw(u,r,i)-t,a>0?n=u:e=u;while(Math.abs(a)>hP&&++d<fP);return u}function Ql(t,e,n,r){if(t===e&&n===r)return An;const i=a=>pP(a,0,1,t,n);return a=>a===0||a===1?a:bw(i(a),e,r)}const Cw=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Aw=t=>e=>1-t(1-e),Pw=Ql(.33,1.53,.69,.99),Tm=Aw(Pw),Rw=Cw(Tm),Iw=t=>(t*=2)<1?.5*Tm(t):.5*(2-Math.pow(2,-10*(t-1))),Sm=t=>1-Math.sin(Math.acos(t)),kw=Aw(Sm),Nw=Cw(Sm),Dw=t=>/^0[^.\s]+$/u.test(t);function mP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Dw(t):!0}const _l=t=>Math.round(t*1e5)/1e5,bm=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function gP(t){return t==null}const yP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Cm=(t,e)=>n=>!!(typeof n=="string"&&yP.test(n)&&n.startsWith(t)||e&&!gP(n)&&Object.prototype.hasOwnProperty.call(n,e)),Vw=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,a,u,d]=r.match(bm);return{[t]:parseFloat(i),[e]:parseFloat(a),[n]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},vP=t=>rs(0,255,t),Tf={...ca,transform:t=>Math.round(vP(t))},Di={test:Cm("rgb","red"),parse:Vw("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Tf.transform(t)+", "+Tf.transform(e)+", "+Tf.transform(n)+", "+_l(Dl.transform(r))+")"};function xP(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Zf={test:Cm("#"),parse:xP,transform:Di.transform},Wo={test:Cm("hsl","hue"),parse:Vw("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Ar.transform(_l(e))+", "+Ar.transform(_l(n))+", "+_l(Dl.transform(r))+")"},Qt={test:t=>Di.test(t)||Zf.test(t)||Wo.test(t),parse:t=>Di.test(t)?Di.parse(t):Wo.test(t)?Wo.parse(t):Zf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Di.transform(t):Wo.transform(t)},_P=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function wP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(bm))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(_P))===null||n===void 0?void 0:n.length)||0)>0}const Mw="number",Lw="color",EP="var",TP="var(",cv="${}",SP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ml(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let a=0;const d=e.replace(SP,f=>(Qt.test(f)?(r.color.push(a),i.push(Lw),n.push(Qt.parse(f))):f.startsWith(TP)?(r.var.push(a),i.push(EP),n.push(f)):(r.number.push(a),i.push(Mw),n.push(parseFloat(f))),++a,cv)).split(cv);return{values:n,split:d,indexes:r,types:i}}function jw(t){return Ml(t).values}function Ow(t){const{split:e,types:n}=Ml(t),r=e.length;return i=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],i[u]!==void 0){const d=n[u];d===Mw?a+=_l(i[u]):d===Lw?a+=Qt.transform(i[u]):a+=i[u]}return a}}const bP=t=>typeof t=="number"?0:t;function CP(t){const e=jw(t);return Ow(t)(e.map(bP))}const Bs={test:wP,parse:jw,createTransformer:Ow,getAnimatableNone:CP},AP=new Set(["brightness","contrast","saturate","opacity"]);function PP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(bm)||[];if(!r)return t;const i=n.replace(r,"");let a=AP.has(e)?1:0;return r!==n&&(a*=100),e+"("+a+i+")"}const RP=/\b([a-z-]*)\(.*?\)/gu,ep={...Bs,getAnimatableNone:t=>{const e=t.match(RP);return e?e.map(PP).join(" "):t}},IP={...mm,color:Qt,backgroundColor:Qt,outlineColor:Qt,fill:Qt,stroke:Qt,borderColor:Qt,borderTopColor:Qt,borderRightColor:Qt,borderBottomColor:Qt,borderLeftColor:Qt,filter:ep,WebkitFilter:ep},Fw=t=>IP[t];function $w(t,e){let n=Fw(t);return n!==ep&&(n=Bs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const kP=new Set(["auto","none","0"]);function NP(t,e,n){let r=0,i;for(;r<t.length&&!i;){const a=t[r];typeof a=="string"&&!kP.has(a)&&Ml(a).values.length&&(i=t[r]),r++}if(i&&n)for(const a of e)t[a]=$w(n,i)}const Vi=t=>t*180/Math.PI,tp=t=>{const e=Vi(Math.atan2(t[1],t[0]));return np(e)},DP={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:tp,rotateZ:tp,skewX:t=>Vi(Math.atan(t[1])),skewY:t=>Vi(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},np=t=>(t=t%360,t<0&&(t+=360),t),dv=tp,hv=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),fv=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),VP={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hv,scaleY:fv,scale:t=>(hv(t)+fv(t))/2,rotateX:t=>np(Vi(Math.atan2(t[6],t[5]))),rotateY:t=>np(Vi(Math.atan2(-t[2],t[0]))),rotateZ:dv,rotate:dv,skewX:t=>Vi(Math.atan(t[4])),skewY:t=>Vi(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function pv(t){return t.includes("scale")?1:0}function rp(t,e){if(!t||t==="none")return pv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=VP,i=n;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=DP,i=d}if(!i)return pv(e);const a=r[e],u=i[1].split(",").map(LP);return typeof a=="function"?a(u):u[a]}const MP=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return rp(n,e)};function LP(t){return parseFloat(t.trim())}const mv=t=>t===ca||t===Se,jP=new Set(["x","y","z"]),OP=ua.filter(t=>!jP.has(t));function FP(t){const e=[];return OP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Yo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>rp(e,"x"),y:(t,{transform:e})=>rp(e,"y")};Yo.translateX=Yo.x;Yo.translateY=Yo.y;const Li=new Set;let sp=!1,ip=!1;function Uw(){if(ip){const t=Array.from(Li).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=FP(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([a,u])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ip=!1,sp=!1,Li.forEach(t=>t.complete()),Li.clear()}function Bw(){Li.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ip=!0)})}function $P(){Bw(),Uw()}class Am{constructor(e,n,r,i,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Li.add(this),sp||(sp=!0,Ke.read(Bw),Ke.resolveKeyframes(Uw))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=i==null?void 0:i.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&n){const f=r.readValue(n,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),i&&u===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Li.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Li.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const zw=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),UP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function BP(t){const e=UP.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function Ww(t,e,n=1){const[r,i]=BP(t);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return zw(u)?parseFloat(u):u}return pm(i)?Ww(i,e,n+1):i}const Hw=t=>e=>e.test(t),zP={test:t=>t==="auto",parse:t=>t},qw=[ca,Se,Ar,Ns,$1,F1,zP],gv=t=>qw.find(Hw(t));class Kw extends Am{constructor(e,n,r,i,a){super(e,n,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),pm(p))){const g=Ww(p,n.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!Tw.has(r)||e.length!==2)return;const[i,a]=e,u=gv(i),d=gv(a);if(u!==d)if(mv(u)&&mv(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)mP(e[i])&&r.push(i);r.length&&NP(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Yo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const a=n.getValue(r);a&&a.jump(this.measuredOrigin,!1);const u=i.length-1,d=i[u];i[u]=Yo[r](n.measureViewportBox(),window.getComputedStyle(n.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{n.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const yv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Bs.test(t)||t==="0")&&!t.startsWith("url("));function WP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function HP(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],u=yv(i,e),d=yv(a,e);return!u||!d?!1:WP(t)||(n==="spring"||om(n))&&r}const qP=t=>t!==null;function _d(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(qP),a=e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const KP=40;class Gw{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Cr.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:a,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>KP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$P(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Cr.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:a,delay:u,onComplete:d,onUpdate:f,isGenerator:p}=this.options;if(!p&&!HP(e,r,i,a))if(u)this.options.duration=0;else{f&&f(_d(e,this.options,n)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,n);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...g},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const rt=(t,e,n)=>t+(e-t)*n;function Sf(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function GP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,a=0,u=0;if(!e)i=a=u=n;else{const d=n<.5?n*(1+e):n+e-n*e,f=2*n-d;i=Sf(f,d,t+1/3),a=Sf(f,d,t),u=Sf(f,d,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function Qc(t,e){return n=>n>0?e:t}const bf=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},QP=[Zf,Di,Wo],XP=t=>QP.find(e=>e.test(t));function vv(t){const e=XP(t);if(!e)return!1;let n=e.parse(t);return e===Wo&&(n=GP(n)),n}const xv=(t,e)=>{const n=vv(t),r=vv(e);if(!n||!r)return Qc(t,e);const i={...n};return a=>(i.red=bf(n.red,r.red,a),i.green=bf(n.green,r.green,a),i.blue=bf(n.blue,r.blue,a),i.alpha=rt(n.alpha,r.alpha,a),Di.transform(i))},YP=(t,e)=>n=>e(t(n)),Xl=(...t)=>t.reduce(YP),op=new Set(["none","hidden"]);function JP(t,e){return op.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function ZP(t,e){return n=>rt(t,e,n)}function Pm(t){return typeof t=="number"?ZP:typeof t=="string"?pm(t)?Qc:Qt.test(t)?xv:nR:Array.isArray(t)?Qw:typeof t=="object"?Qt.test(t)?xv:eR:Qc}function Qw(t,e){const n=[...t],r=n.length,i=t.map((a,u)=>Pm(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)n[u]=i[u](a);return n}}function eR(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Pm(t[i])(t[i],e[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}}function tR(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],d=t.indexes[u][i[u]],f=(n=t.values[d])!==null&&n!==void 0?n:0;r[a]=f,i[u]++}return r}const nR=(t,e)=>{const n=Bs.createTransformer(e),r=Ml(t),i=Ml(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?op.has(t)&&!i.values.length||op.has(e)&&!r.values.length?JP(t,e):Xl(Qw(tR(r,i),i.values),n):Qc(t,e)};function Xw(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?rt(t,e,n):Pm(t)(t,e)}const rR=5;function Yw(t,e,n){const r=Math.max(e-rR,0);return Y_(n-t(r),e-r)}const at={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},_v=.001;function sR({duration:t=at.duration,bounce:e=at.bounce,velocity:n=at.velocity,mass:r=at.mass}){let i,a,u=1-e;u=rs(at.minDamping,at.maxDamping,u),t=rs(at.minDuration,at.maxDuration,ts(t)),u<1?(i=p=>{const g=p*u,x=g*t,E=g-n,S=ap(p,u),P=Math.exp(-x);return _v-E/S*P},a=p=>{const x=p*u*t,E=x*n+n,S=Math.pow(u,2)*Math.pow(p,2)*t,P=Math.exp(-x),L=ap(Math.pow(p,2),u);return(-i(p)+_v>0?-1:1)*((E-S)*P)/L}):(i=p=>{const g=Math.exp(-p*t),x=(p-n)*t+1;return-.001+g*x},a=p=>{const g=Math.exp(-p*t),x=(n-p)*(t*t);return g*x});const d=5/t,f=oR(i,a,d);if(t=es(t),isNaN(f))return{stiffness:at.stiffness,damping:at.damping,duration:t};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const iR=12;function oR(t,e,n){let r=n;for(let i=1;i<iR;i++)r=r-t(r)/e(r);return r}function ap(t,e){return t*Math.sqrt(1-e*e)}const aR=["duration","bounce"],lR=["stiffness","damping","mass"];function wv(t,e){return e.some(n=>t[n]!==void 0)}function uR(t){let e={velocity:at.velocity,stiffness:at.stiffness,damping:at.damping,mass:at.mass,isResolvedFromDuration:!1,...t};if(!wv(t,lR)&&wv(t,aR))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,a=2*rs(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:at.mass,stiffness:i,damping:a}}else{const n=sR(t);e={...e,...n,mass:at.mass},e.isResolvedFromDuration=!0}return e}function Jw(t=at.visualDuration,e=at.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const a=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:x,velocity:E,isResolvedFromDuration:S}=uR({...n,velocity:-ts(n.velocity||0)}),P=E||0,L=p/(2*Math.sqrt(f*g)),D=u-a,F=ts(Math.sqrt(f/g)),W=Math.abs(D)<5;r||(r=W?at.restSpeed.granular:at.restSpeed.default),i||(i=W?at.restDelta.granular:at.restDelta.default);let N;if(L<1){const j=ap(F,L);N=U=>{const k=Math.exp(-L*F*U);return u-k*((P+L*F*D)/j*Math.sin(j*U)+D*Math.cos(j*U))}}else if(L===1)N=j=>u-Math.exp(-F*j)*(D+(P+F*D)*j);else{const j=F*Math.sqrt(L*L-1);N=U=>{const k=Math.exp(-L*F*U),C=Math.min(j*U,300);return u-k*((P+L*F*D)*Math.sinh(C)+j*D*Math.cosh(C))/j}}const A={calculatedDuration:S&&x||null,next:j=>{const U=N(j);if(S)d.done=j>=x;else{let k=0;L<1&&(k=j===0?es(P):Yw(N,j,U));const C=Math.abs(k)<=r,R=Math.abs(u-U)<=i;d.done=C&&R}return d.value=d.done?u:U,d},toString:()=>{const j=Math.min(J_(A),Qf),U=Z_(k=>A.next(j*k).value,j,30);return j+"ms "+U}};return A}function Ev({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:g}){const x=t[0],E={done:!1,value:x},S=C=>d!==void 0&&C<d||f!==void 0&&C>f,P=C=>d===void 0?f:f===void 0||Math.abs(d-C)<Math.abs(f-C)?d:f;let L=n*e;const D=x+L,F=u===void 0?D:u(D);F!==D&&(L=F-x);const W=C=>-L*Math.exp(-C/r),N=C=>F+W(C),A=C=>{const R=W(C),O=N(C);E.done=Math.abs(R)<=p,E.value=E.done?F:O};let j,U;const k=C=>{S(E.value)&&(j=C,U=Jw({keyframes:[E.value,P(E.value)],velocity:Yw(N,C,E.value),damping:i,stiffness:a,restDelta:p,restSpeed:g}))};return k(0),{calculatedDuration:null,next:C=>{let R=!1;return!U&&j===void 0&&(R=!0,A(C),k(C)),j!==void 0&&C>=j?U.next(C-j):(!R&&A(C),E)}}}const cR=Ql(.42,0,1,1),dR=Ql(0,0,.58,1),Zw=Ql(.42,0,.58,1),hR=t=>Array.isArray(t)&&typeof t[0]!="number",fR={linear:An,easeIn:cR,easeInOut:Zw,easeOut:dR,circIn:Sm,circInOut:Nw,circOut:kw,backIn:Tm,backInOut:Rw,backOut:Pw,anticipate:Iw},Tv=t=>{if(am(t)){X_(t.length===4);const[e,n,r,i]=t;return Ql(e,n,r,i)}else if(typeof t=="string")return fR[t];return t};function pR(t,e,n){const r=[],i=n||Xw,a=t.length-1;for(let u=0;u<a;u++){let d=i(t[u],t[u+1]);if(e){const f=Array.isArray(e)?e[u]||An:e;d=Xl(f,d)}r.push(d)}return r}function mR(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const a=t.length;if(X_(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const d=pR(e,r,i),f=d.length,p=g=>{if(u&&g<t[0])return e[0];let x=0;if(f>1)for(;x<t.length-2&&!(g<t[x+1]);x++);const E=Qo(t[x],t[x+1],g);return d[x](E)};return n?g=>p(rs(t[0],t[a-1],g)):p}function gR(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Qo(0,e,r);t.push(rt(n,1,i))}}function yR(t){const e=[0];return gR(e,t.length-1),e}function vR(t,e){return t.map(n=>n*e)}function xR(t,e){return t.map(()=>e||Zw).splice(0,t.length-1)}function Xc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=hR(r)?r.map(Tv):Tv(r),a={done:!1,value:e[0]},u=vR(n&&n.length===e.length?n:yR(e),t),d=mR(u,e,{ease:Array.isArray(i)?i:xR(e,i)});return{calculatedDuration:t,next:f=>(a.value=d(f),a.done=f>=t,a)}}const _R=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Ke.update(e,!0),stop:()=>Us(e),now:()=>Ot.isProcessing?Ot.timestamp:Cr.now()}},wR={decay:Ev,inertia:Ev,tween:Xc,keyframes:Xc,spring:Jw},ER=t=>t/100;class Rm extends Gw{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:n,motionValue:r,element:i,keyframes:a}=this.options,u=(i==null?void 0:i.KeyframeResolver)||Am,d=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new u(a,d,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:u=0}=this.options,d=om(n)?n:wR[n]||Xc;let f,p;d!==Xc&&typeof e[0]!="number"&&(f=Xl(ER,Xw(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});a==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=J_(g));const{calculatedDuration:x}=g,E=x+i,S=E*(r+1)-i;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:x,resolvedDuration:E,totalDuration:S}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:x}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:S,repeatType:P,repeatDelay:L,onUpdate:D}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const F=this.currentTime-E*(this.speed>=0?1:-1),W=this.speed>=0?F<0:F>g;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let N=this.currentTime,A=a;if(S){const C=Math.min(this.currentTime,g)/x;let R=Math.floor(C),O=C%1;!O&&C>=1&&(O=1),O===1&&R--,R=Math.min(R,S+1),!!(R%2)&&(P==="reverse"?(O=1-O,L&&(O-=L/x)):P==="mirror"&&(A=u)),N=rs(0,1,O)*x}const j=W?{done:!1,value:f[0]}:A.next(N);d&&(j.value=d(j.value));let{done:U}=j;!W&&p!==null&&(U=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&U);return k&&i!==void 0&&(j.value=_d(f,this.options,i)),D&&D(j.value),k&&this.finish(),j}get duration(){const{resolved:e}=this;return e?ts(e.calculatedDuration):0}get time(){return ts(this.currentTime)}set time(e){e=es(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ts(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=_R,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const TR=new Set(["opacity","clipPath","filter","transform"]);function SR(t,e,n,{delay:r=0,duration:i=300,repeat:a=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const p={[e]:n};f&&(p.offset=f);const g=tw(d,i);return Array.isArray(g)&&(p.easing=g),t.animate(p,{delay:r,duration:i,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const bR=rm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Yc=10,CR=2e4;function AR(t){return om(t.type)||t.type==="spring"||!ew(t.ease)}function PR(t,e){const n=new Rm({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let a=0;for(;!r.done&&a<CR;)r=n.sample(a),i.push(r.value),a+=Yc;return{times:void 0,keyframes:i,duration:a-Yc,ease:"linear"}}const eE={anticipate:Iw,backInOut:Rw,circInOut:Nw};function RR(t){return t in eE}class Sv extends Gw{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:a}=this.options;this.resolver=new Kw(a,(u,d)=>this.onKeyframesResolved(u,d),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:a,type:u,motionValue:d,name:f,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&Kc()&&RR(a)&&(a=eE[a]),AR(this.options)){const{onComplete:x,onUpdate:E,motionValue:S,element:P,...L}=this.options,D=PR(e,L);e=D.keyframes,e.length===1&&(e[1]=e[0]),r=D.duration,i=D.times,a=D.ease,u="keyframes"}const g=SR(d.owner.current,f,e,{...this.options,duration:r,times:i,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(X0(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:x}=this.options;d.set(_d(e,this.options,n)),x&&x(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:i,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return ts(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return ts(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=es(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return An;const{animation:r}=n;X0(r,e)}return An}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:a,ease:u,times:d}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:x,element:E,...S}=this.options,P=new Rm({...S,keyframes:r,duration:i,type:a,ease:u,times:d,isGenerator:!0}),L=es(this.time);p.setWithVelocity(P.sample(L-Yc).value,P.sample(L).value,Yc)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:a,damping:u,type:d}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=n.owner.getProps();return bR()&&r&&TR.has(r)&&!f&&!p&&!i&&a!=="mirror"&&u!==0&&d!=="inertia"}}const IR={type:"spring",stiffness:500,damping:25,restSpeed:10},kR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),NR={type:"keyframes",duration:.8},DR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},VR=(t,{keyframes:e})=>e.length>2?NR:Ui.has(t)?t.startsWith("scale")?kR(e[1]):IR:DR;function MR({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const Im=(t,e,n,r={},i,a)=>u=>{const d=im(r,t)||{},f=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-es(f);let g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:t,motionValue:e,element:a?void 0:i};MR(d)||(g={...g,...VR(t,g)}),g.duration&&(g.duration=es(g.duration)),g.repeatDelay&&(g.repeatDelay=es(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let x=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(x=!0)),g.allowFlatten=!d.type&&!d.ease,x&&!a&&e.get()!==void 0){const E=_d(g.keyframes,d);if(E!==void 0)return Ke.update(()=>{g.onUpdate(E),g.onComplete()}),new s1([])}return!a&&Sv.supports(g)?new Sv(g):new Rm(g)};function LR({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function tE(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var a;let{transition:u=t.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(u=r);const p=[],g=i&&t.animationState&&t.animationState.getState()[i];for(const x in f){const E=t.getValue(x,(a=t.latestValues[x])!==null&&a!==void 0?a:null),S=f[x];if(S===void 0||g&&LR(g,x))continue;const P={delay:n,...im(u||{},x)};let L=!1;if(window.MotionHandoffAnimation){const F=Sw(t);if(F){const W=window.MotionHandoffAnimation(F,x,Ke);W!==null&&(P.startTime=W,L=!0)}}Jf(t,x),E.start(Im(x,E,S,t.shouldReduceMotion&&Tw.has(x)?{type:!1}:P,t,L));const D=E.animation;D&&p.push(D)}return d&&Promise.all(p).then(()=>{Ke.update(()=>{d&&cP(t,d)})}),p}function lp(t,e,n={}){var r;const i=Vl(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const u=i?()=>Promise.all(tE(t,i,n)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:x,staggerDirection:E}=a;return jR(t,e,g+p,x,E,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,g]=f==="beforeChildren"?[u,d]:[d,u];return p().then(()=>g())}else return Promise.all([u(),d(n.delay)])}function jR(t,e,n=0,r=0,i=1,a){const u=[],d=(t.variantChildren.size-1)*r,f=i===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(t.variantChildren).sort(OR).forEach((p,g)=>{p.notify("AnimationStart",e),u.push(lp(p,e,{...a,delay:n+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function OR(t,e){return t.sortNodePosition(e)}function FR(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(a=>lp(t,a,n));r=Promise.all(i)}else if(typeof e=="string")r=lp(t,e,n);else{const i=typeof e=="function"?Vl(t,e,n.custom):e;r=Promise.all(tE(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function nE(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const $R=dm.length;function rE(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?rE(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<$R;n++){const r=dm[n],i=t.props[r];(kl(i)||i===!1)&&(e[r]=i)}return e}const UR=[...cm].reverse(),BR=cm.length;function zR(t){return e=>Promise.all(e.map(({animation:n,options:r})=>FR(t,n,r)))}function WR(t){let e=zR(t),n=bv(),r=!0;const i=f=>(p,g)=>{var x;const E=Vl(t,g,f==="exit"?(x=t.presenceContext)===null||x===void 0?void 0:x.custom:void 0);if(E){const{transition:S,transitionEnd:P,...L}=E;p={...p,...L,...P}}return p};function a(f){e=f(t)}function u(f){const{props:p}=t,g=rE(t.parent)||{},x=[],E=new Set;let S={},P=1/0;for(let D=0;D<BR;D++){const F=UR[D],W=n[F],N=p[F]!==void 0?p[F]:g[F],A=kl(N),j=F===f?W.isActive:null;j===!1&&(P=D);let U=N===g[F]&&N!==p[F]&&A;if(U&&r&&t.manuallyAnimateOnMount&&(U=!1),W.protectedKeys={...S},!W.isActive&&j===null||!N&&!W.prevProp||vd(N)||typeof N=="boolean")continue;const k=HR(W.prevProp,N);let C=k||F===f&&W.isActive&&!U&&A||D>P&&A,R=!1;const O=Array.isArray(N)?N:[N];let B=O.reduce(i(F),{});j===!1&&(B={});const{prevResolvedValues:H={}}=W,V={...H,...B},Oe=be=>{C=!0,E.has(be)&&(R=!0,E.delete(be)),W.needsAnimating[be]=!0;const ae=t.getValue(be);ae&&(ae.liveStyle=!1)};for(const be in V){const ae=B[be],ge=H[be];if(S.hasOwnProperty(be))continue;let ce=!1;Yf(ae)&&Yf(ge)?ce=!nE(ae,ge):ce=ae!==ge,ce?ae!=null?Oe(be):E.add(be):ae!==void 0&&E.has(be)?Oe(be):W.protectedKeys[be]=!0}W.prevProp=N,W.prevResolvedValues=B,W.isActive&&(S={...S,...B}),r&&t.blockInitialAnimation&&(C=!1),C&&(!(U&&k)||R)&&x.push(...O.map(be=>({animation:be,options:{type:F}})))}if(E.size){const D={};if(typeof p.initial!="boolean"){const F=Vl(t,Array.isArray(p.initial)?p.initial[0]:p.initial);F&&F.transition&&(D.transition=F.transition)}E.forEach(F=>{const W=t.getBaseTarget(F),N=t.getValue(F);N&&(N.liveStyle=!0),D[F]=W??null}),x.push({animation:D})}let L=!!x.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(L=!1),r=!1,L?e(x):Promise.resolve()}function d(f,p){var g;if(n[f].isActive===p)return Promise.resolve();(g=t.variantChildren)===null||g===void 0||g.forEach(E=>{var S;return(S=E.animationState)===null||S===void 0?void 0:S.setActive(f,p)}),n[f].isActive=p;const x=u(f);for(const E in n)n[E].protectedKeys={};return x}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>n,reset:()=>{n=bv(),r=!0}}}function HR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!nE(e,t):!1}function Ai(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bv(){return{animate:Ai(!0),whileInView:Ai(),whileHover:Ai(),whileTap:Ai(),whileDrag:Ai(),whileFocus:Ai(),exit:Ai()}}class Ys{constructor(e){this.isMounted=!1,this.node=e}update(){}}class qR extends Ys{constructor(e){super(e),e.animationState||(e.animationState=WR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();vd(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let KR=0;class GR extends Ys{constructor(){super(...arguments),this.id=KR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const QR={animation:{Feature:qR},exit:{Feature:GR}};function Ll(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Yl(t){return{point:{x:t.pageX,y:t.pageY}}}const XR=t=>e=>um(e)&&t(e,Yl(e));function wl(t,e,n,r){return Ll(t,e,XR(n),r)}function sE({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function YR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function JR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const iE=1e-4,ZR=1-iE,eI=1+iE,oE=.01,tI=0-oE,nI=0+oE;function sn(t){return t.max-t.min}function rI(t,e,n){return Math.abs(t-e)<=n}function Cv(t,e,n,r=.5){t.origin=r,t.originPoint=rt(e.min,e.max,t.origin),t.scale=sn(n)/sn(e),t.translate=rt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ZR&&t.scale<=eI||isNaN(t.scale))&&(t.scale=1),(t.translate>=tI&&t.translate<=nI||isNaN(t.translate))&&(t.translate=0)}function El(t,e,n,r){Cv(t.x,e.x,n.x,r?r.originX:void 0),Cv(t.y,e.y,n.y,r?r.originY:void 0)}function Av(t,e,n){t.min=n.min+e.min,t.max=t.min+sn(e)}function sI(t,e,n){Av(t.x,e.x,n.x),Av(t.y,e.y,n.y)}function Pv(t,e,n){t.min=e.min-n.min,t.max=t.min+sn(e)}function Tl(t,e,n){Pv(t.x,e.x,n.x),Pv(t.y,e.y,n.y)}const Rv=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ho=()=>({x:Rv(),y:Rv()}),Iv=()=>({min:0,max:0}),ft=()=>({x:Iv(),y:Iv()});function Bn(t){return[t("x"),t("y")]}function Cf(t){return t===void 0||t===1}function up({scale:t,scaleX:e,scaleY:n}){return!Cf(t)||!Cf(e)||!Cf(n)}function Ii(t){return up(t)||aE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function aE(t){return kv(t.x)||kv(t.y)}function kv(t){return t&&t!=="0%"}function Jc(t,e,n){const r=t-n,i=e*r;return n+i}function Nv(t,e,n,r,i){return i!==void 0&&(t=Jc(t,i,r)),Jc(t,n,r)+e}function cp(t,e=0,n=1,r,i){t.min=Nv(t.min,e,n,r,i),t.max=Nv(t.max,e,n,r,i)}function lE(t,{x:e,y:n}){cp(t.x,e.translate,e.scale,e.originPoint),cp(t.y,n.translate,n.scale,n.originPoint)}const Dv=.999999999999,Vv=1.0000000000001;function iI(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let a,u;for(let d=0;d<i;d++){a=n[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ko(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,lE(t,u)),r&&Ii(a.latestValues)&&Ko(t,a.latestValues))}e.x<Vv&&e.x>Dv&&(e.x=1),e.y<Vv&&e.y>Dv&&(e.y=1)}function qo(t,e){t.min=t.min+e,t.max=t.max+e}function Mv(t,e,n,r,i=.5){const a=rt(t.min,t.max,i);cp(t,e,n,a,r)}function Ko(t,e){Mv(t.x,e.x,e.scaleX,e.scale,e.originX),Mv(t.y,e.y,e.scaleY,e.scale,e.originY)}function uE(t,e){return sE(JR(t.getBoundingClientRect(),e))}function oI(t,e,n){const r=uE(t,n),{scroll:i}=e;return i&&(qo(r.x,i.offset.x),qo(r.y,i.offset.y)),r}const cE=({current:t})=>t?t.ownerDocument.defaultView:null,Lv=(t,e)=>Math.abs(t-e);function aI(t,e){const n=Lv(t.x,e.x),r=Lv(t.y,e.y);return Math.sqrt(n**2+r**2)}class dE{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=Pf(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,S=aI(x.offset,{x:0,y:0})>=3;if(!E&&!S)return;const{point:P}=x,{timestamp:L}=Ot;this.history.push({...P,timestamp:L});const{onStart:D,onMove:F}=this.handlers;E||(D&&D(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,x)},this.handlePointerMove=(x,E)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=Af(E,this.transformPagePoint),Ke.update(this.updatePoint,!0)},this.handlePointerUp=(x,E)=>{this.end();const{onEnd:S,onSessionEnd:P,resumeAnimation:L}=this.handlers;if(this.dragSnapToOrigin&&L&&L(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const D=Pf(x.type==="pointercancel"?this.lastMoveEventInfo:Af(E,this.transformPagePoint),this.history);this.startEvent&&S&&S(x,D),P&&P(x,D)},!um(e))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const u=Yl(e),d=Af(u,this.transformPagePoint),{point:f}=d,{timestamp:p}=Ot;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=n;g&&g(e,Pf(d,this.history)),this.removeListeners=Xl(wl(this.contextWindow,"pointermove",this.handlePointerMove),wl(this.contextWindow,"pointerup",this.handlePointerUp),wl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Us(this.updatePoint)}}function Af(t,e){return e?{point:e(t.point)}:t}function jv(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Pf({point:t},e){return{point:t,delta:jv(t,hE(e)),offset:jv(t,lI(e)),velocity:uI(e,.1)}}function lI(t){return t[0]}function hE(t){return t[t.length-1]}function uI(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=hE(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>es(e)));)n--;if(!r)return{x:0,y:0};const a=ts(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function cI(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?rt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?rt(n,t,r.max):Math.min(t,n)),t}function Ov(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function dI(t,{top:e,left:n,bottom:r,right:i}){return{x:Ov(t.x,n,i),y:Ov(t.y,e,r)}}function Fv(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function hI(t,e){return{x:Fv(t.x,e.x),y:Fv(t.y,e.y)}}function fI(t,e){let n=.5;const r=sn(t),i=sn(e);return i>r?n=Qo(e.min,e.max-r,t.min):r>i&&(n=Qo(t.min,t.max-i,e.min)),rs(0,1,n)}function pI(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const dp=.35;function mI(t=dp){return t===!1?t=0:t===!0&&(t=dp),{x:$v(t,"left","right"),y:$v(t,"top","bottom")}}function $v(t,e,n){return{min:Uv(t,e),max:Uv(t,n)}}function Uv(t,e){return typeof t=="number"?t:t[e]||0}const gI=new WeakMap;class yI{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=g=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yl(g).point)},a=(g,x)=>{const{drag:E,dragPropagation:S,onDragStart:P}=this.getProps();if(E&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=c1(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Bn(D=>{let F=this.getAxisMotionValue(D).get()||0;if(Ar.test(F)){const{projection:W}=this.visualElement;if(W&&W.layout){const N=W.layout.layoutBox[D];N&&(F=sn(N)*(parseFloat(F)/100))}}this.originPoint[D]=F}),P&&Ke.postRender(()=>P(g,x)),Jf(this.visualElement,"transform");const{animationState:L}=this.visualElement;L&&L.setActive("whileDrag",!0)},u=(g,x)=>{const{dragPropagation:E,dragDirectionLock:S,onDirectionLock:P,onDrag:L}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:D}=x;if(S&&this.currentDirection===null){this.currentDirection=vI(D),this.currentDirection!==null&&P&&P(this.currentDirection);return}this.updateAxis("x",x.point,D),this.updateAxis("y",x.point,D),this.visualElement.render(),L&&L(g,x)},d=(g,x)=>this.stop(g,x),f=()=>Bn(g=>{var x;return this.getAnimationState(g)==="paused"&&((x=this.getAxisMotionValue(g).animation)===null||x===void 0?void 0:x.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new dE(e,{onSessionStart:i,onStart:a,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:cE(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&Ke.postRender(()=>a(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Sc(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=cI(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;n&&zo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=dI(i.layoutBox,n):this.constraints=!1,this.elastic=mI(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Bn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=pI(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!zo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=oI(r,i.root,this.visualElement.getTransformPagePoint());let u=hI(i.layout.layoutBox,a);if(n){const d=n(YR(u));this.hasMutatedConstraints=!!d,d&&(u=sE(d))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=Bn(g=>{if(!Sc(g,n,this.currentDirection))return;let x=f&&f[g]||{};u&&(x={min:0,max:0});const E=i?200:1e6,S=i?40:1e7,P={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...a,...x};return this.startAxisValueAnimation(g,P)});return Promise.all(p).then(d)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Jf(this.visualElement,e),r.start(Im(e,r,0,n,this.visualElement,!1))}stopAnimation(){Bn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Bn(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Bn(n=>{const{drag:r}=this.getProps();if(!Sc(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:u,max:d}=i.layout.layoutBox[n];a.set(e[n]-rt(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!zo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Bn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();i[u]=fI({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Bn(u=>{if(!Sc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(rt(f,p,i[u]))})}addListeners(){if(!this.visualElement.current)return;gI.set(this.visualElement,this);const e=this.visualElement.current,n=wl(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();zo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ke.read(r);const u=Ll(window,"resize",()=>this.scalePositionWithinConstraints()),d=i.addEventListener("didUpdate",({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Bn(g=>{const x=this.getAxisMotionValue(g);x&&(this.originPoint[g]+=f[g].translate,x.set(x.get()+f[g].translate))}),this.visualElement.render())});return()=>{u(),n(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:u=dp,dragMomentum:d=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function Sc(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function vI(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class xI extends Ys{constructor(e){super(e),this.removeGroupControls=An,this.removeListeners=An,this.controls=new yI(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||An}unmount(){this.removeGroupControls(),this.removeListeners()}}const Bv=t=>(e,n)=>{t&&Ke.postRender(()=>t(e,n))};class _I extends Ys{constructor(){super(...arguments),this.removePointerDownListener=An}onPointerDown(e){this.session=new dE(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:cE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Bv(e),onStart:Bv(n),onMove:r,onEnd:(a,u)=>{delete this.session,i&&Ke.postRender(()=>i(a,u))}}}mount(){this.removePointerDownListener=wl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Lc={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function zv(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const dl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Se.test(t))t=parseFloat(t);else return t;const n=zv(t,e.target.x),r=zv(t,e.target.y);return`${n}% ${r}%`}},wI={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Bs.parse(t);if(i.length>5)return r;const a=Bs.createTransformer(t),u=typeof i[0]!="number"?1:0,d=n.x.scale*e.x,f=n.y.scale*e.y;i[0+u]/=d,i[1+u]/=f;const p=rt(d,f,.5);return typeof i[2+u]=="number"&&(i[2+u]/=p),typeof i[3+u]=="number"&&(i[3+u]/=p),a(i)}};class EI extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=e;O1(TI),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Lc.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,i||e.layoutDependency!==n||n===void 0||e.isPresent!==a?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||Ke.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),lm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function fE(t){const[e,n]=Q_(),r=I.useContext(Yp);return _.jsx(EI,{...t,layoutGroup:r,switchLayoutGroup:I.useContext(cw),isPresent:e,safeToRemove:n})}const TI={borderRadius:{...dl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:dl,borderTopRightRadius:dl,borderBottomLeftRadius:dl,borderBottomRightRadius:dl,boxShadow:wI};function SI(t,e,n){const r=Jt(t)?t:Il(t);return r.start(Im("",r,e,n)),r.animation}function bI(t){return t instanceof SVGElement&&t.tagName!=="svg"}const CI=(t,e)=>t.depth-e.depth;class AI{constructor(){this.children=[],this.isDirty=!1}add(e){tm(this.children,e),this.isDirty=!0}remove(e){nm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(CI),this.isDirty=!1,this.children.forEach(e)}}function PI(t,e){const n=Cr.now(),r=({timestamp:i})=>{const a=i-n;a>=e&&(Us(r),t(a-e))};return Ke.read(r,!0),()=>Us(r)}const pE=["TopLeft","TopRight","BottomLeft","BottomRight"],RI=pE.length,Wv=t=>typeof t=="string"?parseFloat(t):t,Hv=t=>typeof t=="number"||Se.test(t);function II(t,e,n,r,i,a){i?(t.opacity=rt(0,n.opacity!==void 0?n.opacity:1,kI(r)),t.opacityExit=rt(e.opacity!==void 0?e.opacity:1,0,NI(r))):a&&(t.opacity=rt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let u=0;u<RI;u++){const d=`border${pE[u]}Radius`;let f=qv(e,d),p=qv(n,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||Hv(f)===Hv(p)?(t[d]=Math.max(rt(Wv(f),Wv(p),r),0),(Ar.test(p)||Ar.test(f))&&(t[d]+="%")):t[d]=p}(e.rotate||n.rotate)&&(t.rotate=rt(e.rotate||0,n.rotate||0,r))}function qv(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kI=mE(0,.5,kw),NI=mE(.5,.95,An);function mE(t,e,n){return r=>r<t?0:r>e?1:n(Qo(t,e,r))}function Kv(t,e){t.min=e.min,t.max=e.max}function Un(t,e){Kv(t.x,e.x),Kv(t.y,e.y)}function Gv(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Qv(t,e,n,r,i){return t-=e,t=Jc(t,1/n,r),i!==void 0&&(t=Jc(t,1/i,r)),t}function DI(t,e=0,n=1,r=.5,i,a=t,u=t){if(Ar.test(e)&&(e=parseFloat(e),e=rt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=rt(a.min,a.max,r);t===a&&(d-=e),t.min=Qv(t.min,e,n,d,i),t.max=Qv(t.max,e,n,d,i)}function Xv(t,e,[n,r,i],a,u){DI(t,e[n],e[r],e[i],e.scale,a,u)}const VI=["x","scaleX","originX"],MI=["y","scaleY","originY"];function Yv(t,e,n,r){Xv(t.x,e,VI,n?n.x:void 0,r?r.x:void 0),Xv(t.y,e,MI,n?n.y:void 0,r?r.y:void 0)}function Jv(t){return t.translate===0&&t.scale===1}function gE(t){return Jv(t.x)&&Jv(t.y)}function Zv(t,e){return t.min===e.min&&t.max===e.max}function LI(t,e){return Zv(t.x,e.x)&&Zv(t.y,e.y)}function ex(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function yE(t,e){return ex(t.x,e.x)&&ex(t.y,e.y)}function tx(t){return sn(t.x)/sn(t.y)}function nx(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jI{constructor(){this.members=[]}add(e){tm(this.members,e),e.scheduleRender()}remove(e){if(nm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OI(t,e,n){let r="";const i=t.x.translate/e.x,a=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((i||a||u)&&(r=`translate3d(${i}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:g,rotateX:x,rotateY:E,skewX:S,skewY:P}=n;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),x&&(r+=`rotateX(${x}deg) `),E&&(r+=`rotateY(${E}deg) `),S&&(r+=`skewX(${S}deg) `),P&&(r+=`skewY(${P}deg) `)}const d=t.x.scale*e.x,f=t.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const Rf=["","X","Y","Z"],FI={visibility:"hidden"},rx=1e3;let $I=0;function If(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function vE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Sw(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Ke,!(i||a))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&vE(r)}function xE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(u={},d=e==null?void 0:e()){this.id=$I++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(zI),this.nodes.forEach(GI),this.nodes.forEach(QI),this.nodes.forEach(WI)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new AI)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new sm),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=bI(u),this.instance=u;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||f)&&(this.isLayoutDirty=!0),t){let x;const E=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,x&&x(),x=PI(E,250),Lc.hasAnimatedSinceResize&&(Lc.hasAnimatedSinceResize=!1,this.nodes.forEach(ix))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:x,hasLayoutChanged:E,hasRelativeLayoutChanged:S,layout:P})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const L=this.options.transition||g.getDefaultTransition()||ek,{onLayoutAnimationStart:D,onLayoutAnimationComplete:F}=g.getProps(),W=!this.targetLayout||!yE(this.targetLayout,P),N=!E&&S;if(this.options.layoutRoot||this.resumeFrom||N||E&&(W||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(x,N);const A={...im(L,"layout"),onPlay:D,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else E||ix(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=P})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Us(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(XI),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&vE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const x=this.path[g];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sx);return}this.isUpdating||this.nodes.forEach(qI),this.isUpdating=!1,this.nodes.forEach(KI),this.nodes.forEach(UI),this.nodes.forEach(BI),this.clearAllSnapshots();const d=Cr.now();Ot.delta=rs(0,1e3/60,d-Ot.timestamp),Ot.timestamp=d,Ot.isProcessing=!0,wf.update.process(Ot),wf.preRender.process(Ot),wf.render.process(Ot),Ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,lm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HI),this.sharedNodes.forEach(YI)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ke.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ke.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!sn(this.snapshot.measuredBox.x)&&!sn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!i)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!gE(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&(d||Ii(this.latestValues)||g)&&(i(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),tk(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return ft();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(nk))){const{scroll:g}=this.root;g&&(qo(f.x,g.offset.x),qo(f.y,g.offset.y))}return f}removeElementScroll(u){var d;const f=ft();if(Un(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:x,options:E}=g;g!==this.root&&x&&E.layoutScroll&&(x.wasRoot&&Un(f,u),qo(f.x,x.offset.x),qo(f.y,x.offset.y))}return f}applyTransform(u,d=!1){const f=ft();Un(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Ko(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ii(g.latestValues)&&Ko(f,g.latestValues)}return Ii(this.latestValues)&&Ko(f,this.latestValues),f}removeTransform(u){const d=ft();Un(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ii(p.latestValues))continue;up(p.latestValues)&&p.updateSnapshot();const g=ft(),x=p.measurePageBox();Un(g,x),Yv(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ii(this.latestValues)&&Yv(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:x,layoutId:E}=this.options;if(!(!this.layout||!(x||E))){if(this.resolvedRelativeTargetAt=Ot.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Tl(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sI(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Un(this.target,this.layout.layoutBox),lE(this.target,this.targetDelta)):Un(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Tl(this.relativeTargetOrigin,this.target,S.target),Un(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||up(this.parent.latestValues)||aE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Ot.timestamp&&(p=!1),p)return;const{layout:g,layoutId:x}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||x))return;Un(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,S=this.treeScale.y;iI(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ft());const{target:P}=d;if(!P){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Gv(this.prevProjectionDelta.x,this.projectionDelta.x),Gv(this.prevProjectionDelta.y,this.projectionDelta.y)),El(this.projectionDelta,this.layoutCorrected,P,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==S||!nx(this.projectionDelta.x,this.prevProjectionDelta.x)||!nx(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",P))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ho(),this.projectionDelta=Ho(),this.projectionDeltaWithTransform=Ho()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},x=Ho();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=ft(),S=f?f.source:void 0,P=this.layout?this.layout.source:void 0,L=S!==P,D=this.getStack(),F=!D||D.members.length<=1,W=!!(L&&!F&&this.options.crossfade===!0&&!this.path.some(ZI));this.animationProgress=0;let N;this.mixTargetDelta=A=>{const j=A/1e3;ox(x.x,u.x,j),ox(x.y,u.y,j),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tl(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),JI(this.relativeTarget,this.relativeTargetOrigin,E,j),N&&LI(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=ft()),Un(N,this.relativeTarget)),L&&(this.animationValues=g,II(g,p,this.latestValues,j,W,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Us(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ke.update(()=>{Lc.hasAnimatedSinceResize=!0,this.currentAnimation=SI(0,rx,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(rx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:g}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&_E(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ft();const x=sn(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+x;const E=sn(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Un(d,f),Ko(d,g),El(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new jI),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&If("z",u,p,this.animationValues);for(let g=0;g<Rf.length;g++)If(`rotate${Rf[g]}`,u,p,this.animationValues),If(`skew${Rf[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return FI;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Mc(u==null?void 0:u.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const x=this.getLead();if(!this.projectionDelta||!this.layout||!x.target){const L={};return this.options.layoutId&&(L.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,L.pointerEvents=Mc(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Ii(this.latestValues)&&(L.transform=g?g({},""):"none",this.hasProjected=!1),L}const E=x.animationValues||x.latestValues;this.applyTransformsToTarget(),p.transform=OI(this.projectionDeltaWithTransform,this.treeScale,E),g&&(p.transform=g(E,p.transform));const{x:S,y:P}=this.projectionDelta;p.transformOrigin=`${S.origin*100}% ${P.origin*100}% 0`,x.animationValues?p.opacity=x===this?(f=(d=E.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=x===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const L in Nl){if(E[L]===void 0)continue;const{correct:D,applyTo:F,isCSSVariable:W}=Nl[L],N=p.transform==="none"?E[L]:D(E[L],x);if(F){const A=F.length;for(let j=0;j<A;j++)p[F[j]]=N}else W?this.options.visualElement.renderState.vars[L]=N:p[L]=N}return this.options.layoutId&&(p.pointerEvents=x===this?Mc(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(sx),this.root.sharedNodes.clear()}}}function UI(t){t.updateLayout()}function BI(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:a}=t.options,u=n.source!==t.layout.source;a==="size"?Bn(x=>{const E=u?n.measuredBox[x]:n.layoutBox[x],S=sn(E);E.min=r[x].min,E.max=E.min+S}):_E(a,n.layoutBox,r)&&Bn(x=>{const E=u?n.measuredBox[x]:n.layoutBox[x],S=sn(r[x]);E.max=E.min+S,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[x].max=t.relativeTarget[x].min+S)});const d=Ho();El(d,r,n.layoutBox);const f=Ho();u?El(f,t.applyTransform(i,!0),n.measuredBox):El(f,r,n.layoutBox);const p=!gE(d);let g=!1;if(!t.resumeFrom){const x=t.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:E,layout:S}=x;if(E&&S){const P=ft();Tl(P,n.layoutBox,E.layoutBox);const L=ft();Tl(L,r,S.layoutBox),yE(P,L)||(g=!0),x.options.layoutRoot&&(t.relativeTarget=L,t.relativeTargetOrigin=P,t.relativeParent=x)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function zI(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function WI(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function HI(t){t.clearSnapshot()}function sx(t){t.clearMeasurements()}function qI(t){t.isLayoutDirty=!1}function KI(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function ix(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GI(t){t.resolveTargetDelta()}function QI(t){t.calcProjection()}function XI(t){t.resetSkewAndRotation()}function YI(t){t.removeLeadSnapshot()}function ox(t,e,n){t.translate=rt(e.translate,0,n),t.scale=rt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ax(t,e,n,r){t.min=rt(e.min,n.min,r),t.max=rt(e.max,n.max,r)}function JI(t,e,n,r){ax(t.x,e.x,n.x,r),ax(t.y,e.y,n.y,r)}function ZI(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ek={duration:.45,ease:[.4,0,.1,1]},lx=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),ux=lx("applewebkit/")&&!lx("chrome/")?Math.round:An;function cx(t){t.min=ux(t.min),t.max=ux(t.max)}function tk(t){cx(t.x),cx(t.y)}function _E(t,e,n){return t==="position"||t==="preserve-aspect"&&!rI(tx(e),tx(n),.2)}function nk(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const rk=xE({attachResizeListener:(t,e)=>Ll(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kf={current:void 0},wE=xE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kf.current){const t=new rk({});t.mount(window),t.setOptions({layoutScroll:!0}),kf.current=t}return kf.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),sk={pan:{Feature:_I},drag:{Feature:xI,ProjectionNode:wE,MeasureLayout:fE}};function dx(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,a=r[i];a&&Ke.postRender(()=>a(e,Yl(e)))}class ik extends Ys{mount(){const{current:e}=this.node;e&&(this.unmount=h1(e,(n,r)=>(dx(this.node,r,"Start"),i=>dx(this.node,i,"End"))))}unmount(){}}class ok extends Ys{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xl(Ll(this.node.current,"focus",()=>this.onFocus()),Ll(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hx(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),a=r[i];a&&Ke.postRender(()=>a(e,Yl(e)))}class ak extends Ys{mount(){const{current:e}=this.node;e&&(this.unmount=g1(e,(n,r)=>(hx(this.node,r,"Start"),(i,{success:a})=>hx(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hp=new WeakMap,Nf=new WeakMap,lk=t=>{const e=hp.get(t.target);e&&e(t)},uk=t=>{t.forEach(lk)};function ck({root:t,...e}){const n=t||document;Nf.has(n)||Nf.set(n,{});const r=Nf.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(uk,{root:t,...e})),r[i]}function dk(t,e,n){const r=ck(e);return hp.set(t,n),r.observe(t),()=>{hp.delete(t),r.unobserve(t)}}const hk={some:0,all:1};class fk extends Ys{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:hk[i]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:x}=this.node.getProps(),E=p?g:x;E&&E(f)};return dk(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pk(e,n))&&this.startObserver()}unmount(){}}function pk({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mk={inView:{Feature:fk},tap:{Feature:ak},focus:{Feature:ok},hover:{Feature:ik}},gk={layout:{ProjectionNode:wE,MeasureLayout:fE}},fp={current:null},EE={current:!1};function yk(){if(EE.current=!0,!!Zp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>fp.current=t.matches;t.addListener(e),e()}else fp.current=!1}const vk=[...qw,Qt,Bs],xk=t=>vk.find(Hw(t)),_k=new WeakMap;function wk(t,e,n){for(const r in e){const i=e[r],a=n[r];if(Jt(i))t.addValue(r,i);else if(Jt(a))t.addValue(r,Il(i,{owner:t}));else if(a!==i)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(i):u.hasAnimated||u.set(i)}else{const u=t.getStaticValue(r);t.addValue(r,Il(u!==void 0?u:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const fx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ek{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Am,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=Cr.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,Ke.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:g}=u;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=xd(n),this.isVariantNode=lw(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:x,...E}=this.scrapeMotionValuesFromProps(n,{},this);for(const S in E){const P=E[S];f[S]!==void 0&&Jt(P)&&P.set(f[S],!1)}}mount(e){this.current=e,_k.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),EE.current||yk(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Us(this.notifyUpdate),Us(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ui.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Ke.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),a(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Xo){const n=Xo[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<fx.length;r++){const i=fx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,u=e[a];u&&(this.propEventSubscriptions[i]=this.on(i,u))}this.prevMotionValues=wk(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Il(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(zw(i)||Dw(i))?i=parseFloat(i):!xk(i)&&Bs.test(n)&&(i=$w(e,n)),this.setBaseTarget(e,Jt(i)?i.get():i)),Jt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const u=wm(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);u&&(i=u[e])}if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Jt(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new sm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class TE extends Ek{constructor(){super(...arguments),this.KeyframeResolver=Kw}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Jt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Tk(t){return window.getComputedStyle(t)}class Sk extends TE{constructor(){super(...arguments),this.type="html",this.renderInstance=xw}readValueFromInstance(e,n){if(Ui.has(n))return MP(e,n);{const r=Tk(e),i=(fm(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return uE(e,n)}build(e,n,r){gm(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Em(e,n,r)}}class bk extends TE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ft,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&vw(this.current,this.renderState)}}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ui.has(n)){const r=Fw(n);return r&&r.default||0}return n=_w.has(n)?n:hm(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Ew(e,n,r)}onBindTransform(){this.current&&!this.renderState.dimensions&&Ke.postRender(this.updateDimensions)}build(e,n,r){xm(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){ww(e,n,r,i)}mount(e){this.isSVGTag=_m(e.tagName),super.mount(e)}}const Ck=(t,e)=>vm(t)?new bk(e):new Sk(e,{allowProjection:t!==I.Fragment}),Ak=lP({...QR,...mk,...sk,...gk},Ck),px=S1(Ak),Pk=()=>{};var mx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Rk=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],u=t[n++],d=t[n++],f=((i&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],u=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|u&63)}}return e.join("")},bE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],u=i+1<t.length,d=u?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,g=a>>2,x=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,S=p&63;f||(S=64,u||(E=64)),r.push(n[g],n[x],n[E],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Rk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const x=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||d==null||p==null||x==null)throw new Ik;const E=a<<2|d>>4;if(r.push(E),p!==64){const S=d<<4&240|p>>2;if(r.push(S),x!==64){const P=p<<6&192|x;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ik extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kk=function(t){const e=SE(t);return bE.encodeByteArray(e,!0)},Zc=function(t){return kk(t).replace(/\./g,"")},Nk=function(t){try{return bE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk=()=>Dk().__FIREBASE_DEFAULTS__,Mk=()=>{if(typeof process>"u"||typeof mx>"u")return;const t=mx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Lk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nk(t[1]);return e&&JSON.parse(e)},km=()=>{try{return Pk()||Vk()||Mk()||Lk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jk=t=>{var e,n;return(n=(e=km())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CE=t=>{const e=jk(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},AE=()=>{var t;return(t=km())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Zc(JSON.stringify(n)),Zc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $k(){var t;const e=(t=km())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uk(){return!$k()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Bk(){try{return typeof indexedDB=="object"}catch{return!1}}function zk(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk="FirebaseError";class Bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Wk,Object.setPrototypeOf(this,Bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,RE.prototype.create)}}class RE{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],u=a?Hk(a,r):"Error",d=`${this.serviceName}: ${u} (${i}).`;return new Bi(i,d,r)}}function Hk(t,e){return t.replace(qk,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const qk=/\{\$([^}]+)}/g;function ed(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],u=e[i];if(gx(a)&&gx(u)){if(!ed(a,u))return!1}else if(a!==u)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function gx(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t){return t&&t._delegate?t._delegate:t}class Jo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ok;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Qk(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const u=this.instances.get(i);return u&&e(u,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Gk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gk(t){return t===ki?void 0:t}function Qk(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Kk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const Yk={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},Jk=je.INFO,Zk={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},eN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Zk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class IE{constructor(e){this.name=e,this._logLevel=Jk,this._logHandler=eN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Yk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const tN=(t,e)=>e.some(n=>t instanceof n);let yx,vx;function nN(){return yx||(yx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rN(){return vx||(vx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kE=new WeakMap,pp=new WeakMap,NE=new WeakMap,Df=new WeakMap,Nm=new WeakMap;function sN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",u)},a=()=>{n(Ms(t.result)),i()},u=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&kE.set(n,t)}).catch(()=>{}),Nm.set(e,t),e}function iN(t){if(pp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",u),t.removeEventListener("abort",u)},a=()=>{n(),i()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",u),t.addEventListener("abort",u)});pp.set(t,e)}let mp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return pp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||NE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function oN(t){mp=t(mp)}function aN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vf(this),e,...n);return NE.set(r,e.sort?e.sort():[e]),Ms(r)}:rN().includes(t)?function(...e){return t.apply(Vf(this),e),Ms(kE.get(this))}:function(...e){return Ms(t.apply(Vf(this),e))}}function lN(t){return typeof t=="function"?aN(t):(t instanceof IDBTransaction&&iN(t),tN(t,nN())?new Proxy(t,mp):t)}function Ms(t){if(t instanceof IDBRequest)return sN(t);if(Df.has(t))return Df.get(t);const e=lN(t);return e!==t&&(Df.set(t,e),Nm.set(e,t)),e}const Vf=t=>Nm.get(t);function uN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const u=indexedDB.open(t,e),d=Ms(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ms(u.result),f.oldVersion,f.newVersion,Ms(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const cN=["get","getKey","getAll","getAllKeys","count"],dN=["put","add","delete","clear"],Mf=new Map;function xx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Mf.get(e))return Mf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||cN.includes(n)))return;const a=async function(u,...d){const f=this.transaction(u,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),i&&f.done]))[0]};return Mf.set(e,a),a}oN(t=>({...t,get:(e,n,r)=>xx(e,n)||t.get(e,n,r),has:(e,n)=>!!xx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gp="@firebase/app",_x="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss=new IE("@firebase/app"),pN="@firebase/app-compat",mN="@firebase/analytics-compat",gN="@firebase/analytics",yN="@firebase/app-check-compat",vN="@firebase/app-check",xN="@firebase/auth",_N="@firebase/auth-compat",wN="@firebase/database",EN="@firebase/data-connect",TN="@firebase/database-compat",SN="@firebase/functions",bN="@firebase/functions-compat",CN="@firebase/installations",AN="@firebase/installations-compat",PN="@firebase/messaging",RN="@firebase/messaging-compat",IN="@firebase/performance",kN="@firebase/performance-compat",NN="@firebase/remote-config",DN="@firebase/remote-config-compat",VN="@firebase/storage",MN="@firebase/storage-compat",LN="@firebase/firestore",jN="@firebase/vertexai",ON="@firebase/firestore-compat",FN="firebase",$N="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="[DEFAULT]",UN={[gp]:"fire-core",[pN]:"fire-core-compat",[gN]:"fire-analytics",[mN]:"fire-analytics-compat",[vN]:"fire-app-check",[yN]:"fire-app-check-compat",[xN]:"fire-auth",[_N]:"fire-auth-compat",[wN]:"fire-rtdb",[EN]:"fire-data-connect",[TN]:"fire-rtdb-compat",[SN]:"fire-fn",[bN]:"fire-fn-compat",[CN]:"fire-iid",[AN]:"fire-iid-compat",[PN]:"fire-fcm",[RN]:"fire-fcm-compat",[IN]:"fire-perf",[kN]:"fire-perf-compat",[NN]:"fire-rc",[DN]:"fire-rc-compat",[VN]:"fire-gcs",[MN]:"fire-gcs-compat",[LN]:"fire-fst",[ON]:"fire-fst-compat",[jN]:"fire-vertex","fire-js":"fire-js",[FN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td=new Map,BN=new Map,vp=new Map;function wx(t,e){try{t.container.addComponent(e)}catch(n){ss.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jl(t){const e=t.name;if(vp.has(e))return ss.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,t);for(const n of td.values())wx(n,t);for(const n of BN.values())wx(n,t);return!0}function DE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function VE(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ls=new RE("app","Firebase",zN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ls.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=$N;function Dm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yp,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ls.create("bad-app-name",{appName:String(i)});if(n||(n=AE()),!n)throw Ls.create("no-options");const a=td.get(i);if(a){if(ed(n,a.options)&&ed(r,a.config))return a;throw Ls.create("duplicate-app",{appName:i})}const u=new Xk(i);for(const f of vp.values())u.addComponent(f);const d=new WN(n,r,u);return td.set(i,d),d}function LE(t=yp){const e=td.get(t);if(!e&&t===yp&&AE())return Dm();if(!e)throw Ls.create("no-app",{appName:t});return e}function js(t,e,n){var r;let i=(r=UN[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){const d=[`Unable to register library "${i}" with version "${e}":`];a&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ss.warn(d.join(" "));return}jl(new Jo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="firebase-heartbeat-database",qN=1,Ol="firebase-heartbeat-store";let Lf=null;function jE(){return Lf||(Lf=uN(HN,qN,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ol)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ls.create("idb-open",{originalErrorMessage:t.message})})),Lf}async function KN(t){try{const n=(await jE()).transaction(Ol),r=await n.objectStore(Ol).get(OE(t));return await n.done,r}catch(e){if(e instanceof Bi)ss.warn(e.message);else{const n=Ls.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ss.warn(n.message)}}}async function Ex(t,e){try{const r=(await jE()).transaction(Ol,"readwrite");await r.objectStore(Ol).put(e,OE(t)),await r.done}catch(n){if(n instanceof Bi)ss.warn(n.message);else{const r=Ls.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ss.warn(r.message)}}}function OE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1024,QN=30;class XN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Tx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>QN){const u=ZN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ss.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Tx(),{heartbeatsToSend:r,unsentEntries:i}=YN(this._heartbeatsCache.heartbeats),a=Zc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return ss.warn(n),""}}}function Tx(){return new Date().toISOString().substring(0,10)}function YN(t,e=GN){const n=[];let r=t.slice();for(const i of t){const a=n.find(u=>u.agent===i.agent);if(a){if(a.dates.push(i.date),Sx(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Bk()?zk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ex(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ex(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Sx(t){return Zc(JSON.stringify({version:2,heartbeats:t})).length}function ZN(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e2(t){jl(new Jo("platform-logger",e=>new hN(e),"PRIVATE")),jl(new Jo("heartbeat",e=>new XN(e),"PRIVATE")),js(gp,_x,t),js(gp,_x,"esm2017"),js("fire-js","")}e2("");var t2="firebase",n2="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(t2,n2,"app");var bx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Os,FE;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,C){function R(){}R.prototype=C.prototype,k.D=C.prototype,k.prototype=new R,k.prototype.constructor=k,k.C=function(O,B,H){for(var V=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)V[Oe-2]=arguments[Oe];return C.prototype[B].apply(O,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(k,C,R){R||(R=0);var O=Array(16);if(typeof C=="string")for(var B=0;16>B;++B)O[B]=C.charCodeAt(R++)|C.charCodeAt(R++)<<8|C.charCodeAt(R++)<<16|C.charCodeAt(R++)<<24;else for(B=0;16>B;++B)O[B]=C[R++]|C[R++]<<8|C[R++]<<16|C[R++]<<24;C=k.g[0],R=k.g[1],B=k.g[2];var H=k.g[3],V=C+(H^R&(B^H))+O[0]+3614090360&4294967295;C=R+(V<<7&4294967295|V>>>25),V=H+(B^C&(R^B))+O[1]+3905402710&4294967295,H=C+(V<<12&4294967295|V>>>20),V=B+(R^H&(C^R))+O[2]+606105819&4294967295,B=H+(V<<17&4294967295|V>>>15),V=R+(C^B&(H^C))+O[3]+3250441966&4294967295,R=B+(V<<22&4294967295|V>>>10),V=C+(H^R&(B^H))+O[4]+4118548399&4294967295,C=R+(V<<7&4294967295|V>>>25),V=H+(B^C&(R^B))+O[5]+1200080426&4294967295,H=C+(V<<12&4294967295|V>>>20),V=B+(R^H&(C^R))+O[6]+2821735955&4294967295,B=H+(V<<17&4294967295|V>>>15),V=R+(C^B&(H^C))+O[7]+4249261313&4294967295,R=B+(V<<22&4294967295|V>>>10),V=C+(H^R&(B^H))+O[8]+1770035416&4294967295,C=R+(V<<7&4294967295|V>>>25),V=H+(B^C&(R^B))+O[9]+2336552879&4294967295,H=C+(V<<12&4294967295|V>>>20),V=B+(R^H&(C^R))+O[10]+4294925233&4294967295,B=H+(V<<17&4294967295|V>>>15),V=R+(C^B&(H^C))+O[11]+2304563134&4294967295,R=B+(V<<22&4294967295|V>>>10),V=C+(H^R&(B^H))+O[12]+1804603682&4294967295,C=R+(V<<7&4294967295|V>>>25),V=H+(B^C&(R^B))+O[13]+4254626195&4294967295,H=C+(V<<12&4294967295|V>>>20),V=B+(R^H&(C^R))+O[14]+2792965006&4294967295,B=H+(V<<17&4294967295|V>>>15),V=R+(C^B&(H^C))+O[15]+1236535329&4294967295,R=B+(V<<22&4294967295|V>>>10),V=C+(B^H&(R^B))+O[1]+4129170786&4294967295,C=R+(V<<5&4294967295|V>>>27),V=H+(R^B&(C^R))+O[6]+3225465664&4294967295,H=C+(V<<9&4294967295|V>>>23),V=B+(C^R&(H^C))+O[11]+643717713&4294967295,B=H+(V<<14&4294967295|V>>>18),V=R+(H^C&(B^H))+O[0]+3921069994&4294967295,R=B+(V<<20&4294967295|V>>>12),V=C+(B^H&(R^B))+O[5]+3593408605&4294967295,C=R+(V<<5&4294967295|V>>>27),V=H+(R^B&(C^R))+O[10]+38016083&4294967295,H=C+(V<<9&4294967295|V>>>23),V=B+(C^R&(H^C))+O[15]+3634488961&4294967295,B=H+(V<<14&4294967295|V>>>18),V=R+(H^C&(B^H))+O[4]+3889429448&4294967295,R=B+(V<<20&4294967295|V>>>12),V=C+(B^H&(R^B))+O[9]+568446438&4294967295,C=R+(V<<5&4294967295|V>>>27),V=H+(R^B&(C^R))+O[14]+3275163606&4294967295,H=C+(V<<9&4294967295|V>>>23),V=B+(C^R&(H^C))+O[3]+4107603335&4294967295,B=H+(V<<14&4294967295|V>>>18),V=R+(H^C&(B^H))+O[8]+1163531501&4294967295,R=B+(V<<20&4294967295|V>>>12),V=C+(B^H&(R^B))+O[13]+2850285829&4294967295,C=R+(V<<5&4294967295|V>>>27),V=H+(R^B&(C^R))+O[2]+4243563512&4294967295,H=C+(V<<9&4294967295|V>>>23),V=B+(C^R&(H^C))+O[7]+1735328473&4294967295,B=H+(V<<14&4294967295|V>>>18),V=R+(H^C&(B^H))+O[12]+2368359562&4294967295,R=B+(V<<20&4294967295|V>>>12),V=C+(R^B^H)+O[5]+4294588738&4294967295,C=R+(V<<4&4294967295|V>>>28),V=H+(C^R^B)+O[8]+2272392833&4294967295,H=C+(V<<11&4294967295|V>>>21),V=B+(H^C^R)+O[11]+1839030562&4294967295,B=H+(V<<16&4294967295|V>>>16),V=R+(B^H^C)+O[14]+4259657740&4294967295,R=B+(V<<23&4294967295|V>>>9),V=C+(R^B^H)+O[1]+2763975236&4294967295,C=R+(V<<4&4294967295|V>>>28),V=H+(C^R^B)+O[4]+1272893353&4294967295,H=C+(V<<11&4294967295|V>>>21),V=B+(H^C^R)+O[7]+4139469664&4294967295,B=H+(V<<16&4294967295|V>>>16),V=R+(B^H^C)+O[10]+3200236656&4294967295,R=B+(V<<23&4294967295|V>>>9),V=C+(R^B^H)+O[13]+681279174&4294967295,C=R+(V<<4&4294967295|V>>>28),V=H+(C^R^B)+O[0]+3936430074&4294967295,H=C+(V<<11&4294967295|V>>>21),V=B+(H^C^R)+O[3]+3572445317&4294967295,B=H+(V<<16&4294967295|V>>>16),V=R+(B^H^C)+O[6]+76029189&4294967295,R=B+(V<<23&4294967295|V>>>9),V=C+(R^B^H)+O[9]+3654602809&4294967295,C=R+(V<<4&4294967295|V>>>28),V=H+(C^R^B)+O[12]+3873151461&4294967295,H=C+(V<<11&4294967295|V>>>21),V=B+(H^C^R)+O[15]+530742520&4294967295,B=H+(V<<16&4294967295|V>>>16),V=R+(B^H^C)+O[2]+3299628645&4294967295,R=B+(V<<23&4294967295|V>>>9),V=C+(B^(R|~H))+O[0]+4096336452&4294967295,C=R+(V<<6&4294967295|V>>>26),V=H+(R^(C|~B))+O[7]+1126891415&4294967295,H=C+(V<<10&4294967295|V>>>22),V=B+(C^(H|~R))+O[14]+2878612391&4294967295,B=H+(V<<15&4294967295|V>>>17),V=R+(H^(B|~C))+O[5]+4237533241&4294967295,R=B+(V<<21&4294967295|V>>>11),V=C+(B^(R|~H))+O[12]+1700485571&4294967295,C=R+(V<<6&4294967295|V>>>26),V=H+(R^(C|~B))+O[3]+2399980690&4294967295,H=C+(V<<10&4294967295|V>>>22),V=B+(C^(H|~R))+O[10]+4293915773&4294967295,B=H+(V<<15&4294967295|V>>>17),V=R+(H^(B|~C))+O[1]+2240044497&4294967295,R=B+(V<<21&4294967295|V>>>11),V=C+(B^(R|~H))+O[8]+1873313359&4294967295,C=R+(V<<6&4294967295|V>>>26),V=H+(R^(C|~B))+O[15]+4264355552&4294967295,H=C+(V<<10&4294967295|V>>>22),V=B+(C^(H|~R))+O[6]+2734768916&4294967295,B=H+(V<<15&4294967295|V>>>17),V=R+(H^(B|~C))+O[13]+1309151649&4294967295,R=B+(V<<21&4294967295|V>>>11),V=C+(B^(R|~H))+O[4]+4149444226&4294967295,C=R+(V<<6&4294967295|V>>>26),V=H+(R^(C|~B))+O[11]+3174756917&4294967295,H=C+(V<<10&4294967295|V>>>22),V=B+(C^(H|~R))+O[2]+718787259&4294967295,B=H+(V<<15&4294967295|V>>>17),V=R+(H^(B|~C))+O[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(B+(V<<21&4294967295|V>>>11))&4294967295,k.g[2]=k.g[2]+B&4294967295,k.g[3]=k.g[3]+H&4294967295}r.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var R=C-this.blockSize,O=this.B,B=this.h,H=0;H<C;){if(B==0)for(;H<=R;)i(this,k,H),H+=this.blockSize;if(typeof k=="string"){for(;H<C;)if(O[B++]=k.charCodeAt(H++),B==this.blockSize){i(this,O),B=0;break}}else for(;H<C;)if(O[B++]=k[H++],B==this.blockSize){i(this,O),B=0;break}}this.h=B,this.o+=C},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var R=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=R&255,R/=256;for(this.u(k),k=Array(16),C=R=0;4>C;++C)for(var O=0;32>O;O+=8)k[R++]=this.g[C]>>>O&255;return k};function a(k,C){var R=d;return Object.prototype.hasOwnProperty.call(R,k)?R[k]:R[k]=C(k)}function u(k,C){this.h=C;for(var R=[],O=!0,B=k.length-1;0<=B;B--){var H=k[B]|0;O&&H==C||(R[B]=H,O=!1)}this.g=R}var d={};function f(k){return-128<=k&&128>k?a(k,function(C){return new u([C|0],0>C?-1:0)}):new u([k|0],0>k?-1:0)}function p(k){if(isNaN(k)||!isFinite(k))return x;if(0>k)return D(p(-k));for(var C=[],R=1,O=0;k>=R;O++)C[O]=k/R|0,R*=4294967296;return new u(C,0)}function g(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return D(g(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=p(Math.pow(C,8)),O=x,B=0;B<k.length;B+=8){var H=Math.min(8,k.length-B),V=parseInt(k.substring(B,B+H),C);8>H?(H=p(Math.pow(C,H)),O=O.j(H).add(p(V))):(O=O.j(R),O=O.add(p(V)))}return O}var x=f(0),E=f(1),S=f(16777216);t=u.prototype,t.m=function(){if(L(this))return-D(this).m();for(var k=0,C=1,R=0;R<this.g.length;R++){var O=this.i(R);k+=(0<=O?O:4294967296+O)*C,C*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(P(this))return"0";if(L(this))return"-"+D(this).toString(k);for(var C=p(Math.pow(k,6)),R=this,O="";;){var B=A(R,C).g;R=F(R,B.j(C));var H=((0<R.g.length?R.g[0]:R.h)>>>0).toString(k);if(R=B,P(R))return H+O;for(;6>H.length;)H="0"+H;O=H+O}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function P(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function L(k){return k.h==-1}t.l=function(k){return k=F(this,k),L(k)?-1:P(k)?0:1};function D(k){for(var C=k.g.length,R=[],O=0;O<C;O++)R[O]=~k.g[O];return new u(R,~k.h).add(E)}t.abs=function(){return L(this)?D(this):this},t.add=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],O=0,B=0;B<=C;B++){var H=O+(this.i(B)&65535)+(k.i(B)&65535),V=(H>>>16)+(this.i(B)>>>16)+(k.i(B)>>>16);O=V>>>16,H&=65535,V&=65535,R[B]=V<<16|H}return new u(R,R[R.length-1]&-2147483648?-1:0)};function F(k,C){return k.add(D(C))}t.j=function(k){if(P(this)||P(k))return x;if(L(this))return L(k)?D(this).j(D(k)):D(D(this).j(k));if(L(k))return D(this.j(D(k)));if(0>this.l(S)&&0>k.l(S))return p(this.m()*k.m());for(var C=this.g.length+k.g.length,R=[],O=0;O<2*C;O++)R[O]=0;for(O=0;O<this.g.length;O++)for(var B=0;B<k.g.length;B++){var H=this.i(O)>>>16,V=this.i(O)&65535,Oe=k.i(B)>>>16,et=k.i(B)&65535;R[2*O+2*B]+=V*et,W(R,2*O+2*B),R[2*O+2*B+1]+=H*et,W(R,2*O+2*B+1),R[2*O+2*B+1]+=V*Oe,W(R,2*O+2*B+1),R[2*O+2*B+2]+=H*Oe,W(R,2*O+2*B+2)}for(O=0;O<C;O++)R[O]=R[2*O+1]<<16|R[2*O];for(O=C;O<2*C;O++)R[O]=0;return new u(R,0)};function W(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function N(k,C){this.g=k,this.h=C}function A(k,C){if(P(C))throw Error("division by zero");if(P(k))return new N(x,x);if(L(k))return C=A(D(k),C),new N(D(C.g),D(C.h));if(L(C))return C=A(k,D(C)),new N(D(C.g),C.h);if(30<k.g.length){if(L(k)||L(C))throw Error("slowDivide_ only works with positive integers.");for(var R=E,O=C;0>=O.l(k);)R=j(R),O=j(O);var B=U(R,1),H=U(O,1);for(O=U(O,2),R=U(R,2);!P(O);){var V=H.add(O);0>=V.l(k)&&(B=B.add(R),H=V),O=U(O,1),R=U(R,1)}return C=F(k,B.j(C)),new N(B,C)}for(B=x;0<=k.l(C);){for(R=Math.max(1,Math.floor(k.m()/C.m())),O=Math.ceil(Math.log(R)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),H=p(R),V=H.j(C);L(V)||0<V.l(k);)R-=O,H=p(R),V=H.j(C);P(H)&&(H=E),B=B.add(H),k=F(k,V)}return new N(B,k)}t.A=function(k){return A(this,k).h},t.and=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],O=0;O<C;O++)R[O]=this.i(O)&k.i(O);return new u(R,this.h&k.h)},t.or=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],O=0;O<C;O++)R[O]=this.i(O)|k.i(O);return new u(R,this.h|k.h)},t.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),R=[],O=0;O<C;O++)R[O]=this.i(O)^k.i(O);return new u(R,this.h^k.h)};function j(k){for(var C=k.g.length+1,R=[],O=0;O<C;O++)R[O]=k.i(O)<<1|k.i(O-1)>>>31;return new u(R,k.h)}function U(k,C){var R=C>>5;C%=32;for(var O=k.g.length-R,B=[],H=0;H<O;H++)B[H]=0<C?k.i(H+R)>>>C|k.i(H+R+1)<<32-C:k.i(H+R);return new u(B,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,FE=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Os=u}).apply(typeof bx<"u"?bx:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var $E,gl,UE,jc,xp,BE,zE,WE;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(c,y){if(y)e:{var w=r;c=c.split(".");for(var b=0;b<c.length-1;b++){var K=c[b];if(!(K in w))break e;w=w[K]}c=c[c.length-1],b=w[c],y=y(b),y!=b&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function a(c,y){c instanceof String&&(c+="");var w=0,b=!1,K={next:function(){if(!b&&w<c.length){var Y=w++;return{value:y(Y,c[Y]),done:!1}}return b=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}i("Array.prototype.values",function(c){return c||function(){return a(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function g(c,y,w){return c.call.apply(c.bind,arguments)}function x(c,y,w){if(!c)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,b),c.apply(y,K)}}return function(){return c.apply(y,arguments)}}function E(c,y,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:x,E.apply(null,arguments)}function S(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var b=w.slice();return b.push.apply(b,arguments),c.apply(this,b)}}function P(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(b,K,Y){for(var ue=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ue[ze-2]=arguments[ze];return y.prototype[K].apply(b,ue)}}function L(c){const y=c.length;if(0<y){const w=Array(y);for(let b=0;b<y;b++)w[b]=c[b];return w}return[]}function D(c,y){for(let w=1;w<arguments.length;w++){const b=arguments[w];if(f(b)){const K=c.length||0,Y=b.length||0;c.length=K+Y;for(let ue=0;ue<Y;ue++)c[K+ue]=b[ue]}else c.push(b)}}class F{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function W(c){return/^[\s\xa0]*$/.test(c)}function N(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function A(c){return A[" "](c),c}A[" "]=function(){};var j=N().indexOf("Gecko")!=-1&&!(N().toLowerCase().indexOf("webkit")!=-1&&N().indexOf("Edge")==-1)&&!(N().indexOf("Trident")!=-1||N().indexOf("MSIE")!=-1)&&N().indexOf("Edge")==-1;function U(c,y,w){for(const b in c)y.call(w,c[b],b,c)}function k(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function C(c){const y={};for(const w in c)y[w]=c[w];return y}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,y){let w,b;for(let K=1;K<arguments.length;K++){b=arguments[K];for(w in b)c[w]=b[w];for(let Y=0;Y<R.length;Y++)w=R[Y],Object.prototype.hasOwnProperty.call(b,w)&&(c[w]=b[w])}}function B(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function H(c){d.setTimeout(()=>{throw c},0)}function V(){var c=ge;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Oe{constructor(){this.h=this.g=null}add(y,w){const b=et.get();b.set(y,w),this.h?this.h.next=b:this.g=b,this.h=b}}var et=new F(()=>new Ge,c=>c.reset());class Ge{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let be,ae=!1,ge=new Oe,ce=()=>{const c=d.Promise.resolve(void 0);be=()=>{c.then(q)}};var q=()=>{for(var c;c=V();){try{c.h.call(c.g)}catch(w){H(w)}var y=et;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ae=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ve(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ve.prototype.h=function(){this.defaultPrevented=!0};var se=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};d.addEventListener("test",w,y),d.removeEventListener("test",w,y)}catch{}return c}();function J(c,y){if(ve.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,b=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(j){e:{try{A(y.nodeName);var K=!0;break e}catch{}K=!1}K||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:oe[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&J.aa.h.call(this)}}P(J,ve);var oe={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _e="closure_listenable_"+(1e6*Math.random()|0),Ie=0;function Be(c,y,w,b,K){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!b,this.ha=K,this.key=++Ie,this.da=this.fa=!1}function ct(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Rn(c){this.src=c,this.g={},this.h=0}Rn.prototype.add=function(c,y,w,b,K){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var ue=In(c,y,b,K);return-1<ue?(y=c[ue],w||(y.fa=!1)):(y=new Be(y,this.src,Y,!!b,K),y.fa=w,c.push(y)),y};function Vr(c,y){var w=y.type;if(w in c.g){var b=c.g[w],K=Array.prototype.indexOf.call(b,y,void 0),Y;(Y=0<=K)&&Array.prototype.splice.call(b,K,1),Y&&(ct(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function In(c,y,w,b){for(var K=0;K<c.length;++K){var Y=c[K];if(!Y.da&&Y.listener==y&&Y.capture==!!w&&Y.ha==b)return K}return-1}var cr="closure_lm_"+(1e6*Math.random()|0),xt={};function Mr(c,y,w,b,K){if(Array.isArray(y)){for(var Y=0;Y<y.length;Y++)Mr(c,y[Y],w,b,K);return null}return w=ya(w),c&&c[_e]?c.K(y,w,p(b)?!!b.capture:!1,K):ma(c,y,w,!1,b,K)}function ma(c,y,w,b,K,Y){if(!y)throw Error("Invalid event type");var ue=p(K)?!!K.capture:!!K,ze=Ki(c);if(ze||(c[cr]=ze=new Rn(c)),w=ze.add(y,w,b,ue,Y),w.proxy)return w;if(b=ru(),w.proxy=b,b.src=c,b.listener=w,c.addEventListener)se||(K=ue),K===void 0&&(K=!1),c.addEventListener(y.toString(),b,K);else if(c.attachEvent)c.attachEvent(jr(y.toString()),b);else if(c.addListener&&c.removeListener)c.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return w}function ru(){function c(w){return y.call(c.src,c.listener,w)}const y=ga;return c}function qi(c,y,w,b,K){if(Array.isArray(y))for(var Y=0;Y<y.length;Y++)qi(c,y[Y],w,b,K);else b=p(b)?!!b.capture:!!b,w=ya(w),c&&c[_e]?(c=c.i,y=String(y).toString(),y in c.g&&(Y=c.g[y],w=In(Y,w,b,K),-1<w&&(ct(Y[w]),Array.prototype.splice.call(Y,w,1),Y.length==0&&(delete c.g[y],c.h--)))):c&&(c=Ki(c))&&(y=c.g[y.toString()],c=-1,y&&(c=In(y,w,b,K)),(w=-1<c?y[c]:null)&&Lr(w))}function Lr(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[_e])Vr(y.i,c);else{var w=c.type,b=c.proxy;y.removeEventListener?y.removeEventListener(w,b,c.capture):y.detachEvent?y.detachEvent(jr(w),b):y.addListener&&y.removeListener&&y.removeListener(b),(w=Ki(y))?(Vr(w,c),w.h==0&&(w.src=null,y[cr]=null)):ct(c)}}}function jr(c){return c in xt?xt[c]:xt[c]="on"+c}function ga(c,y){if(c.da)c=!0;else{y=new J(y,this);var w=c.listener,b=c.ha||c.src;c.fa&&Lr(c),c=w.call(b,y)}return c}function Ki(c){return c=c[cr],c instanceof Rn?c:null}var Gi="__closure_events_fn_"+(1e9*Math.random()>>>0);function ya(c){return typeof c=="function"?c:(c[Gi]||(c[Gi]=function(y){return c.handleEvent(y)}),c[Gi])}function _t(){Z.call(this),this.i=new Rn(this),this.M=this,this.F=null}P(_t,Z),_t.prototype[_e]=!0,_t.prototype.removeEventListener=function(c,y,w,b){qi(this,c,y,w,b)};function wt(c,y){var w,b=c.F;if(b)for(w=[];b;b=b.F)w.push(b);if(c=c.M,b=y.type||y,typeof y=="string")y=new ve(y,c);else if(y instanceof ve)y.target=y.target||c;else{var K=y;y=new ve(b,c),O(y,K)}if(K=!0,w)for(var Y=w.length-1;0<=Y;Y--){var ue=y.g=w[Y];K=Or(ue,b,!0,y)&&K}if(ue=y.g=c,K=Or(ue,b,!0,y)&&K,K=Or(ue,b,!1,y)&&K,w)for(Y=0;Y<w.length;Y++)ue=y.g=w[Y],K=Or(ue,b,!1,y)&&K}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],b=0;b<w.length;b++)ct(w[b]);delete c.g[y],c.h--}}this.F=null},_t.prototype.K=function(c,y,w,b){return this.i.add(String(c),y,!1,w,b)},_t.prototype.L=function(c,y,w,b){return this.i.add(String(c),y,!0,w,b)};function Or(c,y,w,b){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var K=!0,Y=0;Y<y.length;++Y){var ue=y[Y];if(ue&&!ue.da&&ue.capture==w){var ze=ue.listener,Et=ue.ha||ue.src;ue.fa&&Vr(c.i,ue),K=ze.call(Et,b)!==!1&&K}}return K&&!b.defaultPrevented}function va(c,y,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function ls(c){c.g=va(()=>{c.g=null,c.i&&(c.i=!1,ls(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ei extends Z{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:ls(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ti(c){Z.call(this),this.h=c,this.g={}}P(ti,Z);var xa=[];function _a(c){U(c.g,function(y,w){this.g.hasOwnProperty(w)&&Lr(y)},c),c.g={}}ti.prototype.N=function(){ti.aa.N.call(this),_a(this)},ti.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wa=d.JSON.stringify,Ea=d.JSON.parse,Ta=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function ni(){}ni.prototype.h=null;function Qi(c){return c.h||(c.h=c.i())}function Xi(){}var kn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dr(){ve.call(this,"d")}P(dr,ve);function Yi(){ve.call(this,"c")}P(Yi,ve);var hr={},Sa=null;function ri(){return Sa=Sa||new _t}hr.La="serverreachability";function ba(c){ve.call(this,hr.La,c)}P(ba,ve);function Fr(c){const y=ri();wt(y,new ba(y))}hr.STAT_EVENT="statevent";function Ca(c,y){ve.call(this,hr.STAT_EVENT,c),this.stat=y}P(Ca,ve);function dt(c){const y=ri();wt(y,new Ca(y,c))}hr.Ma="timingevent";function Ji(c,y){ve.call(this,hr.Ma,c),this.size=y}P(Ji,ve);function Hn(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function si(){this.g=!0}si.prototype.xa=function(){this.g=!1};function ii(c,y,w,b,K,Y){c.info(function(){if(c.g)if(Y)for(var ue="",ze=Y.split("&"),Et=0;Et<ze.length;Et++){var Me=ze[Et].split("=");if(1<Me.length){var Pt=Me[0];Me=Me[1];var mt=Pt.split("_");ue=2<=mt.length&&mt[1]=="type"?ue+(Pt+"="+Me+"&"):ue+(Pt+"=redacted&")}}else ue=null;else ue=Y;return"XMLHTTP REQ ("+b+") [attempt "+K+"]: "+y+`
`+w+`
`+ue})}function Zi(c,y,w,b,K,Y,ue){c.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+K+"]: "+y+`
`+w+`
`+Y+" "+ue})}function qn(c,y,w,b){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+$d(c,w)+(b?" "+b:"")})}function Aa(c,y){c.info(function(){return"TIMEOUT: "+y})}si.prototype.info=function(){};function $d(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var b=w[c];if(!(2>b.length)){var K=b[1];if(Array.isArray(K)&&!(1>K.length)){var Y=K[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var ue=1;ue<K.length;ue++)K[ue]=""}}}}return wa(w)}catch{return y}}var eo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},su={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kn;function oi(){}P(oi,ni),oi.prototype.g=function(){return new XMLHttpRequest},oi.prototype.i=function(){return{}},Kn=new oi;function Gn(c,y,w,b){this.j=c,this.i=y,this.l=w,this.R=b||1,this.U=new ti(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iu}function iu(){this.i=null,this.g="",this.h=!1}var Pa={},to={};function no(c,y,w){c.L=1,c.v=fs(vn(y)),c.m=w,c.P=!0,Ra(c,null)}function Ra(c,y){c.F=Date.now(),He(c),c.A=vn(c.v);var w=c.A,b=c.R;Array.isArray(b)||(b=[String(b)]),ms(w.i,"t",b),c.C=0,w=c.j.J,c.h=new iu,c.g=Tu(c.j,w?y:null,!c.m),0<c.O&&(c.M=new ei(E(c.Y,c,c.g),c.O)),y=c.U,w=c.g,b=c.ca;var K="readystatechange";Array.isArray(K)||(K&&(xa[0]=K.toString()),K=xa);for(var Y=0;Y<K.length;Y++){var ue=Mr(w,K[Y],b||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Fr(),ii(c.i,c.u,c.A,c.l,c.R,c.m)}Gn.prototype.ca=function(c){c=c.target;const y=this.M;y&&an(c)==3?y.j():this.Y(c)},Gn.prototype.Y=function(c){try{if(c==this.g)e:{const mt=an(this.g);var y=this.g.Ba();const Vn=this.g.Z();if(!(3>mt)&&(mt!=3||this.g&&(this.h.h||this.g.oa()||Ma(this.g)))){this.J||mt!=4||y==7||(y==8||0>=Vn?Fr(3):Fr(2)),ai(this);var w=this.g.Z();this.X=w;t:if(ou(this)){var b=Ma(this.g);c="";var K=b.length,Y=an(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Nn(this),us(this);var ue="";break t}this.h.i=new d.TextDecoder}for(y=0;y<K;y++)this.h.h=!0,c+=this.h.i.decode(b[y],{stream:!(Y&&y==K-1)});b.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=w==200,Zi(this.i,this.u,this.A,this.l,this.R,mt,w),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Et=this.g;if((ze=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(ze)){var Me=ze;break t}}Me=null}if(w=Me)qn(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ia(this,w);else{this.o=!1,this.s=3,dt(12),Nn(this),us(this);break e}}if(this.P){w=!0;let _n;for(;!this.J&&this.C<ue.length;)if(_n=Ud(this,ue),_n==to){mt==4&&(this.s=4,dt(14),w=!1),qn(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Pa){this.s=4,dt(15),qn(this.i,this.l,ue,"[Invalid Chunk]"),w=!1;break}else qn(this.i,this.l,_n,null),Ia(this,_n);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mt!=4||ue.length!=0||this.h.h||(this.s=1,dt(16),w=!1),this.o=this.o&&w,!w)qn(this.i,this.l,ue,"[Invalid Chunked Response]"),Nn(this),us(this);else if(0<ue.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),ja(Pt),Pt.M=!0,dt(11))}}else qn(this.i,this.l,ue,null),Ia(this,ue);mt==4&&Nn(this),this.o&&!this.J&&(mt==4?po(this.j,this):(this.o=!1,He(this)))}else lo(this.g),w==400&&0<ue.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),Nn(this),us(this)}}}catch{}finally{}};function ou(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ud(c,y){var w=c.C,b=y.indexOf(`
`,w);return b==-1?to:(w=Number(y.substring(w,b)),isNaN(w)?Pa:(b+=1,b+w>y.length?to:(y=y.slice(b,b+w),c.C=b+w,y)))}Gn.prototype.cancel=function(){this.J=!0,Nn(this)};function He(c){c.S=Date.now()+c.I,au(c,c.I)}function au(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Hn(E(c.ba,c),y)}function ai(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Gn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Aa(this.i,this.A),this.L!=2&&(Fr(),dt(17)),Nn(this),this.s=2,us(this)):au(this,this.S-c)};function us(c){c.j.G==0||c.J||po(c.j,c)}function Nn(c){ai(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,_a(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Ia(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||Zt(w.h,c))){if(!c.K&&Zt(w.h,c)&&w.G==3){try{var b=w.Da.g.parse(y)}catch{b=null}if(Array.isArray(b)&&b.length==3){var K=b;if(K[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)fo(w),Zn(w);else break e;ho(w),dt(18)}}else w.za=K[1],0<w.za-w.T&&37500>K[2]&&w.F&&w.v==0&&!w.C&&(w.C=Hn(E(w.Za,w),6e3));if(1>=uu(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Wr(w,11)}else if((c.K||w.g==c)&&fo(w),!W(y))for(K=w.Da.g.parse(y),y=0;y<K.length;y++){let Me=K[y];if(w.T=Me[0],Me=Me[1],w.G==2)if(Me[0]=="c"){w.K=Me[1],w.ia=Me[2];const Pt=Me[3];Pt!=null&&(w.la=Pt,w.j.info("VER="+w.la));const mt=Me[4];mt!=null&&(w.Aa=mt,w.j.info("SVER="+w.Aa));const Vn=Me[5];Vn!=null&&typeof Vn=="number"&&0<Vn&&(b=1.5*Vn,w.L=b,w.j.info("backChannelRequestTimeoutMs_="+b)),b=w;const _n=c.g;if(_n){const pi=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pi){var Y=b.h;Y.g||pi.indexOf("spdy")==-1&&pi.indexOf("quic")==-1&&pi.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(ka(Y,Y.h),Y.h=null))}if(b.D){const go=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(b.ya=go,We(b.I,b.D,go))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),b=w;var ue=c;if(b.qa=Eu(b,b.J?b.ia:null,b.W),ue.K){cu(b.h,ue);var ze=ue,Et=b.L;Et&&(ze.I=Et),ze.B&&(ai(ze),He(ze)),b.g=ue}else fi(b);0<w.i.length&&gr(w)}else Me[0]!="stop"&&Me[0]!="close"||Wr(w,7);else w.G==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?Wr(w,7):Mt(w):Me[0]!="noop"&&w.l&&w.l.ta(Me),w.v=0)}}Fr(4)}catch{}}var lu=class{constructor(c,y){this.g=c,this.map=y}};function li(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yn(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function uu(c){return c.h?1:c.g?c.g.size:0}function Zt(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ka(c,y){c.g?c.g.add(y):c.h=y}function cu(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}li.prototype.cancel=function(){if(this.i=du(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function du(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return L(c.i)}function ro(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var y=[],w=c.length,b=0;b<w;b++)y.push(c[b]);return y}y=[],w=0;for(b in c)y[w++]=c[b];return y}function so(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const b in c)y[w++]=b;return y}}}function cs(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=so(c),b=ro(c),K=b.length,Y=0;Y<K;Y++)y.call(void 0,b[Y],w&&w[Y],c)}var ui=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bd(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var b=c[w].indexOf("="),K=null;if(0<=b){var Y=c[w].substring(0,b);K=c[w].substring(b+1)}else Y=c[w];y(Y,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function $r(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof $r){this.h=c.h,ci(this,c.j),this.o=c.o,this.g=c.g,ds(this,c.s),this.l=c.l;var y=c.i,w=new fr;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),hs(this,w),this.m=c.m}else c&&(y=String(c).match(ui))?(this.h=!1,ci(this,y[1]||"",!0),this.o=Ve(y[2]||""),this.g=Ve(y[3]||"",!0),ds(this,y[4]),this.l=Ve(y[5]||"",!0),hs(this,y[6]||"",!0),this.m=Ve(y[7]||"")):(this.h=!1,this.i=new fr(null,this.h))}$r.prototype.toString=function(){var c=[],y=this.j;y&&c.push(ps(y,io,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(ps(y,io,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(ps(w,w.charAt(0)=="/"?pu:fu,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",ps(w,Na)),c.join("")};function vn(c){return new $r(c)}function ci(c,y,w){c.j=w?Ve(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ds(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function hs(c,y,w){y instanceof fr?(c.i=y,pr(c.i,c.h)):(w||(y=ps(y,mu)),c.i=new fr(y,c.h))}function We(c,y,w){c.i.set(y,w)}function fs(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ve(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ps(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,hu),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var io=/[#\/\?@]/g,fu=/[#\?:]/g,pu=/[#\?]/g,mu=/[#\?@]/g,Na=/#/g;function fr(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Vt(c){c.g||(c.g=new Map,c.h=0,c.i&&Bd(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=fr.prototype,t.add=function(c,y){Vt(this),this.i=null,c=Dn(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function Qn(c,y){Vt(c),y=Dn(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Xn(c,y){return Vt(c),y=Dn(c,y),c.g.has(y)}t.forEach=function(c,y){Vt(this),this.g.forEach(function(w,b){w.forEach(function(K){c.call(y,K,b,this)},this)},this)},t.na=function(){Vt(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let b=0;b<y.length;b++){const K=c[b];for(let Y=0;Y<K.length;Y++)w.push(y[b])}return w},t.V=function(c){Vt(this);let y=[];if(typeof c=="string")Xn(this,c)&&(y=y.concat(this.g.get(Dn(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},t.set=function(c,y){return Vt(this),this.i=null,c=Dn(this,c),Xn(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function ms(c,y,w){Qn(c,y),0<w.length&&(c.i=null,c.g.set(Dn(c,y),L(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var b=y[w];const Y=encodeURIComponent(String(b)),ue=this.V(b);for(b=0;b<ue.length;b++){var K=Y;ue[b]!==""&&(K+="="+encodeURIComponent(String(ue[b]))),c.push(K)}}return this.i=c.join("&")};function Dn(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function pr(c,y){y&&!c.j&&(Vt(c),c.i=null,c.g.forEach(function(w,b){var K=b.toLowerCase();b!=K&&(Qn(this,b),ms(this,K,w))},c)),c.j=y}function zd(c,y){const w=new si;if(d.Image){const b=new Image;b.onload=S(on,w,"TestLoadImage: loaded",!0,y,b),b.onerror=S(on,w,"TestLoadImage: error",!1,y,b),b.onabort=S(on,w,"TestLoadImage: abort",!1,y,b),b.ontimeout=S(on,w,"TestLoadImage: timeout",!1,y,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=c}else y(!1)}function gu(c,y){const w=new si,b=new AbortController,K=setTimeout(()=>{b.abort(),on(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:b.signal}).then(Y=>{clearTimeout(K),Y.ok?on(w,"TestPingServer: ok",!0,y):on(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(K),on(w,"TestPingServer: error",!1,y)})}function on(c,y,w,b,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),b(w)}catch{}}function Wd(){this.g=new Ta}function yu(c,y,w){const b=w||"";try{cs(c,function(K,Y){let ue=K;p(K)&&(ue=wa(K)),y.push(b+Y+"="+encodeURIComponent(ue))})}catch(K){throw y.push(b+"type="+encodeURIComponent("_badmap")),K}}function Ur(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Ur,ni),Ur.prototype.g=function(){return new di(this.l,this.j)},Ur.prototype.i=function(c){return function(){return c}}({});function di(c,y){_t.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(di,_t),t=di.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Jn(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vu(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vu(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Yn(this):Jn(this),this.readyState==3&&vu(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Yn(this))},t.Qa=function(c){this.g&&(this.response=c,Yn(this))},t.ga=function(){this.g&&Yn(this)};function Yn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Jn(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function Jn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(di.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Br(c){let y="";return U(c,function(w,b){y+=b,y+=":",y+=w,y+=`\r
`}),y}function gs(c,y,w){e:{for(b in w){var b=!1;break e}b=!0}b||(w=Br(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):We(c,y,w))}function Ye(c){_t.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ye,_t);var Hd=/^https?$/i,Da=["POST","PUT"];t=Ye.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,w,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kn.g(),this.v=this.o?Qi(this.o):Qi(Kn),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(Y){hi(this,Y);return}if(c=w||"",w=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var K in b)w.set(K,b[K]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const Y of b.keys())w.set(Y,b.get(Y));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(w.keys()).find(Y=>Y.toLowerCase()=="content-type"),K=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Da,y,void 0))||b||K||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,ue]of w)this.g.setRequestHeader(Y,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ao(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){hi(this,Y)}};function hi(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,oo(c),xn(c)}function oo(c){c.A||(c.A=!0,wt(c,"complete"),wt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,wt(this,"complete"),wt(this,"abort"),xn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xn(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Va(this):this.bb())},t.bb=function(){Va(this)};function Va(c){if(c.h&&typeof u<"u"&&(!c.v[1]||an(c)!=4||c.Z()!=2)){if(c.u&&an(c)==4)va(c.Ea,0,c);else if(wt(c,"readystatechange"),an(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var b;if(b=ue===0){var K=String(c.D).match(ui)[1]||null;!K&&d.self&&d.self.location&&(K=d.self.location.protocol.slice(0,-1)),b=!Hd.test(K?K.toLowerCase():"")}w=b}if(w)wt(c,"complete"),wt(c,"success");else{c.m=6;try{var Y=2<an(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",oo(c)}}finally{xn(c)}}}}function xn(c,y){if(c.g){ao(c);const w=c.g,b=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||wt(c,"ready");try{w.onreadystatechange=b}catch{}}}function ao(c){c.I&&(d.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function an(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<an(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Ea(y)}};function Ma(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function lo(c){const y={};c=(c.g&&2<=an(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<c.length;b++){if(W(c[b]))continue;var w=B(c[b]);const K=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Y=y[K]||[];y[K]=Y,Y.push(w)}k(y,function(b){return b.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function mr(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function La(c){this.Aa=0,this.i=[],this.j=new si,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=mr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=mr("baseRetryDelayMs",5e3,c),this.cb=mr("retryDelaySeedMs",1e4,c),this.Wa=mr("forwardChannelMaxRetries",2,c),this.wa=mr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new li(c&&c.concurrentRequestLimit),this.Da=new Wd,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=La.prototype,t.la=8,t.G=1,t.connect=function(c,y,w,b){dt(0),this.W=c,this.H=y||{},w&&b!==void 0&&(this.H.OSID=w,this.H.OAID=b),this.F=this.X,this.I=Eu(this,null,this.W),gr(this)};function Mt(c){if(uo(c),c.G==3){var y=c.U++,w=vn(c.I);if(We(w,"SID",c.K),We(w,"RID",y),We(w,"TYPE","terminate"),zr(c,w),y=new Gn(c,c.j,y),y.L=2,y.v=fs(vn(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=y.v,w=!0),w||(y.g=Tu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),He(y)}wu(c)}function Zn(c){c.g&&(ja(c),c.g.cancel(),c.g=null)}function uo(c){Zn(c),c.u&&(d.clearTimeout(c.u),c.u=null),fo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function gr(c){if(!yn(c.h)&&!c.s){c.s=!0;var y=c.Ga;be||ce(),ae||(be(),ae=!0),ge.add(y,c),c.B=0}}function qd(c,y){return uu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Hn(E(c.Ga,c,y),_u(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const K=new Gn(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=C(Y),O(Y,this.S)):Y=this.S),this.m!==null||this.O||(K.H=Y,Y=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var b=this.i[w];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(y+=b,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=ys(this,K,y),w=vn(this.I),We(w,"RID",c),We(w,"CVER",22),this.D&&We(w,"X-HTTP-Session-Id",this.D),zr(this,w),Y&&(this.O?y="headers="+encodeURIComponent(String(Br(Y)))+"&"+y:this.m&&gs(w,this.m,Y)),ka(this.h,K),this.Ua&&We(w,"TYPE","init"),this.P?(We(w,"$req",y),We(w,"SID","null"),K.T=!0,no(K,w,null)):no(K,w,y),this.G=2}}else this.G==3&&(c?co(this,c):this.i.length==0||yn(this.h)||co(this))};function co(c,y){var w;y?w=y.l:w=c.U++;const b=vn(c.I);We(b,"SID",c.K),We(b,"RID",w),We(b,"AID",c.T),zr(c,b),c.m&&c.o&&gs(b,c.m,c.o),w=new Gn(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ys(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ka(c.h,w),no(w,b,y)}function zr(c,y){c.H&&U(c.H,function(w,b){We(y,b,w)}),c.l&&cs({},function(w,b){We(y,b,w)})}function ys(c,y,w){w=Math.min(c.i.length,w);var b=c.l?E(c.l.Na,c.l,c):null;e:{var K=c.i;let Y=-1;for(;;){const ue=["count="+w];Y==-1?0<w?(Y=K[0].g,ue.push("ofs="+Y)):Y=0:ue.push("ofs="+Y);let ze=!0;for(let Et=0;Et<w;Et++){let Me=K[Et].g;const Pt=K[Et].map;if(Me-=Y,0>Me)Y=Math.max(0,K[Et].g-100),ze=!1;else try{yu(Pt,ue,"req"+Me+"_")}catch{b&&b(Pt)}}if(ze){b=ue.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,b}function fi(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;be||ce(),ae||(be(),ae=!0),ge.add(y,c),c.v=0}}function ho(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Hn(E(c.Fa,c),_u(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Hn(E(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Zn(this),xu(this))};function ja(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function xu(c){c.g=new Gn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=vn(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),zr(c,y),c.m&&c.o&&gs(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=fs(vn(y)),w.m=null,w.P=!0,Ra(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Zn(this),ho(this),dt(19))};function fo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function po(c,y){var w=null;if(c.g==y){fo(c),ja(c),c.g=null;var b=2}else if(Zt(c.h,y))w=y.D,cu(c.h,y),b=1;else return;if(c.G!=0){if(y.o)if(b==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var K=c.B;b=ri(),wt(b,new Ji(b,w)),gr(c)}else fi(c);else if(K=y.s,K==3||K==0&&0<y.X||!(b==1&&qd(c,y)||b==2&&ho(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),K){case 1:Wr(c,5);break;case 4:Wr(c,10);break;case 3:Wr(c,6);break;default:Wr(c,2)}}}function _u(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function Wr(c,y){if(c.j.info("Error code "+y),y==2){var w=E(c.fb,c),b=c.Xa;const K=!b;b=new $r(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ci(b,"https"),fs(b),K?zd(b.toString(),w):gu(b.toString(),w)}else dt(2);c.G=0,c.l&&c.l.sa(y),wu(c),uo(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function wu(c){if(c.G=0,c.ka=[],c.l){const y=du(c.h);(y.length!=0||c.i.length!=0)&&(D(c.ka,y),D(c.ka,c.i),c.h.i.length=0,L(c.i),c.i.length=0),c.l.ra()}}function Eu(c,y,w){var b=w instanceof $r?vn(w):new $r(w);if(b.g!="")y&&(b.g=y+"."+b.g),ds(b,b.s);else{var K=d.location;b=K.protocol,y=y?y+"."+K.hostname:K.hostname,K=+K.port;var Y=new $r(null);b&&ci(Y,b),y&&(Y.g=y),K&&ds(Y,K),w&&(Y.l=w),b=Y}return w=c.D,y=c.ya,w&&y&&We(b,w,y),We(b,"VER",c.la),zr(c,b),b}function Tu(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ye(new Ur({eb:w})):new Ye(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oa(){}t=Oa.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mo(){}mo.prototype.g=function(c,y){return new en(c,y)};function en(c,y){_t.call(this),this.g=new La(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!W(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!W(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new yr(this)}P(en,_t),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Mt(this.g)},en.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=wa(c),c=w);y.i.push(new lu(y.Ya++,c)),y.G==3&&gr(y)},en.prototype.N=function(){this.g.l=null,delete this.j,Mt(this.g),delete this.g,en.aa.N.call(this)};function Su(c){dr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(Su,dr);function bu(){Yi.call(this),this.status=1}P(bu,Yi);function yr(c){this.g=c}P(yr,Oa),yr.prototype.ua=function(){wt(this.g,"a")},yr.prototype.ta=function(c){wt(this.g,new Su(c))},yr.prototype.sa=function(c){wt(this.g,new bu)},yr.prototype.ra=function(){wt(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,WE=function(){return new mo},zE=function(){return ri()},BE=hr,xp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},eo.NO_ERROR=0,eo.TIMEOUT=8,eo.HTTP_ERROR=6,jc=eo,su.COMPLETE="complete",UE=su,Xi.EventType=kn,kn.OPEN="a",kn.CLOSE="b",kn.ERROR="c",kn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,gl=Xi,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,$E=Ye}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const Cx="@firebase/firestore",Ax="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=new IE("@firebase/firestore");function Fo(){return Oi.logLevel}function he(t,...e){if(Oi.logLevel<=je.DEBUG){const n=e.map(Vm);Oi.debug(`Firestore (${da}): ${t}`,...n)}}function is(t,...e){if(Oi.logLevel<=je.ERROR){const n=e.map(Vm);Oi.error(`Firestore (${da}): ${t}`,...n)}}function Zo(t,...e){if(Oi.logLevel<=je.WARN){const n=e.map(Vm);Oi.warn(`Firestore (${da}): ${t}`,...n)}}function Vm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ce(t="Unexpected state"){const e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+t;throw is(e),new Error(e)}function Ue(t,e){t||Ce()}function Re(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xe extends Bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class s2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class i2{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ue(this.o===void 0);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new ns;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ns,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},d=f=>{he("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(he("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ns)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(he("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new HE(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new Xt(e)}}class o2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class a2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new o2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Px{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class l2{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,VE(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ue(this.o===void 0);const r=a=>{a.error!=null&&he("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.R;return this.R=a.token,he("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{he("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):he("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Px(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new Px(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=u2(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function _p(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return ke(r,i);{const a=qE(),u=c2(a.encode(Rx(t,n)),a.encode(Rx(e,n)));return u!==0?u:ke(r,i)}}n+=r>65535?2:1}return ke(t.length,e.length)}function Rx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function c2(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ke(t[n],e[n]);return ke(t.length,e.length)}function ea(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ix=-62135596800,kx=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*kx);return new Ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new xe(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ix)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xe(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kx}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ix;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{static fromTimestamp(e){return new Pe(e)}static min(){return new Pe(new Ct(0,0))}static max(){return new Pe(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="__name__";class Er{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ce(),r===void 0?r=e.length-n:r>e.length-n&&Ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Er.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Er?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Er.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return ke(e.length,n.length)}static compareSegments(e,n){const r=Er.isNumericId(e),i=Er.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Er.extractNumericId(e).compare(Er.extractNumericId(n)):_p(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Os.fromString(e.substring(4,e.length-2))}}class Ze extends Er{construct(e,n,r){return new Ze(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new xe(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ze(n)}static emptyPath(){return new Ze([])}}const d2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ut extends Er{construct(e,n,r){return new Ut(e,n,r)}static isValidIdentifier(e){return d2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ut.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Nx}static keyField(){return new Ut([Nx])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new xe(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new xe(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new xe(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(u=!u,i++):d!=="."||u?(r+=d,i++):(a(),i++)}if(a(),u)throw new xe(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ut(n)}static emptyPath(){return new Ut([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e){this.path=e}static fromPath(e){return new Te(Ze.fromString(e))}static fromName(e){return new Te(Ze.fromString(e).popFirst(5))}static empty(){return new Te(Ze.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ze.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ze.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Te(new Ze(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function h2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Pe.fromTimestamp(r===1e9?new Ct(n+1,0):new Ct(n,r));return new zs(i,Te.empty(),e)}function f2(t){return new zs(t.readTime,t.key,Fl)}class zs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new zs(Pe.min(),Te.empty(),Fl)}static max(){return new zs(Pe.max(),Te.empty(),Fl)}}function p2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Te.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ha(t){if(t.code!==re.FAILED_PRECONDITION||t.message!==m2)throw t;he("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ee.reject(n)}static resolve(e){return new ee((n,r)=>{n(e)})}static reject(e){return new ee((n,r)=>{r(e)})}static waitFor(e){return new ee((n,r)=>{let i=0,a=0,u=!1;e.forEach(d=>{++i,d.next(()=>{++a,u&&a===i&&n()},f=>r(f))}),u=!0,a===i&&n()})}static or(e){let n=ee.resolve(!1);for(const r of e)n=n.next(i=>i?ee.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ee((r,i)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next(g=>{u[p]=g,++d,d===a&&r(u)},g=>i(g))}})}static doWhile(e,n){return new ee((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function y2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function fa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}wd.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mm=-1;function Ed(t){return t==null}function nd(t){return t===0&&1/t==-1/0}function v2(t){return typeof t=="number"&&Number.isInteger(t)&&!nd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="";function x2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Dx(e)),e=_2(t.get(n),e);return Dx(e)}function _2(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case GE:n+="";break;default:n+=a}}return n}function Dx(t){return t+GE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Js(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function QE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new it(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cc(this.root,e,this.comparator,!0)}}class Cc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Ft.RED,this.left=i??Ft.EMPTY,this.right=a??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Ft(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ft.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ce();const e=this.left.check();if(e!==this.right.check())throw Ce();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ce()}get value(){throw Ce()}get color(){throw Ce()}get left(){throw Ce()}get right(){throw Ce()}copy(e,n,r,i,a){return this}insert(e,n,r){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Mx(this.data.getIterator())}getIteratorFrom(e){return new Mx(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class Mx{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Ut.comparator)}static empty(){return new bn([])}unionWith(e){let n=new At(Ut.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new XE("Invalid base64 string: "+a):a}}(e);return new Bt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let u=0;u<i.length;++u)a+=String.fromCharCode(i[u]);return a}(e);return new Bt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const w2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=w2.exec(t);if(Ue(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(t.seconds),nanos:pt(t.nanos)}}function pt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hs(t){return typeof t=="string"?Bt.fromBase64String(t):Bt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE="server_timestamp",JE="__type__",ZE="__previous_value__",eT="__local_write_time__";function Lm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[JE])===null||n===void 0?void 0:n.stringValue)===YE}function Td(t){const e=t.mapValue.fields[ZE];return Lm(e)?Td(e):e}function $l(t){const e=Ws(t.mapValue.fields[eT].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(e,n,r,i,a,u,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p}}const rd="(default)";class Ul{constructor(e,n){this.projectId=e,this.database=n||rd}static empty(){return new Ul("","")}get isDefaultDatabase(){return this.database===rd}isEqual(e){return e instanceof Ul&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="__type__",T2="__max__",Ac={mapValue:{}},nT="__vector__",sd="value";function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lm(t)?4:b2(t)?9007199254740991:S2(t)?10:11:Ce()}function kr(t,e){if(t===e)return!0;const n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $l(t).isEqual($l(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const u=Ws(i.timestampValue),d=Ws(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Hs(i.bytesValue).isEqual(Hs(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return pt(i.geoPointValue.latitude)===pt(a.geoPointValue.latitude)&&pt(i.geoPointValue.longitude)===pt(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return pt(i.integerValue)===pt(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const u=pt(i.doubleValue),d=pt(a.doubleValue);return u===d?nd(u)===nd(d):isNaN(u)&&isNaN(d)}return!1}(t,e);case 9:return ea(t.arrayValue.values||[],e.arrayValue.values||[],kr);case 10:case 11:return function(i,a){const u=i.mapValue.fields||{},d=a.mapValue.fields||{};if(Vx(u)!==Vx(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!kr(u[f],d[f])))return!1;return!0}(t,e);default:return Ce()}}function Bl(t,e){return(t.values||[]).find(n=>kr(n,e))!==void 0}function ta(t,e){if(t===e)return 0;const n=qs(t),r=qs(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(a,u){const d=pt(a.integerValue||a.doubleValue),f=pt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(t,e);case 3:return Lx(t.timestampValue,e.timestampValue);case 4:return Lx($l(t),$l(e));case 5:return _p(t.stringValue,e.stringValue);case 6:return function(a,u){const d=Hs(a),f=Hs(u);return d.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const g=ke(d[p],f[p]);if(g!==0)return g}return ke(d.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,u){const d=ke(pt(a.latitude),pt(u.latitude));return d!==0?d:ke(pt(a.longitude),pt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return jx(t.arrayValue,e.arrayValue);case 10:return function(a,u){var d,f,p,g;const x=a.fields||{},E=u.fields||{},S=(d=x[sd])===null||d===void 0?void 0:d.arrayValue,P=(f=E[sd])===null||f===void 0?void 0:f.arrayValue,L=ke(((p=S==null?void 0:S.values)===null||p===void 0?void 0:p.length)||0,((g=P==null?void 0:P.values)===null||g===void 0?void 0:g.length)||0);return L!==0?L:jx(S,P)}(t.mapValue,e.mapValue);case 11:return function(a,u){if(a===Ac.mapValue&&u===Ac.mapValue)return 0;if(a===Ac.mapValue)return 1;if(u===Ac.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let x=0;x<f.length&&x<g.length;++x){const E=_p(f[x],g[x]);if(E!==0)return E;const S=ta(d[f[x]],p[g[x]]);if(S!==0)return S}return ke(f.length,g.length)}(t.mapValue,e.mapValue);default:throw Ce()}}function Lx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Ws(t),r=Ws(e),i=ke(n.seconds,r.seconds);return i!==0?i:ke(n.nanos,r.nanos)}function jx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=ta(n[i],r[i]);if(a)return a}return ke(n.length,r.length)}function na(t){return wp(t)}function wp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ws(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Te.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=wp(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const u of r)a?a=!1:i+=",",i+=`${u}:${wp(n.fields[u])}`;return i+"}"}(t.mapValue):Ce()}function Oc(t){switch(qs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Td(t);return e?16+Oc(e):16;case 5:return 2*t.stringValue.length;case 6:return Hs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+Oc(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Js(r.fields,(a,u)=>{i+=a.length+Oc(u)}),i}(t.mapValue);default:throw Ce()}}function Ep(t){return!!t&&"integerValue"in t}function jm(t){return!!t&&"arrayValue"in t}function Ox(t){return!!t&&"nullValue"in t}function Fx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fc(t){return!!t&&"mapValue"in t}function S2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[tT])===null||n===void 0?void 0:n.stringValue)===nT}function Sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Js(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function b2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===T2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Sl(n)}setAll(e){let n=Ut.emptyPath(),r={},i=[];e.forEach((u,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}u?r[d.lastSegment()]=Sl(u):i.push(d.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return kr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Fc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Js(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new mn(Sl(this.value))}}function rT(t){const e=[];return Js(t.fields,(n,r)=>{const i=new Ut([n]);if(Fc(r)){const a=rT(r.mapValue).fields;if(a.length===0)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e,n,r,i,a,u,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Yt(e,0,Pe.min(),Pe.min(),Pe.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new Yt(e,1,n,Pe.min(),r,i,0)}static newNoDocument(e,n){return new Yt(e,2,n,Pe.min(),Pe.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Yt(e,3,n,Pe.min(),Pe.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Yt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.position=e,this.inclusive=n}}function $x(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],u=t.position[i];if(a.field.isKeyField()?r=Te.comparator(Te.fromName(u.referenceValue),n.key):r=ta(u,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ux(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!kr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n="asc"){this.field=e,this.dir=n}}function C2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{}class bt extends sT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new P2(e,n,r):n==="array-contains"?new k2(e,r):n==="in"?new N2(e,r):n==="not-in"?new D2(e,r):n==="array-contains-any"?new V2(e,r):new bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new R2(e,r):new I2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ta(n,this.value)):n!==null&&qs(this.value)===qs(n)&&this.matchesComparison(ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nr extends sT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Nr(e,n)}matches(e){return iT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function iT(t){return t.op==="and"}function oT(t){return A2(t)&&iT(t)}function A2(t){for(const e of t.filters)if(e instanceof Nr)return!1;return!0}function Tp(t){if(t instanceof bt)return t.field.canonicalString()+t.op.toString()+na(t.value);if(oT(t))return t.filters.map(e=>Tp(e)).join(",");{const e=t.filters.map(n=>Tp(n)).join(",");return`${t.op}(${e})`}}function aT(t,e){return t instanceof bt?function(r,i){return i instanceof bt&&r.op===i.op&&r.field.isEqual(i.field)&&kr(r.value,i.value)}(t,e):t instanceof Nr?function(r,i){return i instanceof Nr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,u,d)=>a&&aT(u,i.filters[d]),!0):!1}(t,e):void Ce()}function lT(t){return t instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${na(n.value)}`}(t):t instanceof Nr?function(n){return n.op.toString()+" {"+n.getFilters().map(lT).join(" ,")+"}"}(t):"Filter"}class P2 extends bt{constructor(e,n,r){super(e,n,r),this.key=Te.fromName(r.referenceValue)}matches(e){const n=Te.comparator(e.key,this.key);return this.matchesComparison(n)}}class R2 extends bt{constructor(e,n){super(e,"in",n),this.keys=uT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I2 extends bt{constructor(e,n){super(e,"not-in",n),this.keys=uT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function uT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Te.fromName(r.referenceValue))}class k2 extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return jm(n)&&Bl(n.arrayValue,this.value)}}class N2 extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bl(this.value.arrayValue,n)}}class D2 extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Bl(this.value.arrayValue,n)}}class V2 extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!jm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n=null,r=[],i=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=d,this.le=null}}function Bx(t,e=null,n=[],r=[],i=null,a=null,u=null){return new M2(t,e,n,r,i,a,u)}function Om(t){const e=Re(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Tp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Ed(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>na(r)).join(",")),e.le=n}return e.le}function Fm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!C2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!aT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ux(t.startAt,e.startAt)&&Ux(t.endAt,e.endAt)}function Sp(t){return Te.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n=null,r=[],i=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function L2(t,e,n,r,i,a,u,d){return new Sd(t,e,n,r,i,a,u,d)}function $m(t){return new Sd(t)}function zx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function j2(t){return t.collectionGroup!==null}function bl(t){const e=Re(t);if(e.he===null){e.he=[];const n=new Set;for(const a of e.explicitOrderBy)e.he.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new At(Ut.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(p=>{p.isInequality()&&(d=d.add(p.field))})}),d})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.he.push(new od(a,r))}),n.has(Ut.keyField().canonicalString())||e.he.push(new od(Ut.keyField(),r))}return e.he}function Pr(t){const e=Re(t);return e.Pe||(e.Pe=O2(e,bl(t))),e.Pe}function O2(t,e){if(t.limitType==="F")return Bx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new od(i.field,a)});const n=t.endAt?new id(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new id(t.startAt.position,t.startAt.inclusive):null;return Bx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bp(t,e,n){return new Sd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bd(t,e){return Fm(Pr(t),Pr(e))&&t.limitType===e.limitType}function cT(t){return`${Om(Pr(t))}|lt:${t.limitType}`}function $o(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lT(i)).join(", ")}]`),Ed(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>na(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>na(i)).join(",")),`Target(${r})`}(Pr(t))}; limitType=${t.limitType})`}function Cd(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Te.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of bl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(u,d,f){const p=$x(u,d,f);return u.inclusive?p<=0:p<0}(r.startAt,bl(r),i)||r.endAt&&!function(u,d,f){const p=$x(u,d,f);return u.inclusive?p>=0:p>0}(r.endAt,bl(r),i))}(t,e)}function F2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function dT(t){return(e,n)=>{let r=!1;for(const i of bl(t)){const a=$2(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function $2(t,e,n){const r=t.field.isKeyField()?Te.comparator(e.key,n.key):function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?ta(f,p):Ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Js(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return QE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2=new it(Te.comparator);function os(){return U2}const hT=new it(Te.comparator);function yl(...t){let e=hT;for(const n of t)e=e.insert(n.key,n);return e}function fT(t){let e=hT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mi(){return Cl()}function pT(){return Cl()}function Cl(){return new zi(t=>t.toString(),(t,e)=>t.isEqual(e))}const B2=new it(Te.comparator),z2=new At(Te.comparator);function De(...t){let e=z2;for(const n of t)e=e.add(n);return e}const W2=new At(ke);function H2(){return W2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nd(e)?"-0":e}}function mT(t){return{integerValue:""+t}}function q2(t,e){return v2(e)?mT(e):Um(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(){this._=void 0}}function K2(t,e,n){return t instanceof ad?function(i,a){const u={fields:{[JE]:{stringValue:YE},[eT]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Lm(a)&&(a=Td(a)),a&&(u.fields[ZE]=a),{mapValue:u}}(n,e):t instanceof zl?yT(t,e):t instanceof Wl?vT(t,e):function(i,a){const u=gT(i,a),d=Wx(u)+Wx(i.Ie);return Ep(u)&&Ep(i.Ie)?mT(d):Um(i.serializer,d)}(t,e)}function G2(t,e,n){return t instanceof zl?yT(t,e):t instanceof Wl?vT(t,e):n}function gT(t,e){return t instanceof ld?function(r){return Ep(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class ad extends Ad{}class zl extends Ad{constructor(e){super(),this.elements=e}}function yT(t,e){const n=xT(e);for(const r of t.elements)n.some(i=>kr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wl extends Ad{constructor(e){super(),this.elements=e}}function vT(t,e){let n=xT(e);for(const r of t.elements)n=n.filter(i=>!kr(i,r));return{arrayValue:{values:n}}}class ld extends Ad{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Wx(t){return pt(t.integerValue||t.doubleValue)}function xT(t){return jm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Q2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof zl&&i instanceof zl||r instanceof Wl&&i instanceof Wl?ea(r.elements,i.elements,kr):r instanceof ld&&i instanceof ld?kr(r.Ie,i.Ie):r instanceof ad&&i instanceof ad}(t.transform,e.transform)}class X2{constructor(e,n){this.version=e,this.transformResults=n}}class Wn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pd{}function _T(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bm(t.key,Wn.none()):new Jl(t.key,t.data,Wn.none());{const n=t.data,r=mn.empty();let i=new At(Ut.comparator);for(let a of e.fields)if(!i.has(a)){let u=n.field(a);u===null&&a.length>1&&(a=a.popLast(),u=n.field(a)),u===null?r.delete(a):r.set(a,u),i=i.add(a)}return new Zs(t.key,r,new bn(i.toArray()),Wn.none())}}function Y2(t,e,n){t instanceof Jl?function(i,a,u){const d=i.value.clone(),f=qx(i.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Zs?function(i,a,u){if(!$c(i.precondition,a))return void a.convertToUnknownDocument(u.version);const d=qx(i.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(wT(i)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(i,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Al(t,e,n,r){return t instanceof Jl?function(a,u,d,f){if(!$c(a.precondition,u))return d;const p=a.value.clone(),g=Kx(a.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zs?function(a,u,d,f){if(!$c(a.precondition,u))return d;const p=Kx(a.fieldTransforms,f,u),g=u.data;return g.setAll(wT(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(x=>x.field))}(t,e,n,r):function(a,u,d){return $c(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(t,e,n)}function J2(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=gT(r.transform,i||null);a!=null&&(n===null&&(n=mn.empty()),n.set(r.field,a))}return n||null}function Hx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ea(r,i,(a,u)=>Q2(a,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jl extends Pd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zs extends Pd{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function wT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qx(t,e,n){const r=new Map;Ue(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],u=a.transform,d=e.data.field(a.field);r.set(a.field,G2(u,d,n[i]))}return r}function Kx(t,e,n){const r=new Map;for(const i of t){const a=i.transform,u=n.data.field(i.field);r.set(i.field,K2(a,u,e))}return r}class Bm extends Pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Z2 extends Pd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Y2(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=pT();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=n.has(i.key)?null:d;const f=_T(u,d);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(Pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),De())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(n,r)=>Hx(n,r))&&ea(this.baseMutations,e.baseMutations,(n,r)=>Hx(n,r))}}class zm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ue(e.mutations.length===r.length);let i=function(){return B2}();const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new zm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt,Le;function rD(t){switch(t){case re.OK:return Ce();case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Ce()}}function ET(t){if(t===void 0)return is("GRPC error has no .code"),re.UNKNOWN;switch(t){case yt.OK:return re.OK;case yt.CANCELLED:return re.CANCELLED;case yt.UNKNOWN:return re.UNKNOWN;case yt.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case yt.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case yt.INTERNAL:return re.INTERNAL;case yt.UNAVAILABLE:return re.UNAVAILABLE;case yt.UNAUTHENTICATED:return re.UNAUTHENTICATED;case yt.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case yt.NOT_FOUND:return re.NOT_FOUND;case yt.ALREADY_EXISTS:return re.ALREADY_EXISTS;case yt.PERMISSION_DENIED:return re.PERMISSION_DENIED;case yt.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case yt.ABORTED:return re.ABORTED;case yt.OUT_OF_RANGE:return re.OUT_OF_RANGE;case yt.UNIMPLEMENTED:return re.UNIMPLEMENTED;case yt.DATA_LOSS:return re.DATA_LOSS;default:return Ce()}}(Le=yt||(yt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new Os([4294967295,4294967295],0);function Gx(t){const e=qE().encode(t),n=new FE;return n.update(e),new Uint8Array(n.digest())}function Qx(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Os([n,r],0),new Os([i,a],0)]}class Wm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vl(`Invalid padding: ${n}`);if(r<0)throw new vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=Os.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(Os.fromNumber(r)));return i.compare(sD)===1&&(i=new Os([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Gx(e),[r,i]=Qx(n);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,i,a);if(!this.Re(u))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new Wm(a,i,n);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.Ee===0)return;const n=Gx(e),[r,i]=Qx(n);for(let a=0;a<this.hashCount;a++){const u=this.Ae(r,i,a);this.Ve(u)}}Ve(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Rd(Pe.min(),i,new it(ke),os(),De())}}class Zl{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zl(r,n,De(),De(),De())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}}class TT{constructor(e,n){this.targetId=e,this.ge=n}}class ST{constructor(e,n,r=Bt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Xx{constructor(){this.pe=0,this.ye=Yx(),this.we=Bt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=De(),n=De(),r=De();return this.ye.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ce()}}),new Zl(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=Yx()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ue(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class iD{constructor(e){this.ke=e,this.qe=new Map,this.Qe=os(),this.$e=Pc(),this.Ue=Pc(),this.Ke=new it(ke)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:Ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){const n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){const a=i.target;if(Sp(a))if(r===0){const u=new Te(a.path);this.ze(n,u,Yt.newNoDocument(u,Pe.min()))}else Ue(r===1);else{const u=this.et(n);if(u!==r){const d=this.tt(e),f=d?this.nt(d,e,u):1;if(f!==0){this.Ye(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,p)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let u,d;try{u=Hs(r).toUint8Array()}catch(f){if(f instanceof XE)return Zo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Wm(u,i,a)}catch(f){return Zo(f instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ee===0?null:d}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.ke.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const u=this.ke.it(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.ze(n,a,null),i++)}),i}ot(e){const n=new Map;this.qe.forEach((a,u)=>{const d=this.Xe(u);if(d){if(a.current&&Sp(d.target)){const f=new Te(d.target.path);this._t(f).has(u)||this.ut(u,f)||this.ze(u,f,Yt.newNoDocument(f,e))}a.ve&&(n.set(u,a.Fe()),a.Me())}});let r=De();this.Ue.forEach((a,u)=>{let d=!0;u.forEachWhile(f=>{const p=this.Xe(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(a))}),this.Qe.forEach((a,u)=>u.setReadTime(e));const i=new Rd(e,n,this.Ke,this.Qe,r);return this.Qe=os(),this.$e=Pc(),this.Ue=Pc(),this.Ke=new it(ke),i}Ge(e,n){if(!this.Je(e))return;const r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;const i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Xx,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new At(ke),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new At(ke),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||he("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Xx),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Pc(){return new it(Te.comparator)}function Yx(){return new it(Te.comparator)}const oD={asc:"ASCENDING",desc:"DESCENDING"},aD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},lD={and:"AND",or:"OR"};class uD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cp(t,e){return t.useProto3Json||Ed(e)?e:{value:e}}function ud(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function cD(t,e){return ud(t,e.toTimestamp())}function Rr(t){return Ue(!!t),Pe.fromTimestamp(function(n){const r=Ws(n);return new Ct(r.seconds,r.nanos)}(t))}function Hm(t,e){return Ap(t,e).canonicalString()}function Ap(t,e){const n=function(i){return new Ze(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function CT(t){const e=Ze.fromString(t);return Ue(kT(e)),e}function Pp(t,e){return Hm(t.databaseId,e.path)}function jf(t,e){const n=CT(e);if(n.get(1)!==t.databaseId.projectId)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new xe(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Te(PT(n))}function AT(t,e){return Hm(t.databaseId,e)}function dD(t){const e=CT(t);return e.length===4?Ze.emptyPath():PT(e)}function Rp(t){return new Ze(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PT(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Jx(t,e,n){return{name:Pp(t,e),fields:n.value.mapValue.fields}}function hD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,g){return p.useProto3Json?(Ue(g===void 0||typeof g=="string"),Bt.fromBase64String(g||"")):(Ue(g===void 0||g instanceof Buffer||g instanceof Uint8Array),Bt.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(p){const g=p.code===void 0?re.UNKNOWN:ET(p.code);return new xe(g,p.message||"")}(u);n=new ST(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jf(t,r.document.name),a=Rr(r.document.updateTime),u=r.document.createTime?Rr(r.document.createTime):Pe.min(),d=new mn({mapValue:{fields:r.document.fields}}),f=Yt.newFoundDocument(i,a,u,d),p=r.targetIds||[],g=r.removedTargetIds||[];n=new Uc(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jf(t,r.document),a=r.readTime?Rr(r.readTime):Pe.min(),u=Yt.newNoDocument(i,a),d=r.removedTargetIds||[];n=new Uc([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jf(t,r.document),a=r.removedTargetIds||[];n=new Uc([],a,i,null)}else{if(!("filter"in e))return Ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,u=new nD(i,a),d=r.targetId;n=new TT(d,u)}}return n}function fD(t,e){let n;if(e instanceof Jl)n={update:Jx(t,e.key,e.value)};else if(e instanceof Bm)n={delete:Pp(t,e.key)};else if(e instanceof Zs)n={update:Jx(t,e.key,e.data),updateMask:ED(e.fieldMask)};else{if(!(e instanceof Z2))return Ce();n={verify:Pp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,u){const d=u.transform;if(d instanceof ad)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof zl)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Wl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ld)return{fieldPath:u.field.canonicalString(),increment:d.Ie};throw Ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:cD(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ce()}(t,e.precondition)),n}function pD(t,e){return t&&t.length>0?(Ue(e!==void 0),t.map(n=>function(i,a){let u=i.updateTime?Rr(i.updateTime):Rr(a);return u.isEqual(Pe.min())&&(u=Rr(a)),new X2(u,i.transformResults||[])}(n,e))):[]}function mD(t,e){return{documents:[AT(t,e.path)]}}function gD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=AT(t,i);const a=function(p){if(p.length!==0)return IT(Nr.create(p,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const u=function(p){if(p.length!==0)return p.map(g=>function(E){return{field:Uo(E.field),direction:xD(E.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=Cp(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{ht:n,parent:i}}function yD(t){let e=dD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ue(r===1);const g=n.from[0];g.allDescendants?i=g.collectionId:e=e.child(g.collectionId)}let a=[];n.where&&(a=function(x){const E=RT(x);return E instanceof Nr&&oT(E)?E.getFilters():[E]}(n.where));let u=[];n.orderBy&&(u=function(x){return x.map(E=>function(P){return new od(Bo(P.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(E))}(n.orderBy));let d=null;n.limit&&(d=function(x){let E;return E=typeof x=="object"?x.value:x,Ed(E)?null:E}(n.limit));let f=null;n.startAt&&(f=function(x){const E=!!x.before,S=x.values||[];return new id(S,E)}(n.startAt));let p=null;return n.endAt&&(p=function(x){const E=!x.before,S=x.values||[];return new id(S,E)}(n.endAt)),L2(e,i,u,a,d,"F",f,p)}function vD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function RT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Bo(n.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Bo(n.unaryFilter.field);return bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Bo(n.unaryFilter.field);return bt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Bo(n.unaryFilter.field);return bt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ce()}}(t):t.fieldFilter!==void 0?function(n){return bt.create(Bo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nr.create(n.compositeFilter.filters.map(r=>RT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ce()}}(n.compositeFilter.op))}(t):Ce()}function xD(t){return oD[t]}function _D(t){return aD[t]}function wD(t){return lD[t]}function Uo(t){return{fieldPath:t.canonicalString()}}function Bo(t){return Ut.fromServerFormat(t.fieldPath)}function IT(t){return t instanceof bt?function(n){if(n.op==="=="){if(Fx(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NAN"}};if(Ox(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fx(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NAN"}};if(Ox(n.value))return{unaryFilter:{field:Uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Uo(n.field),op:_D(n.op),value:n.value}}}(t):t instanceof Nr?function(n){const r=n.getFilters().map(i=>IT(i));return r.length===1?r[0]:{compositeFilter:{op:wD(n.op),filters:r}}}(t):Ce()}function ED(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e,n,r,i,a=Pe.min(),u=Pe.min(),d=Bt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Vs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.Tt=e}}function SD(t){const e=yD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(){this.Tn=new CD}addToCollectionParentIndex(e,n){return this.Tn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(zs.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(zs.min())}updateCollectionGroup(e,n,r){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class CD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new At(Ze.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new At(Ze.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},NT=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(NT,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ra(0)}static Kn(){return new ra(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e_="LruGarbageCollector",AD=1048576;function t_([t,e],[n,r]){const i=ke(t,n);return i===0?ke(e,r):i}class PD{constructor(e){this.Hn=e,this.buffer=new At(t_),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();t_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RD{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){he(e_,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){fa(n)?he(e_,"Ignoring IndexedDB error during garbage collection: ",n):await ha(n)}await this.er(3e5)})}}class ID{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(wd.ae);const r=new PD(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(he("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(Zx)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(he("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zx):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,a,u,d,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(he("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,u=Date.now(),this.nthSequenceNumber(e,i))).next(x=>(r=x,d=Date.now(),this.removeTargets(e,r,n))).next(x=>(a=x,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(x=>(p=Date.now(),Fo()<=je.DEBUG&&he("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${i} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${x} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:x})))}}function kD(t,e){return new ID(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(){this.changes=new zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Yt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ee.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Al(r.mutation,i,bn.empty(),Ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,De()).next(()=>r))}getLocalViewOfDocuments(e,n,r=De()){const i=Mi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let u=yl();return a.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Mi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,De()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,d)=>{n.set(u,d)})})}computeViews(e,n,r,i){let a=os();const u=Cl(),d=function(){return Cl()}();return n.forEach((f,p)=>{const g=r.get(p.key);i.has(p.key)&&(g===void 0||g.mutation instanceof Zs)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Al(g.mutation,p,g.mutation.getFieldMask(),Ct.now())):u.set(p.key,bn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((p,g)=>u.set(p,g)),n.forEach((p,g)=>{var x;return d.set(p,new DD(g,(x=u.get(p))!==null&&x!==void 0?x:null))}),d))}recalculateAndSaveOverlays(e,n){const r=Cl();let i=new it((u,d)=>u-d),a=De();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const d of u)d.keys().forEach(f=>{const p=n.get(f);if(p===null)return;let g=r.get(f)||bn.empty();g=d.applyToLocalView(p,g),r.set(f,g);const x=(i.get(d.batchId)||De()).add(f);i=i.insert(d.batchId,x)})}).next(()=>{const u=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,g=f.value,x=pT();g.forEach(E=>{if(!a.has(E)){const S=_T(n.get(E),r.get(E));S!==null&&x.set(E,S),a=a.add(E)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,x))}return ee.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(u){return Te.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):j2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ee.resolve(Mi());let d=Fl,f=a;return u.next(p=>ee.forEach(p,(g,x)=>(d<x.largestBatchId&&(d=x.largestBatchId),a.get(g)?ee.resolve():this.remoteDocumentCache.getEntry(e,g).next(E=>{f=f.insert(g,E)}))).next(()=>this.populateOverlays(e,p,a)).next(()=>this.computeViews(e,f,p,De())).next(g=>({batchId:d,changes:fT(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Te(n)).next(r=>{let i=yl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let u=yl();return this.indexManager.getCollectionParents(e,a).next(d=>ee.forEach(d,f=>{const p=function(x,E){return new Sd(E,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)}(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(g=>{g.forEach((x,E)=>{u=u.insert(x,E)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(u=>{a.forEach((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Yt.newInvalidDocument(g)))});let d=yl();return u.forEach((f,p)=>{const g=a.get(f);g!==void 0&&Al(g.mutation,p,bn.empty(),Ct.now()),Cd(n,p)&&(d=d.insert(f,p))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return ee.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Rr(i.createTime)}}(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:SD(i.bundledQuery),readTime:Rr(i.readTime)}}(n)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.overlays=new it(Te.comparator),this.Rr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mi();return ee.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.Et(e,n,a)}),ee.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Rr.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Rr.delete(r)),ee.resolve()}getOverlaysForCollection(e,n,r){const i=Mi(),a=n.length+1,u=new Te(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ee.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new it((p,g)=>p-g);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Mi(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=Mi(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((p,g)=>d.set(p,g)),!(d.size()>=i)););return ee.resolve(d)}Et(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new tD(n,r));let a=this.Rr.get(n);a===void 0&&(a=De(),this.Rr.set(n,a)),this.Rr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(){this.Vr=new At(Nt.mr),this.gr=new At(Nt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const r=new Nt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new Nt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){const n=new Te(new Ze([])),r=new Nt(n,e),i=new Nt(n,e+1),a=[];return this.gr.forEachInRange([r,i],u=>{this.wr(u),a.push(u.key)}),a}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new Te(new Ze([])),r=new Nt(n,e),i=new Nt(n,e+1);let a=De();return this.gr.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const n=new Nt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Te.comparator(e.key,n.key)||ke(e.Cr,n.Cr)}static pr(e,n){return ke(e.Cr,n.Cr)||Te.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new At(Nt.mr)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new eD(a,n,r,i);this.mutationQueue.push(u);for(const d of i)this.Mr=this.Mr.add(new Nt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ee.resolve(u)}lookupMutationBatch(e,n){return ee.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Nr(r),a=i<0?0:i;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Mm:this.Fr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nt(n,0),i=new Nt(n,Number.POSITIVE_INFINITY),a=[];return this.Mr.forEachInRange([r,i],u=>{const d=this.Or(u.Cr);a.push(d)}),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(ke);return n.forEach(i=>{const a=new Nt(i,0),u=new Nt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([a,u],d=>{r=r.add(d.Cr)})}),ee.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Te.isDocumentKey(a)||(a=a.child(""));const u=new Nt(new Te(a),0);let d=new At(ke);return this.Mr.forEachWhile(f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(d=d.add(f.Cr)),!0)},u),ee.resolve(this.Br(d))}Br(e){const n=[];return e.forEach(r=>{const i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ue(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return ee.forEach(n.mutations,i=>{const a=new Nt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){const r=new Nt(n,0),i=this.Mr.firstAfterOrEqual(r);return ee.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.kr=e,this.docs=function(){return new it(Te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,u=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ee.resolve(r?r.document.mutableCopy():Yt.newInvalidDocument(n))}getEntries(e,n){let r=os();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Yt.newInvalidDocument(i))}),ee.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=os();const u=n.path,d=new Te(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||p2(f2(g),r)<=0||(i.has(g.key)||Cd(n,g))&&(a=a.insert(g.key,g.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ce()}qr(e,n){return ee.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $D(this)}getSize(e){return ee.resolve(this.size)}}class $D extends ND{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),ee.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UD{constructor(e){this.persistence=e,this.Qr=new zi(n=>Om(n),Fm),this.lastRemoteSnapshotVersion=Pe.min(),this.highestTargetId=0,this.$r=0,this.Ur=new qm,this.targetCount=0,this.Kr=ra.Un()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),ee.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new ra(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.zn(n),ee.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Qr.forEach((u,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Qr.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)}),ee.waitFor(a).next(()=>i)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const r=this.Qr.get(n)||null;return ee.resolve(r)}addMatchingKeys(e,n,r){return this.Ur.yr(n,r),ee.resolve()}removeMatchingKeys(e,n,r){this.Ur.Sr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),ee.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ur.vr(n);return ee.resolve(r)}containsKey(e,n){return ee.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new wd(0),this.zr=!1,this.zr=!0,this.jr=new jD,this.referenceDelegate=e(this),this.Hr=new UD(this),this.indexManager=new bD,this.remoteDocumentCache=function(i){return new FD(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new TD(n),this.Yr=new MD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new OD(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){he("MemoryPersistence","Starting transaction:",e);const i=new BD(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(a=>this.referenceDelegate.Xr(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}ei(e,n){return ee.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}}class BD extends g2{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.ti=new qm,this.ni=null}static ri(e){return new Km(e)}get ii(){if(this.ni)return this.ni;throw Ce()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),ee.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),ee.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.ii.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ii,r=>{const i=Te.fromPath(r);return this.si(e,i).next(a=>{a||n.removeEntry(i,Pe.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return ee.or([()=>ee.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class cd{constructor(e,n){this.persistence=e,this.oi=new zi(r=>x2(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=kD(this,n)}static ri(e,n){return new cd(e,n)}Zr(){}Xr(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return ee.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(a=>a?ee.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.qr(e,u=>this.ar(e,u,n).next(d=>{d||(r++,a.removeEntry(u,Pe.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),ee.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Oc(e.data.value)),n}ar(e,n,r){return ee.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.oi.get(n);return ee.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=De(),i=De();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Gm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Uk()?8:y2(Fk())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.rs(e,n).next(u=>{a.result=u}).next(()=>{if(!a.result)return this.ss(e,n,i,r).next(u=>{a.result=u})}).next(()=>{if(a.result)return;const u=new zD;return this._s(e,n,u).next(d=>{if(a.result=d,this.Xi)return this.us(e,n,u,d.size)})}).next(()=>a.result)}us(e,n,r,i){return r.documentReadCount<this.es?(Fo()<=je.DEBUG&&he("QueryEngine","SDK will not create cache indexes for query:",$o(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),ee.resolve()):(Fo()<=je.DEBUG&&he("QueryEngine","Query:",$o(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(Fo()<=je.DEBUG&&he("QueryEngine","The SDK decides to create cache indexes for query:",$o(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Pr(n))):ee.resolve())}rs(e,n){if(zx(n))return ee.resolve(null);let r=Pr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=bp(n,null,"F"),r=Pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=De(...a);return this.ns.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const p=this.cs(n,d);return this.ls(n,p,u,f.readTime)?this.rs(e,bp(n,null,"F")):this.hs(e,p,n,f)}))})))}ss(e,n,r,i){return zx(n)||i.isEqual(Pe.min())?ee.resolve(null):this.ns.getDocuments(e,r).next(a=>{const u=this.cs(n,a);return this.ls(n,u,r,i)?ee.resolve(null):(Fo()<=je.DEBUG&&he("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$o(n)),this.hs(e,u,n,h2(i,Fl)).next(d=>d))})}cs(e,n){let r=new At(dT(e));return n.forEach((i,a)=>{Cd(e,a)&&(r=r.add(a))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}_s(e,n,r){return Fo()<=je.DEBUG&&he("QueryEngine","Using full collection scan to execute query:",$o(n)),this.ns.getDocumentsMatchingQuery(e,n,zs.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(u=>{a=a.insert(u.key,u)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="LocalStore",HD=3e8;class qD{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new it(ke),this.Is=new zi(a=>Om(a),Fm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VD(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function KD(t,e,n,r){return new qD(t,e,n,r)}async function VT(t,e){const n=Re(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],d=[];let f=De();for(const p of i){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){d.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return n.localDocuments.getDocuments(r,f).next(p=>({Rs:p,removedBatchIds:u,addedBatchIds:d}))})})}function GD(t,e){const n=Re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,f,p,g){const x=p.batch,E=x.keys();let S=ee.resolve();return E.forEach(P=>{S=S.next(()=>g.getEntry(f,P)).next(L=>{const D=p.docVersions.get(P);Ue(D!==null),L.version.compareTo(D)<0&&(x.applyToRemoteDocument(L,p),L.isValidDocument()&&(L.setReadTime(p.commitVersion),g.addEntry(L)))})}),S.next(()=>d.mutationQueue.removeMutationBatch(f,x))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=De();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function MT(t){const e=Re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function QD(t,e){const n=Re(t),r=e.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const d=[];e.targetChanges.forEach((g,x)=>{const E=i.get(x);if(!E)return;d.push(n.Hr.removeMatchingKeys(a,g.removedDocuments,x).next(()=>n.Hr.addMatchingKeys(a,g.addedDocuments,x)));let S=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(x)!==null?S=S.withResumeToken(Bt.EMPTY_BYTE_STRING,Pe.min()).withLastLimboFreeSnapshotVersion(Pe.min()):g.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(g.resumeToken,r)),i=i.insert(x,S),function(L,D,F){return L.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=HD?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(E,S,g)&&d.push(n.Hr.updateTargetData(a,S))});let f=os(),p=De();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,g))}),d.push(XD(a,u,e.documentUpdates).next(g=>{f=g.Vs,p=g.fs})),!r.isEqual(Pe.min())){const g=n.Hr.getLastRemoteSnapshotVersion(a).next(x=>n.Hr.setTargetsMetadata(a,a.currentSequenceNumber,r));d.push(g)}return ee.waitFor(d).next(()=>u.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,p)).next(()=>f)}).then(a=>(n.Ts=i,a))}function XD(t,e,n){let r=De(),i=De();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let u=os();return n.forEach((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(Pe.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):he(Qm,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)}),{Vs:u,fs:i}})}function YD(t,e){const n=Re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Mm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JD(t,e){const n=Re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(a=>a?(i=a,ee.resolve(i)):n.Hr.allocateTargetId(r).next(u=>(i=new Vs(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}async function Ip(t,e,n){const r=Re(t),i=r.Ts.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i))}catch(u){if(!fa(u))throw u;he(Qm,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)}function n_(t,e,n){const r=Re(t);let i=Pe.min(),a=De();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,p,g){const x=Re(f),E=x.Is.get(g);return E!==void 0?ee.resolve(x.Ts.get(E)):x.Hr.getTargetData(p,g)}(r,u,Pr(e)).next(d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(u,d.targetId).next(f=>{a=f})}).next(()=>r.Ps.getDocumentsMatchingQuery(u,e,n?i:Pe.min(),n?a:De())).next(d=>(ZD(r,F2(e),d),{documents:d,gs:a})))}function ZD(t,e,n){let r=t.Es.get(e)||Pe.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Es.set(e,r)}class r_{constructor(){this.activeTargetIds=H2()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eV{constructor(){this.ho=new r_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new r_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_="ConnectivityMonitor";class i_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){he(s_,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){he(s_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rc=null;function kp(){return Rc===null?Rc=function(){return 268435456+Math.round(2147483648*Math.random())}():Rc++,"0x"+Rc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="RestConnection",nV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rV{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===rd?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,a){const u=kp(),d=this.bo(e,n.toUriEncodedString());he(Of,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(f,i,a),this.vo(e,d,f,r).then(p=>(he(Of,`Received RPC '${e}' ${u}: `,p),p),p=>{throw Zo(Of,`RPC '${e}' ${u} failed with error: `,p,"url: ",d,"request:",r),p})}Co(e,n,r,i,a,u){return this.So(e,n,r,i,a)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+da}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}bo(e,n){const r=nV[e];return`${this.po}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt="WebChannelConnection";class iV extends rV{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){const a=kp();return new Promise((u,d)=>{const f=new $E;f.setWithCredentials(!0),f.listenOnce(UE.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case jc.NO_ERROR:const g=f.getResponseJson();he(Kt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(g)),u(g);break;case jc.TIMEOUT:he(Kt,`RPC '${e}' ${a} timed out`),d(new xe(re.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const x=f.getStatus();if(he(Kt,`RPC '${e}' ${a} failed with status:`,x,"response text:",f.getResponseText()),x>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const S=E==null?void 0:E.error;if(S&&S.status&&S.message){const P=function(D){const F=D.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(F)>=0?F:re.UNKNOWN}(S.status);d(new xe(P,S.message))}else d(new xe(re.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new xe(re.UNAVAILABLE,"Connection failed."));break;default:Ce()}}finally{he(Kt,`RPC '${e}' ${a} completed.`)}});const p=JSON.stringify(i);he(Kt,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",p,r,15)})}Wo(e,n,r){const i=kp(),a=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=WE(),d=zE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Do(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const g=a.join("");he(Kt,`Creating RPC '${e}' stream ${i}: ${g}`,f);const x=u.createWebChannel(g,f);let E=!1,S=!1;const P=new sV({Fo:D=>{S?he(Kt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(E||(he(Kt,`Opening RPC '${e}' stream ${i} transport.`),x.open(),E=!0),he(Kt,`RPC '${e}' stream ${i} sending:`,D),x.send(D))},Mo:()=>x.close()}),L=(D,F,W)=>{D.listen(F,N=>{try{W(N)}catch(A){setTimeout(()=>{throw A},0)}})};return L(x,gl.EventType.OPEN,()=>{S||(he(Kt,`RPC '${e}' stream ${i} transport opened.`),P.Qo())}),L(x,gl.EventType.CLOSE,()=>{S||(S=!0,he(Kt,`RPC '${e}' stream ${i} transport closed`),P.Uo())}),L(x,gl.EventType.ERROR,D=>{S||(S=!0,Zo(Kt,`RPC '${e}' stream ${i} transport errored:`,D),P.Uo(new xe(re.UNAVAILABLE,"The operation could not be completed")))}),L(x,gl.EventType.MESSAGE,D=>{var F;if(!S){const W=D.data[0];Ue(!!W);const N=W,A=(N==null?void 0:N.error)||((F=N[0])===null||F===void 0?void 0:F.error);if(A){he(Kt,`RPC '${e}' stream ${i} received error:`,A);const j=A.status;let U=function(R){const O=yt[R];if(O!==void 0)return ET(O)}(j),k=A.message;U===void 0&&(U=re.INTERNAL,k="Unknown error status: "+j+" with message "+A.message),S=!0,P.Uo(new xe(U,k)),x.close()}else he(Kt,`RPC '${e}' stream ${i} received:`,W),P.Ko(W)}}),L(d,BE.STAT_EVENT,D=>{D.stat===xp.PROXY?he(Kt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===xp.NOPROXY&&he(Kt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function Ff(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(t){return new uD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=a,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&he("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="PersistentStream";class jT{constructor(e,n,r,i,a,u,d,f){this.Ti=e,this.n_=r,this.r_=i,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new LT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===re.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{const i=new xe(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){const r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return he(o_,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(he(o_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class oV extends jT{constructor(e,n,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,u),this.serializer=a}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=hD(this.serializer,e),r=function(a){if(!("targetChange"in a))return Pe.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Pe.min():u.readTime?Rr(u.readTime):Pe.min()}(e);return this.listener.p_(n,r)}y_(e){const n={};n.database=Rp(this.serializer),n.addTarget=function(a,u){let d;const f=u.target;if(d=Sp(f)?{documents:mD(a,f)}:{query:gD(a,f).ht},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=bT(a,u.resumeToken);const p=Cp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Pe.min())>0){d.readTime=ud(a,u.snapshotVersion.toTimestamp());const p=Cp(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d}(this.serializer,e);const r=vD(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){const n={};n.database=Rp(this.serializer),n.removeTarget=e,this.I_(n)}}class aV extends jT{constructor(e,n,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u),this.serializer=a}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,Ue(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ue(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=pD(e.writeResults,e.commitTime),r=Rr(e.commitTime);return this.listener.v_(r,n)}C_(){const e={};e.database=Rp(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fD(this.serializer,r))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{}class uV extends lV{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.connection.So(e,Ap(n,r),i,a,u)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xe(re.UNKNOWN,a.toString())})}Co(e,n,r,i,a){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Co(e,Ap(n,r),i,u,d,a)).catch(u=>{throw u.name==="FirebaseError"?(u.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new xe(re.UNKNOWN,u.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class cV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(is(n),this.N_=!1):he("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi="RemoteStore";class dV{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=a,this.z_.To(u=>{r.enqueueAndForget(async()=>{Wi(this)&&(he(Fi,"Restarting streams for network reachability change."),await async function(f){const p=Re(f);p.W_.add(4),await eu(p),p.j_.set("Unknown"),p.W_.delete(4),await kd(p)}(this))})}),this.j_=new cV(r,i)}}async function kd(t){if(Wi(t))for(const e of t.G_)await e(!0)}async function eu(t){for(const e of t.G_)await e(!1)}function OT(t,e){const n=Re(t);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),Zm(n)?Jm(n):pa(n).c_()&&Ym(n,e))}function Xm(t,e){const n=Re(t),r=pa(n);n.K_.delete(e),r.c_()&&FT(n,e),n.K_.size===0&&(r.c_()?r.P_():Wi(n)&&n.j_.set("Unknown"))}function Ym(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Pe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}pa(t).y_(e)}function FT(t,e){t.H_.Ne(e),pa(t).w_(e)}function Jm(t){t.H_=new iD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.K_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),pa(t).start(),t.j_.B_()}function Zm(t){return Wi(t)&&!pa(t).u_()&&t.K_.size>0}function Wi(t){return Re(t).W_.size===0}function $T(t){t.H_=void 0}async function hV(t){t.j_.set("Online")}async function fV(t){t.K_.forEach((e,n)=>{Ym(t,e)})}async function pV(t,e){$T(t),Zm(t)?(t.j_.q_(e),Jm(t)):t.j_.set("Unknown")}async function mV(t,e,n){if(t.j_.set("Online"),e instanceof ST&&e.state===2&&e.cause)try{await async function(i,a){const u=a.cause;for(const d of a.targetIds)i.K_.has(d)&&(await i.remoteSyncer.rejectListen(d,u),i.K_.delete(d),i.H_.removeTarget(d))}(t,e)}catch(r){he(Fi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await dd(t,r)}else if(e instanceof Uc?t.H_.We(e):e instanceof TT?t.H_.Ze(e):t.H_.je(e),!n.isEqual(Pe.min()))try{const r=await MT(t.localStore);n.compareTo(r)>=0&&await function(a,u){const d=a.H_.ot(u);return d.targetChanges.forEach((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.K_.get(p);g&&a.K_.set(p,g.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,p)=>{const g=a.K_.get(f);if(!g)return;a.K_.set(f,g.withResumeToken(Bt.EMPTY_BYTE_STRING,g.snapshotVersion)),FT(a,f);const x=new Vs(g.target,f,p,g.sequenceNumber);Ym(a,x)}),a.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){he(Fi,"Failed to raise snapshot:",r),await dd(t,r)}}async function dd(t,e,n){if(!fa(e))throw e;t.W_.add(1),await eu(t),t.j_.set("Offline"),n||(n=()=>MT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{he(Fi,"Retrying IndexedDB access"),await n(),t.W_.delete(1),await kd(t)})}function UT(t,e){return e().catch(n=>dd(t,n,e))}async function Nd(t){const e=Re(t),n=Ks(e);let r=e.U_.length>0?e.U_[e.U_.length-1].batchId:Mm;for(;gV(e);)try{const i=await YD(e.localStore,r);if(i===null){e.U_.length===0&&n.P_();break}r=i.batchId,yV(e,i)}catch(i){await dd(e,i)}BT(e)&&zT(e)}function gV(t){return Wi(t)&&t.U_.length<10}function yV(t,e){t.U_.push(e);const n=Ks(t);n.c_()&&n.S_&&n.b_(e.mutations)}function BT(t){return Wi(t)&&!Ks(t).u_()&&t.U_.length>0}function zT(t){Ks(t).start()}async function vV(t){Ks(t).C_()}async function xV(t){const e=Ks(t);for(const n of t.U_)e.b_(n.mutations)}async function _V(t,e,n){const r=t.U_.shift(),i=zm.from(r,e,n);await UT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Nd(t)}async function wV(t,e){e&&Ks(t).S_&&await async function(r,i){if(function(u){return rD(u)&&u!==re.ABORTED}(i.code)){const a=r.U_.shift();Ks(r).h_(),await UT(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Nd(r)}}(t,e),BT(t)&&zT(t)}async function a_(t,e){const n=Re(t);n.asyncQueue.verifyOperationInProgress(),he(Fi,"RemoteStore received new credentials");const r=Wi(n);n.W_.add(3),await eu(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await kd(n)}async function EV(t,e){const n=Re(t);e?(n.W_.delete(2),await kd(n)):e||(n.W_.add(2),await eu(n),n.j_.set("Unknown"))}function pa(t){return t.J_||(t.J_=function(n,r,i){const a=Re(n);return a.M_(),new oV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:hV.bind(null,t),No:fV.bind(null,t),Lo:pV.bind(null,t),p_:mV.bind(null,t)}),t.G_.push(async e=>{e?(t.J_.h_(),Zm(t)?Jm(t):t.j_.set("Unknown")):(await t.J_.stop(),$T(t))})),t.J_}function Ks(t){return t.Y_||(t.Y_=function(n,r,i){const a=Re(n);return a.M_(),new aV(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:vV.bind(null,t),Lo:wV.bind(null,t),D_:xV.bind(null,t),v_:_V.bind(null,t)}),t.G_.push(async e=>{e?(t.Y_.h_(),await Nd(t)):(await t.Y_.stop(),t.U_.length>0&&(he(Fi,`Stopping write stream with ${t.U_.length} pending writes`),t.U_=[]))})),t.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ns,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const u=Date.now()+r,d=new eg(e,n,u,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xe(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(t,e){if(is("AsyncQueue",`${e}: ${t}`),fa(t))return new xe(re.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{static emptySet(e){return new Go(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Te.comparator(n.key,r.key):(n,r)=>Te.comparator(n.key,r.key),this.keyedMap=yl(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Go;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(){this.Z_=new it(Te.comparator)}track(e){const n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ce():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}}class sa{constructor(e,n,r,i,a,u,d,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const u=[];return n.forEach(d=>{u.push({type:0,doc:d})}),new sa(e,n,Go.emptySet(n),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class SV{constructor(){this.queries=u_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){const i=Re(n),a=i.queries;i.queries=u_(),a.forEach((u,d)=>{for(const f of d.ta)f.onError(r)})})(this,new xe(re.ABORTED,"Firestore shutting down"))}}function u_(){return new zi(t=>cT(t),bd)}async function WT(t,e){const n=Re(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.na()&&e.ra()&&(r=2):(a=new TV,r=e.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(i,!0);break;case 1:a.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(u){const d=tg(u,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,a),a.ta.push(e),e.sa(n.onlineState),a.ea&&e.oa(a.ea)&&ng(n)}async function HT(t,e){const n=Re(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const u=a.ta.indexOf(e);u>=0&&(a.ta.splice(u,1),a.ta.length===0?i=e.ra()?0:1:!a.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function bV(t,e){const n=Re(t);let r=!1;for(const i of e){const a=i.query,u=n.queries.get(a);if(u){for(const d of u.ta)d.oa(i)&&(r=!0);u.ea=i}}r&&ng(n)}function CV(t,e,n){const r=Re(t),i=r.queries.get(e);if(i)for(const a of i.ta)a.onError(n);r.queries.delete(e)}function ng(t){t.ia.forEach(e=>{e.next()})}var Np,c_;(c_=Np||(Np={}))._a="default",c_.Cache="cache";class qT{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new sa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=sa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Np.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.key=e}}class GT{constructor(e){this.key=e}}class AV{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=De(),this.mutatedKeys=De(),this.ya=dT(e),this.wa=new Go(this.ya)}get Sa(){return this.fa}ba(e,n){const r=n?n.Da:new l_,i=n?n.wa:this.wa;let a=n?n.mutatedKeys:this.mutatedKeys,u=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((g,x)=>{const E=i.get(g),S=Cd(this.query,x)?x:null,P=!!E&&this.mutatedKeys.has(E.key),L=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let D=!1;E&&S?E.data.isEqual(S.data)?P!==L&&(r.track({type:3,doc:S}),D=!0):this.va(E,S)||(r.track({type:2,doc:S}),D=!0,(f&&this.ya(S,f)>0||p&&this.ya(S,p)<0)&&(d=!0)):!E&&S?(r.track({type:0,doc:S}),D=!0):E&&!S&&(r.track({type:1,doc:E}),D=!0,(f||p)&&(d=!0)),D&&(S?(u=u.add(S),a=L?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{wa:u,Da:r,ls:d,mutatedKeys:a}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const u=e.Da.X_();u.sort((g,x)=>function(S,P){const L=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ce()}};return L(S)-L(P)}(g.type,x.type)||this.ya(g.doc,x.doc)),this.Ca(r),i=i!=null&&i;const d=n&&!i?this.Fa():[],f=this.pa.size===0&&this.current&&!i?1:0,p=f!==this.ga;return this.ga=f,u.length!==0||p?{snapshot:new sa(this.query,e.wa,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new l_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=De(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});const n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new GT(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new KT(r))}),n}Oa(e){this.fa=e.gs,this.pa=De();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return sa.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const rg="SyncEngine";class PV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class RV{constructor(e){this.key=e,this.Ba=!1}}class IV{constructor(e,n,r,i,a,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.La={},this.ka=new zi(d=>cT(d),bd),this.qa=new Map,this.Qa=new Set,this.$a=new it(Te.comparator),this.Ua=new Map,this.Ka=new qm,this.Wa={},this.Ga=new Map,this.za=ra.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function kV(t,e,n=!0){const r=eS(t);let i;const a=r.ka.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await QT(r,e,n,!0),i}async function NV(t,e){const n=eS(t);await QT(n,e,!0,!1)}async function QT(t,e,n,r){const i=await JD(t.localStore,Pr(e)),a=i.targetId,u=t.sharedClientState.addLocalQueryTarget(a,n);let d;return r&&(d=await DV(t,e,a,u==="current",i.resumeToken)),t.isPrimaryClient&&n&&OT(t.remoteStore,i),d}async function DV(t,e,n,r,i){t.Ha=(x,E,S)=>async function(L,D,F,W){let N=D.view.ba(F);N.ls&&(N=await n_(L.localStore,D.query,!1).then(({documents:k})=>D.view.ba(k,N)));const A=W&&W.targetChanges.get(D.targetId),j=W&&W.targetMismatches.get(D.targetId)!=null,U=D.view.applyChanges(N,L.isPrimaryClient,A,j);return h_(L,D.targetId,U.Ma),U.snapshot}(t,x,E,S);const a=await n_(t.localStore,e,!0),u=new AV(e,a.gs),d=u.ba(a.documents),f=Zl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=u.applyChanges(d,t.isPrimaryClient,f);h_(t,n,p.Ma);const g=new PV(e,n,u);return t.ka.set(e,g),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),p.snapshot}async function VV(t,e,n){const r=Re(t),i=r.ka.get(e),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter(u=>!bd(u,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Ip(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Xm(r.remoteStore,i.targetId),Dp(r,i.targetId)}).catch(ha)):(Dp(r,i.targetId),await Ip(r.localStore,i.targetId,!0))}async function MV(t,e){const n=Re(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Xm(n.remoteStore,r.targetId))}async function LV(t,e,n){const r=zV(t);try{const i=await function(u,d){const f=Re(u),p=Ct.now(),g=d.reduce((S,P)=>S.add(P.key),De());let x,E;return f.persistence.runTransaction("Locally write mutations","readwrite",S=>{let P=os(),L=De();return f.ds.getEntries(S,g).next(D=>{P=D,P.forEach((F,W)=>{W.isValidDocument()||(L=L.add(F))})}).next(()=>f.localDocuments.getOverlayedDocuments(S,P)).next(D=>{x=D;const F=[];for(const W of d){const N=J2(W,x.get(W.key).overlayedDocument);N!=null&&F.push(new Zs(W.key,N,rT(N.value.mapValue),Wn.exists(!0)))}return f.mutationQueue.addMutationBatch(S,p,F,d)}).next(D=>{E=D;const F=D.applyToLocalDocumentSet(x,L);return f.documentOverlayCache.saveOverlays(S,D.batchId,F)})}).then(()=>({batchId:E.batchId,changes:fT(x)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,d,f){let p=u.Wa[u.currentUser.toKey()];p||(p=new it(ke)),p=p.insert(d,f),u.Wa[u.currentUser.toKey()]=p}(r,i.batchId,n),await tu(r,i.changes),await Nd(r.remoteStore)}catch(i){const a=tg(i,"Failed to persist write");n.reject(a)}}async function XT(t,e){const n=Re(t);try{const r=await QD(n.localStore,e);e.targetChanges.forEach((i,a)=>{const u=n.Ua.get(a);u&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.Ba=!0:i.modifiedDocuments.size>0?Ue(u.Ba):i.removedDocuments.size>0&&(Ue(u.Ba),u.Ba=!1))}),await tu(n,r,e)}catch(r){await ha(r)}}function d_(t,e,n){const r=Re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ka.forEach((a,u)=>{const d=u.view.sa(e);d.snapshot&&i.push(d.snapshot)}),function(u,d){const f=Re(u);f.onlineState=d;let p=!1;f.queries.forEach((g,x)=>{for(const E of x.ta)E.sa(d)&&(p=!0)}),p&&ng(f)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jV(t,e,n){const r=Re(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Ua.get(e),a=i&&i.key;if(a){let u=new it(Te.comparator);u=u.insert(a,Yt.newNoDocument(a,Pe.min()));const d=De().add(a),f=new Rd(Pe.min(),new Map,new it(ke),u,d);await XT(r,f),r.$a=r.$a.remove(a),r.Ua.delete(e),sg(r)}else await Ip(r.localStore,e,!1).then(()=>Dp(r,e,n)).catch(ha)}async function OV(t,e){const n=Re(t),r=e.batch.batchId;try{const i=await GD(n.localStore,e);JT(n,r,null),YT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await tu(n,i)}catch(i){await ha(i)}}async function FV(t,e,n){const r=Re(t);try{const i=await function(u,d){const f=Re(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let g;return f.mutationQueue.lookupMutationBatch(p,d).next(x=>(Ue(x!==null),g=x.keys(),f.mutationQueue.removeMutationBatch(p,x))).next(()=>f.mutationQueue.performConsistencyCheck(p)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g)).next(()=>f.localDocuments.getDocuments(p,g))})}(r.localStore,e);JT(r,e,n),YT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await tu(r,i)}catch(i){await ha(i)}}function YT(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function JT(t,e,n){const r=Re(t);let i=r.Wa[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function Dp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ka.br(e).forEach(r=>{t.Ka.containsKey(r)||ZT(t,r)})}function ZT(t,e){t.Qa.delete(e.path.canonicalString());const n=t.$a.get(e);n!==null&&(Xm(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ua.delete(n),sg(t))}function h_(t,e,n){for(const r of n)r instanceof KT?(t.Ka.addReference(r.key,e),$V(t,r)):r instanceof GT?(he(rg,"Document no longer in limbo: "+r.key),t.Ka.removeReference(r.key,e),t.Ka.containsKey(r.key)||ZT(t,r.key)):Ce()}function $V(t,e){const n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(he(rg,"New document in limbo: "+n),t.Qa.add(r),sg(t))}function sg(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){const e=t.Qa.values().next().value;t.Qa.delete(e);const n=new Te(Ze.fromString(e)),r=t.za.next();t.Ua.set(r,new RV(n)),t.$a=t.$a.insert(n,r),OT(t.remoteStore,new Vs(Pr($m(n.path)),r,"TargetPurposeLimboResolution",wd.ae))}}async function tu(t,e,n){const r=Re(t),i=[],a=[],u=[];r.ka.isEmpty()||(r.ka.forEach((d,f)=>{u.push(r.Ha(f,e,n).then(p=>{var g;if((p||n)&&r.isPrimaryClient){const x=p?!p.fromCache:(g=n==null?void 0:n.targetChanges.get(f.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,x?"current":"not-current")}if(p){i.push(p);const x=Gm.Yi(f.targetId,p);a.push(x)}}))}),await Promise.all(u),r.La.p_(i),await async function(f,p){const g=Re(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>ee.forEach(p,E=>ee.forEach(E.Hi,S=>g.persistence.referenceDelegate.addReference(x,E.targetId,S)).next(()=>ee.forEach(E.Ji,S=>g.persistence.referenceDelegate.removeReference(x,E.targetId,S)))))}catch(x){if(!fa(x))throw x;he(Qm,"Failed to update sequence numbers: "+x)}for(const x of p){const E=x.targetId;if(!x.fromCache){const S=g.Ts.get(E),P=S.snapshotVersion,L=S.withLastLimboFreeSnapshotVersion(P);g.Ts=g.Ts.insert(E,L)}}}(r.localStore,a))}async function UV(t,e){const n=Re(t);if(!n.currentUser.isEqual(e)){he(rg,"User change. New user:",e.toKey());const r=await VT(n.localStore,e);n.currentUser=e,function(a,u){a.Ga.forEach(d=>{d.forEach(f=>{f.reject(new xe(re.CANCELLED,u))})}),a.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await tu(n,r.Rs)}}function BV(t,e){const n=Re(t),r=n.Ua.get(e);if(r&&r.Ba)return De().add(r.key);{let i=De();const a=n.qa.get(e);if(!a)return i;for(const u of a){const d=n.ka.get(u);i=i.unionWith(d.view.Sa)}return i}}function eS(t){const e=Re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=XT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=BV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jV.bind(null,e),e.La.p_=bV.bind(null,e.eventManager),e.La.Ja=CV.bind(null,e.eventManager),e}function zV(t){const e=Re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FV.bind(null,e),e}class hd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Id(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return KD(this.persistence,new WD,e.initialUser,this.serializer)}Xa(e){return new DT(Km.ri,this.serializer)}Za(e){return new eV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hd.provider={build:()=>new hd};class WV extends hd{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ue(this.persistence.referenceDelegate instanceof cd);const r=this.persistence.referenceDelegate.garbageCollector;return new RD(r,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new DT(r=>cd.ri(r,n),this.serializer)}}class Vp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d_(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UV.bind(null,this.syncEngine),await EV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new SV}()}createDatastore(e){const n=Id(e.databaseInfo.databaseId),r=function(a){return new iV(a)}(e.databaseInfo);return function(a,u,d,f){return new uV(a,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,u,d){return new dV(r,i,a,u,d)}(this.localStore,this.datastore,e.asyncQueue,n=>d_(this.syncEngine,n,0),function(){return i_.D()?new i_:new tV}())}createSyncEngine(e,n){return function(i,a,u,d,f,p,g){const x=new IV(i,a,u,d,f,p);return g&&(x.ja=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=Re(i);he(Fi,"RemoteStore shutting down."),a.W_.add(5),await eu(a),a.z_.shutdown(),a.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vp.provider={build:()=>new Vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class HV{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=KE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async u=>{he(Gs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(he(Gs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ns;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=tg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function $f(t,e){t.asyncQueue.verifyOperationInProgress(),he(Gs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await VT(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function f_(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qV(t);he(Gs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>a_(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>a_(e.remoteStore,i)),t._onlineComponents=e}async function qV(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){he(Gs,"Using user provided OfflineComponentProvider");try{await $f(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===re.FAILED_PRECONDITION||i.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Zo("Error using user provided cache. Falling back to memory cache: "+n),await $f(t,new hd)}}else he(Gs,"Using default OfflineComponentProvider"),await $f(t,new WV(void 0));return t._offlineComponents}async function nS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(he(Gs,"Using user provided OnlineComponentProvider"),await f_(t,t._uninitializedComponentsProvider._online)):(he(Gs,"Using default OnlineComponentProvider"),await f_(t,new Vp))),t._onlineComponents}function KV(t){return nS(t).then(e=>e.syncEngine)}async function rS(t){const e=await nS(t),n=e.eventManager;return n.onListen=kV.bind(null,e.syncEngine),n.onUnlisten=VV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=NV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=MV.bind(null,e.syncEngine),n}function GV(t,e,n={}){const r=new ns;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,p){const g=new tS({next:E=>{g.su(),u.enqueueAndForget(()=>HT(a,x));const S=E.docs.has(d);!S&&E.fromCache?p.reject(new xe(re.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&E.fromCache&&f&&f.source==="server"?p.reject(new xe(re.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),x=new qT($m(d.path),g,{includeMetadataChanges:!0,Ta:!0});return WT(a,x)}(await rS(t),t.asyncQueue,e,n,r)),r.promise}function QV(t,e,n={}){const r=new ns;return t.asyncQueue.enqueueAndForget(async()=>function(a,u,d,f,p){const g=new tS({next:E=>{g.su(),u.enqueueAndForget(()=>HT(a,x)),E.fromCache&&f.source==="server"?p.reject(new xe(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),x=new qT(d,g,{includeMetadataChanges:!0,Ta:!0});return WT(a,x)}(await rS(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(t,e,n){if(!n)throw new xe(re.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XV(t,e,n,r){if(e===!0&&r===!0)throw new xe(re.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function m_(t){if(!Te.isDocumentKey(t))throw new xe(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g_(t){if(Te.isDocumentKey(t))throw new xe(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ig(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ce()}function lr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xe(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ig(t);throw new xe(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="firestore.googleapis.com",y_=!0;class v_{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new xe(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=oS,this.ssl=y_}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:y_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=NT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<AD)throw new xe(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}XV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sS((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new xe(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new v_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xe(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xe(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new v_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new r2;switch(r.type){case"firstParty":return new a2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new xe(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=p_.get(n);r&&(he("ComponentProvider","Removing Datastore"),p_.delete(n),r.terminate())}(this),Promise.resolve()}}function YV(t,e,n,r={}){var i;const a=(t=lr(t,Dd))._getSettings(),u=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;a.host!==oS&&a.host!==d&&Zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f=Object.assign(Object.assign({},a),{host:d,ssl:!1,emulatorOptions:r});if(!ed(f,u)&&(t._setSettings(f),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Xt.MOCK_USER;else{p=PE(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new xe(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Xt(x)}t._authCredentials=new s2(new HE(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vd(this.firestore,e,this._query)}}class gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}}class Fs extends Vd{constructor(e,n,r){super(e,n,$m(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new Te(e))}withConverter(e){return new Fs(this.firestore,e,this._path)}}function Tr(t,e,...n){if(t=Pn(t),iS("collection","path",e),t instanceof Dd){const r=Ze.fromString(e,...n);return g_(r),new Fs(t,null,r)}{if(!(t instanceof gn||t instanceof Fs))throw new xe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return g_(r),new Fs(t.firestore,null,r)}}function ar(t,e,...n){if(t=Pn(t),arguments.length===1&&(e=KE.newId()),iS("doc","path",e),t instanceof Dd){const r=Ze.fromString(e,...n);return m_(r),new gn(t,null,new Te(r))}{if(!(t instanceof gn||t instanceof Fs))throw new xe(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ze.fromString(e,...n));return m_(r),new gn(t.firestore,t instanceof Fs?t.converter:null,new Te(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="AsyncQueue";class __{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new LT(this,"async_queue_retry"),this.Su=()=>{const r=Ff();r&&he(x_,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;const n=Ff();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Ff();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ns;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!fa(e))throw e;he(x_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;const i=function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),d}(r);throw is("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const i=eg.createAndSchedule(this,e,n,r,a=>this.Fu(a));return this.fu.push(i),i}Du(){this.gu&&Ce()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Hi extends Dd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new __,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new __(e),this._firestoreClient=void 0,await e}}}function aS(t,e){const n=typeof t=="object"?t:LE(),r=typeof t=="string"?t:e||rd,i=DE(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=CE("firestore");a&&YV(i,...a)}return i}function og(t){if(t._terminated)throw new xe(re.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||JV(t),t._firestoreClient}function JV(t){var e,n,r;const i=t._freezeSettings(),a=function(d,f,p,g){return new E2(d,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,sS(g.experimentalLongPollingOptions),g.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new HV(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ia(Bt.fromBase64String(e))}catch(n){throw new xe(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ia(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new xe(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ut(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new xe(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new xe(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZV=/^__.*__$/;class eM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jl(e,this.data,n,this.fieldTransforms)}}class lS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Zs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ce()}}class cg{constructor(e,n,r,i,a,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.Bu(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new cg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Uu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return fd(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(uS(this.Lu)&&ZV.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class tM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Id(e)}ju(e,n,r,i=!1){return new cg({Lu:e,methodName:n,zu:r,path:Ut.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dg(t){const e=t._freezeSettings(),n=Id(t._databaseId);return new tM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function cS(t,e,n,r,i,a={}){const u=t.ju(a.merge||a.mergeFields?2:0,e,n,i);hg("Data must be an object, but it was:",u,r);const d=dS(r,u);let f,p;if(a.merge)f=new bn(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const x of a.mergeFields){const E=Mp(e,x,n);if(!u.contains(E))throw new xe(re.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);fS(g,E)||g.push(E)}f=new bn(g),p=u.fieldTransforms.filter(x=>f.covers(x.field))}else f=null,p=u.fieldTransforms;return new eM(new mn(d),f,p)}class Ld extends ag{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ld}}function nM(t,e,n,r){const i=t.ju(1,e,n);hg("Data must be an object, but it was:",i,r);const a=[],u=mn.empty();Js(r,(f,p)=>{const g=fg(e,f,n);p=Pn(p);const x=i.Uu(g);if(p instanceof Ld)a.push(g);else{const E=jd(p,x);E!=null&&(a.push(g),u.set(g,E))}});const d=new bn(a);return new lS(u,d,i.fieldTransforms)}function rM(t,e,n,r,i,a){const u=t.ju(1,e,n),d=[Mp(e,r,n)],f=[i];if(a.length%2!=0)throw new xe(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(Mp(e,a[E])),f.push(a[E+1]);const p=[],g=mn.empty();for(let E=d.length-1;E>=0;--E)if(!fS(p,d[E])){const S=d[E];let P=f[E];P=Pn(P);const L=u.Uu(S);if(P instanceof Ld)p.push(S);else{const D=jd(P,L);D!=null&&(p.push(S),g.set(S,D))}}const x=new bn(p);return new lS(g,x,u.fieldTransforms)}function jd(t,e){if(hS(t=Pn(t)))return hg("Unsupported field value:",e,t),dS(t,e);if(t instanceof ag)return function(r,i){if(!uS(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){const a=[];let u=0;for(const d of r){let f=jd(d,i.Ku(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Pn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return q2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ct.fromDate(r);return{timestampValue:ud(i.serializer,a)}}if(r instanceof Ct){const a=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:ud(i.serializer,a)}}if(r instanceof lg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ia)return{bytesValue:bT(i.serializer,r._byteString)};if(r instanceof gn){const a=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw i.Wu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Hm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ug)return function(u,d){return{mapValue:{fields:{[tT]:{stringValue:nT},[sd]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw d.Wu("VectorValues must only contain numeric values.");return Um(d.serializer,p)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${ig(r)}`)}(t,e)}function dS(t,e){const n={};return QE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Js(t,(r,i)=>{const a=jd(i,e.qu(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function hS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ct||t instanceof lg||t instanceof ia||t instanceof gn||t instanceof ag||t instanceof ug)}function hg(t,e,n){if(!hS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ig(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function Mp(t,e,n){if((e=Pn(e))instanceof Md)return e._internalPath;if(typeof e=="string")return fg(t,e);throw fd("Field path arguments must be of type string or ",t,!1,void 0,n)}const sM=new RegExp("[~\\*/\\[\\]]");function fg(t,e,n){if(e.search(sM)>=0)throw fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Md(...e.split("."))._internalPath}catch{throw fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function fd(t,e,n,r,i){const a=r&&!r.isEmpty(),u=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new xe(re.INVALID_ARGUMENT,d+t+f)}function fS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iM extends pS{data(){return super.data()}}function mS(t,e){return typeof e=="string"?fg(t,e):e instanceof Md?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xe(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aM{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Js(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[sd].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(u=>pt(u.doubleValue));return new ug(a)}convertGeoPoint(e){return new lg(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Td(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=Ws(e);return new Ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ze.fromString(e);Ue(kT(r));const i=new Ul(r.get(1),r.get(3)),a=new Te(r.popFirst(5));return i.isEqual(n)||is(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yS extends pS{constructor(e,n,r,i,a,u){super(e,n,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bc extends yS{data(e={}){return super.data(e)}}class lM{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new xl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bc(this._firestore,this._userDataWriter,r.key,r,new xl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new xe(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let u=0;return i._snapshot.docChanges.map(d=>{const f=new Bc(i._firestore,i._userDataWriter,d.doc.key,d.doc,new xl(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(d=>a||d.type!==3).map(d=>{const f=new Bc(i._firestore,i._userDataWriter,d.doc.key,d.doc,new xl(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,g=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),g=u.indexOf(d.doc.key)),{type:uM(d.type),doc:f,oldIndex:p,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function uM(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ce()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pg(t){t=lr(t,gn);const e=lr(t.firestore,Hi);return GV(og(e),t._key).then(n=>cM(e,t,n))}class vS extends aM{constructor(e){super(),this.firestore=e}convertBytes(e){return new ia(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,n)}}function Qs(t){t=lr(t,Vd);const e=lr(t.firestore,Hi),n=og(e),r=new vS(e);return oM(t._query),QV(n,t._query).then(i=>new lM(e,r,t,i))}function mg(t,e,n){t=lr(t,gn);const r=lr(t.firestore,Hi),i=gS(t.converter,e,n);return Od(r,[cS(dg(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Wn.none())])}function w_(t,e,n,...r){t=lr(t,gn);const i=lr(t.firestore,Hi),a=dg(i);let u;return u=typeof(e=Pn(e))=="string"||e instanceof Md?rM(a,"updateDoc",t._key,e,n,r):nM(a,"updateDoc",t._key,e),Od(i,[u.toMutation(t._key,Wn.exists(!0))])}function zc(t){return Od(lr(t.firestore,Hi),[new Bm(t._key,Wn.none())])}function E_(t,e){const n=lr(t.firestore,Hi),r=ar(t),i=gS(t.converter,e);return Od(n,[cS(dg(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Wn.exists(!1))]).then(()=>r)}function Od(t,e){return function(r,i){const a=new ns;return r.asyncQueue.enqueueAndForget(async()=>LV(await KV(r),i,a)),a.promise}(og(t),e)}function cM(t,e,n){const r=n.docs.get(e._key),i=new vS(t);return new yS(t,i,e._key,r,new xl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){da=i})(ME),jl(new Jo("firestore",(r,{instanceIdentifier:i,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Hi(new i2(r.getProvider("auth-internal")),new l2(u,r.getProvider("app-check-internal")),function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new xe(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ul(p.options.projectId,g)}(u,i),u);return a=Object.assign({useFetchStreams:n},a),d._setSettings(a),d},"PUBLIC").setMultipleInstances(!0)),js(Cx,Ax,e),js(Cx,Ax,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="firebasestorage.googleapis.com",_S="storageBucket",dM=2*60*1e3,hM=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut extends Bi{constructor(e,n,r=0){super(Uf(e),`Firebase Storage: ${n} (${Uf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ut.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Uf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var lt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(lt||(lt={}));function Uf(t){return"storage/"+t}function gg(){const t="An unknown error occurred, please check the error payload for server response.";return new ut(lt.UNKNOWN,t)}function fM(t){return new ut(lt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function pM(t){return new ut(lt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new ut(lt.UNAUTHENTICATED,t)}function gM(){return new ut(lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function yM(t){return new ut(lt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function vM(){return new ut(lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xM(){return new ut(lt.CANCELED,"User canceled the upload/download.")}function _M(t){return new ut(lt.INVALID_URL,"Invalid URL '"+t+"'.")}function wM(t){return new ut(lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function EM(){return new ut(lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+_S+"' property when initializing the app?")}function TM(){return new ut(lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function SM(){return new ut(lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function bM(t){return new ut(lt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Lp(t){return new ut(lt.INVALID_ARGUMENT,t)}function wS(){return new ut(lt.APP_DELETED,"The Firebase app was deleted.")}function CM(t){return new ut(lt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Pl(t,e){return new ut(lt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function hl(t){throw new ut(lt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Cn.makeFromUrl(e,n)}catch{return new Cn(e,"")}if(r.path==="")return r;throw wM(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(A){A.path.charAt(A.path.length-1)==="/"&&(A.path_=A.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+i+u,"i"),f={bucket:1,path:3};function p(A){A.path_=decodeURIComponent(A.path)}const g="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",S=new RegExp(`^https?://${x}/${g}/b/${i}/o${E}`,"i"),P={bucket:1,path:3},L=n===xS?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",F=new RegExp(`^https?://${L}/${i}/${D}`,"i"),N=[{regex:d,indices:f,postModify:a},{regex:S,indices:P,postModify:p},{regex:F,indices:{bucket:1,path:2},postModify:p}];for(let A=0;A<N.length;A++){const j=N[A],U=j.regex.exec(e);if(U){const k=U[j.indices.bucket];let C=U[j.indices.path];C||(C=""),r=new Cn(k,C),j.postModify(r);break}}if(r==null)throw _M(e);return r}}class AM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PM(t,e,n){let r=1,i=null,a=null,u=!1,d=0;function f(){return d===2}let p=!1;function g(...D){p||(p=!0,e.apply(null,D))}function x(D){i=setTimeout(()=>{i=null,t(S,f())},D)}function E(){a&&clearTimeout(a)}function S(D,...F){if(p){E();return}if(D){E(),g.call(null,D,...F);return}if(f()||u){E(),g.call(null,D,...F);return}r<64&&(r*=2);let N;d===1?(d=2,N=0):N=(r+Math.random())*1e3,x(N)}let P=!1;function L(D){P||(P=!0,E(),!p&&(i!==null?(D||(d=2),clearTimeout(i),x(0)):D||(d=1)))}return x(0),a=setTimeout(()=>{u=!0,L(!0)},n),L}function RM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){return t!==void 0}function kM(t){return typeof t=="object"&&!Array.isArray(t)}function yg(t){return typeof t=="string"||t instanceof String}function T_(t){return vg()&&t instanceof Blob}function vg(){return typeof Blob<"u"}function S_(t,e,n,r){if(r<e)throw Lp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Lp(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function ES(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var ji;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(ji||(ji={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e,n,r,i,a,u,d,f,p,g,x,E=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=x,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,P)=>{this.resolve_=S,this.reject_=P,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ic(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const u=d=>{const f=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const d=a.getErrorCode()===ji.NO_ERROR,f=a.getStatus();if(!d||NM(f,this.additionalRetryCodes_)&&this.retry){const g=a.getErrorCode()===ji.ABORT;r(!1,new Ic(!1,null,g));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new Ic(p,a))})},n=(r,i)=>{const a=this.resolve_,u=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());IM(f)?a(f):a()}catch(f){u(f)}else if(d!==null){const f=gg();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(i.canceled){const f=this.appDelete_?wS():xM();u(f)}else{const f=vM();u(f)}};this.canceled_?n(!1,new Ic(!1,null,!0)):this.backoffId_=PM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&RM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ic{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function VM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function MM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function LM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function jM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function OM(t,e,n,r,i,a,u=!0){const d=ES(t.urlParams),f=t.url+d,p=Object.assign({},t.headers);return LM(p,e),VM(p,n),MM(p,a),jM(p,r),new DM(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function $M(...t){const e=FM();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(vg())return new Blob(t);throw new ut(lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function UM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BM(t){if(typeof atob>"u")throw bM("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Bf{constructor(e,n){this.data=e,this.contentType=n||null}}function zM(t,e){switch(t){case Sr.RAW:return new Bf(TS(e));case Sr.BASE64:case Sr.BASE64URL:return new Bf(SS(t,e));case Sr.DATA_URL:return new Bf(HM(e),qM(e))}throw gg()}function TS(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,u=t.charCodeAt(++n);r=65536|(a&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function WM(t){let e;try{e=decodeURIComponent(t)}catch{throw Pl(Sr.DATA_URL,"Malformed data URL.")}return TS(e)}function SS(t,e){switch(t){case Sr.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Pl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Sr.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Pl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=BM(e)}catch(i){throw i.message.includes("polyfill")?i:Pl(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class bS{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Pl(Sr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=KM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function HM(t){const e=new bS(t);return e.base64?SS(Sr.BASE64,e.rest):WM(e.rest)}function qM(t){return new bS(t).contentType}function KM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,n){let r=0,i="";T_(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(T_(this.data_)){const r=this.data_,i=UM(r,e,n);return i===null?null:new Ds(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ds(r,!0)}}static getBlob(...e){if(vg()){const n=e.map(r=>r instanceof Ds?r.data_:r);return new Ds($M.apply(null,n))}else{const n=e.map(u=>yg(u)?zM(Sr.RAW,u).data:u.data_);let r=0;n.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(u=>{for(let d=0;d<u.length;d++)i[a++]=u[d]}),new Ds(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t){let e;try{e=JSON.parse(t)}catch{return null}return kM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function QM(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function AS(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t,e){return e}class rn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||XM}}let kc=null;function YM(t){return!yg(t)||t.length<2?t:AS(t)}function PS(){if(kc)return kc;const t=[];t.push(new rn("bucket")),t.push(new rn("generation")),t.push(new rn("metageneration")),t.push(new rn("name","fullPath",!0));function e(a,u){return YM(u)}const n=new rn("name");n.xform=e,t.push(n);function r(a,u){return u!==void 0?Number(u):u}const i=new rn("size");return i.xform=r,t.push(i),t.push(new rn("timeCreated")),t.push(new rn("updated")),t.push(new rn("md5Hash",null,!0)),t.push(new rn("cacheControl",null,!0)),t.push(new rn("contentDisposition",null,!0)),t.push(new rn("contentEncoding",null,!0)),t.push(new rn("contentLanguage",null,!0)),t.push(new rn("contentType",null,!0)),t.push(new rn("metadata","customMetadata",!0)),kc=t,kc}function JM(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Cn(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function ZM(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const u=n[a];r[u.local]=u.xform(r,e[u.server])}return JM(r,t),r}function RS(t,e,n){const r=CS(e);return r===null?null:ZM(t,r,n)}function eL(t,e,n,r){const i=CS(e);if(i===null||!yg(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const u=encodeURIComponent;return a.split(",").map(p=>{const g=t.bucket,x=t.fullPath,E="/b/"+u(g)+"/o/"+u(x),S=Fd(E,n,r),P=ES({alt:"media",token:p});return S+P})[0]}function tL(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class xg{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t){if(!t)throw gg()}function nL(t,e){function n(r,i){const a=RS(t,i,e);return IS(a!==null),a}return n}function rL(t,e){function n(r,i){const a=RS(t,i,e);return IS(a!==null),eL(a,i,t.host,t._protocol)}return n}function kS(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=gM():i=mM():n.getStatus()===402?i=pM(t.bucket):n.getStatus()===403?i=yM(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function NS(t){const e=kS(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=fM(t.path)),a.serverResponse=i.serverResponse,a}return n}function sL(t,e,n){const r=e.fullServerUrl(),i=Fd(r,t.host,t._protocol),a="GET",u=t.maxOperationRetryTime,d=new xg(i,a,rL(t,n),u);return d.errorHandler=NS(e),d}function iL(t,e){const n=e.fullServerUrl(),r=Fd(n,t.host,t._protocol),i="DELETE",a=t.maxOperationRetryTime;function u(f,p){}const d=new xg(r,i,u,a);return d.successCodes=[200,204],d.errorHandler=NS(e),d}function oL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function aL(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=oL(null,e)),r}function lL(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let N="";for(let A=0;A<2;A++)N=N+Math.random().toString().slice(2);return N}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const p=aL(e,r,i),g=tL(p,n),x="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+g+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+f+"--",S=Ds.getBlob(x,r,E);if(S===null)throw TM();const P={name:p.fullPath},L=Fd(a,t.host,t._protocol),D="POST",F=t.maxUploadRetryTime,W=new xg(L,D,nL(t,n),F);return W.urlParams=P,W.headers=u,W.body=S.uploadData(),W.errorHandler=kS(e),W}class uL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ji.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ji.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ji.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw hl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw hl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw hl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw hl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw hl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class cL extends uL{initXhr(){this.xhr_.responseType="text"}}function _g(){return new cL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(e,n){this._service=e,n instanceof Cn?this._location=n:this._location=Cn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new $i(e,n)}get root(){const e=new Cn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return AS(this._location.path)}get storage(){return this._service}get parent(){const e=GM(this._location.path);if(e===null)return null;const n=new Cn(this._location.bucket,e);return new $i(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw CM(e)}}function dL(t,e,n){t._throwIfRoot("uploadBytes");const r=lL(t.storage,t._location,PS(),new Ds(e,!0),n);return t.storage.makeRequestWithTokens(r,_g).then(i=>({metadata:i,ref:t}))}function hL(t){t._throwIfRoot("getDownloadURL");const e=sL(t.storage,t._location,PS());return t.storage.makeRequestWithTokens(e,_g).then(n=>{if(n===null)throw SM();return n})}function fL(t){t._throwIfRoot("deleteObject");const e=iL(t.storage,t._location);return t.storage.makeRequestWithTokens(e,_g)}function pL(t,e){const n=QM(t._location.path,e),r=new Cn(t._location.bucket,n);return new $i(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mL(t){return/^[A-Za-z]+:\/\//.test(t)}function gL(t,e){return new $i(t,e)}function DS(t,e){if(t instanceof wg){const n=t;if(n._bucket==null)throw EM();const r=new $i(n,n._bucket);return e!=null?DS(r,e):r}else return e!==void 0?pL(t,e):t}function yL(t,e){if(e&&mL(e)){if(t instanceof wg)return gL(t,e);throw Lp("To use ref(service, url), the first argument must be a Storage instance.")}else return DS(t,e)}function b_(t,e){const n=e==null?void 0:e[_S];return n==null?null:Cn.makeFromBucketSpec(n,t)}function vL(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:PE(i,t.app.options.projectId))}class wg{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=xS,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=dM,this._maxUploadRetryTime=hM,this._requests=new Set,i!=null?this._bucket=Cn.makeFromBucketSpec(i,this._host):this._bucket=b_(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Cn.makeFromBucketSpec(this._url,e):this._bucket=b_(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){S_("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){S_("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(VE(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new $i(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new AM(wS());{const u=OM(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const C_="@firebase/storage",A_="0.13.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS="storage";function xL(t,e,n){return t=Pn(t),dL(t,e,n)}function _L(t){return t=Pn(t),hL(t)}function P_(t){return t=Pn(t),fL(t)}function zf(t,e){return t=Pn(t),yL(t,e)}function wL(t=LE(),e){t=Pn(t);const r=DE(t,VS).getImmediate({identifier:e}),i=CE("storage");return i&&EL(r,...i),r}function EL(t,e,n,r={}){vL(t,e,n,r)}function TL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new wg(n,r,i,e,ME)}function SL(){jl(new Jo(VS,TL,"PUBLIC").setMultipleInstances(!0)),js(C_,A_,""),js(C_,A_,"esm2017")}SL();console.log("initializeApp:",typeof Dm);console.log("getFirestore:",typeof aS);const bL={apiKey:"AIzaSyBOM041d620q5TBYfl7E6SexEqR8NGrWQE",authDomain:"aussie-gut-pack.firebaseapp.com",projectId:"aussie-gut-pack",storageBucket:"aussie-gut-pack.firebasestorage.app",messagingSenderId:"834797498886",appId:"1:834797498886:web:cb2f88ab4523480400c987"},Eg=Dm(bL);console.log("Firebase app:",Eg);const vt=aS(Eg);console.log("Firestore db:",vt);const Wf=wL(Eg);function CL(){const{isDarkMode:t}=I.useContext(Dt),e=I.useRef(null),n=I.useRef(null),[r,i]=I.useState(!1),[a,u]=I.useState(!1),[d,f]=I.useState({quotes:[],currentWorkout:{description:"",warmup:[],main:[]},scheduledWorkouts:[],aboutUs:"",dailyChallenges:[],lastUpdated:null}),[p,g]=I.useState(0),[x,E]=I.useState(null),[S,P]=I.useState(()=>JSON.parse(localStorage.getItem("completedChallenges"))||[]);I.useEffect(()=>{(async()=>{var B,H;const j=ar(vt,"content","home"),U=await pg(j);let k={quotes:["An athlete won't judge you for working out.","A millionaire won't judge you for starting a business.","A musician won't judge you for trying to sing a song.","It's always the people going nowhere that have something to say.","Idle hands do the devil's work"],currentWorkout:{description:"A quick 20-minute routine to kickstart your metabolism and improve digestion.",warmup:["5-minute brisk walk or jog","3 sets of 15 squats"],main:["3 sets of 10 push-ups","2 sets of 20 jumping jacks","1-minute plank hold"]},scheduledWorkouts:[],aboutUs:"We are dedicated to bringing you information about Australian Shepherds and how to maintain a healthy gut. Our mission is to educate and inspire a natural approach to wellness for you and your furry friends.",dailyChallenges:["Drink 8 glasses of water.","Take a 10-minute digestion-boosting walk with your Aussie.","Try a gut-friendly snack like yogurt or pumpkin."],lastUpdated:null};if(U.exists()){const V=U.data();k={...k,...V,currentWorkout:{...k.currentWorkout,...V.currentWorkout,warmup:((B=V.currentWorkout)==null?void 0:B.warmup)||k.currentWorkout.warmup,main:((H=V.currentWorkout)==null?void 0:H.main)||k.currentWorkout.main},scheduledWorkouts:V.scheduledWorkouts||[],dailyChallenges:V.dailyChallenges||k.dailyChallenges}}const C=new Date,R=[...k.scheduledWorkouts];let O=!1;if(R.sort((V,Oe)=>new Date(V.updateDateTime)-new Date(Oe.updateDateTime)),R.length>0){const V=R[0],Oe=new Date(V.updateDateTime);C>=Oe&&(!k.lastUpdated||new Date(k.lastUpdated)<Oe)&&(k.currentWorkout={description:V.description||"",warmup:V.warmup||[],main:V.main||[]},R.shift(),k.scheduledWorkouts=R,k.lastUpdated=C.toISOString(),O=!0)}O&&await mg(j,k,{merge:!0}),f(k);try{const V=Tr(vt,"content","blog","posts"),et=(await Qs(V)).docs.map(Ge=>({id:Ge.id,...Ge.data()}));if(et.length>0){et.sort((ae,ge)=>new Date(ge.date)-new Date(ae.date));const Ge=et[0],be=L(Ge);E({...Ge,excerpt:be})}else E({id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being..."}],excerpt:"Gut health is crucial for overall well-being..."})}catch(V){console.error("Error fetching blog posts:",V),E({id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being..."}],excerpt:"Gut health is crucial for overall well-being..."})}})()},[]);const L=A=>{if(!A||!A.blocks||A.blocks.length===0)return"Read more...";const j=A.blocks.find(U=>U.type==="paragraph"||U.type==="list"||U.type==="bullet");return j?j.type==="paragraph"&&j.content?j.content.split(" ").slice(0,30).join(" ")+"...":Array.isArray(j.content)&&j.content.length>0?j.content[0]+(j.content.length>1?"...":""):"Read more...":"Read more..."};I.useEffect(()=>{const A=new IntersectionObserver(j=>{j.forEach(U=>{const k=U.isIntersecting;U.target===e.current&&i(k),U.target===n.current&&u(k)})},{threshold:.2});return e.current&&A.observe(e.current),n.current&&A.observe(n.current),()=>{e.current&&A.unobserve(e.current),n.current&&A.unobserve(n.current)}},[]),I.useEffect(()=>{const A=setInterval(()=>{g(j=>(j+1)%d.quotes.length)},4e3);return()=>clearInterval(A)},[d.quotes.length]),I.useEffect(()=>{localStorage.setItem("completedChallenges",JSON.stringify(S))},[S]);const D={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5,ease:"easeOut"}},exit:{opacity:0,y:-20,transition:{duration:.5,ease:"easeIn"}}},F={hidden:{opacity:0,scale:.8,y:20},visible:{opacity:1,scale:1,y:0,transition:{duration:.5,ease:"easeOut"}},exit:{opacity:0,scale:.8,y:-20,transition:{duration:.5,ease:"easeIn"}}},W=A=>{P(j=>j.includes(A)?j.filter(U=>U!==A):[...j,A])},N=d.dailyChallenges.length>0&&S.length===d.dailyChallenges.length&&d.dailyChallenges.every((A,j)=>S.includes(j));return _.jsxs("div",{className:`min-h-screen flex flex-col ${t?"bg-stone-900":"bg-white"}`,children:[_.jsx("section",{ref:e,className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:_.jsxs("div",{className:"container mx-auto text-center",children:[_.jsx("h1",{className:`text-5xl md:text-6xl font-extrabold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Welcome to Aussie Gut Pack"}),_.jsx("p",{className:`text-2xl max-w-2xl mx-auto mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Empowering Your Digestive Health, Naturally."}),_.jsxs("div",{className:`flex flex-col md:flex-row gap-6 transition-all duration-700 ease-in-out ${r?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsxs("div",{className:"md:w-1/2 p-6 flex flex-col justify-center",children:[_.jsx("h2",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"About Us"}),_.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:d.aboutUs}),_.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[_.jsx(Sn,{to:"/fitness-tips",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900",children:"Learn More"}),_.jsx(Sn,{to:"/signup",variant:"primary",className:`${t?"bg-red-600 text-white hover:bg-red-700":"bg-red-700 text-white hover:bg-red-800"}`,children:"Join the Pack"})]})]}),_.jsx("div",{className:"md:w-1/2 flex justify-center items-center",children:_.jsx("div",{className:"h-80 w-80 md:h-[400px] md:w-[400px] overflow-hidden relative rounded-full",children:_.jsx(XA,{className:"w-full h-full object-cover"})})})]})]})}),_.jsx("hr",{className:`my-12 ${t?"border-stone-700":"border-stone-300"}`}),_.jsx("section",{ref:n,className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:_.jsxs("div",{className:`container mx-auto text-center transition-all duration-700 ease-in-out ${a?"opacity-100 translate-y-0":"opacity-0 translate-y-10"}`,children:[_.jsx("h2",{className:`text-3xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Wisdom to Win The Day"}),_.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:_.jsx(Q0,{mode:"wait",children:_.jsxs(px.p,{variants:D,initial:"hidden",animate:"visible",exit:"exit",className:`text-xl italic transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:['"',d.quotes[p],'"']},p)})}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[_.jsxs("div",{children:[_.jsx("h3",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Workout of the Day"}),_.jsx("p",{className:`text-lg mb-6 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:d.currentWorkout.description}),_.jsx("h4",{className:`text-xl font-semibold mb-3 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Warm Up"}),_.jsx("ul",{className:`text-left list-disc pl-6 mb-6 transition-colors duration-300 ease-in-out ${t?"text-blue-300":"text-blue-600"}`,children:(d.currentWorkout.warmup||[]).map((A,j)=>_.jsx("li",{className:"mb-2 text-lg",children:A},`warmup-${j}`))}),_.jsx("h4",{className:`text-xl font-semibold mb-3 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Main Workout"}),_.jsx("ul",{className:`text-left list-disc pl-6 mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:(d.currentWorkout.main||[]).map((A,j)=>_.jsx("li",{className:"mb-2 text-lg",children:A},`main-${j}`))}),_.jsx(Sn,{to:"/fitness-tips",variant:"primary",className:"mx-auto bg-red-800 text-white hover:bg-red-900",children:"More Fitness Tips"})]}),_.jsxs("div",{children:[_.jsx("h3",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Daily Gut Health Challenges"}),_.jsx("ul",{className:`text-left list-disc pl-6 mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:(d.dailyChallenges||[]).map((A,j)=>_.jsxs("li",{className:"mb-2 text-lg flex items-center",children:[_.jsx("input",{type:"checkbox",checked:S.includes(j),onChange:()=>W(j),className:"mr-2"}),A]},`challenge-${j}`))}),_.jsx(Q0,{children:N&&_.jsx(px.p,{variants:F,initial:"hidden",animate:"visible",exit:"exit",className:`text-lg font-semibold transition-colors duration-300 ease-in-out ${t?"text-green-400":"text-green-600"}`,children:"Great job, Pack Leader!"})})]})]})]})}),_.jsx("hr",{className:`my-12 ${t?"border-stone-700":"border-stone-300"}`}),x&&_.jsx("section",{className:`py-20 px-6 ${t?"bg-stone-900":"bg-white"}`,children:_.jsxs("div",{className:"container mx-auto text-center",children:[_.jsx("h2",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Latest From Our Blog"}),_.jsx("h3",{className:`text-xl font-semibold mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:x.title}),_.jsx("p",{className:`text-sm mb-4 transition-colors duration-300 ease-in-out ${t?"text-gray-400":"text-gray-600"}`,children:x.date}),_.jsx("p",{className:`text-lg mb-6 max-w-2xl mx-auto transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:x.excerpt}),_.jsx(Sn,{to:`/blog/${x.id}`,variant:"primary",className:"mx-auto bg-red-800 text-white hover:bg-red-900",children:"Read More"})]})}),_.jsx("hr",{className:`my-12 ${t?"border-stone-700":"border-stone-300"}`}),_.jsxs("div",{className:`py-8 ${t?"bg-stone-800":"bg-stone-100"} text-center`,children:[_.jsx("p",{className:`text-lg mb-4 ${t?"text-white":"text-red-600"}`,children:"Want more? Check out our full library of fitness tips!"}),_.jsx(Sn,{to:"/fitness-tips",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900",children:"Explore Now"})]})]})}const MS=I.createContext(),AL=({children:t})=>{const[e,n]=I.useState(()=>{const u=localStorage.getItem("cart");return u?JSON.parse(u):{}});I.useEffect(()=>{localStorage.setItem("cart",JSON.stringify(e))},[e]);const r=(u,d)=>{n(f=>{var p,g,x,E;return{...f,[u]:{...f[u],...d,quantity:((p=f[u])==null?void 0:p.quantity)||1,color:((g=f[u])==null?void 0:g.color)||"Default",size:((x=f[u])==null?void 0:x.size)||"M",originalPrice:((E=f[u])==null?void 0:E.originalPrice)||d.price*1.2}}})},i=(u,d)=>{n(f=>{var g;const p=Math.max(1,(((g=f[u])==null?void 0:g.quantity)||1)+d);return{...f,[u]:{...f[u],quantity:p}}})},a=u=>{n(d=>{const f={...d};return delete f[u],f})};return _.jsx(MS.Provider,{value:{cart:e,addToCart:r,updateQuantity:i,removeFromCart:a},children:t})},LS=()=>I.useContext(MS);function PL(){var W;const{isDarkMode:t}=I.useContext(Dt),{cart:e,addToCart:n}=LS(),[r,i]=I.useState([]),[a,u]=I.useState([]),[d,f]=I.useState(!1),[p,g]=I.useState(""),[x,E]=I.useState(""),S=la();I.useEffect(()=>{(async()=>{try{const j=(await Qs(Tr(vt,"categories"))).docs.map(C=>({id:C.id,...C.data()}));i(j);const k=(await Qs(Tr(vt,"products"))).docs.map(C=>({id:C.id,...C.data()}));u(k)}catch(A){console.error("Error fetching data from Firestore:",A)}})()},[]);const P=N=>{const A=[...N];switch(p){case"price-asc":return A.sort((j,U)=>j.price-U.price);case"price-desc":return A.sort((j,U)=>U.price-j.price);case"name-asc":return A.sort((j,U)=>j.name.localeCompare(U.name));case"name-desc":return A.sort((j,U)=>U.name.localeCompare(j.name));default:return A}},L=N=>{n(N),alert(`${N.name} has been added to your cart!`)},D=x?a.filter(N=>N.categoryId===x):a,F=P(D);return _.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[_.jsxs("div",{className:"flex justify-between items-center mb-8",children:[_.jsx("h1",{className:`text-4xl font-bold transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Products"}),_.jsxs("button",{onClick:()=>S("/aussie-gut-pack/cart"),className:"relative flex items-center gap-2 px-4 py-2 rounded-md font-semibold transition-colors duration-300 ease-in-out bg-red-800 text-white hover:bg-red-900",children:[_.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"})}),_.jsx("span",{children:"Cart"}),e.length>0&&_.jsx("span",{className:"absolute -top-2 -right-2 bg-yellow-500 text-black rounded-full h-6 w-6 flex items-center justify-center text-sm",children:e.reduce((N,A)=>N+A.quantity,0)})]})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-8 gap-4",children:[_.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:`text-lg font-medium ${t?"text-white":"text-red-600"}`,children:"Filter by Section:"}),_.jsxs("select",{value:x,onChange:N=>E(N.target.value),className:`px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,children:[_.jsx("option",{value:"",children:"All Sections"}),r.map(N=>_.jsx("option",{value:N.id,children:N.name},N.id))]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx("label",{className:`text-lg font-medium ${t?"text-white":"text-red-600"}`,children:"Sort By:"}),_.jsxs("select",{value:p,onChange:N=>g(N.target.value),className:`px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,children:[_.jsx("option",{value:"",children:"None"}),_.jsx("option",{value:"price-asc",children:"Price: Low to High"}),_.jsx("option",{value:"price-desc",children:"Price: High to Low"}),_.jsx("option",{value:"name-asc",children:"Name: A-Z"}),_.jsx("option",{value:"name-desc",children:"Name: Z-A"})]})]})]}),_.jsx("button",{onClick:()=>f(!d),className:`px-4 py-2 rounded-md font-semibold transition-colors duration-300 ease-in-out ${t?"bg-red-600 text-white hover:bg-red-700":"bg-red-800 text-white hover:bg-red-900"}`,children:d?"Group by Category":"Show All Products"})]}),x?_.jsxs("div",{className:"mb-12",children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:((W=r.find(N=>N.id===x))==null?void 0:W.name)||"Section"}),F.length===0?_.jsx("p",{className:`text-lg ${t?"text-stone-300":"text-stone-600"}`,children:"No products found in this section."}):_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:F.map(N=>_.jsxs("div",{className:`p-4 border rounded-md shadow-md transition-colors duration-300 ease-in-out ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[_.jsx("img",{src:N.image,alt:N.name,className:"w-full h-48 object-cover rounded-md mb-4",onError:A=>{A.target.src="https://via.placeholder.com/80",console.error(`Failed to load image for ${N.name}`)}}),_.jsx("h3",{className:`text-lg font-medium mb-2 ${t?"text-white":"text-red-600"}`,children:N.name}),_.jsx("p",{className:`text-sm mb-2 ${t?"text-stone-300":"text-stone-600"}`,children:N.description}),_.jsxs("p",{className:`text-sm mb-2 ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",N.price.toFixed(2)]}),_.jsxs("p",{className:`text-sm mb-2 ${t?"text-stone-300":"text-stone-600"}`,children:["Color: ",N.color]}),_.jsxs("p",{className:`text-sm mb-4 ${t?"text-stone-300":"text-stone-600"}`,children:["Size: ",N.size]}),_.jsx("button",{onClick:()=>L(N),className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Add to Cart"})]},N.id))})]}):d?_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:F.map(N=>_.jsxs("div",{className:`p-4 border rounded-md shadow-md transition-colors duration-300 ease-in-out ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[_.jsx("img",{src:N.image,alt:N.name,className:"w-full h-48 object-cover rounded-md mb-4",onError:A=>{A.target.src="https://via.placeholder.com/80",console.error(`Failed to load image for ${N.name}`)}}),_.jsx("h3",{className:`text-lg font-medium mb-2 ${t?"text-white":"text-red-600"}`,children:N.name}),_.jsx("p",{className:`text-sm mb-2 ${t?"text-stone-300":"text-stone-600"}`,children:N.description}),_.jsxs("p",{className:`text-sm mb-2 ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",N.price.toFixed(2)]}),_.jsxs("p",{className:`text-sm mb-2 ${t?"text-stone-300":"text-stone-600"}`,children:["Color: ",N.color]}),_.jsxs("p",{className:`text-sm mb-4 ${t?"text-stone-300":"text-stone-600"}`,children:["Size: ",N.size]}),_.jsx("button",{onClick:()=>L(N),className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Add to Cart"})]},N.id))}):r.map(N=>_.jsxs("div",{className:"mb-12",children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:N.name}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:P(a.filter(A=>A.categoryId===N.id)).map(A=>_.jsxs("div",{className:`p-4 border rounded-md shadow-md transition-colors duration-300 ease-in-out ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:[_.jsx("img",{src:A.image,alt:A.name,className:"w-full h-48 object-cover rounded-md mb-4",onError:j=>{j.target.src="https://via.placeholder.com/80",console.error(`Failed to load image for ${A.name}`)}}),_.jsx("h3",{className:`text-lg font-medium mb-2 ${t?"text-white":"text-red-600"}`,children:A.name}),_.jsx("p",{className:`text-sm mb-2 ${t?"text-stone-300":"text-stone-600"}`,children:A.description}),_.jsxs("p",{className:`text-sm mb-2 ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",A.price.toFixed(2)]}),_.jsxs("p",{className:`text-sm mb-2 ${t?"text-stone-300":"text-stone-600"}`,children:["Color: ",A.color]}),_.jsxs("p",{className:`text-sm mb-4 ${t?"text-stone-300":"text-stone-600"}`,children:["Size: ",A.size]}),_.jsx("button",{onClick:()=>L(A),className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Add to Cart"})]},A.id))})]},N.id))]})}function RL(){const{isDarkMode:t}=I.useContext(Dt),{cart:e,updateQuantity:n,removeFromCart:r}=LS(),i=Object.values(e).reduce((u,d)=>u+d.price*d.quantity,0),a=()=>{alert("Order placed successfully!"),Object.keys(e).forEach(u=>r(u))};return _.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[_.jsxs("header",{className:"text-center mb-12",children:[_.jsx("h1",{className:`text-4xl font-bold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Checkout"}),_.jsx("p",{className:`text-lg max-w-2xl mx-auto transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"Review your cart and place your order."})]}),Object.keys(e).length===0?_.jsxs("div",{className:"text-center",children:[_.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"Your cart is empty."}),_.jsx(Sn,{to:"/shop",variant:"primary",className:"mt-4 bg-red-800 text-white hover:bg-red-900",children:"Continue Shopping"})]}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"space-y-6",children:Object.entries(e).map(([u,d])=>_.jsxs("div",{className:"flex items-center py-3 transition-colors duration-300 ease-in-out",children:[_.jsx("div",{className:"w-20 h-20 flex-shrink-0",children:_.jsx("img",{src:d.image||"https://via.placeholder.com/80",alt:d.name,className:"w-full h-full object-cover rounded"})}),_.jsxs("div",{className:"flex-1 ml-4",children:[_.jsxs("div",{className:"flex justify-between items-start",children:[_.jsxs("div",{children:[_.jsx("h3",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:d.name}),_.jsxs("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["Color: ",d.color]}),_.jsxs("p",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["Size: ",d.size]})]}),_.jsx("button",{onClick:()=>r(u),className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-400 hover:text-stone-300":"text-stone-500 hover:text-stone-600"}`,children:"✕"})]}),_.jsxs("div",{className:"flex items-center mt-2",children:[_.jsx("button",{onClick:()=>n(u,-1),className:`w-8 h-8 flex items-center justify-center border rounded-l transition-colors duration-300 ease-in-out ${t?"border-stone-600 bg-stone-700 text-white hover:bg-stone-600":"border-stone-300 bg-stone-200 text-stone-600 hover:bg-stone-300"}`,children:"-"}),_.jsx("span",{className:`w-10 h-8 flex items-center justify-center border-t border-b transition-colors duration-300 ease-in-out ${t?"border-stone-600 text-white":"border-stone-300 text-stone-600"}`,children:d.quantity}),_.jsx("button",{onClick:()=>n(u,1),className:`w-8 h-8 flex items-center justify-center border rounded-r transition-colors duration-300 ease-in-out ${t?"border-stone-600 bg-stone-700 text-white hover:bg-stone-600":"border-stone-300 bg-stone-200 text-stone-600 hover:bg-stone-300"}`,children:"+"})]})]}),_.jsx("div",{className:"text-right ml-4",children:d.originalPrice?_.jsxs("div",{children:[_.jsxs("p",{className:`text-sm line-through transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:["$",(d.originalPrice*d.quantity).toFixed(2)]}),_.jsxs("p",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:["$",(d.price*d.quantity).toFixed(2)]})]}):_.jsxs("p",{className:`text-base font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:["$",(d.price*d.quantity).toFixed(2)]})})]},u))}),_.jsxs("div",{className:"mt-12 text-right",children:[_.jsxs("p",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:["Total: $",i.toFixed(2)]}),_.jsx(Sn,{onClick:a,variant:"primary",className:"mt-4 bg-red-800 text-white hover:bg-red-900",children:"Place Order"})]})]})]})}const jp=[{id:1,title:"Microbiome Basics",content:"Your gut contains over 100 trillion bacteria, with more than 1000 different species playing crucial roles in digestion, immunity, and overall health.",category:"Fundamentals"},{id:2,title:"Probiotics Matter",content:"Probiotics are live bacteria that can improve digestive health, boost immune function, and potentially help with mental health.",category:"Nutrition"},{id:3,title:"This means nothing to me",content:"This is all just filler crap",category:"Nutrition"},{id:4,title:"Worst for Gut Microbiome",content:["The following harm gut health (in order of severity):","• Stress: Elevates cortisol, disrupting gut flora and increasing permeability","• Glyphosate: Kills beneficial bacteria, feeds pathogenic ones","• Antibiotics: Kills good and bad bacteria; pair with spore-based probiotics to avoid yeast infections","• Seed Oils: Feed pathogenic bacteria, have a long half-life","• Refined Sugars: Feed harmful bacteria, promote dysbiosis","• Long-term Restrictive Diets: Reduce microbiome diversity","• Processed Foods: Contain antibiotics, glyphosate, and dyes that feed pathogenic bacteria and cancer cells"],category:"Gut Microbiome Education"},{id:5,title:"Types of Probiotics",content:`Key probiotic types include:
• Bacillus (subtilis, coagulans, clausii, indicus): Endospore-protected, survives gastric system and antibiotics, colonizes all gut areas, called 'next-generation probiotics'
• Lactobacillus (acidophilus, rhamnosus, reuteri, plantarum, casei, gasseri): Some strains survive gastric system, mainly colonize upper intestines
• Bifidobacterium (longum, infantis, bifidum, animalis, lactis): Doesn’t survive gastric system or antibiotics, functions in lower intestines; seek exopolysaccharide strains for dendritic cell communication
• Saccharomyces (boulardii, cerevisiae): Gram-positive yeast, survives antibiotics but not gastric system, aids antibiotic-associated diarrhea`,category:"Gut Microbiome Education"},{id:6,title:"Pillars of a Healthy Gut",content:`Build a resilient gut with:
• A nutrient-dense, diverse, unprocessed diet with prebiotics
• Healthy exercise, sleep, and an uplifting social life worth enjoying
• Sun exposure and skin contact with nature
• Research-backed, third-party-tested supplements tailored to your needs`,category:"Gut Microbiome Education"},{id:7,title:"Boosts Cognition",content:"A healthy gut strengthens your immune system and helps fight off infections.",category:"Benefits"},{id:8,title:"Improves Digestion",content:"Proper gut health aids digestion, prevents bloating, and reduces stomach discomfort.",category:"Benefits"},{id:9,title:"Enhances Mental Health",content:"Your gut and brain are connected—good gut health can help reduce anxiety and improve mood.",category:"Benefits"}];function Op({title:t,content:e,footer:n,className:r}){const{isDarkMode:i}=I.useContext(Dt);return _.jsxs("div",{className:`p-4 border rounded-lg shadow-md ${i?"bg-stone-800 border-stone-700":"bg-white border-red-300"} ${r}`,children:[_.jsx("h3",{className:`text-xl font-semibold transition-colors duration-300 ease-in-out ${i?"text-red-400":"text-red-800"}`,children:t}),e&&_.jsx("p",{className:`mt-2 transition-colors duration-300 ease-in-out ${i?"text-white":"text-red-600"}`,children:e}),n&&_.jsx("p",{className:`mt-2 text-sm transition-colors duration-300 ease-in-out ${i?"text-white":"text-red-600"}`,children:n})]})}function IL(){const{isDarkMode:t}=I.useContext(Dt);I.useEffect(()=>{});const e=jp.filter(r=>r.category==="Benefits"),n=jp.filter(r=>r.category!=="Benefits");return _.jsxs("div",{className:`container mx-auto px-4 py-8 min-h-screen flex flex-col ${t?"bg-stone-900":"bg-white"}`,children:[_.jsx("div",{className:"pt-16"}),_.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Understanding Gut Health"}),_.jsxs("section",{className:"mb-8 flex-grow",children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"What is Gut Health?"}),_.jsx("p",{className:`leading-relaxed transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Gut health refers to the balance and function of bacteria in the digestive system..."})]}),_.jsxs("section",{className:"py-12 px-6 flex-grow",children:[_.jsx("h2",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Why Gut Health Matters"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:e.map(r=>_.jsx(br,{to:`/gut-health/${r.id}`,children:_.jsx(Op,{title:r.title,content:r.content,className:"hover:shadow-lg transition-shadow duration-300 ease-in-out"})},r.id))})]}),_.jsxs("section",{className:"flex-grow",children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Gut Health Facts"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-4",children:n.map(r=>_.jsx(br,{to:`/gut-health/${r.id}`,children:_.jsx(Op,{title:r.title,content:r.content,footer:`Category: ${r.category}`,className:`border-l-4 border-red-500 hover:shadow-lg transition-shadow duration-300 ease-in-out ${t?"bg-stone-800":"bg-stone-50"}`})},r.id))})]})]})}function kL(){const{id:t}=F_(),{isDarkMode:e}=I.useContext(Dt);la();const n=jp.find(r=>r.id.toString()===t);return n?_.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${e?"bg-stone-900":"bg-white"}`,children:[_.jsx("h1",{className:`text-3xl font-bold mb-4 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:n.title}),_.jsxs("p",{className:`mb-4 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:["Category: ",n.category]}),Array.isArray(n.content)?_.jsx("ul",{className:`text-lg mb-6 list-disc pl-6 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:n.content.map((r,i)=>_.jsx("li",{className:"mb-2",children:r},i))}):_.jsx("p",{className:`text-lg mb-6 transition-colors duration-300 ease-in-out ${e?"text-white":"text-red-600"}`,children:n.content}),_.jsx(Sn,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]}):_.jsxs("div",{className:`min-h-screen container mx-auto p-6 ${e?"bg-stone-900":"bg-white"}`,children:[_.jsx("h1",{className:`text-3xl font-bold mb-6 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:"Fact Not Found"}),_.jsx(Sn,{to:"/gut-health",variant:"primary",className:"bg-red-800 text-white hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Gut Health"})]})}const NL=[{id:1,name:"Enterogermina",description:"spore-forming probiotic that survives antibiotics and stomach acids, promoting gut health and recovery.",price:"",category:"Long Term",benefits:["Improve Digestion","Boost Immunity","Balance Gut Microbiome"],url:"https://a.co/d/ePluKSI"},{id:2,name:"Just thrive probiotic",description:"Something here about the product",price:29.99,category:"Long Term",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]},{id:3,name:"Megasporebiotic",description:"Something here about the product",price:29.99,category:"Fiber",benefits:["Support Gut Flora","Improve Digestion","Enhance Nutrient Absorption"]}];function DL(){const{isDarkMode:t}=I.useContext(Dt),[e,n]=I.useState([]),r=u=>n([...e,u]),i=u=>n(e.filter(d=>d.id!==u)),a=e.reduce((u,d)=>u+d.price,0);return _.jsxs("div",{className:"container mx-auto px-4 py-8",children:[_.jsx("h1",{className:`text-3xl font-bold mb-6 ${t?"text-green-300":"text-green-800"}`,children:"Purchase Gut Health Supplements"}),_.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[_.jsxs("div",{children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-green-200":"text-green-700"}`,children:"Available Products"}),NL.map(u=>_.jsxs("div",{className:`border p-4 mb-4 rounded-lg flex justify-between items-center ${t?"border-gray-700 bg-gray-800":"border-gray-300 bg-white"}`,children:[_.jsxs("div",{children:[_.jsx("h3",{className:`font-bold ${t?"text-gray-300":"text-gray-800"}`,children:u.name}),_.jsxs("p",{className:`${t?"text-green-400":"text-green-700"}`,children:["$",u.price]})]}),_.jsx(Sn,{onClick:()=>r(u),variant:"primary",children:"Add to Cart"})]},u.id))]}),_.jsxs("div",{children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 ${t?"text-green-200":"text-green-700"}`,children:"Your Cart"}),e.length===0?_.jsx("p",{className:`${t?"text-gray-400":"text-gray-500"}`,children:"Your cart is empty"}):_.jsxs(_.Fragment,{children:[e.map(u=>_.jsxs("div",{className:`flex justify-between items-center border-b py-2 ${t?"border-gray-700":"border-gray-300"}`,children:[_.jsx("span",{className:`${t?"text-gray-300":"text-gray-800"}`,children:u.name}),_.jsxs("div",{children:[_.jsxs("span",{className:`mr-4 ${t?"text-green-400":"text-green-700"}`,children:["$",u.price]}),_.jsx("button",{onClick:()=>i(u.id),className:"text-red-500 hover:text-red-600",children:"Remove"})]})]},u.id)),_.jsxs("div",{className:`mt-4 font-bold ${t?"text-green-300":"text-green-800"}`,children:["Total: $",a.toFixed(2)]}),_.jsx(Sn,{className:"mt-4 w-full",variant:"primary",disabled:e.length===0,children:"Checkout"})]})]})]})]})}const VL=()=>{const{isDarkMode:t}=I.useContext(Dt),[e,n]=I.useState([]),[r,i]=I.useState(!0),[a,u]=I.useState(null);I.useEffect(()=>{(async()=>{try{const p=Tr(vt,"content","blog","posts"),x=(await Qs(p)).docs.map(E=>({id:E.id,title:E.data().title,date:E.data().date,blocks:E.data().blocks||[{type:"paragraph",content:""}]}));console.log("Fetched blog posts:",x),x.length>0?n(x):n([{id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial..."},{type:"image",content:"https://example.com/image.jpg"}]}])}catch(p){console.error("Error fetching blog posts:",p),u("Failed to load blog posts: "+p.message),n([{id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial..."},{type:"image",content:"https://example.com/image.jpg"}]}])}finally{i(!1)}})()},[]);const d=f=>{if(!f.blocks||f.blocks.length===0)return"Read more...";const p=f.blocks.find(g=>g.type==="paragraph"||g.type==="list"||g.type==="bullet");return p?p.type==="paragraph"?p.content.split(" ").slice(0,15).join(" ")+"...":Array.isArray(p.content)?p.content[0]+(p.content.length>1?"...":""):"Read more...":"Read more..."};return r?_.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[_.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),_.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"Loading posts..."})]}):a?_.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[_.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),_.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:a})]}):_.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[_.jsx("h1",{className:`text-4xl font-bold mb-8 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Our Blog"}),e.length===0?_.jsx("p",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:"No blog posts available yet. Check back soon!"}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map(f=>_.jsx(br,{to:`/blog/${f.id}`,className:"block group",children:_.jsx(Op,{title:f.title,footer:_.jsx("span",{className:`text-sm transition-colors duration-300 ease-in-out ${t?"text-stone-400":"text-stone-500"}`,children:f.date}),content:_.jsx("p",{className:`text-base transition-colors duration-300 ease-in-out ${t?"text-stone-300":"text-stone-600"}`,children:d(f)}),className:`p-6 rounded-lg shadow-md transition-all duration-300 ease-in-out ${t?"bg-stone-800 hover:bg-stone-700":"bg-white hover:bg-stone-100"} group-hover:shadow-lg`})},f.id))})]})},ML=()=>{const{id:t}=F_(),{isDarkMode:e}=I.useContext(Dt),[n,r]=I.useState(null);return I.useEffect(()=>{(async()=>{const a=ar(vt,"content","blog","posts",t),u=await pg(a);u.exists()?r({id:u.id,...u.data()}):r([{id:"1",title:"The Importance of Gut Health",date:"January 15, 2025",blocks:[{type:"paragraph",content:"Gut health is crucial for overall well-being. It affects digestion, immunity, and even mental health."},{type:"list",content:["Eat a balanced diet.","Stay hydrated.","Get regular exercise."]},{type:"bullet",content:["Fiber-rich foods","Probiotics","Adequate sleep"]},{type:"image",content:"https://example.com/gut-health-image.jpg"},{type:"link",content:{url:"https://example.com/learn-more",text:"Learn More About Gut Health"}},{type:"paragraph",content:"A healthy gut can prevent chronic diseases and improve your quality of life."}]}].find(f=>f.id===t)||null)})()},[t]),n?_.jsx("div",{className:`min-h-screen container mx-auto px-6 py-12 ${e?"bg-stone-900":"bg-stone-50"}`,children:_.jsxs("div",{className:"max-w-3xl mx-auto",children:[_.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-4 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:n.title}),_.jsx("p",{className:`text-lg mb-8 transition-colors duration-300 ease-in-out ${e?"text-stone-400":"text-stone-500"}`,children:n.date}),_.jsx("div",{className:`prose prose-lg max-w-none transition-colors duration-300 ease-in-out ${e?"text-stone-200 prose-invert":"text-stone-700"}`,children:n.blocks&&n.blocks.length>0?n.blocks.map((i,a)=>_.jsx("div",{className:"mb-6",children:i.type==="paragraph"?_.jsx("p",{children:i.content}):i.type==="list"&&Array.isArray(i.content)?_.jsx("ol",{className:"list-decimal pl-6 space-y-2",children:i.content.map((u,d)=>_.jsx("li",{children:u},d))}):i.type==="bullet"&&Array.isArray(i.content)?_.jsx("ul",{className:"list-disc pl-6 space-y-2",children:i.content.map((u,d)=>_.jsx("li",{children:u},d))}):i.type==="image"&&i.content?_.jsx("img",{src:i.content,alt:"Blog content",className:"w-full max-w-md mx-auto rounded-lg shadow-md"}):i.type==="link"&&i.content.url?_.jsx(br,{to:i.content.url,target:"_blank",rel:"noopener noreferrer",className:`underline transition-colors duration-300 ease-in-out ${e?"text-red-400 hover:text-red-300":"text-red-600 hover:text-red-500"}`,children:i.content.text||i.content.url}):_.jsx("p",{className:"text-red-500",children:"Invalid block format"})},a)):_.jsx("p",{children:"No content available."})}),_.jsx(Sn,{to:"/blog",variant:"primary",className:"mt-8 bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]})}):_.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${e?"bg-stone-900":"bg-stone-50"}`,children:[_.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${e?"text-red-400":"text-red-800"}`,children:"Post Not Found"}),_.jsx(Sn,{to:"/blog",variant:"primary",className:"bg-red-800 text-white px-6 py-2 rounded-lg hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Blog"})]})},LL=[{question:"What is gut health?",answer:"Gut health refers to the balance of microorganisms in your digestive tract."},{question:"How can I improve my gut health?",answer:"Eating fiber-rich foods, fermented foods, and avoiding processed sugars can help."},{question:"What foods are good for gut health?",answer:"Fermented foods like yogurt, kimchi, and kefir, along with fiber-rich vegetables like broccoli and beans, are great for gut health."},{question:"Can stress affect gut health?",answer:"Yes, stress can alter the balance of gut bacteria and affect digestion, leading to issues like bloating or stomach discomfort."}];function jL(){const{isDarkMode:t}=I.useContext(Dt);return _.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[_.jsx("h1",{className:`text-4xl font-extrabold text-center mb-6 ${t?"text-green-300":"text-green-700"}`,children:"Frequently Asked Questions"}),_.jsx("div",{className:"space-y-4",children:LL.map((e,n)=>_.jsxs("details",{className:`group border p-4 rounded-lg shadow-md transition-all duration-300 ease-in-out ${t?"bg-gray-800 border-gray-700 text-gray-300":"bg-white border-gray-300 text-gray-800"}`,children:[_.jsxs("summary",{className:`cursor-pointer font-semibold text-lg flex justify-between items-center ${t?"group-open:text-green-400":"group-open:text-green-600"}`,children:[e.question,_.jsx("span",{className:"text-green-500 group-open:rotate-180 transition-transform duration-300",children:"▼"})]}),_.jsx("p",{className:"mt-2 text-gray-600",children:e.answer})]},n))})]})}class nu{constructor(e=0,n="Network Error"){this.status=e,this.text=n}}const OL=()=>{if(!(typeof localStorage>"u"))return{get:t=>Promise.resolve(localStorage.getItem(t)),set:(t,e)=>Promise.resolve(localStorage.setItem(t,e)),remove:t=>Promise.resolve(localStorage.removeItem(t))}},$t={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:OL()},Tg=t=>t?typeof t=="string"?{publicKey:t}:t.toString()==="[object Object]"?t:{}:{},FL=(t,e="https://api.emailjs.com")=>{if(!t)return;const n=Tg(t);$t.publicKey=n.publicKey,$t.blockHeadless=n.blockHeadless,$t.storageProvider=n.storageProvider,$t.blockList=n.blockList,$t.limitRate=n.limitRate,$t.origin=n.origin||e},jS=async(t,e,n={})=>{const r=await fetch($t.origin+t,{method:"POST",headers:n,body:e}),i=await r.text(),a=new nu(r.status,i);if(r.ok)return a;throw a},OS=(t,e,n)=>{if(!t||typeof t!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n||typeof n!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},$L=t=>{if(t&&t.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},FS=t=>t.webdriver||!t.languages||t.languages.length===0,$S=()=>new nu(451,"Unavailable For Headless Browser"),UL=(t,e)=>{if(!Array.isArray(t))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},BL=t=>{var e;return!((e=t.list)!=null&&e.length)||!t.watchVariable},zL=(t,e)=>t instanceof FormData?t.get(e):t[e],US=(t,e)=>{if(BL(t))return!1;UL(t.list,t.watchVariable);const n=zL(e,t.watchVariable);return typeof n!="string"?!1:t.list.includes(n)},BS=()=>new nu(403,"Forbidden"),WL=(t,e)=>{if(typeof t!="number"||t<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},HL=async(t,e,n)=>{const r=Number(await n.get(t)||0);return e-Date.now()+r},zS=async(t,e,n)=>{if(!e.throttle||!n)return!1;WL(e.throttle,e.id);const r=e.id||t;return await HL(r,e.throttle,n)>0?!0:(await n.set(r,Date.now().toString()),!1)},WS=()=>new nu(429,"Too Many Requests"),qL=async(t,e,n,r)=>{const i=Tg(r),a=i.publicKey||$t.publicKey,u=i.blockHeadless||$t.blockHeadless,d=i.storageProvider||$t.storageProvider,f={...$t.blockList,...i.blockList},p={...$t.limitRate,...i.limitRate};return u&&FS(navigator)?Promise.reject($S()):(OS(a,t,e),$L(n),n&&US(f,n)?Promise.reject(BS()):await zS(location.pathname,p,d)?Promise.reject(WS()):jS("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:a,service_id:t,template_id:e,template_params:n}),{"Content-type":"application/json"}))},KL=t=>{if(!t||t.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},GL=t=>typeof t=="string"?document.querySelector(t):t,QL=async(t,e,n,r)=>{const i=Tg(r),a=i.publicKey||$t.publicKey,u=i.blockHeadless||$t.blockHeadless,d=$t.storageProvider||i.storageProvider,f={...$t.blockList,...i.blockList},p={...$t.limitRate,...i.limitRate};if(u&&FS(navigator))return Promise.reject($S());const g=GL(n);OS(a,t,e),KL(g);const x=new FormData(g);return US(f,x)?Promise.reject(BS()):await zS(location.pathname,p,d)?Promise.reject(WS()):(x.append("lib_version","4.4.1"),x.append("service_id",t),x.append("template_id",e),x.append("user_id",a),jS("/api/v1.0/email/send-form",x))},XL={init:FL,send:qL,sendForm:QL,EmailJSResponseStatus:nu};function YL(){const{isDarkMode:t}=I.useContext(Dt),[e,n]=I.useState({name:"",email:"",message:""}),[r,i]=I.useState(""),a=d=>{const{name:f,value:p}=d.target;n(g=>({...g,[f]:p}))},u=d=>{d.preventDefault(),i("Sending..."),XL.send("service_abc123","template_xyz789",{from_name:e.name,from_email:e.email,message:e.message,to_email:"ThomasScales13@yahoo.com"},"user_123456").then(f=>{i("Thank you! Your inquiry has been sent."),n({name:"",email:"",message:""}),setTimeout(()=>i(""),3e3)},f=>{i("Failed to send message. Please try again."),console.error("EmailJS error:",f.text),setTimeout(()=>i(""),3e3)})};return _.jsx("div",{className:`min-h-screen py-12 px-4 ${t?"bg-stone-900":"bg-white"}`,children:_.jsxs("div",{className:"max-w-2xl mx-auto",children:[_.jsx("h1",{className:`text-4xl md:text-5xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Contact Us"}),_.jsx("p",{className:`mb-8 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Have any questions or inquiries? Fill out the form below, and we'll get back to you as soon as possible!"}),_.jsxs("form",{onSubmit:u,className:"space-y-6",children:[_.jsxs("div",{children:[_.jsx("label",{htmlFor:"name",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Name"}),_.jsx("input",{type:"text",id:"name",name:"name",value:e.name,onChange:a,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your Name"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"email",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Email"}),_.jsx("input",{type:"email",id:"email",name:"email",value:e.email,onChange:a,required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"your@email.com"})]}),_.jsxs("div",{children:[_.jsx("label",{htmlFor:"message",className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Message"}),_.jsx("textarea",{id:"message",name:"message",value:e.message,onChange:a,required:!0,rows:"5",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Your inquiry or message..."})]}),_.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Send Message"}),r&&_.jsx("p",{className:`mt-4 text-center transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:r})]})]})})}function JL(){const{isDarkMode:t}=I.useContext(Dt),[e,n]=I.useState(""),[r,i]=I.useState(!1),a=la(),u=()=>{e==="agp9489"?i(!0):alert("Incorrect password")};return r?_.jsxs("div",{className:`min-h-screen flex flex-col items-center justify-center ${t?"bg-stone-900":"bg-white"}`,children:[_.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-8`,children:"Admin Dashboard"}),_.jsxs("div",{className:"flex flex-col gap-4",children:[_.jsx("button",{onClick:()=>a("/admin/home"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Edit Home Page Content"}),_.jsx("button",{onClick:()=>a("/admin/blog"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Manage Blog Posts"}),_.jsx("button",{onClick:()=>a("/admin/products"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Manage Products"}),_.jsx("button",{onClick:()=>a("/"),className:"bg-red-800 text-white px-6 py-3 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Home"})]})]}):_.jsx("div",{className:`min-h-screen flex items-center justify-center ${t?"bg-stone-900":"bg-white"}`,children:_.jsxs("div",{className:`p-6 ${t?"bg-stone-800":"bg-stone-100"} rounded shadow`,children:[_.jsx("h2",{className:`text-2xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-4`,children:"Admin Login"}),_.jsx("input",{type:"password",value:e,onChange:d=>n(d.target.value),className:`border p-2 w-full mb-4 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Enter password"}),_.jsx("button",{onClick:u,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Login"})]})})}function ZL(){const{isDarkMode:t}=I.useContext(Dt),[e,n]=I.useState([""]),[r,i]=I.useState(""),[a,u]=I.useState([""]),[d,f]=I.useState([""]),[p,g]=I.useState([]),[x,E]=I.useState(""),[S,P]=I.useState([""]),[L,D]=I.useState(null),F=la();I.useEffect(()=>{(async()=>{var J,oe,_e,Ie,Be,ct,Rn,Vr;try{const In=ar(vt,"content","home"),cr=await pg(In);if(cr.exists()){const xt=cr.data();n((J=xt.quotes)!=null&&J.length?xt.quotes:[""]),i(((oe=xt.currentWorkout)==null?void 0:oe.description)||""),u((Ie=(_e=xt.currentWorkout)==null?void 0:_e.warmup)!=null&&Ie.length?xt.currentWorkout.warmup:[""]),f((ct=(Be=xt.currentWorkout)==null?void 0:Be.main)!=null&&ct.length?xt.currentWorkout.main:[""]),g((Rn=xt.scheduledWorkouts)!=null&&Rn.length?xt.scheduledWorkouts.map(Mr=>({...Mr,warmup:Mr.warmup||[""],main:Mr.main||[""]})):[{description:"",warmup:[""],main:[""],updateDateTime:""}]),E(xt.aboutUs||""),P((Vr=xt.dailyChallenges)!=null&&Vr.length?xt.dailyChallenges:[""])}}catch(In){D("Failed to load content: "+In.message)}})()},[]);const W=async()=>{D(null);const se={quotes:e.filter(J=>J.trim()!==""),currentWorkout:{description:r,warmup:a.filter(J=>J.trim()!==""),main:d.filter(J=>J.trim()!=="")},scheduledWorkouts:p.filter(J=>J.description.trim()&&(J.warmup.length>0||J.main.length>0)&&J.updateDateTime.trim()).map(J=>({description:J.description,warmup:J.warmup.filter(oe=>oe.trim()!==""),main:J.main.filter(oe=>oe.trim()!==""),updateDateTime:J.updateDateTime})),aboutUs:x.trim(),dailyChallenges:S.filter(J=>J.trim()!==""),lastUpdated:new Date().toISOString()};try{await mg(ar(vt,"content","home"),se),alert("Home page content saved successfully!"),F("/admin")}catch(J){D("Error saving changes: "+J.message)}},N=()=>n([...e,""]),A=se=>n(e.filter((J,oe)=>oe!==se)),j=(se,J)=>{const oe=[...e];oe[se]=J,n(oe)},U=()=>u([...a,""]),k=se=>u(a.filter((J,oe)=>oe!==se)),C=(se,J)=>{const oe=[...a];oe[se]=J,u(oe)},R=()=>f([...d,""]),O=se=>f(d.filter((J,oe)=>oe!==se)),B=(se,J)=>{const oe=[...d];oe[se]=J,f(oe)},H=()=>g([...p,{description:"",warmup:[""],main:[""],updateDateTime:""}]),V=se=>g(p.filter((J,oe)=>oe!==se)),Oe=(se,J,oe)=>{const _e=[...p];_e[se][J]=oe,g(_e)},et=se=>{const J=[...p];J[se].warmup.push(""),g(J)},Ge=(se,J)=>{const oe=[...p];oe[se].warmup=oe[se].warmup.filter((_e,Ie)=>Ie!==J),g(oe)},be=(se,J,oe)=>{const _e=[...p];_e[se].warmup[J]=oe,g(_e)},ae=se=>{const J=[...p];J[se].main.push(""),g(J)},ge=(se,J)=>{const oe=[...p];oe[se].main=oe[se].main.filter((_e,Ie)=>Ie!==J),g(oe)},ce=(se,J,oe)=>{const _e=[...p];_e[se].main[J]=oe,g(_e)},q=()=>P([...S,""]),Z=se=>P(S.filter((J,oe)=>oe!==se)),ve=(se,J)=>{const oe=[...S];oe[se]=J,P(oe)};return _.jsxs("div",{className:`min-h-screen p-6 ${t?"bg-stone-900":"bg-white"}`,children:[_.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-6`,children:"Edit Home Page Content"}),L&&_.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:L}),_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Quotes"}),e.map((se,J)=>_.jsxs("div",{className:"flex mb-2",children:[_.jsx("input",{type:"text",value:se,onChange:oe=>j(J,oe.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Quote ${J+1}`}),_.jsx("button",{onClick:()=>A(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:e.length===1,children:"Remove"})]},J)),_.jsx("button",{onClick:N,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Quote"})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"About Us"}),_.jsx("textarea",{value:x,onChange:se=>E(se.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"About Us text"})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Current Workout of the Day"}),_.jsx("textarea",{value:r,onChange:se=>i(se.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Current workout description"}),_.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-blue-300":"text-blue-600"} mt-4 mb-2`,children:"Warm Up Exercises"}),a.map((se,J)=>_.jsxs("div",{className:"flex mb-2",children:[_.jsx("input",{type:"text",value:se,onChange:oe=>C(J,oe.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Warm Up ${J+1}`}),_.jsx("button",{onClick:()=>k(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:a.length===1,children:"Remove"})]},`warmup-${J}`)),_.jsx("button",{onClick:U,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mb-4",children:"Add Warm Up Exercise"}),_.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mt-4 mb-2`,children:"Main Workout Exercises"}),d.map((se,J)=>_.jsxs("div",{className:"flex mb-2",children:[_.jsx("input",{type:"text",value:se,onChange:oe=>B(J,oe.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Main Exercise ${J+1}`}),_.jsx("button",{onClick:()=>O(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:d.length===1,children:"Remove"})]},`main-${J}`)),_.jsx("button",{onClick:R,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Main Exercise"})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Scheduled Workouts"}),p.map((se,J)=>_.jsxs("div",{className:`mb-4 border p-4 rounded ${t?"border-stone-600":"border-red-300"}`,children:[_.jsx("input",{type:"datetime-local",value:se.updateDateTime?se.updateDateTime.slice(0,16):"",onChange:oe=>Oe(J,"updateDateTime",new Date(oe.target.value).toISOString()),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Update Date and Time"}),_.jsx("textarea",{value:se.description,onChange:oe=>Oe(J,"description",oe.target.value),className:`border p-2 w-full h-24 mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Workout Description"}),_.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-blue-300":"text-blue-600"} mt-2 mb-2`,children:"Warm Up Exercises"}),se.warmup.map((oe,_e)=>_.jsxs("div",{className:"flex mb-2",children:[_.jsx("input",{type:"text",value:oe,onChange:Ie=>be(J,_e,Ie.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Warm Up ${_e+1}`}),_.jsx("button",{onClick:()=>Ge(J,_e),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:se.warmup.length===1,children:"Remove"})]},`warmup-${J}-${_e}`)),_.jsx("button",{onClick:()=>et(J),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mb-4",children:"Add Warm Up Exercise"}),_.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mt-2 mb-2`,children:"Main Workout Exercises"}),se.main.map((oe,_e)=>_.jsxs("div",{className:"flex mb-2",children:[_.jsx("input",{type:"text",value:oe,onChange:Ie=>ce(J,_e,Ie.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Main Exercise ${_e+1}`}),_.jsx("button",{onClick:()=>ge(J,_e),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:se.main.length===1,children:"Remove"})]},`main-${J}-${_e}`)),_.jsx("button",{onClick:()=>ae(J),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2 mr-2",children:"Add Main Exercise"}),_.jsx("button",{onClick:()=>V(J),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",disabled:p.length===1&&!p[0].description,children:"Remove Workout"})]},J)),_.jsx("button",{onClick:H,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Scheduled Workout"})]}),_.jsxs("div",{className:"mb-6",children:[_.jsx("h3",{className:`text-xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-2`,children:"Daily Gut Health Challenges"}),S.map((se,J)=>_.jsxs("div",{className:"flex mb-2",children:[_.jsx("input",{type:"text",value:se,onChange:oe=>ve(J,oe.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Challenge ${J+1}`}),_.jsx("button",{onClick:()=>Z(J),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:S.length===1,children:"Remove"})]},J)),_.jsx("button",{onClick:q,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Challenge"})]}),_.jsx("button",{onClick:W,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Save Changes"}),_.jsx("button",{onClick:()=>F("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Admin Dashboard"})]})}function ej(){const{isDarkMode:t}=I.useContext(Dt),[e,n]=I.useState([]),[r,i]=I.useState(null),a=la();I.useEffect(()=>{(async()=>{try{const N=Tr(vt,"content","blog","posts"),j=(await Qs(N)).docs.map(U=>({id:U.id,title:U.data().title||"",date:U.data().date||"",blocks:U.data().blocks||[{type:"paragraph",content:""}]}));n(j.length?j:[{id:"",title:"",date:"",blocks:[{type:"paragraph",content:""}]}])}catch(N){i("Failed to load blog posts: "+N.message)}})()},[]);const u=async()=>{i(null);try{const W=Tr(vt,"content","blog","posts"),N=await Qs(W);for(const A of N.docs)await zc(A.ref);for(const A of e)if(A.title.trim()&&A.date.trim()&&A.blocks.some(j=>j.type==="paragraph"||j.type==="image"||j.type==="link"?j.content.trim():j.content.some(U=>U.trim()))){const j=A.id||Date.now().toString();await mg(ar(W,j),{id:j,title:A.title,date:A.date,blocks:A.blocks.map(U=>({type:U.type,content:U.type==="paragraph"||U.type==="image"?U.content:U.type==="link"?{url:U.content.url,text:U.content.text}:U.content.filter(k=>k.trim()!=="")}))})}alert("Blog posts saved successfully!"),a("/admin")}catch(W){i("Error saving blog posts: "+W.message)}},d=()=>n([...e,{id:"",title:"",date:"",blocks:[{type:"paragraph",content:""}]}]),f=W=>n(e.filter((N,A)=>A!==W)),p=(W,N,A)=>{const j=[...e];j[W]={...j[W],[N]:A},n(j)},g=(W,N)=>{const A=[...e];A[W].blocks.push({type:N,content:N==="paragraph"||N==="image"?"":N==="link"?{url:"",text:""}:[""]}),n(A)},x=(W,N)=>{const A=[...e];A[W].blocks=A[W].blocks.filter((j,U)=>U!==N),n(A)},E=(W,N,A)=>{const j=[...e];j[W].blocks[N]={type:A,content:A==="paragraph"||A==="image"?"":A==="link"?{url:"",text:""}:[""]},n(j)},S=(W,N,A)=>{const j=[...e];j[W].blocks[N].content=A,n(j)},P=(W,N,A,j)=>{const U=[...e];U[W].blocks[N].content[A]=j,n(U)},L=(W,N)=>{const A=[...e];A[W].blocks[N].content.push(""),n(A)},D=(W,N,A)=>{const j=[...e];j[W].blocks[N].content=j[W].blocks[N].content.filter((U,k)=>k!==A),n(j)},F=(W,N,A,j)=>{const U=[...e];U[W].blocks[N].content[A]=j,n(U)};return _.jsxs("div",{className:`min-h-screen p-6 ${t?"bg-stone-900":"bg-white"}`,children:[_.jsx("h2",{className:`text-3xl transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"} mb-6`,children:"Manage Blog Posts"}),r&&_.jsx("p",{className:`text-red-500 mb-4 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-600"}`,children:r}),_.jsxs("div",{className:"mb-6",children:[e.map((W,N)=>_.jsxs("div",{className:`mb-4 border p-4 rounded ${t?"border-stone-600":"border-red-300"}`,children:[_.jsx("input",{type:"text",value:W.title,onChange:A=>p(N,"title",A.target.value),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Blog Title"}),_.jsx("input",{type:"text",value:W.date,onChange:A=>p(N,"date",A.target.value),className:`border p-2 w-full mb-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Date (e.g., January 15, 2025)"}),_.jsxs("div",{className:"mb-2",children:[_.jsx("h4",{className:`text-lg transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Content Blocks"}),W.blocks.map((A,j)=>_.jsxs("div",{className:"mb-4 border-t pt-2 mt-2 border-stone-400",children:[_.jsxs("div",{className:"flex items-center mb-2",children:[_.jsx("label",{className:`mr-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Block Type:"}),_.jsxs("select",{value:A.type,onChange:U=>E(N,j,U.target.value),className:`border p-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,children:[_.jsx("option",{value:"paragraph",children:"Paragraph"}),_.jsx("option",{value:"list",children:"Numbered List"}),_.jsx("option",{value:"bullet",children:"Bullet Points"}),_.jsx("option",{value:"image",children:"Image"}),_.jsx("option",{value:"link",children:"Link"})]}),_.jsx("button",{onClick:()=>x(N,j),className:"ml-2 bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:W.blocks.length===1,children:"Remove Block"})]}),A.type==="paragraph"?_.jsx("textarea",{value:A.content,onChange:U=>S(N,j,U.target.value),className:`border p-2 w-full h-24 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Paragraph Content"}):A.type==="image"?_.jsxs("div",{className:"space-y-2",children:[_.jsx("input",{type:"text",value:A.content,onChange:U=>S(N,j,U.target.value),className:`border p-2 w-full ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Image URL (e.g., https://example.com/image.jpg)"}),A.content&&_.jsx("img",{src:A.content,alt:"Preview",className:"w-full max-w-xs rounded-lg shadow-md"})]}):A.type==="link"?_.jsxs("div",{className:"space-y-2",children:[_.jsx("input",{type:"text",value:A.content.url,onChange:U=>P(N,j,"url",U.target.value),className:`border p-2 w-full ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Link URL (e.g., https://example.com)"}),_.jsx("input",{type:"text",value:A.content.text,onChange:U=>P(N,j,"text",U.target.value),className:`border p-2 w-full ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:"Link Text (e.g., Click here)"})]}):_.jsxs("div",{children:[A.content.map((U,k)=>_.jsxs("div",{className:"flex mb-2",children:[_.jsx("input",{type:"text",value:U,onChange:C=>F(N,j,k,C.target.value),className:`border p-2 w-full mr-2 ${t?"bg-stone-700 border-stone-600 text-white":"bg-white border-red-300 text-red-600"}`,placeholder:`Item ${k+1}`}),_.jsx("button",{onClick:()=>D(N,j,k),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",disabled:A.content.length===1,children:"Remove"})]},k)),_.jsx("button",{onClick:()=>L(N,j),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add List Item"})]})]},j)),_.jsxs("div",{className:"flex gap-2 mt-2 flex-wrap",children:[_.jsx("button",{onClick:()=>g(N,"paragraph"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Paragraph"}),_.jsx("button",{onClick:()=>g(N,"list"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Numbered List"}),_.jsx("button",{onClick:()=>g(N,"bullet"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Bullet Points"}),_.jsx("button",{onClick:()=>g(N,"image"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Image"}),_.jsx("button",{onClick:()=>g(N,"link"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Link"})]})]}),_.jsx("button",{onClick:()=>f(N),className:"bg-red-800 text-white px-2 py-1 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",disabled:e.length===1,children:"Remove Post"})]},N)),_.jsx("button",{onClick:d,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mt-2",children:"Add Blog Post"})]}),_.jsx("button",{onClick:u,className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out mr-4",children:"Save Changes"}),_.jsx("button",{onClick:()=>a("/admin"),className:"bg-red-800 text-white px-4 py-2 rounded hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Back to Admin Dashboard"})]})}function tj(){const{isDarkMode:t}=I.useContext(Dt),[e,n]=I.useState([]),[r,i]=I.useState([]),[a,u]=I.useState(""),[d,f]=I.useState({categoryId:"",name:"",price:"",description:"",image:null,color:"",size:""}),[p,g]=I.useState(null),[x,E]=I.useState(null);I.useEffect(()=>{(async()=>{try{const U=(await Qs(Tr(vt,"categories"))).docs.map(R=>({id:R.id,...R.data()}));n(U);const C=(await Qs(Tr(vt,"products"))).docs.map(R=>({id:R.id,...R.data()}));i(C)}catch(j){console.error("Error fetching data from Firestore:",j)}})()},[]);const S=async A=>{if(A.preventDefault(),!!a)try{const j=await E_(Tr(vt,"categories"),{name:a});n([...e,{id:j.id,name:a}]),u("")}catch(j){console.error("Error adding category:",j)}},P=async A=>{try{const j=ar(vt,"categories",A.id);await w_(j,{name:A.name}),n(e.map(U=>U.id===A.id?{...U,name:A.name}:U)),g(null)}catch(j){console.error("Error updating category:",j)}},L=async A=>{try{await zc(ar(vt,"categories",A)),n(e.filter(U=>U.id!==A));const j=r.filter(U=>U.categoryId===A);for(const U of j){if(U.image&&U.image!=="https://via.placeholder.com/80"){const k=U.image.split("/products%2F")[1].split("?")[0],C=zf(Wf,`products/${decodeURIComponent(k)}`);await P_(C).catch(R=>{console.error(`Error deleting image for product ${U.id}:`,R)})}await zc(ar(vt,"products",U.id))}i(r.filter(U=>U.categoryId!==A))}catch(j){console.error("Error deleting category:",j)}},D=async A=>{if(!A)return null;const j=zf(Wf,`products/${A.name}`);return await xL(j,A),await _L(j)},F=async A=>{if(A.preventDefault(),!(!d.categoryId||!d.name||!d.price))try{const j=await D(d.image),U=await E_(Tr(vt,"products"),{categoryId:d.categoryId,name:d.name,price:parseFloat(d.price),description:d.description||"No description available",image:j||"https://via.placeholder.com/80",color:d.color||"N/A",size:d.size||"N/A"});i([...r,{id:U.id,categoryId:d.categoryId,name:d.name,price:parseFloat(d.price),description:d.description||"No description available",image:j||"https://via.placeholder.com/80",color:d.color||"N/A",size:d.size||"N/A"}]),f({categoryId:"",name:"",price:"",description:"",image:null,color:"",size:""})}catch(j){console.error("Error adding product:",j),alert("Failed to add product. Check Firebase Storage rules and ensure Storage is enabled.")}},W=async A=>{try{const j=A.image instanceof File?await D(A.image):A.image,U=ar(vt,"products",A.id);await w_(U,{categoryId:A.categoryId,name:A.name,price:parseFloat(A.price),description:A.description,image:j||"https://via.placeholder.com/80",color:A.color,size:A.size}),i(r.map(k=>k.id===A.id?{...k,categoryId:A.categoryId,name:A.name,price:parseFloat(A.price),description:A.description,image:j||"https://via.placeholder.com/80",color:A.color,size:A.size}:k)),E(null)}catch(j){console.error("Error updating product:",j),alert("Failed to update product. Check Firebase Storage rules and ensure Storage is enabled.")}},N=async A=>{try{const j=r.find(U=>U.id===A);if(j.image&&j.image!=="https://via.placeholder.com/80"){const U=j.image.split("/products%2F")[1].split("?")[0],k=zf(Wf,`products/${decodeURIComponent(U)}`);await P_(k).catch(C=>{console.error(`Error deleting image for product ${A}:`,C)})}await zc(ar(vt,"products",A)),i(r.filter(U=>U.id!==A))}catch(j){console.error("Error deleting product:",j)}};return _.jsxs("div",{className:`min-h-screen container mx-auto px-6 py-12 ${t?"bg-stone-900":"bg-stone-50"}`,children:[_.jsx("h1",{className:`text-4xl font-bold mb-6 transition-colors duration-300 ease-in-out ${t?"text-red-400":"text-red-800"}`,children:"Admin - Manage Products"}),_.jsxs("div",{className:"mb-12",children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Add New Category"}),_.jsxs("form",{onSubmit:S,className:"flex gap-4",children:[_.jsx("input",{type:"text",value:a,onChange:A=>u(A.target.value),placeholder:"Category Name",className:`flex-1 px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`}),_.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out",children:"Add Category"})]})]}),_.jsxs("div",{className:"mb-12",children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Manage Categories"}),_.jsx("div",{className:"space-y-4",children:e.map(A=>_.jsx("div",{className:`p-4 border rounded-md ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:(p==null?void 0:p.id)===A.id?_.jsxs("div",{className:"flex gap-4",children:[_.jsx("input",{type:"text",value:p.name,onChange:j=>g({...p,name:j.target.value}),className:`flex-1 px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`}),_.jsx("button",{onClick:()=>P(p),className:"bg-green-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-green-700 transition-colors duration-300 ease-in-out",children:"Save"}),_.jsx("button",{onClick:()=>g(null),className:"bg-gray-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-gray-700 transition-colors duration-300 ease-in-out",children:"Cancel"})]}):_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsx("span",{className:`text-lg font-medium ${t?"text-white":"text-red-600"}`,children:A.name}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>g(A),className:"bg-blue-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-blue-700 transition-colors duration-300 ease-in-out",children:"Edit"}),_.jsx("button",{onClick:()=>L(A.id),className:"bg-red-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-red-700 transition-colors duration-300 ease-in-out",children:"Delete"})]})]})},A.id))})]}),_.jsxs("div",{className:"mb-12",children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Add New Product"}),_.jsxs("form",{onSubmit:F,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Category"}),_.jsxs("select",{value:d.categoryId,onChange:A=>f({...d,categoryId:A.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,children:[_.jsx("option",{value:"",children:"Select a category"}),e.map(A=>_.jsx("option",{value:A.id,children:A.name},A.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Name"}),_.jsx("input",{type:"text",value:d.name,onChange:A=>f({...d,name:A.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Product Name"})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Price"}),_.jsx("input",{type:"number",step:"0.01",value:d.price,onChange:A=>f({...d,price:A.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Price (e.g., 29.99)"})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Description"}),_.jsx("textarea",{value:d.description,onChange:A=>f({...d,description:A.target.value}),rows:"3",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-purple-300 text-purple-600 focus:ring-purple-500"}`,placeholder:"Product Description"})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Image"}),_.jsx("input",{type:"file",accept:"image/*",onChange:A=>f({...d,image:A.target.files[0]}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Color"}),_.jsx("input",{type:"text",value:d.color,onChange:A=>f({...d,color:A.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Color (optional)"})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Size"}),_.jsx("input",{type:"text",value:d.size,onChange:A=>f({...d,size:A.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,placeholder:"Size (optional)"})]}),_.jsx("button",{type:"submit",className:"bg-red-800 text-white px-4 py-2 rounded-md font-semibold hover:bg-red-900 transition-colors duration-300 ease-in-out w-full",children:"Add Product"})]})]}),_.jsxs("div",{children:[_.jsx("h2",{className:`text-2xl font-semibold mb-4 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Manage Products"}),_.jsx("div",{className:"space-y-4",children:r.map(A=>{var j;return _.jsx("div",{className:`p-4 border rounded-md ${t?"border-stone-600 bg-stone-800":"border-red-300 bg-white"}`,children:(x==null?void 0:x.id)===A.id?_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Category"}),_.jsxs("select",{value:x.categoryId,onChange:U=>E({...x,categoryId:U.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`,children:[_.jsx("option",{value:"",children:"Select a category"}),e.map(U=>_.jsx("option",{value:U.id,children:U.name},U.id))]})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Name"}),_.jsx("input",{type:"text",value:x.name,onChange:U=>E({...x,name:U.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Price"}),_.jsx("input",{type:"number",step:"0.01",value:x.price,onChange:U=>E({...x,price:U.target.value}),required:!0,className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Description"}),_.jsx("textarea",{value:x.description,onChange:U=>E({...x,description:U.target.value}),rows:"3",className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Image"}),_.jsx("input",{type:"file",accept:"image/*",onChange:U=>E({...x,image:U.target.files[0]}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`}),x.image&&typeof x.image=="string"&&_.jsx("img",{src:x.image,alt:"Current product",className:"w-32 h-32 object-cover mt-2 rounded-md"})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Color"}),_.jsx("input",{type:"text",value:x.color,onChange:U=>E({...x,color:U.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),_.jsxs("div",{children:[_.jsx("label",{className:`block text-sm font-medium mb-2 transition-colors duration-300 ease-in-out ${t?"text-white":"text-red-600"}`,children:"Size"}),_.jsx("input",{type:"text",value:x.size,onChange:U=>E({...x,size:U.target.value}),className:`w-full px-4 py-2 border rounded-md focus:outline-none ${t?"bg-stone-700 border-stone-600 text-white focus:ring-red-500":"bg-white border-red-300 text-red-600 focus:ring-red-500"}`})]}),_.jsxs("div",{className:"flex gap-4",children:[_.jsx("button",{onClick:()=>W(x),className:"bg-green-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-green-700 transition-colors duration-300 ease-in-out w-full",children:"Save"}),_.jsx("button",{onClick:()=>E(null),className:"bg-gray-600 text-white px-4 py-2 rounded-md font-semibold hover:bg-gray-700 transition-colors duration-300 ease-in-out w-full",children:"Cancel"})]})]}):_.jsxs("div",{className:"flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center gap-4",children:[A.image&&A.image!=="https://via.placeholder.com/80"&&_.jsx("img",{src:A.image,alt:A.name,className:"w-16 h-16 object-cover rounded-md"}),_.jsxs("div",{children:[_.jsx("span",{className:`text-lg font-medium ${t?"text-white":"text-red-600"}`,children:A.name}),_.jsxs("p",{className:`text-sm ${t?"text-stone-300":"text-stone-600"}`,children:["Category:"," ",((j=e.find(U=>U.id===A.categoryId))==null?void 0:j.name)||"Unknown"]}),_.jsxs("p",{className:`text-sm ${t?"text-stone-300":"text-stone-600"}`,children:["Price: $",A.price.toFixed(2)]})]})]}),_.jsxs("div",{className:"flex gap-2",children:[_.jsx("button",{onClick:()=>E(A),className:"bg-blue-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-blue-700 transition-colors duration-300 ease-in-out",children:"Edit"}),_.jsx("button",{onClick:()=>N(A.id),className:"bg-red-600 text-white px-4 py-1 rounded-md font-semibold hover:bg-red-700 transition-colors duration-300 ease-in-out",children:"Delete"})]})]})},A.id)})})]})]})}const Dt=I.createContext();function nj(){const[t,e]=I.useState(()=>{const r=localStorage.getItem("theme");return r?JSON.parse(r):!0});I.useEffect(()=>{localStorage.setItem("theme",JSON.stringify(t))},[t]);const n=()=>e(r=>!r);return _.jsx(AL,{children:_.jsx(Dt.Provider,{value:{isDarkMode:t,toggleTheme:n},children:_.jsx(xA,{basename:"/aussie-gut-pack",children:_.jsx(Xp,{children:_.jsx(Gp,{classNames:"fade",timeout:300,children:_.jsx(QC,{children:_.jsxs(Gt,{path:"/",element:_.jsx(KA,{}),children:[_.jsx(Gt,{index:!0,element:_.jsx(CL,{})}),_.jsx(Gt,{path:"products",element:_.jsx(PL,{})}),_.jsx(Gt,{path:"checkout",element:_.jsx(RL,{})}),_.jsx(Gt,{path:"gut-health",element:_.jsx(IL,{})}),_.jsx(Gt,{path:"gut-health/:id",element:_.jsx(kL,{})}),_.jsx(Gt,{path:"purchase",element:_.jsx(DL,{})}),_.jsx(Gt,{path:"blog",element:_.jsx(VL,{})}),_.jsx(Gt,{path:"blog/:id",element:_.jsx(ML,{})}),_.jsx(Gt,{path:"faq",element:_.jsx(jL,{})}),_.jsx(Gt,{path:"contact",element:_.jsx(YL,{})}),_.jsx(Gt,{path:"admin",element:_.jsx(JL,{})}),_.jsx(Gt,{path:"admin/home",element:_.jsx(ZL,{})}),_.jsx(Gt,{path:"admin/blog",element:_.jsx(ej,{})}),_.jsx(Gt,{path:"admin/products",element:_.jsx(tj,{})})," "]})})},window.location.pathname)})})})})}console.log("Main.jsx is running");nC.createRoot(document.getElementById("root")).render(_.jsx(zn.StrictMode,{children:_.jsx(nj,{})}));
